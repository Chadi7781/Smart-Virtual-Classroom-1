import{r as t,c as i,h as s,g as e,w as o}from"./p-f8abe418.js";import{w as n,D as r,o as h,l as a}from"./p-29b5bd7f.js";import{c as l}from"./p-c21e749f.js";import{w as c}from"./p-cdfa9679.js";import"./p-0cbaf141.js";import{w as m}from"./p-e03c9ffb.js";const g=class{constructor(s){t(this,s),this.vmCheck=i(this,"vmCheck",7),this.checked=!1,this.checkIcon="check",n(this)}onClick(){this.checked=!0,this.vmCheck.emit()}render(){return s("vm-menu-item",{label:this.label,checked:this.checked,badge:this.badge,checkIcon:this.checkIcon,icons:this.icons,onClick:this.onClick.bind(this)})}},d=class{constructor(s){t(this,s),this.vmCheck=i(this,"vmCheck",7),n(this)}onValueChange(){this.findRadios()?.forEach((t=>{t.checked=t.value===this.value}))}connectedCallback(){this.onValueChange()}componentDidLoad(){this.onValueChange()}onSelectionChange(t){this.value=t.target.value}findRadios(){return this.host.shadowRoot.querySelector("slot")?.assignedElements()}render(){return s("slot",null)}get host(){return e(this)}static get watchers(){return{value:["onValueChange"]}}};let v=0;const u=class{constructor(i){t(this,i),this.disposal=new r,this.menuHeight=0,this.pin="bottomRight",this.active=!1,this.isMobile=!1,this.isAudioView=!1,n(this),m(this),c(this,["isMobile","isAudioView"])}onActiveChange(){this.dispatch("isSettingsActive",this.active),h(this.controller)||(this.controller.expanded=this.active)}connectedCallback(){this.dispatch=l(this),v+=1,this.id="vm-settings-"+v}disconnectedCallback(){this.disposal.empty()}async setController(t){this.controller=t,this.controller.menu=this.id,this.disposal.empty(),this.disposal.add(a(this.controller,"click",(()=>{this.active=!this.active}))),this.disposal.add(a(this.controller,"keydown",(t=>{"Enter"===t.key&&(this.active||this.menu.focusMenu())})))}getPosition(){if(this.isAudioView)return{right:"0",bottom:"calc(var(--vm-controls-height, 0) + 4px)"};const t=this.pin.split(/(?=[L|R])/).map((t=>t.toLowerCase()));return{[t.includes("top")?"top":"bottom"]:"var(--vm-controls-height, 0)",[t.includes("left")?"left":"right"]:"8px"}}onOpen(t){t.detail?.identifier===this.id&&(this.active=!0)}onClose(t){t.detail?.identifier===this.id&&(this.active=!1)}onHeightChange(t){this.menuHeight=t.detail}render(){return s("div",{style:{...this.getPosition()},class:{settings:!0,active:this.active,mobile:this.isMobile}},s("div",{class:"container",style:{height:this.menuHeight+"px"}},s("vm-menu",{identifier:this.id,active:this.active,controller:this.controller,onVmOpen:this.onOpen.bind(this),onVmClose:this.onClose.bind(this),onVmMenuHeightChange:this.onHeightChange.bind(this),ref:t=>{this.menu=t}},s("slot",null))))}get host(){return e(this)}static get watchers(){return{active:["onActiveChange"]}}};u.style=":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-menu-z-index)}.settings{position:absolute;opacity:0;pointer-events:auto;overflow-x:hidden;overflow-y:auto;background-color:var(--vm-menu-bg);max-height:var(--vm-settings-max-height);border-radius:var(--vm-settings-border-radius);padding:var(--vm-settings-padding);box-shadow:var(--vm-settings-shadow);box-sizing:border-box;scrollbar-width:thin;scroll-behavior:smooth;scrollbar-color:var(--vm-settings-scroll-thumb-color) var(--vm-settings-scroll-track-color);transform:translateY(8px);transition:var(--vm-settings-transition)}.container{display:block;width:var(--vm-settings-width);height:100%;position:relative;transition:width 0.25s ease-in, height 0.25s ease-in}.settings.hydrated{visibility:hidden !important}.settings::-webkit-scrollbar{width:var(--vm-settings-scroll-width)}.settings::-webkit-scrollbar-track{background:var(--vm-settings-scroll-track-color)}.settings::-webkit-scrollbar-thumb{border-radius:var(--vm-settings-scroll-width);background-color:var(--vm-settings-scroll-thumb-color);border:2px solid var(--vm-menu-bg)}.settings.active{transform:translateY(0);opacity:1;visibility:visible !important}.settings.mobile{position:fixed;top:auto !important;left:0 !important;right:0 !important;bottom:0 !important;width:100%;min-height:56px;max-height:50%;border-radius:0;z-index:2147483647;transform:translateY(100%)}.settings.mobile.active{transform:translateY(0)}.settings.mobile>vm-menu{height:100% !important;overflow:auto !important}";let b=0;const p=class{constructor(s){t(this,s),this.vmOpenSubmenu=i(this,"vmOpenSubmenu",7),this.vmCloseSubmenu=i(this,"vmCloseSubmenu",7),this.slideInDirection="right",this.active=!1,n(this)}connectedCallback(){this.genId()}async getController(){return this.controller}async getMenu(){return this.menu}async getControllerHeight(){return this.controller?.getHeight()??0}getControllerHeightSync(){const t=this.controller?.shadowRoot.querySelector("[role='menuitem']");return t?parseFloat(window.getComputedStyle(t).height):0}onMenuOpen(){this.active=!0,this.vmOpenSubmenu.emit(this.host)}onMenuClose(){this.active=!1,this.vmCloseSubmenu.emit(this.host)}genId(){b+=1,this.id="vm-submenu-"+b}getControllerId(){return this.id+"-controller"}render(){return s("div",null,s("vm-menu-item",{identifier:this.getControllerId(),menu:this.menu,label:this.label,hint:this.hint,expanded:this.active,ref:t=>{o((()=>{this.controller=t}))}}),s("vm-menu",{identifier:this.id,controller:this.controller,active:this.active,slideInDirection:this.slideInDirection,onVmOpen:this.onMenuOpen.bind(this),onVmClose:this.onMenuClose.bind(this),ref:t=>{o((()=>{this.menu=t}))},style:{top:this.getControllerHeightSync()+1+"px"}},s("slot",null)))}get host(){return e(this)}};export{g as vm_menu_radio,d as vm_menu_radio_group,u as vm_settings,p as vm_submenu}