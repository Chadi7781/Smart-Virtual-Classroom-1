{"ast":null,"code":"var _jsxFileName = \"C:\\\\Smart-Virtual-Classroom\\\\client\\\\src\\\\Components\\\\Class\\\\CalendarComponent.js\";\nimport React from \"react\"; //import { Button, Modal, Form, Input, TextArea } from \"semantic-ui-react\";\n//import { useFormik } from \"formik\";\n//import * as Yup from \"yup\";\n\nimport { useState } from \"react\";\nimport { Scheduler, Editing, Resource } from \"devextreme-react/scheduler\";\nimport { resourcesData } from \"../../api/data\";\nimport CustomStore from \"devextreme/data/custom_store\";\nimport notify from \"devextreme/ui/notify\";\nimport Appointment from \"./Appointment\";\nimport AppointmentTooltip from \"./AppointmentTooltip\";\nimport \"whatwg-fetch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction handleErrors(response) {\n  if (!response.ok) throw Error(response.statusText);\n  return response;\n}\n\nconst documentData = JSON.parse(localStorage.getItem(\"user\"));\nconst schedulerDataSource = {\n  store: new CustomStore({\n    load: () => {\n      return fetch(\"https://closer-server.herokuapp.com/scheduler/\").then(handleErrors).then(response => response.json());\n    },\n    insert: values => {\n      console.log(values);\n      const data = {\n        text: values.text,\n        startDate: values.startDate,\n        endDate: values.endDate,\n        description: values.description,\n        sectionId: values.sectionId,\n        allDay: values.allDay,\n        postOwner: documentData._id\n      };\n      return fetch(\"https://closer-server.herokuapp.com/scheduler/\", {\n        method: \"POST\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(handleErrors).then(response => response.json());\n    },\n    remove: key => {\n      return fetch(`https://closer-server.herokuapp.com/scheduler/${key._id}`, {\n        method: \"DELETE\"\n      }).then(handleErrors).then(response => response.json());\n    },\n    update: (key, values) => {\n      return fetch(`https://closer-server.herokuapp.com/scheduler/${key._id}`, {\n        method: \"PUT\",\n        body: JSON.stringify(values),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(handleErrors).then(response => response.json());\n    },\n    paginate: false\n  })\n};\nexport default function CalendarComponent() {\n  let allows = {};\n\n  if (documentData.role === \"Student\") {\n    allows = {\n      allowAdding: false,\n      allowDeleting: false,\n      allowResizing: false,\n      allowDragging: false,\n      allowUpdating: false\n    };\n  } else if (documentData.role === \"Teacher\") {\n    allows = {\n      allowAdding: true,\n      allowDeleting: true,\n      allowResizing: true,\n      allowDragging: true,\n      allowUpdating: true\n    };\n  }\n\n  const showToast = (event, value, type) => {\n    notify(`${event} \"${value}\" task`, type, 800);\n  };\n\n  const showAddedToast = e => {\n    showToast(\"Added\", e.appointmentData.result.text, \"success\");\n  };\n\n  const showUpdatedToast = e => {\n    showToast(\"Updated\", e.appointmentData.result.text, \"info\");\n  };\n  /* const showDeletedToast = (e) => {\r\n     showToast(\"Deleted\", e.appointmentData.result.text, \"warning\");\r\n   };*/\n\n\n  const views = [\"day\", \"week\", \"month\", \"agenda\"];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Scheduler, {\n      dataSource: schedulerDataSource,\n      showAllDayPanel: true,\n      views: views,\n      editing: allows,\n      defaultCurrentView: \"month\",\n      onAppointmentAdded: showAddedToast,\n      onAppointmentUpdated: showUpdatedToast,\n      appointmentComponent: Appointment //onAppointmentDeleted={showDeletedToast}\n      ,\n      children: /*#__PURE__*/_jsxDEV(Resource, {\n        fieldExpr: \"sectionId\",\n        allowMultiple: true,\n        dataSource: resourcesData,\n        label: \"Section\",\n        useColorAsDefault: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n} //<Editing allowUpdating={allowAddingg} allowAdding={true} allowDeleting={true} />     appointmentTooltipComponent={AppointmentTooltip}\n\n_c = CalendarComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"CalendarComponent\");","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/src/Components/Class/CalendarComponent.js"],"names":["React","useState","Scheduler","Editing","Resource","resourcesData","CustomStore","notify","Appointment","AppointmentTooltip","handleErrors","response","ok","Error","statusText","documentData","JSON","parse","localStorage","getItem","schedulerDataSource","store","load","fetch","then","json","insert","values","console","log","data","text","startDate","endDate","description","sectionId","allDay","postOwner","_id","method","body","stringify","headers","remove","key","update","paginate","CalendarComponent","allows","role","allowAdding","allowDeleting","allowResizing","allowDragging","allowUpdating","showToast","event","value","type","showAddedToast","e","appointmentData","result","showUpdatedToast","views"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n//import { Button, Modal, Form, Input, TextArea } from \"semantic-ui-react\";\r\n//import { useFormik } from \"formik\";\r\n//import * as Yup from \"yup\";\r\nimport { useState } from \"react\";\r\nimport { Scheduler, Editing, Resource } from \"devextreme-react/scheduler\";\r\nimport { resourcesData } from \"../../api/data\";\r\nimport CustomStore from \"devextreme/data/custom_store\";\r\nimport notify from \"devextreme/ui/notify\";\r\nimport Appointment from \"./Appointment\";\r\nimport AppointmentTooltip from \"./AppointmentTooltip\";\r\n\r\nimport \"whatwg-fetch\";\r\n\r\n\r\nfunction handleErrors(response) {\r\n  if (!response.ok) throw Error(response.statusText);\r\n  return response;\r\n}\r\nconst documentData = JSON.parse(localStorage.getItem(\"user\"));\r\nconst schedulerDataSource = {\r\n  store: new CustomStore({\r\n    load: () => {\r\n      return fetch(\"https://closer-server.herokuapp.com/scheduler/\")\r\n        .then(handleErrors)\r\n        .then((response) => response.json());\r\n    },\r\n    insert: (values) => {\r\n      console.log(values);\r\n      const data = {\r\n        text: values.text,\r\n        startDate: values.startDate,\r\n        endDate: values.endDate,\r\n        description: values.description,\r\n        sectionId: values.sectionId,\r\n        allDay: values.allDay,\r\n        postOwner: documentData._id,\r\n      };\r\n      return fetch(\"https://closer-server.herokuapp.com/scheduler/\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then(handleErrors)\r\n        .then((response) => response.json());\r\n    },\r\n    remove: (key) => {\r\n      return fetch(`https://closer-server.herokuapp.com/scheduler/${key._id}`, {\r\n        method: \"DELETE\",\r\n      })\r\n        .then(handleErrors)\r\n        .then((response) => response.json());\r\n    },\r\n    update: (key, values) => {\r\n      return fetch(`https://closer-server.herokuapp.com/scheduler/${key._id}`, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(values),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then(handleErrors)\r\n        .then((response) => response.json());\r\n    },\r\n    paginate: false,\r\n  }),\r\n};\r\nexport default function CalendarComponent() {\r\n  let allows ={ };\r\n  if (documentData.role===\"Student\") {\r\n    allows ={\r\n      allowAdding: false,\r\n      allowDeleting: false,\r\n      allowResizing: false,\r\n      allowDragging: false,\r\n      allowUpdating: false,\r\n    }\r\n  }\r\n  else if (documentData.role===\"Teacher\")\r\n  {\r\n    allows ={\r\n      allowAdding: true,\r\n      allowDeleting: true,\r\n      allowResizing: true,\r\n      allowDragging: true,\r\n      allowUpdating: true,\r\n    }\r\n  }\r\n \r\n\r\n  const showToast = (event, value, type) => {\r\n    notify(`${event} \"${value}\" task`, type, 800);\r\n  };\r\n\r\n  const showAddedToast = (e) => {\r\n    showToast(\"Added\", e.appointmentData.result.text, \"success\");\r\n  };\r\n\r\n  const showUpdatedToast = (e) => {\r\n    showToast(\"Updated\", e.appointmentData.result.text, \"info\");\r\n  };\r\n\r\n /* const showDeletedToast = (e) => {\r\n    showToast(\"Deleted\", e.appointmentData.result.text, \"warning\");\r\n  };*/\r\n  const views = [\"day\", \"week\", \"month\", \"agenda\"];\r\n  return (\r\n    <div>\r\n      <Scheduler\r\n        dataSource={schedulerDataSource}\r\n        showAllDayPanel={true}\r\n        views={views}\r\n        editing={allows}\r\n        defaultCurrentView=\"month\"\r\n        onAppointmentAdded={showAddedToast}\r\n        onAppointmentUpdated={showUpdatedToast}\r\n        appointmentComponent={Appointment}\r\n        //onAppointmentDeleted={showDeletedToast}\r\n      >\r\n        <Resource\r\n          fieldExpr=\"sectionId\"\r\n          allowMultiple={true}\r\n          dataSource={resourcesData}\r\n          label=\"Section\"\r\n          useColorAsDefault={true}\r\n        />\r\n      </Scheduler>\r\n    </div>\r\n  );\r\n}\r\n\r\n//<Editing allowUpdating={allowAddingg} allowAdding={true} allowDeleting={true} />     appointmentTooltipComponent={AppointmentTooltip}\r\n"]},"metadata":{},"sourceType":"module"}