{"ast":null,"code":"var _jsxFileName = \"C:\\\\Smart-Virtual-Classroom\\\\client\\\\src\\\\Components\\\\Class\\\\AddClassComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Button, Modal, Form, Input, TextArea, Dropdown } from \"semantic-ui-react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\"; //import { useHistory } from \"react-router-dom\";\n\nimport { useDispatch } from \"react-redux\";\nimport { fetchActiveClass, fetchclass } from \"../../redux/slices/classsline\";\nimport { AddclassApi } from \"../../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction exampleReducer(state, action) {\n  switch (action.type) {\n    case \"OPEN_MODAL\":\n      return {\n        open: true,\n        dimmer: action.dimmer\n      };\n\n    case \"CLOSE_MODAL\":\n      return {\n        open: false\n      };\n\n    default:\n      throw new Error();\n  }\n}\n\nconst options = [{\n  key: 1,\n  text: \"red\",\n  value: \"red\"\n}, {\n  key: 2,\n  text: \"blue\",\n  value: \"blue\"\n}, {\n  key: 3,\n  text: \"yellow\",\n  value: \"yellow\"\n}, {\n  key: 4,\n  text: \"grey\",\n  value: \"grey\"\n}, {\n  key: 5,\n  text: \"pink\",\n  value: \"pink\"\n}, {\n  key: 6,\n  text: \"green\",\n  value: \"green\"\n}, {\n  key: 7,\n  text: \"olive\",\n  value: \"olive\"\n}, {\n  key: 8,\n  text: \"teal\",\n  value: \"teal\"\n}, {\n  key: 9,\n  text: \"violet\",\n  value: \"violet\"\n}, {\n  key: 10,\n  text: \"purple\",\n  value: \"purple\"\n}, {\n  key: 11,\n  text: \"brown\",\n  value: \"brown\"\n}, {\n  key: 12,\n  text: \"black\",\n  value: \"black\"\n}, {\n  key: 13,\n  text: \"white\",\n  value: \"white\"\n}];\nexport default function AddClassComponent() {\n  _s();\n\n  const documentData = JSON.parse(localStorage.getItem(\"user\"));\n  const dispatch = useDispatch();\n  let error = {\n    visible: false,\n    message: \"\"\n  };\n  let [color, setClassColor] = useState();\n\n  const selectedClass = data => {\n    console.log(data.target.innerText);\n    setClassColor(data.target.innerText);\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      classUsers: [],\n      className: \"\",\n      classSection: \"\",\n      classLevel: \"\",\n      classDatePost: Date.now(),\n      classDescription: \"\",\n      classOwner: \"\",\n      classColor: \"\",\n      classStatus: \"Active\"\n    },\n    validationSchema: Yup.object({\n      className: Yup.string().required(),\n      classSection: Yup.string().required().matches(/^[1-5]([A-Z])\\w+$/, \"first letter of classSection must be in 1-5\"),\n      classLevel: Yup.string(),\n      classDescription: Yup.string().required()\n    }),\n    onSubmit: async formData => {\n      try {\n        const lvl = formData.classSection.substring(0, 1);\n        if (color === undefined) color = \"red\";\n        const data = {\n          className: formData.className,\n          classSection: formData.classSection,\n          classLevel: lvl,\n          classDescription: formData.classDescription,\n          classOwner: documentData._id,\n          classColor: color,\n          classStatus: \"Active\"\n        };\n        const res = await AddclassApi.addClass(data);\n        console.log(res);\n        dis({\n          type: \"CLOSE_MODAL\"\n        });\n        dispatch(fetchclass(documentData.role, documentData._id));\n        dispatch(fetchActiveClass(documentData._id));\n        console.log(data);\n      } catch (err) {\n        error = {\n          visible: true,\n          message: JSON.stringify(err.errors, null, 2)\n        };\n      }\n    }\n  });\n  const [state, dis] = React.useReducer(exampleReducer, {\n    open: false,\n    dimmer: undefined\n  });\n  const {\n    open,\n    dimmer\n  } = state;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      circular: true,\n      content: \"Create Class\",\n      icon: \"add\",\n      onClick: () => dis({\n        type: \"OPEN_MODAL\",\n        dimmer: \"blurring\"\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      dimmer: dimmer,\n      open: open,\n      onClose: () => dis({\n        type: \"CLOSE_MODAL\"\n      }),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: \"Add Class\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Content, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: formik.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            widths: \"equal\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n              control: Input,\n              label: \"Class Name\",\n              placeholder: \"Class Name\",\n              name: \"className\",\n              onChange: formik.handleChange,\n              error: formik.errors.className\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              control: Input,\n              label: \"Class Section\",\n              placeholder: \"Class Section\",\n              name: \"classSection\",\n              onChange: formik.handleChange,\n              error: formik.errors.classSection\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              control: Dropdown,\n              label: \"Class Color\",\n              placeholder: \"Class Color\",\n              name: \"classColor\",\n              clearable: true,\n              selection: true,\n              options: options,\n              onChange: selectedClass\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              control: Input,\n              label: \"Class Level\",\n              placeholder: \"Class Level\",\n              name: \"classLevel\",\n              onChange: formik.handleChange,\n              value: formik.values.classSection.substring(0, 1),\n              error: formik.errors.classLevel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n            control: TextArea,\n            label: \"Class Description\",\n            placeholder: \"Class Description\",\n            name: \"classDescription\",\n            onChange: formik.handleChange,\n            error: formik.errors.classDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: error.visible && /*#__PURE__*/_jsxDEV(Form.Error, {\n              children: error.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button.Group, {\n            floated: \"right\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => dis({\n                type: \"CLOSE_MODAL\"\n              }),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button.Or, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"red\",\n              type: \"submit\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Content, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Actions, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddClassComponent, \"iSEBB2K7RDujt3F5mhywhkqRJHE=\", false, function () {\n  return [useDispatch, useFormik];\n});\n\n_c = AddClassComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddClassComponent\");","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/src/Components/Class/AddClassComponent.js"],"names":["React","useState","Button","Modal","Form","Input","TextArea","Dropdown","useFormik","Yup","useDispatch","fetchActiveClass","fetchclass","AddclassApi","exampleReducer","state","action","type","open","dimmer","Error","options","key","text","value","AddClassComponent","documentData","JSON","parse","localStorage","getItem","dispatch","error","visible","message","color","setClassColor","selectedClass","data","console","log","target","innerText","formik","initialValues","classUsers","className","classSection","classLevel","classDatePost","Date","now","classDescription","classOwner","classColor","classStatus","validationSchema","object","string","required","matches","onSubmit","formData","lvl","substring","undefined","_id","res","addClass","dis","role","err","stringify","errors","useReducer","handleSubmit","handleChange","values"],"mappings":"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","sourcesContent":["import React,{  useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  TextArea,\r\n  Dropdown,\r\n} from \"semantic-ui-react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n//import { useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchActiveClass,fetchclass } from \"../../redux/slices/classsline\";\r\nimport { AddclassApi } from \"../../api/api\";\r\n\r\nfunction exampleReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"OPEN_MODAL\":\r\n      return { open: true, dimmer: action.dimmer };\r\n    case \"CLOSE_MODAL\":\r\n      return { open: false };\r\n    default:\r\n      throw new Error();\r\n  }\r\n}\r\nconst options = [\r\n  { key: 1, text: \"red\", value: \"red\" },\r\n  { key: 2, text: \"blue\", value: \"blue\" },\r\n  { key: 3, text: \"yellow\", value: \"yellow\" },\r\n  { key: 4, text: \"grey\", value: \"grey\" },\r\n  { key: 5, text: \"pink\", value: \"pink\" },\r\n  { key: 6, text: \"green\", value: \"green\" },\r\n  { key: 7, text: \"olive\", value: \"olive\" },\r\n  { key: 8, text: \"teal\", value: \"teal\" },\r\n  { key: 9, text: \"violet\", value: \"violet\" },\r\n  { key: 10, text: \"purple\", value: \"purple\" },\r\n  { key: 11, text: \"brown\", value: \"brown\" },\r\n  { key: 12, text: \"black\", value: \"black\" },\r\n  { key: 13, text: \"white\", value: \"white\" },\r\n];\r\n\r\nexport default function AddClassComponent() {\r\n  \r\n  const documentData = JSON.parse(localStorage.getItem(\"user\"));\r\n  const dispatch = useDispatch();\r\n  let error = { visible: false, message: \"\" };\r\n  let [color, setClassColor] = useState();\r\n  const selectedClass = (data) => {\r\n    console.log(data.target.innerText);\r\n    setClassColor(data.target.innerText);\r\n  };\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      classUsers: [],\r\n      className: \"\",\r\n      classSection: \"\",\r\n      classLevel: \"\",\r\n      classDatePost: Date.now(),\r\n      classDescription: \"\",\r\n      classOwner: \"\",\r\n      classColor: \"\",\r\n      classStatus:\"Active\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      className: Yup.string().required(),\r\n      classSection: Yup.string()\r\n        .required()\r\n        .matches(\r\n          /^[1-5]([A-Z])\\w+$/,\r\n          \"first letter of classSection must be in 1-5\"\r\n        ),\r\n      classLevel: Yup.string(),\r\n      classDescription: Yup.string().required(),\r\n    }),\r\n    onSubmit: async (formData) => {\r\n      try {\r\n        const lvl = formData.classSection.substring(0, 1);\r\n        if(color===undefined)\r\n        color=\"red\";\r\n\r\n        const data = {\r\n          className: formData.className,\r\n          classSection: formData.classSection,\r\n          classLevel: lvl,\r\n          classDescription: formData.classDescription,\r\n          classOwner: documentData._id,\r\n          classColor: color,\r\n          classStatus:\"Active\"\r\n        };\r\n\r\n         const res = await AddclassApi.addClass(data);\r\n        console.log(res);\r\n        dis({ type: \"CLOSE_MODAL\" });\r\n        dispatch(fetchclass(documentData.role, documentData._id));\r\n        dispatch(fetchActiveClass(documentData._id));\r\n        console.log(data);\r\n      } catch (err) {\r\n        error = {\r\n          visible: true,\r\n          message: JSON.stringify(err.errors, null, 2),\r\n        };\r\n      }\r\n    },\r\n  });\r\n\r\n  const [state, dis] = React.useReducer(exampleReducer, {\r\n    open: false,\r\n    dimmer: undefined,\r\n  });\r\n  const { open, dimmer } = state;\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        circular\r\n        content=\"Create Class\"\r\n        icon=\"add\"\r\n        onClick={() => dis({ type: \"OPEN_MODAL\", dimmer: \"blurring\" })}\r\n      />\r\n\r\n      <Modal\r\n        dimmer={dimmer}\r\n        open={open}\r\n        onClose={() => dis({ type: \"CLOSE_MODAL\" })}\r\n      >\r\n        <Modal.Header>Add Class</Modal.Header>\r\n        <Modal.Content>\r\n          <Form onSubmit={formik.handleSubmit}>\r\n            <Form.Group widths=\"equal\">\r\n              <Form.Field\r\n                control={Input}\r\n                label=\"Class Name\"\r\n                placeholder=\"Class Name\"\r\n                name=\"className\"\r\n                onChange={formik.handleChange}\r\n                error={formik.errors.className}\r\n              />\r\n              <Form.Field\r\n                control={Input}\r\n                label=\"Class Section\"\r\n                placeholder=\"Class Section\"\r\n                name=\"classSection\"\r\n                onChange={formik.handleChange}\r\n                error={formik.errors.classSection}\r\n              />\r\n              <Form.Field\r\n                control={Dropdown}\r\n                label=\"Class Color\"\r\n                placeholder=\"Class Color\"\r\n                name=\"classColor\"\r\n                clearable\r\n                selection\r\n                options={options}\r\n                onChange={selectedClass}\r\n              />\r\n              <Form.Field\r\n                control={Input}\r\n                label=\"Class Level\"\r\n                placeholder=\"Class Level\"\r\n                name=\"classLevel\"\r\n                onChange={formik.handleChange}\r\n                value={formik.values.classSection.substring(0, 1)}\r\n                error={formik.errors.classLevel}\r\n              />\r\n            </Form.Group>\r\n            <Form.Field\r\n              control={TextArea}\r\n              label=\"Class Description\"\r\n              placeholder=\"Class Description\"\r\n              name=\"classDescription\"\r\n              onChange={formik.handleChange}\r\n              error={formik.errors.classDescription}\r\n            />\r\n\r\n            <Form.Group>\r\n              {error.visible && <Form.Error>{error.message}</Form.Error>}\r\n            </Form.Group>\r\n\r\n            <Button.Group floated=\"right\">\r\n              <Button onClick={() => dis({ type: \"CLOSE_MODAL\" })}>\r\n                Cancel\r\n              </Button>\r\n              <Button.Or />\r\n              <Button color=\"red\" type=\"submit\">\r\n                Save\r\n              </Button>\r\n            </Button.Group>\r\n          </Form>\r\n        </Modal.Content>\r\n        <Modal.Content></Modal.Content>\r\n        <Modal.Actions></Modal.Actions>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}