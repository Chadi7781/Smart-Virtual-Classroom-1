{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { getclassApi, ClassInvitationApi } from \"../../api/api\";\nlet initialState = {\n  class: [],\n  active: [],\n  request: [],\n  invitationclass: [],\n  members: [],\n  users: [],\n  selectedclass: {},\n  errors: \"\"\n};\nconst classlice = createSlice({\n  name: \"class\",\n  initialState,\n  reducers: {\n    selectClass: (state, action) => {\n      state.selectedclass = action.payload;\n    },\n    getClasss: (state, action) => {\n      state.class = action.payload;\n    },\n    getActive: (state, action) => {\n      state.active = action.payload;\n    },\n    geRequest: (state, action) => {\n      state.request = action.payload;\n    },\n    getInvitationClass: (state, action) => {\n      state.invitationclass = action.payload;\n    },\n    getMembers: (state, action) => {\n      state.members = action.payload;\n    },\n    getUsers: (state, action) => {\n      state.users = action.payload;\n    },\n    setErrors: (state, action) => {\n      state.errors = action.payload;\n    },\n    addClasss: (state, action) => {\n      const payload = action.payload;\n      state.class.push(payload);\n    },\n    addInvitationClass: (state, action) => {\n      const payload = action.payload;\n      state.invitationclass.push(payload);\n    },\n    updateClasss: (state, action) => {\n      const payload = action.payload;\n      const index = state.class.findIndex(item => item._id === payload._id);\n\n      if (index !== -1) {\n        state.class[index] = payload;\n      }\n    }\n  }\n});\nexport const fetchclass = (role, iduser, status) => async dispatch => {\n  if (role === \"Teacher\") {\n    const res = getclassApi.getclassByLevel(iduser, status);\n    res.then(data => {\n      dispatch(getClasss(data));\n    });\n  } else if (role === \"Student\") {\n    const res = getclassApi.getclassByYear(iduser, status);\n    res.then(data => {\n      dispatch(getClasss(data));\n    });\n  }\n};\nexport const fetchInvitationclass = email => async dispatch => {\n  const res = ClassInvitationApi.getClassInvitation(email);\n  res.then(data => {\n    dispatch(getInvitationClass(data));\n  });\n};\nexport const fetchSingleClass = data => async dispatch => {\n  dispatch(selectClass(data));\n};\nexport const fetchActiveClass = d => async dispatch => {\n  const res = getclassApi.CountActiveClass(d);\n  res.then(data => {\n    dispatch(getActive(data));\n  });\n};\nexport const fetchRequestClass = d => async dispatch => {\n  const res = ClassInvitationApi.CountRequestClass(d);\n  res.then(data => {\n    dispatch(geRequest(data));\n  });\n};\nexport const fetchInvitationclassId = id => async dispatch => {\n  const res = ClassInvitationApi.getClassInvitationClassId(id);\n  res.then(data => {\n    dispatch(getMembers(data));\n  });\n};\nexport const fetchUsers = () => async dispatch => {\n  const res = getclassApi.getUsersAll();\n  res.then(data => {\n    dispatch(getUsers(data));\n  });\n};\nexport const selectclass = state => {\n  return [state.classs.class, state.classs.errors];\n};\nexport const selectinvitationclass = state => {\n  return [state.classs.invitationclass, state.classs.errors];\n};\nexport const selectedClasses = state => {\n  return [state.classs.selectedclass, state.classs.errors];\n};\nexport const selectactiveclass = state => {\n  return [state.classs.active, state.classs.errors];\n};\nexport const selectrequestclass = state => {\n  return [state.classs.request, state.classs.errors];\n};\nexport const selectmembers = state => {\n  return [state.classs.members, state.classs.errors];\n};\nexport const selectusers = state => {\n  return [state.classs.users, state.classs.errors];\n};\nexport const {\n  getClasss,\n  getInvitationClass,\n  getMembers,\n  getUsers,\n  selectClass,\n  setErrors,\n  addClasss,\n  getActive,\n  geRequest,\n  addInvitationClass,\n  updateClasss\n} = classlice.actions;\nexport default classlice.reducer;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/src/redux/slices/classsline.js"],"names":["createSlice","getclassApi","ClassInvitationApi","initialState","class","active","request","invitationclass","members","users","selectedclass","errors","classlice","name","reducers","selectClass","state","action","payload","getClasss","getActive","geRequest","getInvitationClass","getMembers","getUsers","setErrors","addClasss","push","addInvitationClass","updateClasss","index","findIndex","item","_id","fetchclass","role","iduser","status","dispatch","res","getclassByLevel","then","data","getclassByYear","fetchInvitationclass","email","getClassInvitation","fetchSingleClass","fetchActiveClass","d","CountActiveClass","fetchRequestClass","CountRequestClass","fetchInvitationclassId","id","getClassInvitationClassId","fetchUsers","getUsersAll","selectclass","classs","selectinvitationclass","selectedClasses","selectactiveclass","selectrequestclass","selectmembers","selectusers","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { getclassApi, ClassInvitationApi } from \"../../api/api\";\r\n\r\nlet initialState = {\r\n  class: [],\r\n  active: [],\r\n  request: [],\r\n  invitationclass: [],\r\n  members: [],\r\n  users: [],\r\n  selectedclass: {},\r\n  errors: \"\",\r\n};\r\n\r\nconst classlice = createSlice({\r\n  name: \"class\",\r\n  initialState,\r\n  reducers: {\r\n    selectClass: (state, action) => {\r\n      state.selectedclass = action.payload;\r\n    },\r\n    getClasss: (state, action) => {\r\n      state.class = action.payload;\r\n    },\r\n    getActive: (state, action) => {\r\n      state.active = action.payload;\r\n    },\r\n    geRequest: (state, action) => {\r\n      state.request = action.payload;\r\n    },\r\n    getInvitationClass: (state, action) => {\r\n      state.invitationclass = action.payload;\r\n    },\r\n    getMembers: (state, action) => {\r\n      state.members = action.payload;\r\n    },\r\n    getUsers: (state, action) => {\r\n      state.users = action.payload;\r\n    },\r\n    setErrors: (state, action) => {\r\n      state.errors = action.payload;\r\n    },\r\n    addClasss: (state, action) => {\r\n      const payload = action.payload;\r\n      state.class.push(payload);\r\n    },\r\n    addInvitationClass: (state, action) => {\r\n      const payload = action.payload;\r\n      state.invitationclass.push(payload);\r\n    },\r\n    updateClasss: (state, action) => { \r\n      const payload = action.payload;\r\n      const index = state.class.findIndex(\r\n        (item) => item._id === payload._id\r\n      );\r\n      if (index !== -1) {\r\n        state.class[index] = payload;\r\n      }\r\n    },\r\n  },\r\n});\r\nexport const fetchclass = (role, iduser,status) => async (dispatch) => {\r\n  if (role === \"Teacher\") {\r\n    const res = getclassApi.getclassByLevel(iduser,status);\r\n    res.then((data) => {\r\n      dispatch(getClasss(data));\r\n    });\r\n  } else if (role === \"Student\") {\r\n    const res = getclassApi.getclassByYear(iduser,status);\r\n    res.then((data) => {\r\n      dispatch(getClasss(data));\r\n     \r\n    });\r\n  }\r\n};\r\nexport const fetchInvitationclass = (email) => async (dispatch) => {\r\n  const res = ClassInvitationApi.getClassInvitation(email);\r\n  res.then((data) => {\r\n    dispatch(getInvitationClass(data));\r\n   \r\n  });\r\n};\r\n\r\nexport const fetchSingleClass = (data) => async (dispatch) => { \r\n\r\n    dispatch(selectClass(data));\r\n};\r\nexport const fetchActiveClass = (d) => async (dispatch) => { \r\n  const res = getclassApi.CountActiveClass(d);\r\n  res.then((data) => {\r\n    dispatch(getActive(data));\r\n    \r\n  });\r\n};\r\nexport const fetchRequestClass = (d) => async (dispatch) => { \r\n  const res = ClassInvitationApi.CountRequestClass(d);\r\n  res.then((data) => {\r\n    dispatch(geRequest(data));\r\n  });\r\n};\r\nexport const fetchInvitationclassId = (id) => async (dispatch) => {\r\n  const res = ClassInvitationApi.getClassInvitationClassId(id);\r\n  res.then((data) => {\r\n    dispatch(getMembers(data));\r\n  });\r\n};\r\nexport const fetchUsers = () => async (dispatch) => {\r\n  const res = getclassApi.getUsersAll();\r\n  res.then((data) => {\r\n    dispatch(getUsers(data));\r\n  });\r\n};\r\nexport const selectclass = (state) => {\r\n  return [state.classs.class, state.classs.errors];\r\n};\r\n\r\nexport const selectinvitationclass = (state) => {\r\n  return [state.classs.invitationclass, state.classs.errors];\r\n};\r\nexport const selectedClasses = (state) => {\r\n  return [state.classs.selectedclass, state.classs.errors];\r\n};\r\nexport const selectactiveclass = (state) => {\r\n  return [state.classs.active, state.classs.errors];\r\n};\r\nexport const selectrequestclass = (state) => {\r\n  return [state.classs.request, state.classs.errors];\r\n};\r\nexport const selectmembers = (state) => {\r\n  return [state.classs.members, state.classs.errors];\r\n};\r\nexport const selectusers = (state) => {\r\n  return [state.classs.users, state.classs.errors];\r\n};\r\nexport const {\r\n  getClasss,\r\n  getInvitationClass,\r\n  getMembers,\r\n  getUsers,\r\n  selectClass,\r\n  setErrors,\r\n  addClasss,\r\n  getActive,\r\n  geRequest,\r\n  addInvitationClass,\r\n  updateClasss,\r\n} = classlice.actions;\r\nexport default classlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}