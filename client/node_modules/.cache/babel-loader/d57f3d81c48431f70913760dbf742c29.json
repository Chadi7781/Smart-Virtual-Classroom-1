{"ast":null,"code":"var _jsxFileName = \"C:\\\\Smart-Virtual-Classroom\\\\client\\\\src\\\\Components\\\\Main\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport socket from '../../socket';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = props => {\n  _s();\n\n  const history = useHistory();\n  const [err, setErr] = useState(false);\n  const [errMsg, setErrMsg] = useState('');\n  const currentClass = JSON.parse(localStorage.getItem(\"idClass\"));\n  const currentUser = JSON.parse(localStorage.getItem(\"user\"));\n  useEffect(() => {\n    socket.on('FE-error-user-exist', ({\n      error\n    }) => {\n      if (!error) {\n        const roomName = currentClass._id;\n        const userName = currentUser.name;\n        sessionStorage.setItem('user', userName);\n        history.push(`/room/${roomName}`);\n      } else {\n        setErr(error);\n        setErrMsg('User name already exist');\n      }\n    });\n  }, [props.history]);\n\n  function clickJoin() {\n    const roomName = currentClass._id;\n    const userName = currentUser.name;\n\n    if (!roomName || !userName) {\n      setErr(true);\n      setErrMsg('Enter Room Name or User Name');\n    } else {\n      socket.emit('BE-check-user', {\n        roomId: roomName,\n        userName\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(JoinButton, {\n    onClick: clickJoin,\n    children: \" Join Meet \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Main, \"mx2xl8lO6sXvIrjggqQ+cpIxuMg=\", false, function () {\n  return [useHistory];\n});\n\n_c = Main;\nconst JoinButton = styled.label`\n  padding-left: 35px;\n  padding-right: 35px;\n\n  outline: none;\n  border: none;\n  border-radius: 15px;\n  color: #d8e9ef;\n  background-color: grey;\n \n\n  :hover {\n    background-color: red;\n    cursor: pointer;\n  }\n`;\n_c2 = JoinButton;\nexport default Main;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Main\");\n$RefreshReg$(_c2, \"JoinButton\");","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/src/Components/Main/Main.js"],"names":["React","useRef","useState","useEffect","styled","socket","useHistory","Main","props","history","err","setErr","errMsg","setErrMsg","currentClass","JSON","parse","localStorage","getItem","currentUser","on","error","roomName","_id","userName","name","sessionStorage","setItem","push","clickJoin","emit","roomId","JoinButton","label"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;AAIA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AAAA;;AACtB,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAM,CAACI,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAAC,KAAD,CAA9B;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC;AACA,QAAMY,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAArB;AACA,QAAMC,WAAW,GAAGJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAApB;AACAf,EAAAA,SAAS,CAAC,MAAM;AAEdE,IAAAA,MAAM,CAACe,EAAP,CAAU,qBAAV,EAAiC,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAe;AAC9C,UAAI,CAACA,KAAL,EAAY;AAEV,cAAMC,QAAQ,GAAGR,YAAY,CAACS,GAA9B;AACA,cAAMC,QAAQ,GAAGL,WAAW,CAACM,IAA7B;AAEAC,QAAAA,cAAc,CAACC,OAAf,CAAuB,MAAvB,EAA+BH,QAA/B;AACAf,QAAAA,OAAO,CAACmB,IAAR,CAAc,SAAQN,QAAS,EAA/B;AACD,OAPD,MAOO;AACLX,QAAAA,MAAM,CAACU,KAAD,CAAN;AACAR,QAAAA,SAAS,CAAC,yBAAD,CAAT;AACD;AACF,KAZD;AAaD,GAfQ,EAeN,CAACL,KAAK,CAACC,OAAP,CAfM,CAAT;;AAiBA,WAASoB,SAAT,GAAqB;AACnB,UAAMP,QAAQ,GAAGR,YAAY,CAACS,GAA9B;AACA,UAAMC,QAAQ,GAAGL,WAAW,CAACM,IAA7B;;AAEA,QAAI,CAACH,QAAD,IAAa,CAACE,QAAlB,EAA4B;AAC1Bb,MAAAA,MAAM,CAAC,IAAD,CAAN;AACAE,MAAAA,SAAS,CAAC,8BAAD,CAAT;AACD,KAHD,MAGO;AACLR,MAAAA,MAAM,CAACyB,IAAP,CAAY,eAAZ,EAA6B;AAAEC,QAAAA,MAAM,EAAET,QAAV;AAAoBE,QAAAA;AAApB,OAA7B;AACD;AACF;;AAED,sBAGI,QAAC,UAAD;AAAY,IAAA,OAAO,EAAEK,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHJ;AAMD,CAzCD;;GAAMtB,I;UACYD,U;;;KADZC,I;AA2CN,MAAMyB,UAAU,GAAG5B,MAAM,CAAC6B,KAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAfA;MAAMD,U;AAiBN,eAAezB,IAAf","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport socket from '../../socket';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst Main = (props) => {\r\n  const history = useHistory();\r\n  const [err, setErr] = useState(false);\r\n  const [errMsg, setErrMsg] = useState('');\r\n  const currentClass = JSON.parse(localStorage.getItem(\"idClass\"));\r\n  const currentUser = JSON.parse(localStorage.getItem(\"user\"));\r\n  useEffect(() => {\r\n\r\n    socket.on('FE-error-user-exist', ({ error }) => {\r\n      if (!error) {\r\n        \r\n        const roomName = currentClass._id;\r\n        const userName = currentUser.name;\r\n\r\n        sessionStorage.setItem('user', userName);\r\n        history.push(`/room/${roomName}`);\r\n      } else {\r\n        setErr(error);\r\n        setErrMsg('User name already exist');\r\n      }\r\n    });\r\n  }, [props.history]);\r\n\r\n  function clickJoin() {\r\n    const roomName = currentClass._id;\r\n    const userName = currentUser.name;\r\n\r\n    if (!roomName || !userName) {\r\n      setErr(true);\r\n      setErrMsg('Enter Room Name or User Name');\r\n    } else {\r\n      socket.emit('BE-check-user', { roomId: roomName, userName });\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n\r\n      <JoinButton onClick={clickJoin}> Join Meet </JoinButton>\r\n\r\n  );\r\n};\r\n\r\nconst JoinButton = styled.label`\r\n  padding-left: 35px;\r\n  padding-right: 35px;\r\n\r\n  outline: none;\r\n  border: none;\r\n  border-radius: 15px;\r\n  color: #d8e9ef;\r\n  background-color: grey;\r\n \r\n\r\n  :hover {\r\n    background-color: red;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}