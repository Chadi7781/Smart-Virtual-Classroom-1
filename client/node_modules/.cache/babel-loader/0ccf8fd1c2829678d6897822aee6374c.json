{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getComponentFromRegistry = getComponentFromRegistry;\nexports.getPlayerFromRegistry = getPlayerFromRegistry;\nexports.isComponentRegistered = isComponentRegistered;\nexports.watchComponentRegistry = watchComponentRegistry;\nexports.withComponentRegistry = withComponentRegistry;\nObject.defineProperty(exports, \"setAssetPath\", {\n  enumerable: true,\n  get: function get() {\n    return _client.setAssetPath;\n  }\n});\nexports.withPlayerContext = exports.usePlayerContext = exports.isWritableProp = exports.initialState = exports.findPlayer = exports.defineCustomElements = exports.createDispatcher = exports.VmYoutube = exports.VmVolumeControl = exports.VmVimeo = exports.VmVideo = exports.VmUi = exports.VmTooltip = exports.VmTimeProgress = exports.VmTime = exports.VmSubmenu = exports.VmSpinner = exports.VmSlider = exports.VmSkeleton = exports.VmSettingsControl = exports.VmSettings = exports.VmScrubberControl = exports.VmScrim = exports.VmPoster = exports.VmPlayer = exports.VmPlaybackControl = exports.VmPipControl = exports.VmMuteControl = exports.VmMenuRadioGroup = exports.VmMenuRadio = exports.VmMenuItem = exports.VmMenu = exports.VmLoadingScreen = exports.VmLiveIndicator = exports.VmIconLibrary = exports.VmIcon = exports.VmHls = exports.VmFullscreenControl = exports.VmFile = exports.VmEndTime = exports.VmEmbed = exports.VmDefaultUi = exports.VmDefaultSettings = exports.VmDefaultControls = exports.VmDblClickFullscreen = exports.VmDash = exports.VmDailymotion = exports.VmCurrentTime = exports.VmControls = exports.VmControlSpacer = exports.VmControlGroup = exports.VmControl = exports.VmClickToPlay = exports.VmCaptions = exports.VmCaptionControl = exports.VmAudio = exports.ViewType = exports.REGISTRY_KEY = exports.REGISTRATION_KEY = exports.Provider = exports.PLAYER_KEY = exports.MediaType = exports.COMPONENT_NAME_KEY = void 0;\n\nvar _client = require(\"@stencil/core/internal/client\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nvar en = {\n  play: 'Play',\n  pause: 'Pause',\n  playback: 'Playback',\n  scrubber: 'Scrubber',\n  scrubberLabel: '{currentTime} of {duration}',\n  played: 'Played',\n  duration: 'Duration',\n  buffered: 'Buffered',\n  close: 'Close',\n  currentTime: 'Current time',\n  live: 'LIVE',\n  volume: 'Volume',\n  mute: 'Mute',\n  unmute: 'Unmute',\n  audio: 'Audio',\n  default: 'Default',\n  captions: 'Captions',\n  subtitlesOrCc: 'Subtitles/CC',\n  enableCaptions: 'Enable subtitles/captions',\n  disableCaptions: 'Disable subtitles/captions',\n  auto: 'Auto',\n  fullscreen: 'Fullscreen',\n  enterFullscreen: 'Enter fullscreen',\n  exitFullscreen: 'Exit fullscreen',\n  settings: 'Settings',\n  seekForward: 'Seek forward',\n  seekBackward: 'Seek backward',\n  seekTotal: 'Seek total',\n  normal: 'Normal',\n  none: 'None',\n  playbackRate: 'Playback Rate',\n  playbackQuality: 'Playback Quality',\n  loop: 'Loop',\n  disabled: 'Disabled',\n  off: 'Off',\n  enabled: 'Enabled',\n  pip: 'Picture-in-Picture',\n  enterPiP: 'Miniplayer',\n  exitPiP: 'Expand'\n};\nvar initialState = {\n  theme: undefined,\n  paused: true,\n  playing: false,\n  duration: -1,\n  currentProvider: undefined,\n  mediaTitle: undefined,\n  currentSrc: undefined,\n  currentPoster: undefined,\n  textTracks: [],\n  currentTextTrack: -1,\n  audioTracks: [],\n  currentAudioTrack: -1,\n  isTextTrackVisible: true,\n  shouldRenderNativeTextTracks: true,\n  icons: 'vime',\n  currentTime: 0,\n  autoplay: false,\n  ready: false,\n  playbackReady: false,\n  loop: false,\n  muted: false,\n  buffered: 0,\n  playbackRate: 1,\n  playbackRates: [1],\n  playbackQuality: undefined,\n  playbackQualities: [],\n  seeking: false,\n  debug: false,\n  playbackStarted: false,\n  playbackEnded: false,\n  buffering: false,\n  controls: false,\n  isControlsActive: false,\n  volume: 50,\n  isFullscreenActive: false,\n  aspectRatio: '16:9',\n  viewType: undefined,\n  isAudioView: false,\n  isVideoView: false,\n  mediaType: undefined,\n  isAudio: false,\n  isVideo: false,\n  isMobile: false,\n  isTouch: false,\n  isSettingsActive: false,\n  isLive: false,\n  isPiPActive: false,\n  autopause: true,\n  playsinline: false,\n  language: 'en',\n  languages: ['en'],\n  translations: {\n    en\n  },\n  i18n: en\n};\nexports.initialState = initialState;\nvar writableProps = new Set(['autoplay', 'autopause', 'aspectRatio', 'controls', 'theme', 'debug', 'paused', 'currentTime', 'language', 'loop', 'translations', 'playbackQuality', 'muted', 'playbackRate', 'playsinline', 'volume', 'isSettingsActive', 'isControlsActive', 'shouldRenderNativeTextTracks']);\n\nvar isWritableProp = prop => writableProps.has(prop);\n/**\n * Player properties that should be reset when the media is changed.\n */\n\n\nexports.isWritableProp = isWritableProp;\nvar resetableProps = new Set(['paused', 'currentTime', 'duration', 'buffered', 'seeking', 'playing', 'buffering', 'playbackReady', 'textTracks', 'currentTextTrack', 'audioTracks', 'currentAudioTrack', 'mediaTitle', 'currentSrc', 'currentPoster', 'playbackRate', 'playbackRates', 'playbackStarted', 'playbackEnded', 'playbackQuality', 'playbackQualities', 'mediaType']);\n\nvar shouldPropResetOnMediaChange = prop => resetableProps.has(prop);\n\nvar isNull = input => input === null;\n\nvar isUndefined = input => typeof input === 'undefined';\n\nvar isNullOrUndefined = input => isNull(input) || isUndefined(input);\n\nvar getConstructor = input => !isNullOrUndefined(input) ? input.constructor : undefined;\n\nvar isObject = input => getConstructor(input) === Object;\n\nvar isNumber = input => getConstructor(input) === Number && !Number.isNaN(input);\n\nvar isString = input => getConstructor(input) === String;\n\nvar isBoolean = input => getConstructor(input) === Boolean;\n\nvar isFunction = input => getConstructor(input) === Function;\n\nvar isArray = input => Array.isArray(input);\n\nvar isInstanceOf = (input, constructor) => Boolean(input && constructor && input instanceof constructor);\n\nvar STATE_CHANGE_EVENT = 'vmStateChange';\n/**\n * Creates a dispatcher on the given `ref`, to send updates to the closest ancestor player via\n * the custom `vmStateChange` event.\n *\n * @param ref An element to dispatch the state change events from.\n */\n\nvar createDispatcher = ref => (prop, value) => {\n  var el = isInstanceOf(ref, HTMLElement) ? ref : (0, _client.getElement)(ref);\n  var event = new CustomEvent(STATE_CHANGE_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: {\n      by: el,\n      prop,\n      value\n    }\n  });\n  el.dispatchEvent(event);\n};\n\nexports.createDispatcher = createDispatcher;\n\nvar createDeferredPromise = function createDeferredPromise() {\n  var resolve;\n  var promise = new Promise(function (res) {\n    resolve = res;\n  });\n  return {\n    promise: promise,\n    resolve: resolve\n  };\n};\n\nvar openWormhole = function openWormhole(Component, props, isBlocking) {\n  if (isBlocking === void 0) {\n    isBlocking = true;\n  }\n\n  var isConstructor = Component.constructor.name === 'Function';\n  var Proto = isConstructor ? Component.prototype : Component;\n  var componentWillLoad = Proto.componentWillLoad;\n\n  Proto.componentWillLoad = function () {\n    var _this = this;\n\n    var el = (0, _client.getElement)(this);\n    var onOpen = createDeferredPromise();\n    var event = new CustomEvent('openWormhole', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        consumer: this,\n        fields: props,\n        updater: function updater(prop, value) {\n          _this[prop] = value;\n        },\n        onOpen: onOpen\n      }\n    });\n    el.dispatchEvent(event);\n\n    var willLoad = function willLoad() {\n      if (componentWillLoad) {\n        return componentWillLoad.call(_this);\n      }\n    };\n\n    return isBlocking ? onOpen.promise.then(function () {\n      return willLoad();\n    }) : willLoad();\n  };\n};\n\nvar multiverse = new Map();\n\nvar updateConsumer = function updateConsumer(_a, state) {\n  var fields = _a.fields,\n      updater = _a.updater;\n  fields.forEach(function (field) {\n    updater(field, state[field]);\n  });\n};\n\nvar Universe = {\n  create: function create(creator, initialState) {\n    var el = (0, _client.getElement)(creator);\n    var wormholes = new Map();\n    var universe = {\n      wormholes: wormholes,\n      state: initialState\n    };\n    multiverse.set(creator, universe);\n    var connectedCallback = creator.connectedCallback;\n\n    creator.connectedCallback = function () {\n      multiverse.set(creator, universe);\n\n      if (connectedCallback) {\n        connectedCallback.call(creator);\n      }\n    };\n\n    var disconnectedCallback = creator.disconnectedCallback;\n\n    creator.disconnectedCallback = function () {\n      multiverse.delete(creator);\n\n      if (disconnectedCallback) {\n        disconnectedCallback.call(creator);\n      }\n    };\n\n    el.addEventListener('openWormhole', function (event) {\n      event.stopPropagation();\n      var _a = event.detail,\n          consumer = _a.consumer,\n          onOpen = _a.onOpen;\n      if (wormholes.has(consumer)) return;\n\n      if (typeof consumer !== 'symbol') {\n        var connectedCallback_1 = consumer.connectedCallback,\n            disconnectedCallback_1 = consumer.disconnectedCallback;\n\n        consumer.connectedCallback = function () {\n          wormholes.set(consumer, event.detail);\n\n          if (connectedCallback_1) {\n            connectedCallback_1.call(consumer);\n          }\n        };\n\n        consumer.disconnectedCallback = function () {\n          wormholes.delete(consumer);\n\n          if (disconnectedCallback_1) {\n            disconnectedCallback_1.call(consumer);\n          }\n        };\n      }\n\n      wormholes.set(consumer, event.detail);\n      updateConsumer(event.detail, universe.state);\n      onOpen === null || onOpen === void 0 ? void 0 : onOpen.resolve(function () {\n        wormholes.delete(consumer);\n      });\n    });\n    el.addEventListener('closeWormhole', function (event) {\n      var consumer = event.detail;\n      wormholes.delete(consumer);\n    });\n  },\n  Provider: function Provider(_a, children) {\n    var state = _a.state;\n    var creator = (0, _client.getRenderingRef)();\n\n    if (multiverse.has(creator)) {\n      var universe = multiverse.get(creator);\n      universe.state = state;\n      universe.wormholes.forEach(function (opening) {\n        updateConsumer(opening, state);\n      });\n    }\n\n    return children;\n  }\n};\n/**\n * Listen to an event on the given DOM node. Returns a callback to remove the event listener.\n */\n\nfunction listen(node, event, handler, options) {\n  node.addEventListener(event, handler, options);\n  return () => node.removeEventListener(event, handler, options);\n}\n\nfunction fireEventAndRetry(el, event, onFail) {\n  var interval = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 300;\n  var maxRetries = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 10;\n  var timeout;\n  var attempt = 0;\n  var found = false;\n\n  function retry() {\n    if (found) return;\n    timeout = setTimeout(() => {\n      if (attempt === maxRetries) {\n        onFail === null || onFail === void 0 ? void 0 : onFail();\n        return;\n      }\n\n      el.dispatchEvent(event);\n      attempt += 1;\n      retry();\n    }, interval);\n  }\n\n  retry();\n  return () => {\n    window.clearTimeout(timeout);\n    found = true;\n  };\n}\n\nvar isColliding = function isColliding(a, b) {\n  var translateAx = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var translateAy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var translateBx = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var translateBy = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  var aRect = a.getBoundingClientRect();\n  var bRect = b.getBoundingClientRect();\n  return aRect.left + translateAx < bRect.right + translateBx && aRect.right + translateAx > bRect.left + translateBx && aRect.top + translateAy < bRect.bottom + translateBy && aRect.bottom + translateAy > bRect.top + translateBy;\n};\n\nvar deferredPromise = () => {\n  var resolve;\n  var reject;\n  var promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  }); // @ts-ignore\n\n  return {\n    promise,\n    resolve,\n    reject\n  };\n};\n\nfunction wrapStencilHook(component, lifecycle, hook) {\n  var prevHook = component[lifecycle]; // eslint-disable-next-line func-names\n\n  component[lifecycle] = function () {\n    hook();\n    return prevHook ? prevHook.call(component) : undefined;\n  };\n}\n\nfunction createStencilHook(component, onConnect, onDisconnect) {\n  var hasLoaded = false;\n\n  if (!isUndefined(onConnect)) {\n    wrapStencilHook(component, 'componentWillLoad', () => {\n      onConnect();\n      hasLoaded = true;\n    });\n    wrapStencilHook(component, 'connectedCallback', () => {\n      if (hasLoaded) onConnect();\n    });\n  }\n\n  if (!isUndefined(onDisconnect)) {\n    wrapStencilHook(component, 'disconnectedCallback', () => {\n      onDisconnect();\n    });\n  }\n}\n\nvar FIND_PLAYER_EVENT = 'vmFindPlayer';\n\nfunction withFindPlayer(player) {\n  var el = (0, _client.getElement)(player);\n  var off;\n  createStencilHook(player, () => {\n    off = listen(el, FIND_PLAYER_EVENT, event => {\n      event.stopPropagation();\n      event.detail(el);\n    });\n  }, () => {\n    var _off;\n\n    (_off = off) === null || _off === void 0 ? void 0 : _off();\n  });\n}\n/**\n * Finds the closest ancestor player element by firing the `vmFindPlayer` event, and waiting\n * for the player to catch it. This function retries finding the player (`maxRetries`) until it\n * gives up and fails.\n *\n * @param ref - A HTMLElement that is within the player's subtree.\n * @param interval - The length of the timeout before trying again in milliseconds.\n * @param maxRetries - The number of times to retry firing the event.\n */\n\n\nvar findPlayer = function findPlayer(ref) {\n  var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;\n  var maxRetries = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n  var el = isInstanceOf(ref, HTMLElement) ? ref : (0, _client.getElement)(ref);\n  var search = deferredPromise();\n  var stopFiring;\n  var event = new CustomEvent(FIND_PLAYER_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: player => {\n      search.resolve(player);\n      stopFiring();\n    }\n  });\n  stopFiring = fireEventAndRetry(el, event, () => {\n    search.reject(\"Could not find player for \".concat(el.nodeName));\n  }, interval, maxRetries);\n  return search.promise;\n};\n\nexports.findPlayer = findPlayer;\nvar LOAD_START_EVENT = 'vmLoadStart'; // Events that toggle state and the prop is named `is{PropName}...`.\n\nvar isToggleStateEvent = new Set(['isFullscreenActive', 'isControlsActive', 'isTextTrackVisible', 'isPiPActive', 'isLive', 'isTouch', 'isAudio', 'isVideo', 'isAudioView', 'isVideoView']); // Events that are emitted without the 'Change' postfix.\n\nvar hasShortenedEventName = new Set(['ready', 'playbackStarted', 'playbackEnded', 'playbackReady']);\n\nvar getEventName = prop => {\n  // Example: isFullscreenActive -> vmFullscreenChange\n  if (isToggleStateEvent.has(prop)) {\n    return \"vm\".concat(prop.replace('is', '').replace('Active', ''), \"Change\");\n  } // Example: playbackStarted -> vmPlaybackStarted\n\n\n  if (hasShortenedEventName.has(prop)) {\n    return \"vm\".concat(prop.charAt(0).toUpperCase()).concat(prop.slice(1));\n  } // Example: currentTime -> vmCurrentTimeChange\n\n\n  return \"vm\".concat(prop.charAt(0).toUpperCase()).concat(prop.slice(1), \"Change\");\n};\n\nfunction firePlayerEvent(el, prop, newValue, oldValue) {\n  var events = [];\n  events.push(new CustomEvent(getEventName(prop), {\n    detail: newValue\n  }));\n  if (prop === 'paused' && !newValue) events.push(new CustomEvent('vmPlay'));\n  if (prop === 'seeking' && oldValue && !newValue) events.push(new CustomEvent('vmSeeked'));\n  events.forEach(event => {\n    el.dispatchEvent(event);\n  });\n}\n/**\n * Binds props between an instance of a given component class and it's closest ancestor player.\n *\n * @param component A Stencil component instance.\n * @param props A set of props to watch and update on the given component instance.\n */\n\n\nvar withPlayerContext = (component, props) => openWormhole(component, props);\n/**\n * Finds the closest ancestor player to the given `ref` and watches the given props for changes. On\n * a prop change the given `updater` fn is called.\n *\n * @param ref A element within any player's subtree.\n * @param props A set of props to watch and call the `updater` fn with.\n * @param updater This function is called with the prop/value of any watched properties.\n */\n\n\nexports.withPlayerContext = withPlayerContext;\n\nvar usePlayerContext = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (ref, props, updater, playerRef) {\n    var player = playerRef !== null && playerRef !== void 0 ? playerRef : yield findPlayer(ref);\n    var listeners = props.map(prop => {\n      var event = getEventName(prop);\n      return listen(player, event, () => {\n        updater(prop, player[prop]);\n      });\n    });\n    return () => {\n      listeners.forEach(off => off());\n    };\n  });\n\n  return function usePlayerContext(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.usePlayerContext = usePlayerContext;\nvar ViewType;\nexports.ViewType = ViewType;\n\n(function (ViewType) {\n  ViewType[\"Audio\"] = \"audio\";\n  ViewType[\"Video\"] = \"video\";\n})(ViewType || (exports.ViewType = ViewType = {}));\n\nvar MediaType;\nexports.MediaType = MediaType;\n\n(function (MediaType) {\n  MediaType[\"Audio\"] = \"audio\";\n  MediaType[\"Video\"] = \"video\";\n})(MediaType || (exports.MediaType = MediaType = {}));\n\nvar Provider;\nexports.Provider = Provider;\n\n(function (Provider) {\n  Provider[\"Audio\"] = \"audio\";\n  Provider[\"Video\"] = \"video\";\n  Provider[\"HLS\"] = \"hls\";\n  Provider[\"Dash\"] = \"dash\";\n  Provider[\"YouTube\"] = \"youtube\";\n  Provider[\"Vimeo\"] = \"vimeo\";\n  Provider[\"Dailymotion\"] = \"dailymotion\";\n})(Provider || (exports.Provider = Provider = {}));\n\nclass Disposal {\n  constructor() {\n    var dispose = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    this.dispose = dispose;\n  }\n\n  add(callback) {\n    this.dispose.push(callback);\n  }\n\n  empty() {\n    this.dispose.forEach(fn => fn());\n    this.dispose = [];\n  }\n\n}\n\nvar PLAYER_KEY = Symbol('vmPlayerKey');\nexports.PLAYER_KEY = PLAYER_KEY;\nvar COMPONENT_NAME_KEY = Symbol('vmNameKey');\nexports.COMPONENT_NAME_KEY = COMPONENT_NAME_KEY;\nvar REGISTRY_KEY = Symbol('vmRegistryKey');\nexports.REGISTRY_KEY = REGISTRY_KEY;\nvar REGISTRATION_KEY = Symbol('vmRegistrationKey');\nexports.REGISTRATION_KEY = REGISTRATION_KEY;\nvar REGISTER_COMPONENT_EVENT = 'vmComponentRegister';\nvar COMPONENT_REGISTERED_EVENT = 'vmComponentRegistered';\nvar COMPONENT_DEREGISTERED_EVENT = 'vmComponentDeregistered';\n\nvar getRegistrant = ref => isInstanceOf(ref, HTMLElement) ? ref : (0, _client.getElement)(ref);\n/**\n * Handles registering/deregistering the given `component` in the player registry. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n */\n\n\nfunction withComponentRegistry(ref, name) {\n  var registryId = Symbol('vmRegistryId');\n  var registrant = getRegistrant(ref);\n  registrant[COMPONENT_NAME_KEY] = name !== null && name !== void 0 ? name : registrant.nodeName.toLowerCase();\n  registrant[REGISTRATION_KEY] = registryId;\n\n  var buildEvent = eventName => new CustomEvent(eventName, {\n    bubbles: true,\n    composed: true,\n    detail: ref\n  });\n\n  var registerEvent = buildEvent(REGISTER_COMPONENT_EVENT);\n  createStencilHook(ref, () => {\n    registrant.dispatchEvent(registerEvent);\n  });\n}\n\nfunction withComponentRegistrar(player) {\n  var el = (0, _client.getElement)(player);\n  var registry = new Map();\n  var disposal = new Disposal(); // TODO properly type this later.\n\n  el[REGISTRY_KEY] = registry;\n\n  function onDeregister(registrant) {\n    delete registrant[PLAYER_KEY];\n    delete registrant[REGISTRY_KEY];\n    registry.delete(registrant[REGISTRATION_KEY]);\n    el.dispatchEvent(new CustomEvent(COMPONENT_DEREGISTERED_EVENT, {\n      detail: registrant\n    }));\n  }\n\n  function onRegister(e) {\n    var ref = e.detail;\n    var registrant = getRegistrant(ref);\n    registrant[PLAYER_KEY] = el;\n    registrant[REGISTRY_KEY] = registry;\n    registry.set(registrant[REGISTRATION_KEY], registrant);\n    el.dispatchEvent(new CustomEvent(COMPONENT_REGISTERED_EVENT, {\n      detail: registrant\n    }));\n    createStencilHook(ref, undefined, () => onDeregister(registrant));\n  }\n\n  createStencilHook(player, () => {\n    disposal.add(listen(el, REGISTER_COMPONENT_EVENT, onRegister));\n  }, () => {\n    registry.clear();\n    disposal.empty();\n    delete player[REGISTRY_KEY];\n  });\n}\n/**\n * Checks whether any component with the given `name` exists in the registry. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the component to search for.\n */\n\n\nfunction isComponentRegistered(ref, name) {\n  var _registry$values;\n\n  var registrant = getRegistrant(ref);\n  var registry = registrant[REGISTRY_KEY];\n  return Array.from((_registry$values = registry === null || registry === void 0 ? void 0 : registry.values()) !== null && _registry$values !== void 0 ? _registry$values : []).some(r => r[COMPONENT_NAME_KEY] === name);\n}\n/**\n * Returns the player for the given `ref`. This will only work after the component has been\n * registered, prefer using `findPlayer`.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n */\n\n\nfunction getPlayerFromRegistry(ref) {\n  var registrant = getRegistrant(ref);\n  return registrant[PLAYER_KEY];\n}\n/**\n * Returns a collection of components from the registry for the given `ref`. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the components to search for in the registry.\n */\n\n\nfunction getComponentFromRegistry(ref, name) {\n  var _registrant$REGISTRY_, _registrant$REGISTRY_2;\n\n  var registrant = getRegistrant(ref);\n  return Array.from((_registrant$REGISTRY_ = (_registrant$REGISTRY_2 = registrant[REGISTRY_KEY]) === null || _registrant$REGISTRY_2 === void 0 ? void 0 : _registrant$REGISTRY_2.values()) !== null && _registrant$REGISTRY_ !== void 0 ? _registrant$REGISTRY_ : []).filter(r => r[COMPONENT_NAME_KEY] === name);\n}\n/**\n * Watches the current registry on the given `ref` for changes. All registries are bound per\n * player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the component to watch for.\n * @param onChange - A callback that is called when a component is registered/deregistered.\n */\n\n\nfunction watchComponentRegistry(_x5, _x6, _x7) {\n  return _watchComponentRegistry.apply(this, arguments);\n}\n\nfunction _watchComponentRegistry() {\n  _watchComponentRegistry = _asyncToGenerator(function* (ref, name, onChange) {\n    var _registry$values2;\n\n    var player = yield findPlayer(ref);\n    var disposal = new Disposal();\n    var registry = getRegistrant(ref)[REGISTRY_KEY];\n\n    function listener(e) {\n      if (e.detail[COMPONENT_NAME_KEY] === name) onChange === null || onChange === void 0 ? void 0 : onChange(getComponentFromRegistry(player, name));\n    } // Hydrate.\n\n\n    Array.from((_registry$values2 = registry === null || registry === void 0 ? void 0 : registry.values()) !== null && _registry$values2 !== void 0 ? _registry$values2 : []).forEach(reg => listener(new CustomEvent('', {\n      detail: reg\n    })));\n    disposal.add(listen(player, COMPONENT_REGISTERED_EVENT, listener));\n    disposal.add(listen(player, COMPONENT_DEREGISTERED_EVENT, listener));\n    createStencilHook(ref, () => {}, () => {\n      disposal.empty();\n    });\n    return () => {\n      disposal.empty();\n    };\n  });\n  return _watchComponentRegistry.apply(this, arguments);\n}\n\nvar audioRegex = /\\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\\?)/i;\nvar videoRegex = /\\.(mp4|og[gv]|webm|mov|m4v)($|\\?)/i;\nvar hlsRegex = /\\.(m3u8)($|\\?)/i;\nvar hlsTypeRegex = /^application\\/(x-mpegURL|vnd\\.apple\\.mpegURL)$/i;\nvar dashRegex = /\\.(mpd)($|\\?)/i;\nvar PROVIDER_CHANGE_EVENT = 'vmProviderChange';\n/**\n * Creates a dispatcher on the given `ref`, to send updates to the closest ancestor player via\n * the custom `vmProviderChange` event.\n *\n * @param ref A component reference to dispatch the state change events from.\n */\n\nvar createProviderDispatcher = ref => (prop, value) => {\n  var el = isInstanceOf(ref, HTMLElement) ? ref : (0, _client.getElement)(ref);\n  var event = new CustomEvent(PROVIDER_CHANGE_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: {\n      by: el,\n      prop,\n      value\n    }\n  });\n  el.dispatchEvent(event);\n};\n\nvar providerWritableProps = new Set(['ready', 'playing', 'playbackReady', 'playbackStarted', 'playbackEnded', 'seeking', 'buffered', 'buffering', 'duration', 'viewType', 'mediaTitle', 'mediaType', 'currentSrc', 'currentPoster', 'playbackRates', 'playbackQualities', 'textTracks', 'currentTextTrack', 'isTextTrackVisible', 'audioTracks', 'currentAudioTrack', 'isPiPActive', 'isFullscreenActive']);\n\nvar isProviderWritableProp = prop => isWritableProp(prop) || providerWritableProps.has(prop);\n\nvar PROVIDER_CACHE_KEY = Symbol('vmProviderCache');\nvar PROVIDER_CONNECT_EVENT = 'vmMediaProviderConnect';\nvar PROVIDER_DISCONNECT_EVENT = 'vmMediaProviderDisconnect';\n\nfunction buildProviderConnectEvent(name, host) {\n  return new CustomEvent(name, {\n    bubbles: true,\n    composed: true,\n    detail: host\n  });\n}\n\nfunction withProviderHost(connector) {\n  var el = (0, _client.getElement)(connector);\n  var disposal = new Disposal();\n  var cache = new Map();\n  connector[PROVIDER_CACHE_KEY] = cache;\n\n  function initCache() {\n    Object.keys(connector).forEach(prop => {\n      cache.set(prop, connector[prop]);\n    });\n  }\n\n  function onDisconnect() {\n    (0, _client.writeTask)( /*#__PURE__*/_asyncToGenerator(function* () {\n      var _connector$onProvider;\n\n      connector.ready = false;\n      connector.provider = undefined;\n      cache.clear();\n      (_connector$onProvider = connector.onProviderDisconnect) === null || _connector$onProvider === void 0 ? void 0 : _connector$onProvider.call(connector);\n      el.dispatchEvent(buildProviderConnectEvent(PROVIDER_DISCONNECT_EVENT));\n    }));\n  }\n\n  function onConnect(event) {\n    event.stopImmediatePropagation();\n    initCache();\n    var hostRef = event.detail;\n    var host = (0, _client.getElement)(event.detail);\n    if (connector.provider === host) return;\n    var name = host === null || host === void 0 ? void 0 : host.nodeName.toLowerCase().replace('vm-', '');\n    (0, _client.writeTask)( /*#__PURE__*/_asyncToGenerator(function* () {\n      connector.provider = host;\n      connector.currentProvider = Object.values(Provider).find(provider => name === provider);\n      createStencilHook(hostRef, undefined, () => onDisconnect());\n    }));\n  }\n\n  function onChange(event) {\n    event.stopImmediatePropagation();\n    var {\n      by,\n      prop,\n      value\n    } = event.detail;\n\n    if (!isProviderWritableProp(prop)) {\n      var _connector$logger;\n\n      (_connector$logger = connector.logger) === null || _connector$logger === void 0 ? void 0 : _connector$logger.warn(\"\".concat(by.nodeName, \" tried to change `\").concat(prop, \"` but it is readonly.\"));\n      return;\n    }\n\n    (0, _client.writeTask)(() => {\n      cache.set(prop, value);\n      connector[prop] = value;\n    });\n  }\n\n  createStencilHook(connector, () => {\n    disposal.add(listen(el, PROVIDER_CONNECT_EVENT, onConnect));\n    disposal.add(listen(el, PROVIDER_CHANGE_EVENT, onChange));\n  }, () => {\n    disposal.empty();\n    cache.clear();\n  });\n}\n\nfunction withProviderConnect(ref) {\n  var connectEvent = buildProviderConnectEvent(PROVIDER_CONNECT_EVENT, ref);\n  createStencilHook(ref, () => {\n    (0, _client.getElement)(ref).dispatchEvent(connectEvent);\n  });\n}\n\nvar Audio = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n    /**\n     * @internal Whether an external SDK will attach itself to the media player and control it.\n     */\n\n\n    this.willAttach = false;\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    withComponentRegistry(this);\n    if (!this.willAttach) withProviderConnect(this);\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this2$filePro, _this2$fileProvider;\n\n      var adapter = (_yield$_this2$filePro = yield (_this2$fileProvider = _this2.fileProvider) === null || _this2$fileProvider === void 0 ? void 0 : _this2$fileProvider.getAdapter()) !== null && _yield$_this2$filePro !== void 0 ? _yield$_this2$filePro : {};\n\n      adapter.canPlay = /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator(function* (type) {\n          return isString(type) && audioRegex.test(type);\n        });\n\n        return function (_x8) {\n          return _ref4.apply(this, arguments);\n        };\n      }();\n\n      return adapter;\n    })();\n  }\n\n  render() {\n    return (// @ts-ignore\n      (0, _client.h)(\"vm-file\", {\n        noConnect: true,\n        willAttach: this.willAttach,\n        crossOrigin: this.crossOrigin,\n        preload: this.preload,\n        disableRemotePlayback: this.disableRemotePlayback,\n        mediaTitle: this.mediaTitle,\n        viewType: ViewType.Audio,\n        ref: el => {\n          this.fileProvider = el;\n        }\n      }, (0, _client.h)(\"slot\", null))\n    );\n  }\n\n};\nvar captionControlCss = \":host([hidden]){display:none}\";\nvar CaptionControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.canToggleCaptionVisibility = false;\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n\n    this.showIcon = 'captions-on';\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n\n    this.hideIcon = 'captions-off';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'c';\n    /** @internal */\n\n    this.i18n = {};\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.textTracks = [];\n    /** @internal */\n\n    this.isTextTrackVisible = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n', 'textTracks', 'isTextTrackVisible', 'playbackReady']);\n  }\n\n  onTextTracksChange() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetT;\n\n      var player = getPlayerFromRegistry(_this3);\n      _this3.canToggleCaptionVisibility = _this3.textTracks.length > 0 && ((_yield$player$canSetT = yield player === null || player === void 0 ? void 0 : player.canSetTextTrackVisibility()) !== null && _yield$player$canSetT !== void 0 ? _yield$player$canSetT : false);\n    })();\n  }\n\n  componentDidLoad() {\n    this.onTextTracksChange();\n  }\n\n  onClick() {\n    var _player$setTextTrackV;\n\n    var player = getPlayerFromRegistry(this);\n    player === null || player === void 0 ? void 0 : (_player$setTextTrackV = player.setTextTrackVisibility) === null || _player$setTextTrackV === void 0 ? void 0 : _player$setTextTrackV.call(player, !this.isTextTrackVisible);\n  }\n\n  render() {\n    var tooltip = this.isTextTrackVisible ? this.i18n.disableCaptions : this.i18n.enableCaptions;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(_client.Host, {\n      hidden: !this.canToggleCaptionVisibility\n    }, (0, _client.h)(\"vm-control\", {\n      label: this.i18n.captions,\n      keys: this.keys,\n      hidden: !this.canToggleCaptionVisibility,\n      pressed: this.isTextTrackVisible,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.isTextTrackVisible ? this.showIcon : this.hideIcon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint)));\n  }\n\n  static get watchers() {\n    return {\n      \"textTracks\": [\"onTextTracksChange\"],\n      \"playbackReady\": [\"onTextTracksChange\"]\n    };\n  }\n\n  static get style() {\n    return captionControlCss;\n  }\n\n};\n/* eslint-disable func-names */\n\nvar watch = new Set();\nvar controls = new Set(); // watchedEl -> (controlsEl -> controlsHeight) saved on collision. Basically keeps track of\n// every collision with all controls for each watched element.\n\nvar collisions = new Map();\n\nfunction update() {\n  (0, _client.writeTask)(() => {\n    controls.forEach(controlsEl => {\n      var controlsHeight = parseFloat(window.getComputedStyle(controlsEl).height);\n      watch.forEach(watchedEl => {\n        var watchedElCollisions = collisions.get(watchedEl);\n        var hasCollided = isColliding(watchedEl, controlsEl);\n        var willCollide = isColliding(watchedEl, controlsEl, 0, controlsHeight) || isColliding(watchedEl, controlsEl, 0, -controlsHeight);\n        watchedElCollisions.set(controlsEl, hasCollided || willCollide ? controlsHeight : 0);\n      });\n    }); // Update after assessing all collisions so there are no glitchy movements.\n\n    watch.forEach(watchedEl => {\n      var watchedElCollisions = collisions.get(watchedEl);\n      watchedEl.style.setProperty('--vm-controls-height', \"\".concat(Math.max(0, Math.max(...watchedElCollisions.values())), \"px\"));\n    });\n  });\n}\n\nfunction registerControlsForCollisionDetection(component) {\n  var el = (0, _client.getElement)(component);\n\n  function getInnerEl() {\n    return el.shadowRoot.querySelector('.controls');\n  }\n\n  createStencilHook(component, () => {\n    var innerEl = getInnerEl();\n\n    if (!isNull(innerEl)) {\n      controls.add(innerEl);\n      update();\n    }\n  }, () => {\n    controls.delete(getInnerEl());\n    update();\n  });\n  wrapStencilHook(component, 'componentDidLoad', () => {\n    controls.add(getInnerEl());\n    update();\n  });\n  wrapStencilHook(component, 'componentDidRender', update);\n}\n\nfunction withControlsCollisionDetection(component) {\n  var el = (0, _client.getElement)(component);\n  createStencilHook(component, () => {\n    watch.add(el);\n    collisions.set(el, new Map());\n    update();\n  }, () => {\n    watch.delete(el);\n    collisions.delete(el);\n  });\n}\n\nvar captionsCss = \":host{position:absolute;left:0;bottom:0;width:100%;pointer-events:none;z-index:var(--vm-captions-z-index)}.captions{width:100%;text-align:center;color:var(--vm-captions-text-color);font-size:var(--vm-captions-font-size);padding:$control-spacing;display:none;pointer-events:none;transition:transform 0.4s ease-in-out, opacity 0.3s ease-in-out}.captions.enabled{display:inline-block}.captions.hidden{display:none !important}.captions.inactive{opacity:0;visibility:hidden}.captions.fontMd{font-size:var(--vm-captions-font-size-medium)}.captions.fontLg{font-size:var(--vm-captions-font-size-large)}.captions.fontXl{font-size:var(--vm-captions-font-size-xlarge)}.cue{display:inline-block;background:var(--vm-captions-cue-bg-color);border-radius:var(--vm-captions-cue-border-radius);box-decoration-break:clone;line-height:185%;padding:var(--vm-captions-cue-padding);white-space:pre-wrap;pointer-events:none}.cue>div{display:inline}.cue:empty{display:none}\";\nvar Captions = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.sizeDisposal = new Disposal();\n    this.textDisposal = new Disposal();\n    this.isEnabled = false;\n    this.fontSize = 'sm';\n    /**\n     * Whether the captions should be visible or not.\n     */\n\n    this.hidden = false;\n    /** @internal */\n\n    this.isControlsActive = false;\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playbackStarted = false;\n    /** @internal */\n\n    this.textTracks = [];\n    /** @internal */\n\n    this.currentTextTrack = -1;\n    /** @internal */\n\n    this.isTextTrackVisible = true;\n    withComponentRegistry(this);\n    withControlsCollisionDetection(this);\n    withPlayerContext(this, ['isVideoView', 'playbackStarted', 'isControlsActive', 'textTracks', 'currentTextTrack', 'isTextTrackVisible']);\n  }\n\n  onEnabledChange() {\n    this.isEnabled = this.playbackStarted && this.isVideoView;\n  }\n\n  onTextTracksChange() {\n    var textTrack = this.textTracks[this.currentTextTrack];\n\n    var renderCues = () => {\n      var _textTrack$activeCues;\n\n      var activeCues = Array.from((_textTrack$activeCues = textTrack.activeCues) !== null && _textTrack$activeCues !== void 0 ? _textTrack$activeCues : []);\n      this.renderCurrentCue(activeCues[0]);\n    };\n\n    this.textDisposal.empty();\n\n    if (!isNullOrUndefined(textTrack)) {\n      renderCues();\n      this.textDisposal.add(listen(textTrack, 'cuechange', renderCues));\n    }\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.dispatch('shouldRenderNativeTextTracks', false);\n    this.onTextTracksChange();\n    this.onPlayerResize();\n  }\n\n  disconnectedCallback() {\n    this.textDisposal.empty();\n    this.sizeDisposal.empty();\n    this.dispatch('shouldRenderNativeTextTracks', true);\n  }\n\n  onPlayerResize() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this4);\n      var container = yield player.getContainer();\n      var resizeObs = new ResizeObserver(entries => {\n        var entry = entries[0];\n        var {\n          width\n        } = entry.contentRect;\n\n        if (width >= 1360) {\n          _this4.fontSize = 'xl';\n        } else if (width >= 1024) {\n          _this4.fontSize = 'lg';\n        } else if (width >= 768) {\n          _this4.fontSize = 'md';\n        } else {\n          _this4.fontSize = 'sm';\n        }\n      });\n      resizeObs.observe(container);\n    })();\n  }\n\n  renderCurrentCue(cue) {\n    if (isNullOrUndefined(cue)) {\n      this.cue = '';\n      return;\n    }\n\n    var div = document.createElement('div');\n    div.append(cue.getCueAsHTML());\n    this.cue = div.innerHTML.trim();\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      style: {\n        transform: \"translateY(calc(\".concat(this.isControlsActive ? 'var(--vm-controls-height)' : '24px', \" * -1))\")\n      },\n      class: {\n        captions: true,\n        enabled: this.isEnabled,\n        hidden: this.hidden,\n        fontMd: this.fontSize === 'md',\n        fontLg: this.fontSize === 'lg',\n        fontXl: this.fontSize === 'xl',\n        inactive: !this.isTextTrackVisible\n      }\n    }, (0, _client.h)(\"span\", {\n      class: \"cue\"\n    }, this.cue));\n  }\n\n  static get watchers() {\n    return {\n      \"isVideoView\": [\"onEnabledChange\"],\n      \"playbackStarted\": [\"onEnabledChange\"],\n      \"textTracks\": [\"onTextTracksChange\"],\n      \"currentTextTrack\": [\"onTextTracksChange\"]\n    };\n  }\n\n  static get style() {\n    return captionsCss;\n  }\n\n};\nvar clickToPlayCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-click-to-play-z-index)}.clickToPlay{display:none;width:100%;height:100%;pointer-events:none}.clickToPlay.enabled{display:inline-block;pointer-events:auto}\";\nvar ClickToPlay = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * By default this is disabled on mobile to not interfere with playback, set this to `true` to\n     * enable it.\n     */\n\n    this.useOnMobile = false;\n    /** @internal */\n\n    this.paused = true;\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.isMobile = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['paused', 'isVideoView', 'isMobile']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  /** @internal */\n\n\n  forceClick() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      _this5.onClick();\n    })();\n  }\n\n  onClick() {\n    this.dispatch('paused', !this.paused);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        clickToPlay: true,\n        enabled: this.isVideoView && (!this.isMobile || this.useOnMobile)\n      },\n      onClick: this.onClick.bind(this)\n    });\n  }\n\n  static get style() {\n    return clickToPlayCss;\n  }\n\n};\nvar controlCss = \"button{display:flex;align-items:center;flex-direction:row;border:var(--vm-control-border);cursor:pointer;flex-shrink:0;font-size:var(--vm-control-icon-size);color:var(--vm-control-color);background:var(--vm-control-bg, transparent);border-radius:var(--vm-control-border-radius);padding:var(--vm-control-padding);position:relative;pointer-events:auto;transition:all 0.3s ease;transform:scale(var(--vm-control-scale, 1));touch-action:manipulation;box-sizing:border-box}button.hidden{display:none}button:focus{outline:0}button.tapHighlight{background:var(--vm-control-tap-highlight)}button.notTouch:focus,button.notTouch:hover,button.notTouch[aria-expanded='true']{background:var(--vm-control-focus-bg);color:var(--vm-control-focus-color);transform:scale(calc(var(--vm-control-scale, 1) + 0.06))}\";\nvar Control = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmInteractionChange = (0, _client.createEvent)(this, \"vmInteractionChange\", 7);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    this.keyboardDisposal = new Disposal();\n    this.showTapHighlight = false;\n    /**\n     * Whether the control should be displayed or not.\n     */\n\n    this.hidden = false;\n    /** @internal */\n\n    this.isTouch = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch']);\n  }\n\n  onKeysChange() {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      _this6.keyboardDisposal.empty();\n\n      if (isUndefined(_this6.keys)) return;\n      var player = yield findPlayer(_this6);\n\n      var codes = _this6.keys.split('/');\n\n      _this6.keyboardDisposal.add(listen(player, 'keydown', event => {\n        if (codes.includes(event.key)) {\n          _this6.button.click();\n        }\n      }));\n    })();\n  }\n\n  connectedCallback() {\n    this.findTooltip();\n    this.onKeysChange();\n  }\n\n  componentWillLoad() {\n    this.findTooltip();\n  }\n\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n  /**\n   * Focuses the control.\n   */\n\n\n  focusControl() {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this7$button;\n\n      (_this7$button = _this7.button) === null || _this7$button === void 0 ? void 0 : _this7$button.focus();\n    })();\n  }\n  /**\n   * Removes focus from the control.\n   */\n\n\n  blurControl() {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this8$button;\n\n      (_this8$button = _this8.button) === null || _this8$button === void 0 ? void 0 : _this8$button.blur();\n    })();\n  }\n\n  onTouchStart() {\n    this.showTapHighlight = true;\n  }\n\n  onTouchEnd() {\n    setTimeout(() => {\n      this.showTapHighlight = false;\n    }, 100);\n  }\n\n  findTooltip() {\n    var tooltip = this.host.querySelector('vm-tooltip');\n    if (!isNull(tooltip)) this.describedBy = tooltip.id;\n    return tooltip;\n  }\n\n  onShowTooltip() {\n    var tooltip = this.findTooltip();\n    if (!isNull(tooltip)) tooltip.active = true;\n    this.vmInteractionChange.emit(true);\n  }\n\n  onHideTooltip() {\n    var tooltip = this.findTooltip();\n    if (!isNull(tooltip)) tooltip.active = false;\n    this.button.blur();\n    this.vmInteractionChange.emit(false);\n  }\n\n  onFocus() {\n    this.vmFocus.emit();\n    this.onShowTooltip();\n  }\n\n  onBlur() {\n    this.vmBlur.emit();\n    this.onHideTooltip();\n  }\n\n  onMouseEnter() {\n    this.onShowTooltip();\n  }\n\n  onMouseLeave() {\n    this.onHideTooltip();\n  }\n\n  render() {\n    var isMenuExpanded = this.expanded ? 'true' : 'false';\n    var isPressed = this.pressed ? 'true' : 'false';\n    return (0, _client.h)(\"button\", {\n      class: {\n        hidden: this.hidden,\n        notTouch: !this.isTouch,\n        tapHighlight: this.showTapHighlight\n      },\n      id: this.identifier,\n      type: \"button\",\n      \"aria-label\": this.label,\n      \"aria-haspopup\": !isUndefined(this.menu) ? 'true' : undefined,\n      \"aria-controls\": this.menu,\n      \"aria-expanded\": !isUndefined(this.menu) ? isMenuExpanded : undefined,\n      \"aria-pressed\": !isUndefined(this.pressed) ? isPressed : undefined,\n      \"aria-hidden\": this.hidden ? 'true' : 'false',\n      \"aria-describedby\": this.describedBy,\n      onTouchStart: this.onTouchStart.bind(this),\n      onTouchEnd: this.onTouchEnd.bind(this),\n      onFocus: this.onFocus.bind(this),\n      onBlur: this.onBlur.bind(this),\n      onMouseEnter: this.onMouseEnter.bind(this),\n      onMouseLeave: this.onMouseLeave.bind(this),\n      ref: el => {\n        this.button = el;\n      }\n    }, (0, _client.h)(\"slot\", null));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"keys\": [\"onKeysChange\"]\n    };\n  }\n\n  static get style() {\n    return controlCss;\n  }\n\n};\nvar controlGroupCss = \":host{width:100%}.controlGroup{position:relative;width:100%;display:flex;flex-wrap:wrap;flex-direction:inherit;align-items:inherit;justify-content:inherit;box-sizing:border-box}.controlGroup.spaceTop{margin-top:var(--vm-control-group-spacing)}.controlGroup.spaceBottom{margin-bottom:var(--vm-control-group-spacing)}::slotted(*){margin-left:var(--vm-controls-spacing)}::slotted(*:first-child){margin-left:0}\";\nvar ControlNewLine = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * Determines where to add spacing/margin. The amount of spacing is determined by the CSS variable\n     * `--control-group-spacing`.\n     */\n\n    this.space = 'none';\n    withComponentRegistry(this);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        controlGroup: true,\n        spaceTop: this.space !== 'none' && this.space !== 'bottom',\n        spaceBottom: this.space !== 'none' && this.space !== 'top'\n      }\n    }, (0, _client.h)(\"slot\", null));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get style() {\n    return controlGroupCss;\n  }\n\n};\nvar controlSpacerCss = \":host{flex:1}\";\nvar ControlSpacer = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    withComponentRegistry(this);\n  }\n\n  static get style() {\n    return controlSpacerCss;\n  }\n\n};\n\nvar debounce = function debounce(func) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n  var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var timeout;\n  return function executedFunction() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n\n    var later = function delayedFunctionCall() {\n      timeout = undefined;\n      if (!immediate) func.apply(context, args);\n    };\n\n    var callNow = immediate && isUndefined(timeout);\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\nvar controlsCss = \":host{position:relative;width:100%;z-index:var(--vm-controls-z-index)}:host([video]){position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.controls{display:flex;width:100%;position:absolute;flex-wrap:wrap;pointer-events:auto;box-sizing:border-box;background:var(--vm-controls-bg);padding:var(--vm-controls-padding);border-radius:var(--vm-controls-border-radius);opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.controls.audio{position:relative}.controls.hidden{display:none}.controls.active{opacity:1;visibility:visible}.controls.fullWidth{width:100%}.controls.fullHeight{height:100%}::slotted(*:not(vm-control-group)){margin-left:var(--vm-controls-spacing)}::slotted(*:not(vm-control-group):first-child){margin-left:0}\";\n/**\n * We want to keep the controls active state in-sync per player.\n */\n\nvar playerRef = {};\nvar hideControlsTimeout = {};\nvar Controls = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.disposal = new Disposal();\n    this.isInteracting = false;\n    /**\n     * Whether the controls are visible or not.\n     */\n\n    this.hidden = false;\n    /**\n     * Whether the controls container should be 100% width. This has no effect if the view is of\n     * type `audio`.\n     */\n\n    this.fullWidth = false;\n    /**\n     * Whether the controls container should be 100% height. This has no effect if the view is of\n     * type `audio`.\n     */\n\n    this.fullHeight = false;\n    /**\n     * Sets the `flex-direction` property that manages the direction in which the controls are layed\n     * out.\n     */\n\n    this.direction = 'row';\n    /**\n     * Sets the `align-items` flex property that aligns the individual controls on the cross-axis.\n     */\n\n    this.align = 'center';\n    /**\n     * Sets the `justify-content` flex property that aligns the individual controls on the main-axis.\n     */\n\n    this.justify = 'start';\n    /**\n     * Pins the controls to the defined position inside the video player. This has no effect when\n     * the view is of type `audio`.\n     */\n\n    this.pin = 'bottomLeft';\n    /**\n     * The length in milliseconds that the controls are active for before fading out. Audio players\n     * are not effected by this prop.\n     */\n\n    this.activeDuration = 2750;\n    /**\n     * Whether the controls should wait for playback to start before being shown. Audio players\n     * are not effected by this prop.\n     */\n\n    this.waitForPlaybackStart = false;\n    /**\n     * Whether the controls should show/hide when paused. Audio players are not effected by this prop.\n     */\n\n    this.hideWhenPaused = false;\n    /**\n     * Whether the controls should hide when the mouse leaves the player. Audio players are not\n     * effected by this prop.\n     */\n\n    this.hideOnMouseLeave = false;\n    /** @internal */\n\n    this.isAudioView = false;\n    /** @internal */\n\n    this.isSettingsActive = false;\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.isControlsActive = false;\n    /** @internal */\n\n    this.paused = true;\n    /** @internal */\n\n    this.playbackStarted = false;\n    withComponentRegistry(this);\n    registerControlsForCollisionDetection(this);\n    withPlayerContext(this, ['playbackReady', 'isAudioView', 'isControlsActive', 'isSettingsActive', 'paused', 'playbackStarted']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.onControlsChange();\n    this.setupPlayerListeners();\n  }\n\n  componentWillLoad() {\n    this.onControlsChange();\n  }\n\n  disconnectedCallback() {\n    this.disposal.empty();\n    delete hideControlsTimeout[playerRef[this]];\n    delete playerRef[this];\n  }\n\n  setupPlayerListeners() {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this9);\n      var events = ['focus', 'keydown', 'click', 'touchstart', 'mouseleave'];\n      events.forEach(event => {\n        _this9.disposal.add(listen(player, event, _this9.onControlsChange.bind(_this9)));\n      });\n\n      _this9.disposal.add(listen(player, 'mousemove', debounce(_this9.onControlsChange, 50, true).bind(_this9))); // @ts-ignore\n\n\n      playerRef[_this9] = player;\n    })();\n  }\n\n  show() {\n    this.dispatch('isControlsActive', true);\n  }\n\n  hide() {\n    this.dispatch('isControlsActive', false);\n  }\n\n  hideWithDelay() {\n    // @ts-ignore\n    clearTimeout(hideControlsTimeout[playerRef[this]]);\n    hideControlsTimeout[playerRef[this]] = setTimeout(() => {\n      this.hide();\n    }, this.activeDuration);\n  }\n\n  onControlsChange(event) {\n    // @ts-ignore\n    clearTimeout(hideControlsTimeout[playerRef[this]]);\n\n    if (this.hidden || !this.playbackReady) {\n      this.hide();\n      return;\n    }\n\n    if (this.isAudioView) {\n      this.show();\n      return;\n    }\n\n    if (this.waitForPlaybackStart && !this.playbackStarted) {\n      this.hide();\n      return;\n    }\n\n    if (this.isInteracting || this.isSettingsActive) {\n      this.show();\n      return;\n    }\n\n    if (this.hideWhenPaused && this.paused) {\n      this.hideWithDelay();\n      return;\n    }\n\n    if (this.hideOnMouseLeave && !this.paused && (event === null || event === void 0 ? void 0 : event.type) === 'mouseleave') {\n      this.hide();\n      return;\n    }\n\n    if (!this.paused) {\n      this.show();\n      this.hideWithDelay();\n      return;\n    }\n\n    this.show();\n  }\n\n  getPosition() {\n    if (this.isAudioView) return {};\n\n    if (this.pin === 'center') {\n      return {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      };\n    } // topLeft => { top: 0, left: 0 }\n\n\n    var pos = this.pin.split(/(?=[L|R])/).map(s => s.toLowerCase());\n    return {\n      [pos[0]]: 0,\n      [pos[1]]: 0\n    };\n  }\n\n  onStartInteraction() {\n    this.isInteracting = true;\n  }\n\n  onEndInteraction() {\n    this.isInteracting = false;\n  }\n\n  render() {\n    return (0, _client.h)(_client.Host, {\n      video: !this.isAudioView\n    }, (0, _client.h)(\"div\", {\n      style: _objectSpread(_objectSpread({}, this.getPosition()), {}, {\n        flexDirection: this.direction,\n        alignItems: this.align === 'center' ? 'center' : \"flex-\".concat(this.align),\n        justifyContent: this.justify\n      }),\n      class: {\n        controls: true,\n        audio: this.isAudioView,\n        hidden: this.hidden,\n        active: this.playbackReady && this.isControlsActive,\n        fullWidth: this.isAudioView || this.fullWidth,\n        fullHeight: !this.isAudioView && this.fullHeight\n      },\n      onMouseEnter: this.onStartInteraction.bind(this),\n      onMouseLeave: this.onEndInteraction.bind(this),\n      onTouchStart: this.onStartInteraction.bind(this),\n      onTouchEnd: this.onEndInteraction.bind(this)\n    }, (0, _client.h)(\"slot\", null)));\n  }\n\n  static get watchers() {\n    return {\n      \"paused\": [\"onControlsChange\"],\n      \"hidden\": [\"onControlsChange\"],\n      \"isAudioView\": [\"onControlsChange\"],\n      \"isInteracting\": [\"onControlsChange\"],\n      \"isSettingsActive\": [\"onControlsChange\"],\n      \"hideWhenPaused\": [\"onControlsChange\"],\n      \"hideOnMouseLeave\": [\"onControlsChange\"],\n      \"playbackStarted\": [\"onControlsChange\"],\n      \"waitForPlaybackStart\": [\"onControlsChange\"],\n      \"playbackReady\": [\"onControlsChange\"]\n    };\n  }\n\n  static get style() {\n    return controlsCss;\n  }\n\n};\nvar currentTimeCss = \":host{display:flex;align-items:center;justify-content:center}\";\nvar CurrentTime = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.currentTime = 0;\n    /** @internal */\n\n    this.i18n = {};\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['currentTime', 'i18n']);\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-time\", {\n      label: this.i18n.currentTime,\n      seconds: this.currentTime,\n      alwaysShowHours: this.alwaysShowHours\n    });\n  }\n\n  static get style() {\n    return currentTimeCss;\n  }\n\n};\nvar IS_CLIENT = typeof window !== 'undefined';\nvar UA = IS_CLIENT ? window.navigator.userAgent.toLowerCase() : '';\nvar IS_IOS = /iphone|ipad|ipod|ios|CriOS|FxiOS/.test(UA);\nvar IS_ANDROID = /android/.test(UA);\nvar IS_MOBILE = IS_IOS || IS_ANDROID;\nvar IS_IPHONE = IS_CLIENT && /(iPhone|iPod)/gi.test(window.navigator.platform);\nvar IS_FIREFOX = /firefox/.test(UA);\nvar IS_SAFARI = IS_CLIENT && (window.safari || IS_IOS || /Apple/.test(UA));\n\nvar onMobileChange = callback => {\n  if (!IS_CLIENT || isUndefined(window.ResizeObserver)) {\n    callback(IS_MOBILE);\n    return () => {};\n  }\n\n  function onResize() {\n    callback(window.innerWidth <= 480 || IS_MOBILE);\n  }\n\n  callback(window.innerWidth <= 480 || IS_MOBILE);\n  return listen(window, 'resize', onResize);\n};\n\nvar onTouchInputChange = callback => {\n  if (!IS_CLIENT) return () => {};\n  var lastTouchTime = 0;\n  var offTouchListener = listen(document, 'touchstart', () => {\n    lastTouchTime = new Date().getTime();\n    callback(true);\n  }, true);\n  var offMouseListener = listen(document, 'mousemove', () => {\n    // Filter emulated events coming from touch events\n    if (new Date().getTime() - lastTouchTime < 500) return;\n    callback(false);\n  }, true);\n  return () => {\n    offTouchListener();\n    offMouseListener();\n  };\n};\n/**\n * Checks if a video player can enter fullscreen.\n *\n * @see https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1633500-webkitenterfullscreen\n */\n\n\nvar canFullscreenVideo = () => {\n  if (!IS_CLIENT) return false;\n  var video = document.createElement('video'); // @ts-ignore\n\n  return isFunction(video.webkitEnterFullscreen);\n};\n/**\n * Checks if the screen orientation can be changed.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation\n */\n\n\nvar canRotateScreen = () => IS_CLIENT && window.screen.orientation && window.screen.orientation.lock;\n/**\n * Checks if the native HTML5 video player can enter picture-in-picture (PIP) mode when using\n * the Chrome browser.\n *\n * @see  https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture\n */\n\n\nvar canUsePiPInChrome = () => {\n  if (!IS_CLIENT) return false;\n  var video = document.createElement('video'); // @ts-ignore\n\n  return !!document.pictureInPictureEnabled && !video.disablePictureInPicture;\n};\n/**\n * Checks if the native HTML5 video player can enter picture-in-picture (PIP) mode when using\n * the desktop Safari browser, iOS Safari appears to \"support\" PiP through the check, however PiP\n * does not function.\n *\n * @see https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls\n */\n\n\nvar canUsePiPInSafari = () => {\n  if (!IS_CLIENT) return false;\n  var video = document.createElement('video'); // @ts-ignore\n\n  return isFunction(video.webkitSupportsPresentationMode) && // @ts-ignore\n  isFunction(video.webkitSetPresentationMode) && !IS_IPHONE;\n}; // Checks if the native HTML5 video player can enter PIP.\n\n\nvar canUsePiP = () => canUsePiPInChrome() || canUsePiPInSafari();\n/**\n * To detect autoplay, we create a video element and call play on it, if it is `paused` after\n * a `play()` call, autoplay is supported. Although this unintuitive, it works across browsers\n * and is currently the lightest way to detect autoplay without using a data source.\n *\n * @see https://github.com/ampproject/amphtml/blob/9bc8756536956780e249d895f3e1001acdee0bc0/src/utils/video.js#L25\n */\n\n\nvar canAutoplay = function canAutoplay() {\n  var muted = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var playsinline = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (!IS_CLIENT) return Promise.resolve(false);\n  var video = document.createElement('video');\n\n  if (muted) {\n    video.setAttribute('muted', '');\n    video.muted = true;\n  }\n\n  if (playsinline) {\n    video.setAttribute('playsinline', '');\n    video.setAttribute('webkit-playsinline', '');\n  }\n\n  video.setAttribute('height', '0');\n  video.setAttribute('width', '0');\n  video.style.position = 'fixed';\n  video.style.top = '0';\n  video.style.width = '0';\n  video.style.height = '0';\n  video.style.opacity = '0'; // Promise wrapped this way to catch both sync throws and async rejections.\n  // More info: https://github.com/tc39/proposal-promise-try\n\n  new Promise(resolve => resolve(video.play())).catch(() => {});\n  return Promise.resolve(!video.paused);\n};\n/**\n * Attempt to parse json into a POJO.\n */\n\n\nfunction tryParseJSON(json) {\n  if (!isString(json)) return undefined;\n\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return undefined;\n  }\n}\n/**\n * Check if the given input is json or a plain object.\n */\n\n\nvar isObjOrJSON = input => !isNullOrUndefined(input) && (isObject(input) || isString(input) && input.startsWith('{'));\n/**\n * If an object return otherwise try to parse it as json.\n */\n\n\nvar objOrParseJSON = input => isObject(input) ? input : tryParseJSON(input);\n/**\n * Load image avoiding xhr/fetch CORS issues. Server status can't be obtained this way\n * unfortunately, so this uses \"naturalWidth\" to determine if the image has been loaded. By\n * default it checks if it is at least 1px.\n */\n\n\nvar loadImage = function loadImage(src) {\n  var minWidth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return new Promise((resolve, reject) => {\n    var image = new Image();\n\n    var handler = () => {\n      // @ts-ignore\n      delete image.onload; // @ts-ignore\n\n      delete image.onerror;\n      image.naturalWidth >= minWidth ? resolve(image) : reject(image);\n    };\n\n    Object.assign(image, {\n      onload: handler,\n      onerror: handler,\n      src\n    });\n  });\n};\n\nvar loadScript = function loadScript(src, onLoad) {\n  var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : () => {};\n  var script = document.createElement('script');\n  script.src = src;\n  script.onload = onLoad;\n  script.onerror = onError;\n  var firstScriptTag = document.getElementsByTagName('script')[0];\n  firstScriptTag.parentNode.insertBefore(script, firstScriptTag);\n};\n/**\n * Tries to parse json and return a object.\n */\n\n\nvar decodeJSON = data => {\n  if (!isObjOrJSON(data)) return undefined;\n  return objOrParseJSON(data);\n};\n/**\n * Attempts to safely decode a URI component, on failure it returns the given fallback.\n */\n\n\nvar tryDecodeURIComponent = function tryDecodeURIComponent(component) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  if (!IS_CLIENT) return fallback;\n\n  try {\n    return window.decodeURIComponent(component);\n  } catch (e) {\n    return fallback;\n  }\n};\n/**\n * Returns a simple key/value map and duplicate keys are merged into an array.\n *\n * @see https://github.com/ampproject/amphtml/blob/c7c46cec71bac92f5c5da31dcc6366c18577f566/src/url-parse-query-string.js#L31\n */\n\n\nvar QUERY_STRING_REGEX = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\n\nvar parseQueryString = qs => {\n  var params = Object.create(null);\n  if (isUndefined(qs)) return params;\n  var match; // eslint-disable-next-line no-cond-assign\n\n  while (match = QUERY_STRING_REGEX.exec(qs)) {\n    var name = tryDecodeURIComponent(match[1], match[1]).replace('[]', '');\n    var value = isString(match[2]) ? tryDecodeURIComponent(match[2].replace(/\\+/g, ' '), match[2]) : '';\n    var currValue = params[name];\n    if (currValue && !isArray(currValue)) params[name] = [currValue];\n    currValue ? params[name].push(value) : params[name] = value;\n  }\n\n  return params;\n};\n/**\n * Serializes the given params into a query string.\n */\n\n\nvar serializeQueryString = params => {\n  var qs = [];\n\n  var appendQueryParam = (param, v) => {\n    qs.push(\"\".concat(encodeURIComponent(param), \"=\").concat(encodeURIComponent(v)));\n  };\n\n  Object.keys(params).forEach(param => {\n    var value = params[param];\n    if (isNullOrUndefined(value)) return;\n\n    if (isArray(value)) {\n      value.forEach(v => appendQueryParam(param, v));\n    } else {\n      appendQueryParam(param, value);\n    }\n  });\n  return qs.join('&');\n};\n/**\n * Notifies the browser to start establishing a connection with the given URL.\n */\n\n\nvar preconnect = function preconnect(url) {\n  var rel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'preconnect';\n  var as = arguments.length > 2 ? arguments[2] : undefined;\n  if (!IS_CLIENT) return false;\n  var link = document.createElement('link');\n  link.rel = rel;\n  link.href = url;\n  if (!isUndefined(as)) link.as = as;\n  link.crossOrigin = 'true';\n  document.head.append(link);\n  return true;\n};\n/**\n * Safely appends the given query string to the given URL.\n */\n\n\nvar appendQueryStringToURL = (url, qs) => {\n  if (isUndefined(qs) || qs.length === 0) return url;\n  var mainAndQuery = url.split('?', 2);\n  return mainAndQuery[0] + (!isUndefined(mainAndQuery[1]) ? \"?\".concat(mainAndQuery[1], \"&\").concat(qs) : \"?\".concat(qs));\n};\n/**\n * Serializes the given params into a query string and appends them to the given URL.\n */\n\n\nvar appendParamsToURL = (url, params) => appendQueryStringToURL(url, isObject(params) ? serializeQueryString(params) : params);\n/**\n * Tries to convert a query string into a object.\n */\n\n\nvar decodeQueryString = qs => {\n  if (!isString(qs)) return undefined;\n  return parseQueryString(qs);\n};\n\nvar pendingSDKRequests = {};\n\nvar loadSDK = function loadSDK(url, sdkGlobalVar, sdkReadyVar) {\n  var isLoaded = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : () => true;\n  var loadScriptFn = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : loadScript;\n\n  var getGlobal = key => {\n    if (!isUndefined(window[key])) return window[key];\n    if (window.exports && window.exports[key]) return window.exports[key];\n\n    if (window.module && window.module.exports && window.module.exports[key]) {\n      return window.module.exports[key];\n    }\n\n    return undefined;\n  };\n\n  var existingGlobal = getGlobal(sdkGlobalVar);\n\n  if (existingGlobal && isLoaded(existingGlobal)) {\n    return Promise.resolve(existingGlobal);\n  }\n\n  return new Promise((resolve, reject) => {\n    if (!isUndefined(pendingSDKRequests[url])) {\n      pendingSDKRequests[url].push({\n        resolve,\n        reject\n      });\n      return;\n    }\n\n    pendingSDKRequests[url] = [{\n      resolve,\n      reject\n    }];\n\n    var onLoaded = sdk => {\n      pendingSDKRequests[url].forEach(request => request.resolve(sdk));\n    };\n\n    if (!isUndefined(sdkReadyVar)) {\n      var previousOnReady = window[sdkReadyVar]; // eslint-disable-next-line func-names\n\n      window[sdkReadyVar] = function () {\n        if (!isUndefined(previousOnReady)) previousOnReady();\n        onLoaded(getGlobal(sdkGlobalVar));\n      };\n    }\n\n    loadScriptFn(url, () => {\n      if (isUndefined(sdkReadyVar)) onLoaded(getGlobal(sdkGlobalVar));\n    }, e => {\n      pendingSDKRequests[url].forEach(request => {\n        request.reject(e);\n      });\n      delete pendingSDKRequests[url];\n    });\n  });\n};\n\nvar withProviderContext = function withProviderContext(provider) {\n  var additionalProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return withPlayerContext(provider, ['autoplay', 'controls', 'language', 'muted', 'logger', 'loop', 'aspectRatio', 'playsinline', ...additionalProps]);\n};\n\nvar dailymotionCss = \":host{z-index:var(--vm-media-z-index)}\";\nvar videoInfoCache = new Map();\nvar Dailymotion = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.defaultInternalState = {};\n    this.internalState = {\n      currentTime: 0,\n      volume: 0,\n      muted: false,\n      isAdsPlaying: false,\n      playbackReady: false\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether to automatically play the next video in the queue.\n     */\n\n    this.shouldAutoplayQueue = false;\n    /**\n     * Whether to show the 'Up Next' queue.\n     */\n\n    this.showUpNextQueue = false;\n    /**\n     * Whether to show buttons for sharing the video.\n     */\n\n    this.showShareButtons = false;\n    /**\n     * Whether to display the Dailymotion logo.\n     */\n\n    this.showDailymotionLogo = false;\n    /**\n     * Whether to show video information (title and owner) on the start screen.\n     */\n\n    this.showVideoInfo = true;\n    /** @internal */\n\n    this.language = 'en';\n    /** @internal */\n\n    this.autoplay = false;\n    /** @internal */\n\n    this.controls = false;\n    /** @internal */\n\n    this.loop = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n\n  onVideoIdChange() {\n    this.internalState = _objectSpread({}, this.defaultInternalState);\n\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n\n    this.embedSrc = \"\".concat(this.getOrigin(), \"/embed/video/\").concat(this.videoId, \"?api=1\");\n    this.fetchVideoInfo = this.getVideoInfo();\n    this.pendingMediaTitleCall = deferredPromise();\n  }\n\n  onControlsChange() {\n    if (this.internalState.playbackReady) {\n      this.remoteControl(\"controls\"\n      /* Controls */\n      , this.controls);\n    }\n  }\n\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.initialMuted = this.muted;\n    this.internalState.muted = this.muted;\n    this.defaultInternalState = _objectSpread({}, this.internalState);\n  }\n\n  getOrigin() {\n    return 'https://www.dailymotion.com';\n  }\n\n  getPreconnections() {\n    return [this.getOrigin(), 'https://static1.dmcdn.net'];\n  }\n\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      command,\n      parameters: arg ? [arg] : []\n    });\n  }\n\n  buildParams() {\n    return {\n      autoplay: this.autoplay,\n      mute: this.initialMuted,\n      'queue-autoplay-next': this.shouldAutoplayQueue,\n      'queue-enable': this.showUpNextQueue,\n      'sharing-enable': this.showShareButtons,\n      syndication: this.syndication,\n      'ui-highlight': this.color,\n      'ui-logo': this.showDailymotionLogo,\n      'ui-start-screen-info': this.showVideoInfo\n    };\n  }\n\n  getVideoInfo() {\n    var _this10 = this;\n\n    return _asyncToGenerator(function* () {\n      if (videoInfoCache.has(_this10.videoId)) return videoInfoCache.get(_this10.videoId);\n      var apiEndpoint = 'https://api.dailymotion.com';\n      return window.fetch(\"\".concat(apiEndpoint, \"/video/\").concat(_this10.videoId, \"?fields=duration,thumbnail_1080_url\")).then(response => response.json()).then(data => {\n        var poster = data.thumbnail_1080_url;\n        var duration = parseFloat(data.duration);\n        videoInfoCache.set(_this10.videoId, {\n          poster,\n          duration\n        });\n        return {\n          poster,\n          duration\n        };\n      });\n    })();\n  }\n\n  onEmbedSrcChange() {\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n\n  onEmbedMessage(event) {\n    var _this$pendingMediaTit, _this$pendingMediaTit2;\n\n    var msg = event.detail;\n\n    switch (msg.event) {\n      case \"playback_ready\"\n      /* PlaybackReady */\n      :\n        this.onControlsChange();\n        this.dispatch('currentSrc', this.embedSrc);\n        this.dispatch('mediaType', MediaType.Video);\n        Promise.all([this.fetchVideoInfo, (_this$pendingMediaTit = this.pendingMediaTitleCall) === null || _this$pendingMediaTit === void 0 ? void 0 : _this$pendingMediaTit.promise]).then(_ref5 => {\n          var _info$duration, _this$poster;\n\n          var [info, mediaTitle] = _ref5;\n          this.dispatch('duration', (_info$duration = info === null || info === void 0 ? void 0 : info.duration) !== null && _info$duration !== void 0 ? _info$duration : -1);\n          this.dispatch('currentPoster', (_this$poster = this.poster) !== null && _this$poster !== void 0 ? _this$poster : info === null || info === void 0 ? void 0 : info.poster);\n          this.dispatch('mediaTitle', mediaTitle);\n          this.dispatch('playbackReady', true);\n        });\n        break;\n\n      case \"videochange\"\n      /* VideoChange */\n      :\n        (_this$pendingMediaTit2 = this.pendingMediaTitleCall) === null || _this$pendingMediaTit2 === void 0 ? void 0 : _this$pendingMediaTit2.resolve(msg.title);\n        break;\n\n      case \"start\"\n      /* Start */\n      :\n        this.dispatch('paused', false);\n        this.dispatch('playbackStarted', true);\n        this.dispatch('buffering', true);\n        break;\n\n      case \"video_start\"\n      /* VideoStart */\n      :\n        // Commands don't go through until ads have finished, so we store them and then replay them\n        // once the video starts.\n        this.remoteControl(\"muted\"\n        /* Muted */\n        , this.internalState.muted);\n        this.remoteControl(\"volume\"\n        /* Volume */\n        , this.internalState.volume);\n\n        if (this.internalState.currentTime > 0) {\n          this.remoteControl(\"seek\"\n          /* Seek */\n          , this.internalState.currentTime);\n        }\n\n        break;\n\n      case \"play\"\n      /* Play */\n      :\n        this.dispatch('paused', false);\n        break;\n\n      case \"pause\"\n      /* Pause */\n      :\n        this.dispatch('paused', true);\n        this.dispatch('playing', false);\n        this.dispatch('buffering', false);\n        break;\n\n      case \"playing\"\n      /* Playing */\n      :\n        this.dispatch('playing', true);\n        this.dispatch('buffering', false);\n        break;\n\n      case \"video_end\"\n      /* VideoEnd */\n      :\n        if (this.loop) {\n          setTimeout(() => {\n            this.remoteControl(\"play\"\n            /* Play */\n            );\n          }, 300);\n        } else {\n          this.dispatch('playbackEnded', true);\n        }\n\n        break;\n\n      case \"timeupdate\"\n      /* TimeUpdate */\n      :\n        this.dispatch('currentTime', parseFloat(msg.time));\n        break;\n\n      case \"volumechange\"\n      /* VolumeChange */\n      :\n        this.dispatch('muted', msg.muted === 'true');\n        this.dispatch('volume', Math.floor(parseFloat(msg.volume) * 100));\n        break;\n\n      case \"seeking\"\n      /* Seeking */\n      :\n        this.dispatch('currentTime', parseFloat(msg.time));\n        this.dispatch('seeking', true);\n        break;\n\n      case \"seeked\"\n      /* Seeked */\n      :\n        this.dispatch('currentTime', parseFloat(msg.time));\n        this.dispatch('seeking', false);\n        break;\n\n      case \"waiting\"\n      /* Waiting */\n      :\n        this.dispatch('buffering', true);\n        break;\n\n      case \"progress\"\n      /* Progress */\n      :\n        this.dispatch('buffered', parseFloat(msg.time));\n        break;\n\n      case \"durationchange\"\n      /* DurationChange */\n      :\n        this.dispatch('duration', parseFloat(msg.duration));\n        break;\n\n      case \"qualitiesavailable\"\n      /* QualitiesAvailable */\n      :\n        this.dispatch('playbackQualities', msg.qualities.map(q => \"\".concat(q, \"p\")));\n        break;\n\n      case \"qualitychange\"\n      /* QualityChange */\n      :\n        this.dispatch('playbackQuality', \"\".concat(msg.quality, \"p\"));\n        break;\n\n      case \"fullscreenchange\"\n      /* FullscreenChange */\n      :\n        this.dispatch('isFullscreenActive', msg.fullscreen === 'true');\n        break;\n\n      case \"error\"\n      /* Error */\n      :\n        this.vmError.emit(msg.error);\n        break;\n    }\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this11 = this;\n\n    return _asyncToGenerator(function* () {\n      var canPlayRegex = /(?:dai\\.ly|dailymotion|dailymotion\\.com)\\/(?:video\\/|embed\\/|)(?:video\\/|)((?:\\w)+)/;\n      return {\n        getInternalPlayer: function () {\n          var _getInternalPlayer = _asyncToGenerator(function* () {\n            return _this11.embed;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        play: function () {\n          var _play = _asyncToGenerator(function* () {\n            _this11.remoteControl(\"play\"\n            /* Play */\n            );\n          });\n\n          function play() {\n            return _play.apply(this, arguments);\n          }\n\n          return play;\n        }(),\n        pause: function () {\n          var _pause = _asyncToGenerator(function* () {\n            _this11.remoteControl(\"pause\"\n            /* Pause */\n            );\n          });\n\n          function pause() {\n            return _pause.apply(this, arguments);\n          }\n\n          return pause;\n        }(),\n        canPlay: function () {\n          var _canPlay = _asyncToGenerator(function* (type) {\n            return isString(type) && canPlayRegex.test(type);\n          });\n\n          function canPlay(_x9) {\n            return _canPlay.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        setCurrentTime: function () {\n          var _setCurrentTime = _asyncToGenerator(function* (time) {\n            _this11.internalState.currentTime = time;\n\n            _this11.remoteControl(\"seek\"\n            /* Seek */\n            , time);\n          });\n\n          function setCurrentTime(_x10) {\n            return _setCurrentTime.apply(this, arguments);\n          }\n\n          return setCurrentTime;\n        }(),\n        setMuted: function () {\n          var _setMuted = _asyncToGenerator(function* (muted) {\n            _this11.internalState.muted = muted;\n\n            _this11.remoteControl(\"muted\"\n            /* Muted */\n            , muted);\n          });\n\n          function setMuted(_x11) {\n            return _setMuted.apply(this, arguments);\n          }\n\n          return setMuted;\n        }(),\n        setVolume: function () {\n          var _setVolume = _asyncToGenerator(function* (volume) {\n            _this11.internalState.volume = volume / 100;\n\n            _this11.dispatch('volume', volume);\n\n            _this11.remoteControl(\"volume\"\n            /* Volume */\n            , volume / 100);\n          });\n\n          function setVolume(_x12) {\n            return _setVolume.apply(this, arguments);\n          }\n\n          return setVolume;\n        }(),\n        canSetPlaybackQuality: function () {\n          var _canSetPlaybackQuality = _asyncToGenerator(function* () {\n            return true;\n          });\n\n          function canSetPlaybackQuality() {\n            return _canSetPlaybackQuality.apply(this, arguments);\n          }\n\n          return canSetPlaybackQuality;\n        }(),\n        setPlaybackQuality: function () {\n          var _setPlaybackQuality = _asyncToGenerator(function* (quality) {\n            _this11.remoteControl(\"quality\"\n            /* Quality */\n            , quality.slice(0, -1));\n          });\n\n          function setPlaybackQuality(_x13) {\n            return _setPlaybackQuality.apply(this, arguments);\n          }\n\n          return setPlaybackQuality;\n        }(),\n        canSetFullscreen: function () {\n          var _canSetFullscreen = _asyncToGenerator(function* () {\n            return true;\n          });\n\n          function canSetFullscreen() {\n            return _canSetFullscreen.apply(this, arguments);\n          }\n\n          return canSetFullscreen;\n        }(),\n        enterFullscreen: function () {\n          var _enterFullscreen = _asyncToGenerator(function* () {\n            _this11.remoteControl(\"fullscreen\"\n            /* Fullscreen */\n            , true);\n          });\n\n          function enterFullscreen() {\n            return _enterFullscreen.apply(this, arguments);\n          }\n\n          return enterFullscreen;\n        }(),\n        exitFullscreen: function () {\n          var _exitFullscreen = _asyncToGenerator(function* () {\n            _this11.remoteControl(\"fullscreen\"\n            /* Fullscreen */\n            , false);\n          });\n\n          function exitFullscreen() {\n            return _exitFullscreen.apply(this, arguments);\n          }\n\n          return exitFullscreen;\n        }()\n      };\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-embed\", {\n      embedSrc: this.embedSrc,\n      mediaTitle: this.mediaTitle,\n      origin: this.getOrigin(),\n      params: this.buildParams(),\n      decoder: decodeQueryString,\n      preconnections: this.getPreconnections(),\n      onVmEmbedMessage: this.onEmbedMessage.bind(this),\n      onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this),\n      ref: el => {\n        this.embed = el;\n      }\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"videoId\": [\"onVideoIdChange\"],\n      \"controls\": [\"onControlsChange\"],\n      \"poster\": [\"onCustomPosterChange\"]\n    };\n  }\n\n  static get style() {\n    return dailymotionCss;\n  }\n\n};\nvar dashCss = \":host{z-index:var(--vm-media-z-index)}\";\nvar Dash = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.textTracksDisposal = new Disposal();\n    this.hasAttached = false;\n    /**\n     * The NPM package version of the `dashjs` library to download and use.\n     */\n\n    this.version = 'latest';\n    /**\n     * The `dashjs` configuration.\n     */\n\n    this.config = {};\n    /** @internal */\n\n    this.autoplay = false;\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    /**\n     * Are text tracks enabled by default.\n     */\n\n    this.enableTextTracksByDefault = true;\n    /** @internal */\n\n    this.shouldRenderNativeTextTracks = true;\n    /** @internal */\n\n    this.isTextTrackVisible = true;\n    /** @internal */\n\n    this.currentTextTrack = -1;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withPlayerContext(this, ['autoplay', 'shouldRenderNativeTextTracks', 'isTextTrackVisible', 'currentTextTrack']);\n  }\n\n  onSrcChange() {\n    if (!this.hasAttached) return;\n    this.vmLoadStart.emit();\n    this.dash.attachSource(this.src);\n  }\n\n  onShouldRenderNativeTextTracks() {\n    var _this$dash;\n\n    if (this.shouldRenderNativeTextTracks) {\n      this.textTracksDisposal.empty();\n    } else {\n      this.hideCurrentTextTrack();\n    }\n\n    (_this$dash = this.dash) === null || _this$dash === void 0 ? void 0 : _this$dash.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks);\n  }\n\n  onTextTrackChange() {\n    if (!this.shouldRenderNativeTextTracks || isUndefined(this.dash)) return;\n    this.dash.setTextTrack(!this.isTextTrackVisible ? -1 : this.currentTextTrack);\n\n    if (!this.isTextTrackVisible) {\n      var _this$mediaEl$textTra, _this$mediaEl;\n\n      var track = Array.from((_this$mediaEl$textTra = (_this$mediaEl = this.mediaEl) === null || _this$mediaEl === void 0 ? void 0 : _this$mediaEl.textTracks) !== null && _this$mediaEl$textTra !== void 0 ? _this$mediaEl$textTra : [])[this.currentTextTrack];\n      if ((track === null || track === void 0 ? void 0 : track.mode) === 'hidden') this.dispatch('currentTextTrack', -1);\n    }\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    if (this.mediaEl) this.setupDash();\n  }\n\n  disconnectedCallback() {\n    this.textTracksDisposal.empty();\n    this.destroyDash();\n  }\n\n  setupDash() {\n    var _this12 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        var url = _this12.libSrc || \"https://cdn.jsdelivr.net/npm/dashjs@\".concat(_this12.version, \"/dist/dash.all.min.js\"); // eslint-disable-next-line no-shadow\n\n        var DashSDK = yield loadSDK(url, 'dashjs');\n        _this12.dash = DashSDK.MediaPlayer(_this12.config).create();\n\n        _this12.dash.initialize(_this12.mediaEl, null, _this12.autoplay);\n\n        _this12.dash.setTextDefaultEnabled(_this12.enableTextTracksByDefault);\n\n        _this12.dash.enableForcedTextStreaming(!_this12.shouldRenderNativeTextTracks);\n\n        _this12.dash.on(DashSDK.MediaPlayer.events.PLAYBACK_METADATA_LOADED, () => {\n          _this12.dispatch('mediaType', MediaType.Video);\n\n          _this12.dispatch('currentSrc', _this12.src);\n\n          _this12.dispatchLevels();\n\n          _this12.listenToTextTracksForChanges();\n\n          _this12.dispatch('playbackReady', true);\n        });\n\n        _this12.dash.on(DashSDK.MediaPlayer.events.TRACK_CHANGE_RENDERED, () => {\n          if (!_this12.shouldRenderNativeTextTracks) _this12.hideCurrentTextTrack();\n        });\n\n        _this12.dash.on(DashSDK.MediaPlayer.events.ERROR, e => {\n          _this12.vmError.emit(e);\n        });\n\n        _this12.hasAttached = true;\n      } catch (e) {\n        _this12.vmError.emit(e);\n      }\n    })();\n  }\n\n  destroyDash() {\n    var _this13 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this13$dash;\n\n      (_this13$dash = _this13.dash) === null || _this13$dash === void 0 ? void 0 : _this13$dash.reset();\n      _this13.hasAttached = false;\n    })();\n  }\n\n  onMediaElChange(event) {\n    var _this14 = this;\n\n    return _asyncToGenerator(function* () {\n      _this14.destroyDash();\n\n      if (isUndefined(event.detail)) return;\n      _this14.mediaEl = event.detail;\n      yield _this14.setupDash();\n    })();\n  }\n\n  levelToPlaybackQuality(level) {\n    return level === -1 ? 'Auto' : \"\".concat(level.height, \"p\");\n  }\n\n  findLevelIndexFromQuality(quality) {\n    return this.dash.getBitrateInfoListFor('video').findIndex(level => this.levelToPlaybackQuality(level) === quality);\n  }\n\n  dispatchLevels() {\n    try {\n      var levels = this.dash.getBitrateInfoListFor('video');\n\n      if ((levels === null || levels === void 0 ? void 0 : levels.length) > 0) {\n        this.dispatch('playbackQualities', ['Auto', ...levels.map(this.levelToPlaybackQuality)]);\n        this.dispatch('playbackQuality', 'Auto');\n      }\n    } catch (e) {\n      this.vmError.emit(e);\n    }\n  }\n\n  listenToTextTracksForChanges() {\n    var _ref6, _this$dash2, _this$dash2$getCurren;\n\n    this.textTracksDisposal.empty();\n    if (isUndefined(this.mediaEl) || this.shouldRenderNativeTextTracks) return; // Init current track.\n\n    var currentTrack = (_ref6 = ((_this$dash2 = this.dash) === null || _this$dash2 === void 0 ? void 0 : (_this$dash2$getCurren = _this$dash2.getCurrentTrackFor('text')) === null || _this$dash2$getCurren === void 0 ? void 0 : _this$dash2$getCurren.index) - 1) !== null && _ref6 !== void 0 ? _ref6 : -1;\n    this.currentTextTrack = currentTrack;\n    this.dispatch('currentTextTrack', currentTrack);\n    this.textTracksDisposal.add(listen(this.mediaEl.textTracks, 'change', this.onTextTracksChange.bind(this)));\n  }\n\n  getTextTracks() {\n    var _this$mediaEl$textTra2, _this$mediaEl2;\n\n    return Array.from((_this$mediaEl$textTra2 = (_this$mediaEl2 = this.mediaEl) === null || _this$mediaEl2 === void 0 ? void 0 : _this$mediaEl2.textTracks) !== null && _this$mediaEl$textTra2 !== void 0 ? _this$mediaEl$textTra2 : []);\n  }\n\n  hideCurrentTextTrack() {\n    var textTracks = this.getTextTracks();\n\n    if (textTracks[this.currentTextTrack] && this.isTextTrackVisible) {\n      textTracks[this.currentTextTrack].mode = 'hidden';\n    }\n  }\n\n  onTextTracksChange() {\n    this.hideCurrentTextTrack();\n    this.dispatch('textTracks', this.getTextTracks());\n    this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n    this.dispatch('currentTextTrack', this.currentTextTrack);\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this15 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this15$videoP, _this15$videoProvider;\n\n      var adapter = (_yield$_this15$videoP = yield (_this15$videoProvider = _this15.videoProvider) === null || _this15$videoProvider === void 0 ? void 0 : _this15$videoProvider.getAdapter()) !== null && _yield$_this15$videoP !== void 0 ? _yield$_this15$videoP : {};\n      var canVideoProviderPlay = adapter.canPlay;\n      return _objectSpread(_objectSpread({}, adapter), {}, {\n        getInternalPlayer: function () {\n          var _getInternalPlayer2 = _asyncToGenerator(function* () {\n            return _this15.dash;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer2.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        canPlay: function () {\n          var _canPlay2 = _asyncToGenerator(function* (type) {\n            var _canVideoProviderPlay;\n\n            return isString(type) && dashRegex.test(type) || ((_canVideoProviderPlay = canVideoProviderPlay === null || canVideoProviderPlay === void 0 ? void 0 : canVideoProviderPlay(type)) !== null && _canVideoProviderPlay !== void 0 ? _canVideoProviderPlay : false);\n          });\n\n          function canPlay(_x14) {\n            return _canPlay2.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        canSetPlaybackQuality: function () {\n          var _canSetPlaybackQuality2 = _asyncToGenerator(function* () {\n            try {\n              var _this15$dash, _this15$dash$getBitra;\n\n              return ((_this15$dash = _this15.dash) === null || _this15$dash === void 0 ? void 0 : (_this15$dash$getBitra = _this15$dash.getBitrateInfoListFor('video')) === null || _this15$dash$getBitra === void 0 ? void 0 : _this15$dash$getBitra.length) > 0;\n            } catch (e) {\n              _this15.vmError.emit(e);\n\n              return false;\n            }\n          });\n\n          function canSetPlaybackQuality() {\n            return _canSetPlaybackQuality2.apply(this, arguments);\n          }\n\n          return canSetPlaybackQuality;\n        }(),\n        setPlaybackQuality: function () {\n          var _setPlaybackQuality2 = _asyncToGenerator(function* (quality) {\n            if (!isUndefined(_this15.dash)) {\n              var index = _this15.findLevelIndexFromQuality(quality);\n\n              _this15.dash.updateSettings({\n                streaming: {\n                  abr: {\n                    autoSwitchBitrate: {\n                      video: index === -1\n                    }\n                  }\n                }\n              });\n\n              if (index >= 0) _this15.dash.setQualityFor('video', index); // Update the provider cache.\n\n              _this15.dispatch('playbackQuality', quality);\n            }\n          });\n\n          function setPlaybackQuality(_x15) {\n            return _setPlaybackQuality2.apply(this, arguments);\n          }\n\n          return setPlaybackQuality;\n        }(),\n        setCurrentTextTrack: function () {\n          var _setCurrentTextTrack = _asyncToGenerator(function* (trackId) {\n            if (_this15.shouldRenderNativeTextTracks) {\n              adapter.setCurrentTextTrack(trackId);\n            } else {\n              var _this15$dash2;\n\n              _this15.currentTextTrack = trackId;\n              (_this15$dash2 = _this15.dash) === null || _this15$dash2 === void 0 ? void 0 : _this15$dash2.setTextTrack(trackId);\n\n              _this15.onTextTracksChange();\n            }\n          });\n\n          function setCurrentTextTrack(_x16) {\n            return _setCurrentTextTrack.apply(this, arguments);\n          }\n\n          return setCurrentTextTrack;\n        }(),\n        setTextTrackVisibility: function () {\n          var _setTextTrackVisibility = _asyncToGenerator(function* (isVisible) {\n            if (_this15.shouldRenderNativeTextTracks) {\n              adapter.setTextTrackVisibility(isVisible);\n            } else {\n              var _this15$dash3;\n\n              _this15.isTextTrackVisible = isVisible;\n              (_this15$dash3 = _this15.dash) === null || _this15$dash3 === void 0 ? void 0 : _this15$dash3.enableText(isVisible);\n\n              _this15.onTextTracksChange();\n            }\n          });\n\n          function setTextTrackVisibility(_x17) {\n            return _setTextTrackVisibility.apply(this, arguments);\n          }\n\n          return setTextTrackVisibility;\n        }()\n      });\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-video\", {\n      willAttach: true,\n      crossOrigin: this.crossOrigin,\n      preload: this.preload,\n      poster: this.poster,\n      controlsList: this.controlsList,\n      autoPiP: this.autoPiP,\n      disablePiP: this.disablePiP,\n      hasCustomTextManager: !this.shouldRenderNativeTextTracks,\n      disableRemotePlayback: this.disableRemotePlayback,\n      mediaTitle: this.mediaTitle,\n      ref: el => {\n        this.videoProvider = el;\n      }\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"src\": [\"onSrcChange\"],\n      \"hasAttached\": [\"onSrcChange\"],\n      \"shouldRenderNativeTextTracks\": [\"onShouldRenderNativeTextTracks\"],\n      \"isTextTrackVisible\": [\"onTextTrackChange\"],\n      \"currentTextTrack\": [\"onTextTrackChange\"]\n    };\n  }\n\n  static get style() {\n    return dashCss;\n  }\n\n};\nvar dblClickFullscreenCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-dbl-click-fullscreen-z-index)}.dblClickFullscreen{display:none;width:100%;height:100%;pointer-events:none}.dblClickFullscreen.enabled{display:inline-block;pointer-events:auto}\";\nvar DblClickFullscreen = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.canSetFullscreen = false;\n    /**\n     * By default this is disabled on mobile to not interfere with playback, set this to `true` to\n     * enable it.\n     */\n\n    this.useOnMobile = false;\n    /** @internal */\n\n    this.isFullscreenActive = true;\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.isMobile = false;\n    this.clicks = 0;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['playbackReady', 'isFullscreenActive', 'isVideoView', 'isMobile']);\n  }\n\n  onPlaybackReadyChange() {\n    var _this16 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this16);\n      _this16.canSetFullscreen = yield player.canSetFullscreen();\n    })();\n  }\n\n  onTriggerClickToPlay() {\n    var _this17 = this;\n\n    return _asyncToGenerator(function* () {\n      var [clickToPlay] = getComponentFromRegistry(_this17, 'vm-click-to-play');\n      yield clickToPlay === null || clickToPlay === void 0 ? void 0 : clickToPlay.forceClick();\n    })();\n  }\n\n  onToggleFullscreen() {\n    var _this18 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this18);\n      _this18.isFullscreenActive ? player.exitFullscreen() : player.enterFullscreen();\n    })();\n  }\n\n  onClick() {\n    this.clicks += 1;\n\n    if (this.clicks === 1) {\n      setTimeout(() => {\n        if (this.clicks === 1) {\n          this.onTriggerClickToPlay();\n        } else {\n          this.onToggleFullscreen();\n        }\n\n        this.clicks = 0;\n      }, 300);\n    }\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        dblClickFullscreen: true,\n        enabled: this.playbackReady && this.canSetFullscreen && this.isVideoView && (!this.isMobile || this.useOnMobile)\n      },\n      onClick: this.onClick.bind(this)\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"playbackReady\": [\"onPlaybackReadyChange\"]\n    };\n  }\n\n  static get style() {\n    return dblClickFullscreenCss;\n  }\n\n};\nvar defaultControlsCss = \":host{display:contents;pointer-events:none;z-index:var(--vm-controls-z-index)}\";\nvar DefaultControls = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The length in milliseconds that the controls are active for before fading out. Audio players\n     * are not effected by this prop.\n     */\n\n    this.activeDuration = 2750;\n    /**\n     * Whether the controls should wait for playback to start before being shown. Audio players\n     * are not effected by this prop.\n     */\n\n    this.waitForPlaybackStart = false;\n    /**\n     * Whether the controls should show/hide when paused. Audio players are not effected by this prop.\n     */\n\n    this.hideWhenPaused = false;\n    /**\n     * Whether the controls should hide when the mouse leaves the player. Audio players are not\n     * effected by this prop.\n     */\n\n    this.hideOnMouseLeave = false;\n    /** @internal */\n\n    this.isMobile = false;\n    /** @internal */\n\n    this.isLive = false;\n    /** @internal */\n\n    this.isAudioView = false;\n    /** @internal */\n\n    this.isVideoView = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['theme', 'isMobile', 'isAudioView', 'isVideoView', 'isLive']);\n  }\n\n  buildAudioControls() {\n    return (0, _client.h)(\"vm-controls\", {\n      fullWidth: true\n    }, (0, _client.h)(\"vm-playback-control\", {\n      tooltipDirection: \"right\"\n    }), (0, _client.h)(\"vm-volume-control\", null), !this.isLive && (0, _client.h)(\"vm-current-time\", null), this.isLive && (0, _client.h)(\"vm-control-spacer\", null), !this.isLive && (0, _client.h)(\"vm-scrubber-control\", null), this.isLive && (0, _client.h)(\"vm-live-indicator\", null), !this.isLive && (0, _client.h)(\"vm-end-time\", null), !this.isLive && (0, _client.h)(\"vm-settings-control\", {\n      tooltipDirection: \"left\"\n    }), (0, _client.h)(\"div\", {\n      style: {\n        marginLeft: '0',\n        paddingRight: '2px'\n      }\n    }));\n  }\n\n  buildMobileVideoControls() {\n    return (0, _client.h)(_client.Fragment, null, (0, _client.h)(\"vm-scrim\", {\n      gradient: \"up\"\n    }), (0, _client.h)(\"vm-controls\", {\n      pin: \"topLeft\",\n      fullWidth: true,\n      activeDuration: this.activeDuration,\n      waitForPlaybackStart: this.waitForPlaybackStart,\n      hideWhenPaused: this.hideWhenPaused\n    }, (0, _client.h)(\"vm-control-spacer\", null), (0, _client.h)(\"vm-volume-control\", null), !this.isLive && (0, _client.h)(\"vm-caption-control\", null), !this.isLive && (0, _client.h)(\"vm-settings-control\", null), this.isLive && (0, _client.h)(\"vm-fullscreen-control\", null)), (0, _client.h)(\"vm-controls\", {\n      pin: \"center\",\n      justify: \"center\",\n      activeDuration: this.activeDuration,\n      waitForPlaybackStart: this.waitForPlaybackStart,\n      hideWhenPaused: this.hideWhenPaused\n    }, (0, _client.h)(\"vm-playback-control\", {\n      style: {\n        '--vm-control-scale': '1.3'\n      }\n    })), !this.isLive && (0, _client.h)(\"vm-controls\", {\n      pin: \"bottomLeft\",\n      fullWidth: true,\n      activeDuration: this.activeDuration,\n      waitForPlaybackStart: this.waitForPlaybackStart,\n      hideWhenPaused: this.hideWhenPaused\n    }, (0, _client.h)(\"vm-control-group\", null, (0, _client.h)(\"vm-current-time\", null), (0, _client.h)(\"vm-control-spacer\", null), (0, _client.h)(\"vm-end-time\", null), (0, _client.h)(\"vm-fullscreen-control\", null)), (0, _client.h)(\"vm-control-group\", {\n      space: \"top\"\n    }, (0, _client.h)(\"vm-scrubber-control\", null))));\n  }\n\n  buildDesktopVideoControls() {\n    return (0, _client.h)(_client.Fragment, null, this.theme !== 'light' && (0, _client.h)(\"vm-scrim\", {\n      gradient: \"up\"\n    }), (0, _client.h)(\"vm-controls\", {\n      fullWidth: true,\n      pin: \"bottomRight\",\n      activeDuration: this.activeDuration,\n      waitForPlaybackStart: this.waitForPlaybackStart,\n      hideWhenPaused: this.hideWhenPaused,\n      hideOnMouseLeave: this.hideOnMouseLeave\n    }, !this.isLive && (0, _client.h)(\"vm-control-group\", null, (0, _client.h)(\"vm-scrubber-control\", null)), (0, _client.h)(\"vm-control-group\", {\n      space: this.isLive ? 'none' : 'top'\n    }, (0, _client.h)(\"vm-playback-control\", {\n      tooltipDirection: \"right\"\n    }), (0, _client.h)(\"vm-volume-control\", null), !this.isLive && (0, _client.h)(\"vm-time-progress\", null), (0, _client.h)(\"vm-control-spacer\", null), !this.isLive && (0, _client.h)(\"vm-caption-control\", null), this.isLive && (0, _client.h)(\"vm-live-indicator\", null), (0, _client.h)(\"vm-pip-control\", null), !this.isLive && (0, _client.h)(\"vm-settings-control\", null), (0, _client.h)(\"vm-fullscreen-control\", {\n      tooltipDirection: \"left\"\n    }))));\n  }\n\n  render() {\n    if (this.isAudioView) return this.buildAudioControls();\n    if (this.isVideoView && this.isMobile) return this.buildMobileVideoControls();\n    if (this.isVideoView) return this.buildDesktopVideoControls();\n    return null;\n  }\n\n  static get style() {\n    return defaultControlsCss;\n  }\n\n};\nvar defaultSettingsCss = \":host{z-index:var(--vm-menu-z-index)}\";\nvar DefaultSettings = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.textTracksDisposal = new Disposal();\n    this.canSetPlaybackRate = false;\n    this.canSetPlaybackQuality = false;\n    this.canSetTextTrack = false;\n    this.canSetAudioTrack = false;\n    /**\n     * Pins the settings to the defined position inside the video player. This has no effect when\n     * the view is of type `audio`, it will always be `bottomRight`.\n     */\n\n    this.pin = 'bottomRight';\n    /** @internal */\n\n    this.i18n = {};\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.playbackRate = 1;\n    /** @internal */\n\n    this.playbackRates = [1];\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playbackQualities = [];\n    /** @internal */\n\n    this.textTracks = [];\n    /** @internal */\n\n    this.currentTextTrack = -1;\n    /** @internal */\n\n    this.audioTracks = [];\n    /** @internal */\n\n    this.currentAudioTrack = -1;\n    /** @internal */\n\n    this.isTextTrackVisible = true;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n', 'playbackReady', 'playbackRate', 'playbackRates', 'playbackQuality', 'playbackQualities', 'isVideoView', 'textTracks', 'currentTextTrack', 'isTextTrackVisible', 'audioTracks', 'currentAudioTrack']);\n  }\n\n  onPlaybackReady() {\n    var _this19 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this19);\n      _this19.canSetPlaybackQuality = yield player.canSetPlaybackQuality();\n      _this19.canSetPlaybackRate = yield player.canSetPlaybackRate();\n    })();\n  }\n\n  onAudioTracksChange() {\n    var _this20 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetA;\n\n      var player = getPlayerFromRegistry(_this20);\n      _this20.canSetAudioTrack = (_yield$player$canSetA = yield player === null || player === void 0 ? void 0 : player.canSetAudioTrack()) !== null && _yield$player$canSetA !== void 0 ? _yield$player$canSetA : false;\n    })();\n  }\n\n  onTextTracksChange() {\n    var _this21 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetT2;\n\n      var player = getPlayerFromRegistry(_this21);\n      _this21.canSetTextTrack = (_yield$player$canSetT2 = yield player === null || player === void 0 ? void 0 : player.canSetTextTrack()) !== null && _yield$player$canSetT2 !== void 0 ? _yield$player$canSetT2 : false;\n    })();\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n\n  componentDidLoad() {\n    this.onTextTracksChange();\n  }\n\n  disconnectedCallback() {\n    this.textTracksDisposal.empty();\n  }\n\n  onPlaybackRateSelect(event) {\n    var radio = event.target;\n    this.dispatch('playbackRate', parseFloat(radio.value));\n  }\n\n  buildPlaybackRateSubmenu() {\n    if (this.playbackRates.length <= 1 || !this.canSetPlaybackRate) {\n      return (0, _client.h)(\"vm-menu-item\", {\n        label: this.i18n.playbackRate,\n        hint: this.i18n.normal\n      });\n    }\n\n    var formatRate = rate => rate === 1 ? this.i18n.normal : \"\".concat(rate);\n\n    return (0, _client.h)(\"vm-submenu\", {\n      label: this.i18n.playbackRate,\n      hint: formatRate(this.playbackRate)\n    }, (0, _client.h)(\"vm-menu-radio-group\", {\n      value: \"\".concat(this.playbackRate),\n      onVmCheck: this.onPlaybackRateSelect.bind(this)\n    }, this.playbackRates.map(rate => (0, _client.h)(\"vm-menu-radio\", {\n      label: formatRate(rate),\n      value: \"\".concat(rate)\n    }))));\n  }\n\n  onPlaybackQualitySelect(event) {\n    var radio = event.target;\n    this.dispatch('playbackQuality', radio.value);\n  }\n\n  buildPlaybackQualitySubmenu() {\n    if (this.playbackQualities.length <= 1 || !this.canSetPlaybackQuality) {\n      var _this$playbackQuality;\n\n      return (0, _client.h)(\"vm-menu-item\", {\n        label: this.i18n.playbackQuality,\n        hint: (_this$playbackQuality = this.playbackQuality) !== null && _this$playbackQuality !== void 0 ? _this$playbackQuality : this.i18n.auto\n      });\n    } // @TODO this doesn't account for audio qualities yet.\n\n\n    var getBadge = quality => {\n      var verticalPixels = parseInt(quality.slice(0, -1), 10);\n      if (verticalPixels >= 2160) return 'UHD';\n      if (verticalPixels >= 1080) return 'HD';\n      return undefined;\n    };\n\n    return (0, _client.h)(\"vm-submenu\", {\n      label: this.i18n.playbackQuality,\n      hint: this.playbackQuality\n    }, (0, _client.h)(\"vm-menu-radio-group\", {\n      value: this.playbackQuality,\n      onVmCheck: this.onPlaybackQualitySelect.bind(this)\n    }, this.playbackQualities.map(quality => (0, _client.h)(\"vm-menu-radio\", {\n      label: quality,\n      value: quality,\n      badge: getBadge(quality)\n    }))));\n  }\n\n  onTextTrackSelect(event) {\n    var radio = event.target;\n    var trackId = parseInt(radio.value, 10);\n    var player = getPlayerFromRegistry(this);\n\n    if (trackId === -1) {\n      player === null || player === void 0 ? void 0 : player.setTextTrackVisibility(false);\n      return;\n    }\n\n    player === null || player === void 0 ? void 0 : player.setTextTrackVisibility(true);\n    player === null || player === void 0 ? void 0 : player.setCurrentTextTrack(trackId);\n  }\n\n  buildTextTracksSubmenu() {\n    var _this$textTracks$this3;\n\n    if (this.textTracks.length <= 1 || !this.canSetTextTrack) {\n      var _this$textTracks$this, _this$textTracks$this2;\n\n      return (0, _client.h)(\"vm-menu-item\", {\n        label: this.i18n.subtitlesOrCc,\n        hint: (_this$textTracks$this = (_this$textTracks$this2 = this.textTracks[this.currentTextTrack]) === null || _this$textTracks$this2 === void 0 ? void 0 : _this$textTracks$this2.label) !== null && _this$textTracks$this !== void 0 ? _this$textTracks$this : this.i18n.none\n      });\n    }\n\n    return (0, _client.h)(\"vm-submenu\", {\n      label: this.i18n.subtitlesOrCc,\n      hint: this.isTextTrackVisible ? (_this$textTracks$this3 = this.textTracks[this.currentTextTrack]) === null || _this$textTracks$this3 === void 0 ? void 0 : _this$textTracks$this3.label : this.i18n.off\n    }, (0, _client.h)(\"vm-menu-radio-group\", {\n      value: \"\".concat(!this.isTextTrackVisible ? -1 : this.currentTextTrack),\n      onVmCheck: this.onTextTrackSelect.bind(this)\n    }, [(0, _client.h)(\"vm-menu-radio\", {\n      label: this.i18n.off,\n      value: \"-1\"\n    })].concat(this.textTracks.map((track, i) => (0, _client.h)(\"vm-menu-radio\", {\n      label: track.label,\n      value: \"\".concat(i)\n    })))));\n  }\n\n  onAudioTrackSelect(event) {\n    var radio = event.target;\n    var trackId = parseInt(radio.value, 10);\n    var player = getPlayerFromRegistry(this);\n    player === null || player === void 0 ? void 0 : player.setCurrentAudioTrack(trackId);\n  }\n\n  buildAudioTracksMenu() {\n    var _this$audioTracks$thi3;\n\n    if (this.audioTracks.length <= 1 || !this.canSetAudioTrack) {\n      var _this$audioTracks$thi, _this$audioTracks$thi2;\n\n      return (0, _client.h)(\"vm-menu-item\", {\n        label: this.i18n.audio,\n        hint: (_this$audioTracks$thi = (_this$audioTracks$thi2 = this.audioTracks[this.currentAudioTrack]) === null || _this$audioTracks$thi2 === void 0 ? void 0 : _this$audioTracks$thi2.label) !== null && _this$audioTracks$thi !== void 0 ? _this$audioTracks$thi : this.i18n.default\n      });\n    }\n\n    return (0, _client.h)(\"vm-submenu\", {\n      label: this.i18n.audio,\n      hint: (_this$audioTracks$thi3 = this.audioTracks[this.currentAudioTrack]) === null || _this$audioTracks$thi3 === void 0 ? void 0 : _this$audioTracks$thi3.label\n    }, (0, _client.h)(\"vm-menu-radio-group\", {\n      value: \"\".concat(this.currentAudioTrack),\n      onVmCheck: this.onAudioTrackSelect.bind(this)\n    }, this.audioTracks.map((track, i) => (0, _client.h)(\"vm-menu-radio\", {\n      label: track.label,\n      value: \"\".concat(i)\n    }))));\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-settings\", {\n      pin: this.pin\n    }, this.buildAudioTracksMenu(), this.buildPlaybackRateSubmenu(), this.buildPlaybackQualitySubmenu(), this.isVideoView && this.buildTextTracksSubmenu(), (0, _client.h)(\"slot\", null));\n  }\n\n  static get watchers() {\n    return {\n      \"playbackReady\": [\"onPlaybackReady\", \"onAudioTracksChange\", \"onTextTracksChange\"],\n      \"audioTracks\": [\"onAudioTracksChange\"],\n      \"textTracks\": [\"onTextTracksChange\"]\n    };\n  }\n\n  static get style() {\n    return defaultSettingsCss;\n  }\n\n};\nvar defaultUiCss = \":host{display:contents;pointer-events:none}\";\nvar DefaultUI = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * Whether clicking the player should not toggle playback.\n     */\n\n    this.noClickToPlay = false;\n    /**\n     * Whether double clicking the player should not toggle fullscreen mode.\n     */\n\n    this.noDblClickFullscreen = false;\n    /**\n     * Whether the custom captions UI should not be loaded.\n     */\n\n    this.noCaptions = false;\n    /**\n     * Whether the custom poster UI should not be loaded.\n     */\n\n    this.noPoster = false;\n    /**\n     * Whether the custom spinner UI should not be loaded.\n     */\n\n    this.noSpinner = false;\n    /**\n     * Whether the custom default controls should not be loaded.\n     */\n\n    this.noControls = false;\n    /**\n     * Whether the custom default settings menu should not be loaded.\n     */\n\n    this.noSettings = false;\n    /**\n     * Whether the default loading screen should not be loaded.\n     */\n\n    this.noLoadingScreen = false;\n    withComponentRegistry(this);\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-ui\", null, !this.noClickToPlay && (0, _client.h)(\"vm-click-to-play\", null), !this.noDblClickFullscreen && (0, _client.h)(\"vm-dbl-click-fullscreen\", null), !this.noCaptions && (0, _client.h)(\"vm-captions\", null), !this.noPoster && (0, _client.h)(\"vm-poster\", null), !this.noSpinner && (0, _client.h)(\"vm-spinner\", null), !this.noLoadingScreen && (0, _client.h)(\"vm-loading-screen\", null), !this.noControls && (0, _client.h)(\"vm-default-controls\", null), !this.noSettings && (0, _client.h)(\"vm-default-settings\", null), (0, _client.h)(\"slot\", null));\n  }\n\n  static get style() {\n    return defaultUiCss;\n  }\n\n};\n\nclass LazyLoader {\n  constructor(el, attributes, onLoad) {\n    var _this$mutationObs;\n\n    this.el = el;\n    this.attributes = attributes;\n    this.onLoad = onLoad;\n    this.hasLoaded = false;\n    if (isNullOrUndefined(this.el)) return;\n    this.intersectionObs = this.canObserveIntersection() ? new IntersectionObserver(this.onIntersection.bind(this)) : undefined;\n    this.mutationObs = this.canObserveMutations() ? new MutationObserver(this.onMutation.bind(this)) : undefined;\n    (_this$mutationObs = this.mutationObs) === null || _this$mutationObs === void 0 ? void 0 : _this$mutationObs.observe(this.el, {\n      childList: true,\n      subtree: true,\n      attributeFilter: this.attributes\n    });\n    this.lazyLoad();\n  }\n\n  didLoad() {\n    return this.hasLoaded;\n  }\n\n  destroy() {\n    var _this$intersectionObs, _this$mutationObs2;\n\n    (_this$intersectionObs = this.intersectionObs) === null || _this$intersectionObs === void 0 ? void 0 : _this$intersectionObs.disconnect();\n    (_this$mutationObs2 = this.mutationObs) === null || _this$mutationObs2 === void 0 ? void 0 : _this$mutationObs2.disconnect();\n  }\n\n  canObserveIntersection() {\n    return IS_CLIENT && window.IntersectionObserver;\n  }\n\n  canObserveMutations() {\n    return IS_CLIENT && window.MutationObserver;\n  }\n\n  lazyLoad() {\n    if (this.canObserveIntersection()) {\n      var _this$intersectionObs2;\n\n      (_this$intersectionObs2 = this.intersectionObs) === null || _this$intersectionObs2 === void 0 ? void 0 : _this$intersectionObs2.observe(this.el);\n    } else {\n      this.load();\n    }\n  }\n\n  onIntersection(entries) {\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > 0 || entry.isIntersecting) {\n        this.load();\n        this.intersectionObs.unobserve(entry.target);\n      }\n    });\n  }\n\n  onMutation() {\n    if (this.hasLoaded) this.load();\n  }\n\n  getLazyElements() {\n    var root = !isNullOrUndefined(this.el.shadowRoot) ? this.el.shadowRoot : this.el;\n    return root.querySelectorAll('.lazy');\n  }\n\n  load() {\n    window.requestAnimationFrame(() => {\n      this.getLazyElements().forEach(this.loadEl.bind(this));\n    });\n  }\n\n  loadEl(el) {\n    var _this$intersectionObs3, _this$onLoad;\n\n    (_this$intersectionObs3 = this.intersectionObs) === null || _this$intersectionObs3 === void 0 ? void 0 : _this$intersectionObs3.unobserve(el);\n    this.hasLoaded = true;\n    (_this$onLoad = this.onLoad) === null || _this$onLoad === void 0 ? void 0 : _this$onLoad.call(this, el);\n  }\n\n}\n\nvar embedCss = \":host{z-index:var(--vm-media-z-index)}iframe{position:absolute;top:0;left:0;border:0;width:100%;height:100%;user-select:none}\";\nvar idCount = 0;\nvar connected = new Set();\nvar Embed = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmEmbedSrcChange = (0, _client.createEvent)(this, \"vmEmbedSrcChange\", 3);\n    this.vmEmbedMessage = (0, _client.createEvent)(this, \"vmEmbedMessage\", 3);\n    this.vmEmbedLoaded = (0, _client.createEvent)(this, \"vmEmbedLoaded\", 3);\n    this.srcWithParams = '';\n    this.hasEnteredViewport = false;\n    /**\n     * A URL that will load the external player and media (Eg: https://www.youtube.com/embed/DyTCOwB0DVw).\n     */\n\n    this.embedSrc = '';\n    /**\n     * The title of the current media so it can be set on the inner `iframe` for screen readers.\n     */\n\n    this.mediaTitle = '';\n    /**\n     * The parameters to pass to the embedded player which are appended to the `embedSrc` prop. These\n     * can be passed in as a query string or object.\n     */\n\n    this.params = '';\n    /**\n     * A collection of URLs to that the browser should immediately start establishing a connection\n     * with.\n     */\n\n    this.preconnections = [];\n    withComponentRegistry(this);\n  }\n\n  onEmbedSrcChange() {\n    this.srcWithParams = isString(this.embedSrc) && this.embedSrc.length > 0 ? appendParamsToURL(this.embedSrc, this.params) : undefined;\n  }\n\n  srcWithParamsChange() {\n    if (isUndefined(this.srcWithParams)) {\n      this.vmEmbedSrcChange.emit(this.srcWithParams);\n      return;\n    }\n\n    if (!this.hasEnteredViewport && !connected.has(this.embedSrc)) {\n      if (preconnect(this.srcWithParams)) connected.add(this.embedSrc);\n    }\n\n    this.vmEmbedSrcChange.emit(this.srcWithParams);\n  }\n\n  preconnectionsChange() {\n    if (this.hasEnteredViewport) {\n      return;\n    }\n\n    this.preconnections.filter(connection => !connected.has(connection)).forEach(connection => {\n      if (preconnect(connection)) connected.add(connection);\n    });\n  }\n\n  connectedCallback() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src'], el => {\n      var src = el.getAttribute('data-src');\n      el.removeAttribute('src');\n      if (!isNull(src)) el.setAttribute('src', src);\n    });\n    this.onEmbedSrcChange();\n    this.genIframeId();\n  }\n\n  disconnectedCallback() {\n    this.lazyLoader.destroy();\n  }\n\n  onWindowMessage(e) {\n    var _this$iframe, _this$decoder, _this$decoder2;\n\n    var originMatches = e.source === ((_this$iframe = this.iframe) === null || _this$iframe === void 0 ? void 0 : _this$iframe.contentWindow) && (!isString(this.origin) || this.origin === e.origin);\n    if (!originMatches) return;\n    var message = (_this$decoder = (_this$decoder2 = this.decoder) === null || _this$decoder2 === void 0 ? void 0 : _this$decoder2.call(this, e.data)) !== null && _this$decoder !== void 0 ? _this$decoder : e.data;\n    if (message) this.vmEmbedMessage.emit(message);\n  }\n  /**\n   * Posts a message to the embedded media player.\n   */\n\n\n  postMessage(message, target) {\n    var _this22 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this22$iframe, _this22$iframe$conten;\n\n      (_this22$iframe = _this22.iframe) === null || _this22$iframe === void 0 ? void 0 : (_this22$iframe$conten = _this22$iframe.contentWindow) === null || _this22$iframe$conten === void 0 ? void 0 : _this22$iframe$conten.postMessage(JSON.stringify(message), target !== null && target !== void 0 ? target : '*');\n    })();\n  }\n\n  onLoad() {\n    this.vmEmbedLoaded.emit();\n  }\n\n  genIframeId() {\n    idCount += 1;\n    this.id = \"vm-iframe-\".concat(idCount);\n  }\n\n  render() {\n    return (0, _client.h)(\"iframe\", {\n      id: this.id,\n      class: \"lazy\",\n      title: this.mediaTitle,\n      \"data-src\": this.srcWithParams,\n      allowFullScreen: true,\n      allow: \"autoplay; encrypted-media; picture-in-picture;\",\n      onLoad: this.onLoad.bind(this),\n      ref: el => {\n        this.iframe = el;\n      }\n    });\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"embedSrc\": [\"onEmbedSrcChange\"],\n      \"params\": [\"onEmbedSrcChange\"],\n      \"srcWithParams\": [\"srcWithParamsChange\"],\n      \"preconnections\": [\"preconnectionsChange\"]\n    };\n  }\n\n  static get style() {\n    return embedCss;\n  }\n\n};\nvar endTimeCss = \":host{display:flex;align-items:center;justify-content:center}\";\nvar EndTime = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.duration = -1;\n    /** @internal */\n\n    this.i18n = {};\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['duration', 'i18n']);\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-time\", {\n      label: this.i18n.duration,\n      seconds: Math.max(0, this.duration),\n      alwaysShowHours: this.alwaysShowHours\n    });\n  }\n\n  static get style() {\n    return endTimeCss;\n  }\n\n};\nvar fileCss = \"audio.sc-vm-file,video.sc-vm-file{border-radius:inherit;vertical-align:middle;width:100%;outline:0}video.sc-vm-file{position:absolute;top:0;left:0;border:0;height:100%;user-select:none}\";\nvar File = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.vmMediaElChange = (0, _client.createEvent)(this, \"vmMediaElChange\", 7);\n    this.vmSrcSetChange = (0, _client.createEvent)(this, \"vmSrcSetChange\", 7);\n    this.textTracksDisposal = new Disposal();\n    this.wasPausedBeforeSeeking = true;\n    this.currentSrcSet = [];\n    this.mediaQueryDisposal = new Disposal();\n    /** @internal Whether an external SDK will attach itself to the media player and control it. */\n\n    this.willAttach = false;\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    /**\n     * The playback rates that are available for this media.\n     */\n\n    this.playbackRates = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 2];\n    /** @internal */\n\n    this.language = 'en';\n    /** @internal */\n\n    this.autoplay = false;\n    /** @internal */\n\n    this.controls = false;\n    /** @internal */\n\n    this.loop = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.playsinline = false;\n    /** @internal */\n\n    this.noConnect = false;\n    /** @internal */\n\n    this.paused = true;\n    /** @internal */\n\n    this.currentTime = 0;\n    /** @internal */\n\n    this.volume = 0;\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.playbackStarted = false;\n    /** @internal */\n\n    this.currentTextTrack = -1;\n    /** @internal */\n\n    this.hasCustomTextManager = false;\n    /** @internal */\n\n    this.isTextTrackVisible = true;\n    /** @internal */\n\n    this.shouldRenderNativeTextTracks = true;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this, ['playbackReady', 'playbackStarted', 'currentTime', 'volume', 'paused', 'currentTextTrack', 'isTextTrackVisible', 'shouldRenderNativeTextTracks']);\n    watchComponentRegistry(this, 'vm-poster', regs => {\n      [this.vmPoster] = regs;\n    });\n  }\n\n  onMediaTitleChange() {\n    this.dispatch('mediaTitle', this.mediaTitle);\n  }\n\n  onPosterChange() {\n    var _this$mediaEl3;\n\n    if (!this.playbackStarted) (_this$mediaEl3 = this.mediaEl) === null || _this$mediaEl3 === void 0 ? void 0 : _this$mediaEl3.load();\n  }\n\n  onViewTypeChange() {\n    this.dispatch('viewType', this.viewType);\n  }\n\n  connectedCallback() {\n    this.initLazyLoader();\n    this.dispatch = createProviderDispatcher(this);\n    this.onViewTypeChange();\n    this.onPosterChange();\n    this.onMediaTitleChange();\n  }\n\n  componentDidRender() {\n    if (this.prevMediaEl !== this.mediaEl) {\n      this.prevMediaEl = this.mediaEl;\n      this.vmMediaElChange.emit(this.mediaEl);\n    }\n  }\n\n  componentDidLoad() {\n    this.onViewTypeChange();\n  }\n\n  disconnectedCallback() {\n    var _this$lazyLoader;\n\n    this.mediaQueryDisposal.empty();\n    this.textTracksDisposal.empty();\n    this.cancelTimeUpdates();\n    (_this$lazyLoader = this.lazyLoader) === null || _this$lazyLoader === void 0 ? void 0 : _this$lazyLoader.destroy();\n    this.wasPausedBeforeSeeking = true;\n  }\n\n  initLazyLoader() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src', 'data-poster'], () => {\n      if (isNullOrUndefined(this.mediaEl)) return;\n      var poster = this.mediaEl.getAttribute('data-poster');\n      if (!isNull(poster)) this.mediaEl.setAttribute('poster', poster);\n      this.refresh();\n      this.didSrcSetChange();\n    });\n  }\n\n  refresh() {\n    if (isNullOrUndefined(this.mediaEl)) return;\n    var {\n      children\n    } = this.mediaEl;\n\n    for (var i = 0; i <= children.length - 1; i += 1) {\n      var child = children[i];\n      var src = child.getAttribute('data-src') || child.getAttribute('src') || child.getAttribute('data-vs');\n      child.removeAttribute('src');\n      if (isNull(src)) continue;\n      child.setAttribute('data-vs', src);\n      child.setAttribute('src', src);\n    }\n  }\n\n  didSrcSetChange() {\n    if (isNullOrUndefined(this.mediaEl)) return;\n    var sources = Array.from(this.mediaEl.querySelectorAll('source'));\n    var srcSet = sources.map(source => {\n      var _source$getAttribute;\n\n      return {\n        src: source.getAttribute('data-vs'),\n        media: (_source$getAttribute = source.getAttribute('data-media')) !== null && _source$getAttribute !== void 0 ? _source$getAttribute : undefined,\n        ref: source\n      };\n    });\n    var didChange = this.currentSrcSet.length !== srcSet.length || srcSet.some((resource, i) => this.currentSrcSet[i].src !== resource.src);\n\n    if (didChange) {\n      this.currentSrcSet = srcSet;\n      this.onSrcSetChange();\n    }\n  }\n\n  onSrcSetChange() {\n    var _this$mediaEl4;\n\n    this.textTracksDisposal.empty();\n    this.mediaQueryDisposal.empty();\n    this.vmLoadStart.emit();\n    this.vmSrcSetChange.emit(this.currentSrcSet);\n    if (!this.willAttach) (_this$mediaEl4 = this.mediaEl) === null || _this$mediaEl4 === void 0 ? void 0 : _this$mediaEl4.load();\n  }\n\n  hasCustomPoster() {\n    return !IS_IOS && !isUndefined(this.vmPoster);\n  }\n\n  cancelTimeUpdates() {\n    if (isNumber(this.timeRAF)) window.cancelAnimationFrame(this.timeRAF);\n    this.timeRAF = undefined;\n  }\n\n  requestTimeUpdates() {\n    var _this$mediaEl$current, _this$mediaEl5;\n\n    this.dispatch('currentTime', (_this$mediaEl$current = (_this$mediaEl5 = this.mediaEl) === null || _this$mediaEl5 === void 0 ? void 0 : _this$mediaEl5.currentTime) !== null && _this$mediaEl$current !== void 0 ? _this$mediaEl$current : 0);\n    this.timeRAF = window.requestAnimationFrame(() => {\n      this.requestTimeUpdates();\n    });\n  }\n\n  getMediaType() {\n    var {\n      currentSrc\n    } = this.mediaEl;\n    if (audioRegex.test(currentSrc)) return MediaType.Audio;\n    if (videoRegex.test(currentSrc) || hlsRegex.test(currentSrc)) return MediaType.Video;\n    return undefined;\n  }\n\n  onLoadedMetadata() {\n    this.mediaEl.volume = this.volume / 100;\n    this.listenToTextTracksForChanges();\n    this.onTextTracksChange();\n    this.onProgress();\n    this.dispatch('currentPoster', this.poster);\n    this.dispatch('duration', this.mediaEl.duration);\n    this.dispatch('playbackRates', this.playbackRates);\n\n    if (!this.willAttach) {\n      this.dispatch('currentSrc', this.mediaEl.currentSrc);\n      this.dispatch('mediaType', this.getMediaType());\n      this.dispatch('playbackReady', true);\n    }\n  }\n\n  onProgress() {\n    var {\n      buffered,\n      duration\n    } = this.mediaEl;\n    var end = buffered.length === 0 ? 0 : buffered.end(buffered.length - 1);\n    this.dispatch('buffered', end > duration ? duration : end);\n  }\n\n  onPlay() {\n    this.requestTimeUpdates();\n    this.dispatch('paused', false);\n    if (!this.playbackStarted) this.dispatch('playbackStarted', true);\n  }\n\n  onPause() {\n    this.cancelTimeUpdates();\n    this.dispatch('paused', true);\n    this.dispatch('buffering', false);\n  }\n\n  onPlaying() {\n    this.dispatch('playing', true);\n    this.dispatch('buffering', false);\n  }\n\n  onSeeking() {\n    if (!this.wasPausedBeforeSeeking) this.wasPausedBeforeSeeking = this.mediaEl.paused;\n    this.dispatch('currentTime', this.mediaEl.currentTime);\n    this.dispatch('seeking', true);\n  }\n\n  onSeeked() {\n    // Avoid calling `attemptToPlay` if seeking to 0 on 0.\n    if (this.currentTime === 0 && !this.playbackStarted) return;\n    this.dispatch('seeking', false);\n    if (!this.playbackStarted || !this.wasPausedBeforeSeeking) this.attemptToPlay();\n    this.wasPausedBeforeSeeking = true;\n  }\n\n  onRateChange() {\n    this.dispatch('playbackRate', this.mediaEl.playbackRate);\n  }\n\n  onVolumeChange() {\n    this.dispatch('muted', this.mediaEl.muted);\n    this.dispatch('volume', this.mediaEl.volume * 100);\n  }\n\n  onDurationChange() {\n    this.dispatch('duration', this.mediaEl.duration);\n  }\n\n  onWaiting() {\n    this.dispatch('buffering', true);\n  }\n\n  onSuspend() {\n    this.dispatch('buffering', false);\n  }\n\n  onEnded() {\n    if (!this.loop) this.dispatch('playbackEnded', true);\n  }\n\n  onError() {\n    this.vmError.emit(this.mediaEl.error);\n  }\n\n  attemptToPlay() {\n    try {\n      var _this$mediaEl6;\n\n      (_this$mediaEl6 = this.mediaEl) === null || _this$mediaEl6 === void 0 ? void 0 : _this$mediaEl6.play();\n    } catch (e) {\n      this.vmError.emit(e);\n    }\n  }\n\n  togglePiPInChrome(toggle) {\n    var _this$mediaEl7;\n\n    return toggle ? (_this$mediaEl7 = this.mediaEl) === null || _this$mediaEl7 === void 0 ? void 0 : _this$mediaEl7.requestPictureInPicture() : document.exitPictureInPicture();\n  }\n\n  togglePiPInSafari(toggle) {\n    var _this$mediaEl8, _this$mediaEl9;\n\n    var mode = toggle ? \"picture-in-picture\"\n    /* PiP */\n    : \"inline\"\n    /* Inline */\n    ;\n\n    if (!((_this$mediaEl8 = this.mediaEl) !== null && _this$mediaEl8 !== void 0 && _this$mediaEl8.webkitSupportsPresentationMode(mode))) {\n      throw new Error('PiP API is not available.');\n    }\n\n    return (_this$mediaEl9 = this.mediaEl) === null || _this$mediaEl9 === void 0 ? void 0 : _this$mediaEl9.webkitSetPresentationMode(mode);\n  }\n\n  togglePiP(toggle) {\n    var _this23 = this;\n\n    return _asyncToGenerator(function* () {\n      if (canUsePiPInChrome()) return _this23.togglePiPInChrome(toggle);\n      if (canUsePiPInSafari()) return _this23.togglePiPInSafari(toggle);\n      throw new Error('PiP API is not available.');\n    })();\n  }\n\n  toggleFullscreen(toggle) {\n    var _this24 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this24$mediaEl, _this24$mediaEl2, _this24$mediaEl3;\n\n      if (!((_this24$mediaEl = _this24.mediaEl) !== null && _this24$mediaEl !== void 0 && _this24$mediaEl.webkitSupportsFullscreen)) {\n        throw new Error('Fullscreen API is not available.');\n      }\n\n      return toggle ? (_this24$mediaEl2 = _this24.mediaEl) === null || _this24$mediaEl2 === void 0 ? void 0 : _this24$mediaEl2.webkitEnterFullscreen() : (_this24$mediaEl3 = _this24.mediaEl) === null || _this24$mediaEl3 === void 0 ? void 0 : _this24$mediaEl3.webkitExitFullscreen();\n    })();\n  }\n\n  onPresentationModeChange() {\n    var _this$mediaEl10;\n\n    var mode = (_this$mediaEl10 = this.mediaEl) === null || _this$mediaEl10 === void 0 ? void 0 : _this$mediaEl10.webkitPresentationMode;\n    this.dispatch('isPiPActive', mode === \"picture-in-picture\"\n    /* PiP */\n    );\n    this.dispatch('isFullscreenActive', mode === \"fullscreen\"\n    /* Fullscreen */\n    );\n  }\n\n  onEnterPiP() {\n    this.dispatch('isPiPActive', true);\n  }\n\n  onLeavePiP() {\n    this.dispatch('isPiPActive', false);\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this25 = this;\n\n    return _asyncToGenerator(function* () {\n      return {\n        getInternalPlayer: function () {\n          var _getInternalPlayer3 = _asyncToGenerator(function* () {\n            return _this25.mediaEl;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer3.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        play: function () {\n          var _play2 = _asyncToGenerator(function* () {\n            var _this25$mediaEl;\n\n            return (_this25$mediaEl = _this25.mediaEl) === null || _this25$mediaEl === void 0 ? void 0 : _this25$mediaEl.play();\n          });\n\n          function play() {\n            return _play2.apply(this, arguments);\n          }\n\n          return play;\n        }(),\n        pause: function () {\n          var _pause2 = _asyncToGenerator(function* () {\n            var _this25$mediaEl2;\n\n            return (_this25$mediaEl2 = _this25.mediaEl) === null || _this25$mediaEl2 === void 0 ? void 0 : _this25$mediaEl2.pause();\n          });\n\n          function pause() {\n            return _pause2.apply(this, arguments);\n          }\n\n          return pause;\n        }(),\n        canPlay: function () {\n          var _canPlay3 = _asyncToGenerator(function* (type) {\n            return isString(type) && (audioRegex.test(type) || videoRegex.test(type));\n          });\n\n          function canPlay(_x18) {\n            return _canPlay3.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        setCurrentTime: function () {\n          var _setCurrentTime2 = _asyncToGenerator(function* (time) {\n            if (_this25.mediaEl) _this25.mediaEl.currentTime = time;\n          });\n\n          function setCurrentTime(_x19) {\n            return _setCurrentTime2.apply(this, arguments);\n          }\n\n          return setCurrentTime;\n        }(),\n        setMuted: function () {\n          var _setMuted2 = _asyncToGenerator(function* (muted) {\n            if (_this25.mediaEl) _this25.mediaEl.muted = muted;\n          });\n\n          function setMuted(_x20) {\n            return _setMuted2.apply(this, arguments);\n          }\n\n          return setMuted;\n        }(),\n        setVolume: function () {\n          var _setVolume2 = _asyncToGenerator(function* (volume) {\n            if (_this25.mediaEl) _this25.mediaEl.volume = volume / 100;\n          });\n\n          function setVolume(_x21) {\n            return _setVolume2.apply(this, arguments);\n          }\n\n          return setVolume;\n        }(),\n        canSetPlaybackRate: function () {\n          var _canSetPlaybackRate = _asyncToGenerator(function* () {\n            return true;\n          });\n\n          function canSetPlaybackRate() {\n            return _canSetPlaybackRate.apply(this, arguments);\n          }\n\n          return canSetPlaybackRate;\n        }(),\n        setPlaybackRate: function () {\n          var _setPlaybackRate = _asyncToGenerator(function* (rate) {\n            if (_this25.mediaEl) _this25.mediaEl.playbackRate = rate;\n          });\n\n          function setPlaybackRate(_x22) {\n            return _setPlaybackRate.apply(this, arguments);\n          }\n\n          return setPlaybackRate;\n        }(),\n        canSetPiP: function () {\n          var _canSetPiP = _asyncToGenerator(function* () {\n            return canUsePiP();\n          });\n\n          function canSetPiP() {\n            return _canSetPiP.apply(this, arguments);\n          }\n\n          return canSetPiP;\n        }(),\n        enterPiP: () => _this25.togglePiP(true),\n        exitPiP: () => _this25.togglePiP(false),\n        canSetFullscreen: function () {\n          var _canSetFullscreen2 = _asyncToGenerator(function* () {\n            return canFullscreenVideo();\n          });\n\n          function canSetFullscreen() {\n            return _canSetFullscreen2.apply(this, arguments);\n          }\n\n          return canSetFullscreen;\n        }(),\n        enterFullscreen: () => _this25.toggleFullscreen(true),\n        exitFullscreen: () => _this25.toggleFullscreen(false),\n        setCurrentTextTrack: function () {\n          var _setCurrentTextTrack2 = _asyncToGenerator(function* (trackId) {\n            if (trackId !== _this25.currentTextTrack) _this25.toggleTextTrackModes(trackId);\n          });\n\n          function setCurrentTextTrack(_x23) {\n            return _setCurrentTextTrack2.apply(this, arguments);\n          }\n\n          return setCurrentTextTrack;\n        }(),\n        setTextTrackVisibility: function () {\n          var _setTextTrackVisibility2 = _asyncToGenerator(function* (isVisible) {\n            _this25.isTextTrackVisible = isVisible;\n\n            _this25.toggleTextTrackModes(_this25.currentTextTrack);\n          });\n\n          function setTextTrackVisibility(_x24) {\n            return _setTextTrackVisibility2.apply(this, arguments);\n          }\n\n          return setTextTrackVisibility;\n        }()\n      };\n    })();\n  }\n\n  onHasCustomTextManagerChange() {\n    if (this.hasCustomTextManager) {\n      this.textTracksDisposal.empty();\n    } else if (this.playbackReady) {\n      this.listenToTextTracksForChanges();\n    }\n  }\n\n  onShouldRenderNativeTextTracksChange() {\n    if (this.hasCustomTextManager) return;\n    this.toggleTextTrackModes(this.currentTextTrack);\n  }\n\n  onProviderConnect(event) {\n    if (this.noConnect) event.stopImmediatePropagation();\n  }\n\n  onProviderDisconnect(event) {\n    if (this.noConnect) event.stopImmediatePropagation();\n  }\n\n  getFilteredTextTracks() {\n    var tracks = [];\n    var textTrackList = Array.from(this.mediaEl.textTracks);\n\n    for (var i = 0; i < textTrackList.length; i += 1) {\n      var track = textTrackList[i]; // Edge adds a track without a label; we don't want to use it.\n\n      if ((track.kind === 'subtitles' || track.kind === 'captions') && track.label) {\n        tracks.push(textTrackList[i]);\n      }\n    }\n\n    return tracks;\n  }\n\n  listenToTextTracksForChanges() {\n    if (this.hasCustomTextManager) return;\n    this.textTracksDisposal.empty();\n    if (isUndefined(this.mediaEl)) return;\n    this.textTracksDisposal.add(listen(this.mediaEl.textTracks, 'change', this.onTextTracksChange.bind(this)));\n  }\n\n  onTextTracksChange() {\n    var _tracks$trackId;\n\n    var tracks = this.getFilteredTextTracks();\n    var trackId = -1;\n\n    for (var id = 0; id < tracks.length; id += 1) {\n      if (tracks[id].mode === 'hidden') {\n        // Do not break in case there is a following track with showing.\n        trackId = id;\n      } else if (tracks[id].mode === 'showing') {\n        trackId = id;\n        break;\n      }\n    }\n\n    if (!this.shouldRenderNativeTextTracks && ((_tracks$trackId = tracks[trackId]) === null || _tracks$trackId === void 0 ? void 0 : _tracks$trackId.mode) === 'showing') {\n      tracks[trackId].mode = 'hidden';\n      return;\n    }\n\n    if (this.shouldRenderNativeTextTracks) {\n      this.isTextTrackVisible = trackId !== -1 && tracks[trackId].mode === 'showing';\n      this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n    }\n\n    this.dispatch('textTracks', tracks);\n    this.dispatch('currentTextTrack', this.shouldRenderNativeTextTracks && !this.isTextTrackVisible ? -1 : trackId);\n  }\n\n  toggleTextTrackModes(newTrackId) {\n    if (isNullOrUndefined(this.mediaEl)) return;\n    var {\n      textTracks\n    } = this.mediaEl;\n\n    if (newTrackId === -1) {\n      Array.from(textTracks).forEach(track => {\n        track.mode = 'disabled';\n      });\n    } else {\n      var oldTrack = textTracks[this.currentTextTrack];\n      if (oldTrack) oldTrack.mode = 'disabled';\n    }\n\n    var nextTrack = textTracks[newTrackId];\n\n    if (nextTrack) {\n      nextTrack.mode = this.isTextTrackVisible && this.shouldRenderNativeTextTracks ? 'showing' : 'hidden';\n    }\n\n    this.dispatch('currentTextTrack', this.shouldRenderNativeTextTracks && !this.isTextTrackVisible ? -1 : newTrackId);\n    this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n  }\n\n  render() {\n    var mediaProps = {\n      autoplay: this.autoplay,\n      muted: this.muted,\n      playsinline: this.playsinline,\n      playsInline: this.playsinline,\n      'x5-playsinline': this.playsinline,\n      'webkit-playsinline': this.playsinline,\n      controls: this.controls,\n      crossorigin: this.crossOrigin === '' ? 'anonymous' : this.crossOrigin,\n      controlslist: this.controlsList,\n      'data-poster': !this.hasCustomPoster() ? this.poster : undefined,\n      loop: this.loop,\n      preload: this.preload,\n      disablePictureInPicture: this.disablePiP,\n      autoPictureInPicture: this.autoPiP,\n      disableRemotePlayback: this.disableRemotePlayback,\n      'x-webkit-airplay': this.disableRemotePlayback ? 'deny' : 'allow',\n      ref: el => {\n        this.mediaEl = el;\n      },\n      onLoadedMetadata: this.onLoadedMetadata.bind(this),\n      onProgress: this.onProgress.bind(this),\n      onPlay: this.onPlay.bind(this),\n      onPause: this.onPause.bind(this),\n      onPlaying: this.onPlaying.bind(this),\n      onSeeking: this.onSeeking.bind(this),\n      onSeeked: this.onSeeked.bind(this),\n      onRateChange: this.onRateChange.bind(this),\n      onVolumeChange: this.onVolumeChange.bind(this),\n      onDurationChange: this.onDurationChange.bind(this),\n      onWaiting: this.onWaiting.bind(this),\n      onSuspend: this.onSuspend.bind(this),\n      onEnded: this.onEnded.bind(this),\n      onError: this.onError.bind(this)\n    };\n    var audio = (0, _client.h)(\"audio\", Object.assign({\n      class: \"lazy\"\n    }, mediaProps), (0, _client.h)(\"slot\", null), \"Your browser does not support the\", (0, _client.h)(\"code\", null, \"audio\"), \"element.\");\n    var video = (0, _client.h)(\"video\", Object.assign({\n      class: \"lazy\"\n    }, mediaProps, {\n      // @ts-ignore\n      onwebkitpresentationmodechanged: this.onPresentationModeChange.bind(this),\n      onenterpictureinpicture: this.onEnterPiP.bind(this),\n      onleavepictureinpicture: this.onLeavePiP.bind(this)\n    }), (0, _client.h)(\"slot\", null), \"Your browser does not support the\", (0, _client.h)(\"code\", null, \"video\"), \"element.\");\n    return this.viewType === ViewType.Audio ? audio : video;\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"mediaTitle\": [\"onMediaTitleChange\"],\n      \"poster\": [\"onPosterChange\"],\n      \"viewType\": [\"onViewTypeChange\"],\n      \"hasCustomTextManager\": [\"onHasCustomTextManagerChange\"],\n      \"shouldRenderNativeTextTracks\": [\"onShouldRenderNativeTextTracksChange\"]\n    };\n  }\n\n  static get style() {\n    return fileCss;\n  }\n\n};\nvar fullscreenControlCss = \":host([hidden]){display:none}\";\nvar FullscreenControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.canSetFullscreen = false;\n    /**\n     * The name of the enter fullscreen icon to resolve from the icon library.\n     */\n\n    this.enterIcon = 'fullscreen-enter';\n    /**\n     * The name of the exit fullscreen icon to resolve from the icon library.\n     */\n\n    this.exitIcon = 'fullscreen-exit';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'f';\n    /** @internal */\n\n    this.isFullscreenActive = false;\n    /** @internal */\n\n    this.i18n = {};\n    /** @internal */\n\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isFullscreenActive', 'playbackReady', 'i18n']);\n  }\n\n  onPlaybackReadyChange() {\n    var _this26 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetF;\n\n      var player = getPlayerFromRegistry(_this26);\n      _this26.canSetFullscreen = (_yield$player$canSetF = yield player === null || player === void 0 ? void 0 : player.canSetFullscreen()) !== null && _yield$player$canSetF !== void 0 ? _yield$player$canSetF : false;\n    })();\n  }\n\n  componentDidLoad() {\n    this.onPlaybackReadyChange();\n  }\n\n  onClick() {\n    var player = getPlayerFromRegistry(this);\n    !this.isFullscreenActive ? player === null || player === void 0 ? void 0 : player.enterFullscreen() : player === null || player === void 0 ? void 0 : player.exitFullscreen();\n  }\n\n  render() {\n    var tooltip = this.isFullscreenActive ? this.i18n.exitFullscreen : this.i18n.enterFullscreen;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(_client.Host, {\n      hidden: !this.canSetFullscreen\n    }, (0, _client.h)(\"vm-control\", {\n      label: this.i18n.fullscreen,\n      keys: this.keys,\n      pressed: this.isFullscreenActive,\n      hidden: !this.canSetFullscreen,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.isFullscreenActive ? this.exitIcon : this.enterIcon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint)));\n  }\n\n  static get watchers() {\n    return {\n      \"playbackReady\": [\"onPlaybackReadyChange\"]\n    };\n  }\n\n  static get style() {\n    return fullscreenControlCss;\n  }\n\n};\nvar HLS = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.hasAttached = false;\n    /**\n     * The NPM package version of the `hls.js` library to download and use if HLS is not natively\n     * supported.\n     */\n\n    this.version = 'latest';\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    /** @internal */\n\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withPlayerContext(this, ['playbackReady']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    if (this.mediaEl) this.setupHls();\n  }\n\n  disconnectedCallback() {\n    this.destroyHls();\n  }\n\n  get src() {\n    if (isNullOrUndefined(this.videoProvider)) return undefined;\n    var sources = this.videoProvider.querySelectorAll('source');\n    var currSource = Array.from(sources).find(source => hlsRegex.test(source.src) || hlsTypeRegex.test(source.type));\n    return currSource === null || currSource === void 0 ? void 0 : currSource.src;\n  }\n\n  setupHls() {\n    var _this27 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!isUndefined(_this27.hls)) return;\n\n      try {\n        var url = _this27.libSrc || \"https://cdn.jsdelivr.net/npm/hls.js@\".concat(_this27.version, \"/dist/hls.min.js\");\n        var Hls = yield loadSDK(url, 'Hls');\n\n        if (!Hls.isSupported()) {\n          _this27.vmError.emit('hls.js is not supported');\n\n          return;\n        }\n\n        _this27.hls = new Hls(_this27.config);\n\n        _this27.hls.on(Hls.Events.MEDIA_ATTACHED, () => {\n          _this27.hasAttached = true;\n\n          _this27.onSrcChange();\n        });\n\n        _this27.hls.on(Hls.Events.AUDIO_TRACKS_UPDATED, () => {\n          _this27.dispatch('audioTracks', _this27.hls.audioTracks);\n\n          _this27.dispatch('currentAudioTrack', _this27.hls.audioTrack);\n        });\n\n        _this27.hls.on(Hls.Events.AUDIO_TRACK_SWITCHED, () => {\n          _this27.dispatch('currentAudioTrack', _this27.hls.audioTrack);\n        });\n\n        _this27.hls.on(Hls.Events.ERROR, (event, data) => {\n          if (data.fatal) {\n            switch (data.type) {\n              case Hls.ErrorTypes.NETWORK_ERROR:\n                _this27.hls.startLoad();\n\n                break;\n\n              case Hls.ErrorTypes.MEDIA_ERROR:\n                _this27.hls.recoverMediaError();\n\n                break;\n\n              default:\n                _this27.destroyHls();\n\n                break;\n            }\n          }\n\n          _this27.vmError.emit({\n            event,\n            data\n          });\n        });\n\n        _this27.hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          _this27.dispatch('mediaType', MediaType.Video);\n\n          _this27.dispatch('currentSrc', _this27.src);\n\n          _this27.dispatchLevels();\n        });\n\n        _this27.hls.on(Hls.Events.LEVEL_LOADED, (_, data) => {\n          if (!_this27.playbackReady) {\n            _this27.dispatch('duration', data.details.totalduration);\n\n            _this27.dispatch('playbackReady', true);\n          }\n        });\n\n        _this27.hls.attachMedia(_this27.mediaEl);\n      } catch (e) {\n        _this27.vmError.emit(e);\n      }\n    })();\n  }\n\n  dispatchLevels() {\n    if (!this.hls.levels || this.hls.levels.length === 0) return;\n    this.dispatch('playbackQualities', ['Auto', ...this.hls.levels.map(this.levelToPlaybackQuality)]);\n    this.dispatch('playbackQuality', 'Auto');\n  }\n\n  levelToPlaybackQuality(level) {\n    return level === -1 ? 'Auto' : \"\".concat(level.height, \"p\");\n  }\n\n  findLevelIndexFromQuality(quality) {\n    return this.hls.levels.findIndex(level => this.levelToPlaybackQuality(level) === quality);\n  }\n\n  destroyHls() {\n    var _this$hls;\n\n    (_this$hls = this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.destroy();\n    this.hasAttached = false;\n  }\n\n  onMediaElChange(event) {\n    var _this28 = this;\n\n    return _asyncToGenerator(function* () {\n      _this28.destroyHls();\n\n      if (isUndefined(event.detail)) return;\n      _this28.mediaEl = event.detail; // Need a small delay incase the media element changes rapidly and Hls.js can't reattach.\n\n      setTimeout( /*#__PURE__*/_asyncToGenerator(function* () {\n        yield _this28.setupHls();\n      }), 50);\n    })();\n  }\n\n  onSrcChange() {\n    var _this29 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this29.hasAttached && _this29.hls.url !== _this29.src) {\n        _this29.vmLoadStart.emit();\n\n        _this29.hls.loadSource(_this29.src);\n      }\n    })();\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this30 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this30$videoP, _this30$videoProvider;\n\n      var adapter = (_yield$_this30$videoP = yield (_this30$videoProvider = _this30.videoProvider) === null || _this30$videoProvider === void 0 ? void 0 : _this30$videoProvider.getAdapter()) !== null && _yield$_this30$videoP !== void 0 ? _yield$_this30$videoP : {};\n      var canVideoProviderPlay = adapter.canPlay;\n      return _objectSpread(_objectSpread({}, adapter), {}, {\n        getInternalPlayer: function () {\n          var _getInternalPlayer4 = _asyncToGenerator(function* () {\n            return _this30.hls;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer4.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        canPlay: function () {\n          var _canPlay4 = _asyncToGenerator(function* (type) {\n            var _canVideoProviderPlay2;\n\n            return isString(type) && hlsRegex.test(type) || ((_canVideoProviderPlay2 = canVideoProviderPlay === null || canVideoProviderPlay === void 0 ? void 0 : canVideoProviderPlay(type)) !== null && _canVideoProviderPlay2 !== void 0 ? _canVideoProviderPlay2 : false);\n          });\n\n          function canPlay(_x25) {\n            return _canPlay4.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        canSetPlaybackQuality: function () {\n          var _canSetPlaybackQuality3 = _asyncToGenerator(function* () {\n            var _this30$hls, _this30$hls$levels;\n\n            return ((_this30$hls = _this30.hls) === null || _this30$hls === void 0 ? void 0 : (_this30$hls$levels = _this30$hls.levels) === null || _this30$hls$levels === void 0 ? void 0 : _this30$hls$levels.length) > 0;\n          });\n\n          function canSetPlaybackQuality() {\n            return _canSetPlaybackQuality3.apply(this, arguments);\n          }\n\n          return canSetPlaybackQuality;\n        }(),\n        setPlaybackQuality: function () {\n          var _setPlaybackQuality3 = _asyncToGenerator(function* (quality) {\n            if (!isUndefined(_this30.hls)) {\n              _this30.hls.currentLevel = _this30.findLevelIndexFromQuality(quality); // Update the provider cache.\n\n              _this30.dispatch('playbackQuality', quality);\n            }\n          });\n\n          function setPlaybackQuality(_x26) {\n            return _setPlaybackQuality3.apply(this, arguments);\n          }\n\n          return setPlaybackQuality;\n        }(),\n        setCurrentAudioTrack: function () {\n          var _setCurrentAudioTrack = _asyncToGenerator(function* (trackId) {\n            if (!isUndefined(_this30.hls)) {\n              _this30.hls.audioTrack = trackId;\n            }\n          });\n\n          function setCurrentAudioTrack(_x27) {\n            return _setCurrentAudioTrack.apply(this, arguments);\n          }\n\n          return setCurrentAudioTrack;\n        }()\n      });\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-video\", {\n      willAttach: true,\n      crossOrigin: this.crossOrigin,\n      preload: this.preload,\n      poster: this.poster,\n      controlsList: this.controlsList,\n      autoPiP: this.autoPiP,\n      disablePiP: this.disablePiP,\n      disableRemotePlayback: this.disableRemotePlayback,\n      mediaTitle: this.mediaTitle,\n      ref: el => {\n        this.videoProvider = el;\n      }\n    }, (0, _client.h)(\"slot\", null));\n  }\n\n};\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon-library/icon-library-registry.ts\n */\n\nvar ICONS_BASE_CDN_URL = 'https://cdn.jsdelivr.net/npm/@vime/core@latest/icons';\nvar registry = new Map(Object.entries({\n  vime: iconName => \"\".concat(ICONS_BASE_CDN_URL, \"/vime/vm-\").concat(iconName, \".svg\"),\n  material: iconName => \"\".concat(ICONS_BASE_CDN_URL, \"/material/md-\").concat(iconName, \".svg\")\n}));\nvar watch$1 = new Set();\n\nfunction withIconRegistry(component) {\n  var el = (0, _client.getElement)(component);\n  createStencilHook(component, () => {\n    watch$1.add(el);\n  }, () => {\n    watch$1.delete(el);\n  });\n}\n\nvar getIconLibraryResolver = name => registry.get(name);\n\nfunction registerIconLibrary(name, resolver) {\n  if (!isUndefined(resolver)) {\n    registry.set(name, resolver);\n  } // Redraw watched icons.\n\n\n  watch$1.forEach(iconEl => {\n    if (iconEl.library === name) iconEl.redraw();\n  });\n}\n\nfunction deregisterIconLibrary(name) {\n  registry.delete(name);\n}\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon/request.ts\n */\n\n\nvar iconFiles = new Map();\n\nvar requestIcon = url => {\n  if (iconFiles.has(url)) return iconFiles.get(url);\n  var request = fetch(url).then( /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator(function* (response) {\n      if (response.ok) {\n        var div = document.createElement('div');\n        div.innerHTML = yield response.text();\n        var svg = div.firstElementChild;\n        return {\n          ok: response.ok,\n          status: response.status,\n          svg: svg && svg.tagName.toLowerCase() === 'svg' ? svg.outerHTML : ''\n        };\n      }\n\n      return {\n        ok: response.ok,\n        status: response.status\n      };\n    });\n\n    return function (_x28) {\n      return _ref8.apply(this, arguments);\n    };\n  }());\n  iconFiles.set(url, request);\n  return request;\n};\n\nvar iconCss = \":host{display:inline-block;width:1em;height:1em;contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%;transition:var(--vm-icon-transition);transform:var(--vm-icon-transform);fill:var(--vm-icon-fill, currentColor);stroke:var(--vm-icon-stroke)}\";\nvar parser = new DOMParser();\nvar Icon = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoad = (0, _client.createEvent)(this, \"vmLoad\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    /** @internal */\n\n    this.icons = 'material';\n    withComponentRegistry(this);\n    withIconRegistry(this);\n  }\n\n  handleChange() {\n    this.setIcon();\n  }\n\n  connectedCallback() {\n    withPlayerContext(this, ['icons']);\n  }\n\n  componentDidLoad() {\n    this.setIcon();\n  }\n  /**\n   * @internal Fetches the icon and redraws it. Used to handle library registrations.\n   */\n\n\n  redraw() {\n    var _this31 = this;\n\n    return _asyncToGenerator(function* () {\n      _this31.setIcon();\n    })();\n  }\n\n  getLabel() {\n    var label = '';\n\n    if (this.label) {\n      label = this.label;\n    } else if (this.name) {\n      label = this.name.replace(/-/g, ' ');\n    } else if (this.src) {\n      label = this.src.replace(/.*\\//, '').replace(/-/g, ' ').replace(/\\.svg/i, '');\n    }\n\n    return label;\n  }\n\n  setIcon() {\n    var _this32 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this32$library;\n\n      var resolver = getIconLibraryResolver((_this32$library = _this32.library) !== null && _this32$library !== void 0 ? _this32$library : _this32.icons);\n      var url = _this32.src;\n\n      if (_this32.name && resolver) {\n        url = resolver(_this32.name);\n      }\n\n      if (url) {\n        try {\n          var file = yield requestIcon(url);\n\n          if (file.ok) {\n            var doc = parser.parseFromString(file.svg, 'text/html');\n            var svg = doc.body.querySelector('svg');\n\n            if (svg) {\n              _this32.svg = svg.outerHTML;\n\n              _this32.vmLoad.emit();\n            } else {\n              _this32.svg = '';\n\n              _this32.vmError.emit({\n                status: file.status\n              });\n            }\n          }\n        } catch (_unused) {\n          _this32.vmError.emit();\n        }\n      }\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: \"icon\",\n      role: \"img\",\n      \"aria-label\": this.getLabel(),\n      innerHTML: this.svg\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"name\": [\"handleChange\"],\n      \"src\": [\"handleChange\"],\n      \"library\": [\"handleChange\"],\n      \"icons\": [\"handleChange\"]\n    };\n  }\n\n  static get style() {\n    return iconCss;\n  }\n\n};\nvar IconLibrary = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.icons = 'material';\n    withComponentRegistry(this);\n    withPlayerContext(this, ['icons']);\n  }\n\n  handleUpdate() {\n    this.register();\n  }\n\n  connectedCallback() {\n    this.register();\n  }\n\n  disconnectedCallback() {\n    if (!isUndefined(this.name)) deregisterIconLibrary(this.name);\n  }\n\n  register() {\n    var _this$name;\n\n    registerIconLibrary((_this$name = this.name) !== null && _this$name !== void 0 ? _this$name : this.icons, this.name ? this.resolver : undefined);\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"name\": [\"handleUpdate\"],\n      \"resolver\": [\"handleUpdate\"],\n      \"icons\": [\"handleUpdate\"]\n    };\n  }\n\n};\nvar liveIndicatorCss = \".liveIndicator{display:flex;align-items:center;font-size:13px;font-weight:bold;letter-spacing:0.6px;color:var(--vm-control-color)}.liveIndicator.hidden{display:none}.indicator{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:4px;background-color:var(--vm-live-indicator-color, red)}\";\nvar LiveIndicator = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.isLive = false;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isLive', 'i18n']);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        liveIndicator: true,\n        hidden: !this.isLive\n      }\n    }, (0, _client.h)(\"div\", {\n      class: \"indicator\"\n    }), this.i18n.live);\n  }\n\n  static get style() {\n    return liveIndicatorCss;\n  }\n\n};\nvar loadingScreenCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-loading-screen-z-index);display:flex;align-items:center;justify-content:center}.loadingScreen{opacity:100;transition:var(--vm-fade-transition)}.loadingScreen.inactive{opacity:0}.dotPulse{position:relative;left:-9999px;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color);box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color);animation:dotPulse var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 6)}.dotPulse::before,.dotPulse::after{content:'';display:inline-block;position:absolute;top:0;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color)}.dotPulse::before{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color);animation:dotPulseBefore var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:0s}.dotPulse::after{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color);animation:dotPulseAfter var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 3)}@keyframes dotPulseBefore{0%{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}30%{box-shadow:9984px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}}@keyframes dotPulse{0%{box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}30%{box-shadow:9999px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}}@keyframes dotPulseAfter{0%{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}30%{box-shadow:10014px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}}\";\nvar LoadingScreen = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.playbackReady = false;\n    /**\n     * Whether the loading dots are hidden or not.\n     */\n\n    this.hideDots = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['playbackReady']);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        loadingScreen: true,\n        inactive: this.playbackReady\n      }\n    }, (0, _client.h)(\"slot\", null), !this.hideDots && (0, _client.h)(\"div\", {\n      class: \"dotPulse\"\n    }));\n  }\n\n  static get style() {\n    return loadingScreenCss;\n  }\n\n};\n\nfunction unwrapSubmenu(el) {\n  if (el.tagName.toLowerCase() !== 'vm-submenu') return el;\n  var submenu = el;\n  return submenu.shadowRoot.querySelector('vm-menu-item');\n}\n\nfunction unwrapRadioGroup(el) {\n  var _slot$assignedElement;\n\n  if (el.tagName.toLowerCase() !== 'vm-menu-radio-group') return el;\n  var radioGroup = el;\n  var slot = radioGroup.shadowRoot.querySelector('slot');\n  var assignedElements = Array.from((_slot$assignedElement = slot === null || slot === void 0 ? void 0 : slot.assignedElements()) !== null && _slot$assignedElement !== void 0 ? _slot$assignedElement : []);\n  return assignedElements.filter(radio => radio.tagName.toLowerCase() === 'vm-menu-radio').map(radio => radio.shadowRoot.querySelector('vm-menu-item'));\n}\n\nfunction menuItemHunter(assignedElements) {\n  if (isUndefined(assignedElements)) return [];\n  var allowed = ['vm-menu-item', 'vm-menu-radio-group', 'vm-submenu'];\n  return Array.from(assignedElements !== null && assignedElements !== void 0 ? assignedElements : []).filter(el => allowed.includes(el.tagName.toLowerCase())).map(el => unwrapSubmenu(el)).map(el => unwrapRadioGroup(el)).reduce((acc, val) => acc.concat(val), []);\n}\n\nvar menuCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:var(--vm-menu-z-index)}:host([active]){pointer-events:auto;z-index:calc(var(--vm-menu-z-index) + 1)}.menu{position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;transition:var(--vm-menu-transition)}.menu.slideIn{transform:translateX(0)}.menu[aria-hidden='true'].slideInFromLeft{transform:translateX(-100%)}.menu[aria-hidden='true'].slideInFromRight{transform:translateX(100%)}.container{display:flex;flex-direction:column;position:relative;text-align:left;width:100%;height:100%;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight)}.menu:focus{outline:0}\";\nvar Menu = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmOpen = (0, _client.createEvent)(this, \"vmOpen\", 7);\n    this.vmClose = (0, _client.createEvent)(this, \"vmClose\", 7);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    this.vmActiveSubmenuChange = (0, _client.createEvent)(this, \"vmActiveSubmenuChange\", 7);\n    this.vmActiveMenuItemChange = (0, _client.createEvent)(this, \"vmActiveMenuItemChange\", 7);\n    this.vmMenuHeightChange = (0, _client.createEvent)(this, \"vmMenuHeightChange\", 3);\n    this.hasDisconnected = false;\n    /**\n     * Whether the menu is open/visible.\n     */\n\n    this.active = false;\n    withComponentRegistry(this);\n  }\n\n  onActiveMenuitemChange() {\n    this.vmActiveMenuItemChange.emit(this.activeMenuItem);\n  }\n\n  onActiveSubmenuChange() {\n    this.vmActiveSubmenuChange.emit(this.activeSubmenu);\n  }\n\n  onActiveChange() {\n    var _this$controller;\n\n    if (this.hasDisconnected) return;\n    this.active ? this.vmOpen.emit(this.host) : this.vmClose.emit(this.host);\n\n    if (((_this$controller = this.controller) === null || _this$controller === void 0 ? void 0 : _this$controller.tagName.toLowerCase()) === 'vm-menu-item') {\n      this.controller.expanded = true;\n    }\n  }\n\n  connectedCallback() {\n    this.hasDisconnected = false;\n  }\n\n  componentDidRender() {\n    (0, _client.writeTask)(() => {\n      if (!this.hasDisconnected) this.calculateHeight();\n    });\n  }\n\n  disconnectedCallback() {\n    this.controller = undefined;\n    this.hasDisconnected = true;\n  }\n  /**\n   * Focuses the menu.\n   */\n\n\n  focusMenu() {\n    var _this33 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this33$menu;\n\n      (_this33$menu = _this33.menu) === null || _this33$menu === void 0 ? void 0 : _this33$menu.focus();\n    })();\n  }\n  /**\n   * Removes focus from the menu.\n   */\n\n\n  blurMenu() {\n    var _this34 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this34$menu;\n\n      (_this34$menu = _this34.menu) === null || _this34$menu === void 0 ? void 0 : _this34$menu.blur();\n    })();\n  }\n  /**\n   * Returns the currently focused menu item.\n   */\n\n\n  getActiveMenuItem() {\n    var _this35 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this35.activeMenuItem;\n    })();\n  }\n  /**\n   * Sets the currently focused menu item.\n   */\n\n\n  setActiveMenuItem(item) {\n    var _this36 = this;\n\n    return _asyncToGenerator(function* () {\n      item === null || item === void 0 ? void 0 : item.focusItem();\n      _this36.activeMenuItem = item;\n    })();\n  }\n  /**\n   * Calculates the height of the settings menu based on its children.\n   */\n\n\n  calculateHeight() {\n    var _this37 = this;\n\n    return _asyncToGenerator(function* () {\n      var height = 0;\n\n      if (_this37.activeSubmenu) {\n        var _yield$submenu$calcul;\n\n        var submenu = yield _this37.activeSubmenu.getMenu();\n        height = (_yield$submenu$calcul = yield submenu === null || submenu === void 0 ? void 0 : submenu.calculateHeight()) !== null && _yield$submenu$calcul !== void 0 ? _yield$submenu$calcul : 0;\n        height += yield _this37.activeSubmenu.getControllerHeight();\n      } else {\n        var _this37$container;\n\n        var children = (_this37$container = _this37.container) === null || _this37$container === void 0 ? void 0 : _this37$container.firstChild.assignedElements({\n          flatten: true\n        });\n        children === null || children === void 0 ? void 0 : children.forEach(child => {\n          height += parseFloat(window.getComputedStyle(child).height);\n        });\n      }\n\n      _this37.vmMenuHeightChange.emit(height);\n\n      return height;\n    })();\n  }\n\n  onOpenSubmenu(event) {\n    event.stopPropagation();\n    if (!isUndefined(this.activeSubmenu)) this.activeSubmenu.active = false;\n    this.activeSubmenu = event.detail;\n    this.getChildren().forEach(child => {\n      if (child !== this.activeSubmenu) {\n        child.style.opacity = '0';\n        child.style.visibility = 'hidden';\n      }\n    });\n    (0, _client.writeTask)(() => {\n      this.activeSubmenu.active = true;\n    });\n  }\n\n  onCloseSubmenu(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isUndefined(this.activeSubmenu)) this.activeSubmenu.active = false;\n    this.getChildren().forEach(child => {\n      if (child !== this.activeSubmenu) {\n        child.style.opacity = '';\n        child.style.visibility = '';\n      }\n    });\n    (0, _client.writeTask)(() => {\n      this.activeSubmenu = undefined;\n    });\n  }\n\n  onWindowClick() {\n    this.onCloseSubmenu();\n    this.onClose();\n  }\n\n  onWindowKeyDown(event) {\n    if (this.active && event.key === 'Escape') {\n      this.onCloseSubmenu();\n      this.onClose();\n      this.focusController();\n    }\n  }\n\n  getChildren() {\n    var _this$host$shadowRoot;\n\n    var assignedElements = (_this$host$shadowRoot = this.host.shadowRoot.querySelector('slot')) === null || _this$host$shadowRoot === void 0 ? void 0 : _this$host$shadowRoot.assignedElements({\n      flatten: true\n    });\n    return assignedElements !== null && assignedElements !== void 0 ? assignedElements : [];\n  }\n\n  getMenuItems() {\n    var _this$host$shadowRoot2;\n\n    var assignedElements = (_this$host$shadowRoot2 = this.host.shadowRoot.querySelector('slot')) === null || _this$host$shadowRoot2 === void 0 ? void 0 : _this$host$shadowRoot2.assignedElements({\n      flatten: true\n    });\n    return menuItemHunter(assignedElements);\n  }\n\n  focusController() {\n    var _this$controller2, _this$controller4;\n\n    if (!isUndefined((_this$controller2 = this.controller) === null || _this$controller2 === void 0 ? void 0 : _this$controller2.focusItem)) {\n      var _this$controller3;\n\n      (_this$controller3 = this.controller) === null || _this$controller3 === void 0 ? void 0 : _this$controller3.focusItem();\n    } else if (!isUndefined((_this$controller4 = this.controller) === null || _this$controller4 === void 0 ? void 0 : _this$controller4.focusControl)) {\n      var _this$controller5;\n\n      (_this$controller5 = this.controller) === null || _this$controller5 === void 0 ? void 0 : _this$controller5.focusControl();\n    } else {\n      var _this$controller6;\n\n      (_this$controller6 = this.controller) === null || _this$controller6 === void 0 ? void 0 : _this$controller6.focus();\n    }\n  }\n\n  triggerMenuItem() {\n    var _this$activeMenuItem$;\n\n    if (isUndefined(this.activeMenuItem)) return;\n    this.activeMenuItem.click(); // If it controls a menu then focus it essentially opening it.\n\n    (_this$activeMenuItem$ = this.activeMenuItem.menu) === null || _this$activeMenuItem$ === void 0 ? void 0 : _this$activeMenuItem$.focusMenu();\n  }\n\n  onClose() {\n    this.activeMenuItem = undefined;\n    this.active = false;\n  }\n\n  onClick(event) {\n    // Stop the event from propagating while playing with menu so that when it is clicked outside\n    // the menu we can close it in the `onWindowClick` handler above.\n    event.stopPropagation();\n  }\n\n  onFocus() {\n    var _this$activeMenuItem;\n\n    this.active = true;\n    [this.activeMenuItem] = this.getMenuItems();\n    (_this$activeMenuItem = this.activeMenuItem) === null || _this$activeMenuItem === void 0 ? void 0 : _this$activeMenuItem.focusItem();\n    this.vmFocus.emit();\n  }\n\n  onBlur() {\n    this.vmBlur.emit();\n  }\n\n  foucsMenuItem(items, index) {\n    if (index < 0) index = items.length - 1;\n    if (index > items.length - 1) index = 0;\n    this.activeMenuItem = items[index];\n    this.activeMenuItem.focusItem();\n  }\n\n  onKeyDown(event) {\n    if (!this.active) return;\n    event.preventDefault();\n    event.stopPropagation();\n    var items = this.getMenuItems();\n    var index = items.findIndex(item => item === this.activeMenuItem);\n\n    switch (event.key) {\n      case 'Escape':\n        this.onClose();\n        this.focusController();\n        break;\n\n      case 'ArrowDown':\n      case 'Tab':\n        this.foucsMenuItem(items, index += 1);\n        break;\n\n      case 'ArrowUp':\n        this.foucsMenuItem(items, index -= 1);\n        break;\n\n      case 'ArrowLeft':\n        this.onClose();\n        this.focusController();\n        break;\n\n      case 'ArrowRight':\n      case 'Enter':\n      case ' ':\n        this.triggerMenuItem();\n        break;\n\n      case 'Home':\n      case 'PageUp':\n        this.foucsMenuItem(items, 0);\n        break;\n\n      case 'End':\n      case 'PageDown':\n        this.foucsMenuItem(items, items.length - 1);\n        break;\n    }\n  }\n\n  render() {\n    var _this$controller$iden, _this$controller7, _this$controller8;\n\n    return (0, _client.h)(\"div\", {\n      id: this.identifier,\n      class: {\n        menu: true,\n        slideIn: !isUndefined(this.slideInDirection),\n        slideInFromLeft: this.slideInDirection === 'left',\n        slideInFromRight: this.slideInDirection === 'right'\n      },\n      role: \"menu\",\n      tabindex: \"-1\",\n      \"aria-labelledby\": (_this$controller$iden = (_this$controller7 = this.controller) === null || _this$controller7 === void 0 ? void 0 : _this$controller7.identifier) !== null && _this$controller$iden !== void 0 ? _this$controller$iden : (_this$controller8 = this.controller) === null || _this$controller8 === void 0 ? void 0 : _this$controller8.id,\n      \"aria-hidden\": !this.active ? 'true' : 'false',\n      onFocus: this.onFocus.bind(this),\n      onBlur: this.onBlur.bind(this),\n      onClick: this.onClick.bind(this),\n      onKeyDown: this.onKeyDown.bind(this),\n      ref: el => {\n        this.menu = el;\n      }\n    }, (0, _client.h)(\"div\", {\n      class: \"container\",\n      ref: el => {\n        this.container = el;\n      }\n    }, (0, _client.h)(\"slot\", null)));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"activeMenuItem\": [\"onActiveMenuitemChange\"],\n      \"activeSubmenu\": [\"onActiveSubmenuChange\"],\n      \"active\": [\"onActiveChange\"]\n    };\n  }\n\n  static get style() {\n    return menuCss;\n  }\n\n};\nvar menuItemCss = \":host{display:block}.menuItem{display:flex;position:relative;align-items:center;flex-direction:row;cursor:pointer;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight);padding:var(--vm-menu-item-padding);touch-action:manipulation;box-sizing:border-box}.menuItem:focus{outline:0}.menuItem.hidden{display:none}.menuItem.tapHighlight{background:var(--vm-menu-item-tap-highlight)}.menuItem.showDivider{border-bottom:0.5px solid var(--vm-menu-item-divider-color)}.menuItem.notTouch:hover,.menuItem.notTouch:focus{outline:0;color:var(--vm-menu-item-focus-color);background-color:var(--vm-menu-item-focus-bg)}.menuItem[aria-expanded='true']{position:absolute;z-index:2;top:0;width:100%}.menuItem[aria-hidden='true']{display:none}.menuItem[aria-checked='true'] vm-icon{opacity:1;visibility:visible}vm-icon{display:inline-block}vm-icon{fill:currentColor;pointer-events:none;font-size:var(--vm-menu-item-check-icon-size);margin-right:10px;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.hint{display:inline-block;margin-left:auto;overflow:hidden;pointer-events:none;margin-right:6px;font-size:var(--vm-menu-item-hint-font-size);opacity:var(--vm-menu-item-hint-opacity);color:var(--vm-menu-item-hint-color)}.badge{display:inline-block;line-height:1;overflow:hidden;pointer-events:none;margin-left:6px;color:var(--vm-menu-item-badge-color);background:var(--vm-menu-item-badge-bg);font-size:var(--vm-menu-item-badge-font-size)}.spacer{flex:1}.arrow{color:var(--vm-menu-item-arrow-color);border:2px solid;padding:2px;display:inline-block;border-width:0 2px 2px 0}.arrow.left{margin-right:6px;transform:rotate(135deg)}.arrow.right{transform:rotate(-45deg);opacity:0.38}\";\nvar MenuItem = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    this.showTapHighlight = false;\n    /**\n     * Whether the item is displayed or not.\n     */\n\n    this.hidden = false;\n    /**\n     * The name of the checkmark icon to resolve from the icon library.\n     */\n\n    this.checkIcon = 'check';\n    /** @internal */\n\n    this.isTouch = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch']);\n  }\n  /**\n   * Focuses the menu item.\n   */\n\n\n  focusItem() {\n    var _this38 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this38$menuItem;\n\n      (_this38$menuItem = _this38.menuItem) === null || _this38$menuItem === void 0 ? void 0 : _this38$menuItem.focus();\n    })();\n  }\n  /**\n   * Removes focus from the menu item.\n   */\n\n\n  blurItem() {\n    var _this39 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this39$menuItem;\n\n      (_this39$menuItem = _this39.menuItem) === null || _this39$menuItem === void 0 ? void 0 : _this39$menuItem.blur();\n    })();\n  }\n  /**\n   * Returns the height of the menu item.\n   */\n\n\n  getHeight() {\n    var _this40 = this;\n\n    return _asyncToGenerator(function* () {\n      return parseFloat(_this40.menuItem ? window.getComputedStyle(_this40.menuItem).height : '0');\n    })();\n  }\n\n  onClick() {\n    if (!isNullOrUndefined(this.menu)) this.menu.active = !this.expanded;\n  }\n\n  onFocus() {\n    this.vmFocus.emit();\n  }\n\n  onBlur() {\n    this.vmBlur.emit();\n  }\n\n  onTouchStart() {\n    this.showTapHighlight = true;\n  }\n\n  onTouchEnd() {\n    setTimeout(() => {\n      this.showTapHighlight = false;\n    }, 100);\n  }\n\n  onMouseLeave() {\n    var _this$menuItem;\n\n    (_this$menuItem = this.menuItem) === null || _this$menuItem === void 0 ? void 0 : _this$menuItem.blur();\n  }\n\n  render() {\n    var _this$expanded, _this$menu$identifier, _this$menu, _this$menu2;\n\n    var isCheckedDefined = !isUndefined(this.checked);\n    var isMenuDefined = !isUndefined(this.menu);\n    var hasExpanded = this.expanded ? 'true' : 'false';\n    var isChecked = this.checked ? 'true' : 'false';\n    var showCheckedIcon = isCheckedDefined && !isUndefined(this.checkIcon);\n    var showLeftNavArrow = isMenuDefined && this.expanded;\n    var showRightNavArrow = isMenuDefined && !this.expanded;\n    var showHint = !isUndefined(this.hint) && !isCheckedDefined && (!isMenuDefined || !this.expanded);\n    var showBadge = !isUndefined(this.badge) && !showHint && !showRightNavArrow;\n    var hasSpacer = showHint || showRightNavArrow;\n    return (0, _client.h)(\"div\", {\n      class: {\n        menuItem: true,\n        notTouch: !this.isTouch,\n        tapHighlight: this.showTapHighlight,\n        showDivider: isMenuDefined && ((_this$expanded = this.expanded) !== null && _this$expanded !== void 0 ? _this$expanded : false)\n      },\n      id: this.identifier,\n      role: isCheckedDefined ? 'menuitemradio' : 'menuitem',\n      tabindex: \"0\",\n      \"aria-label\": this.label,\n      \"aria-hidden\": this.hidden ? 'true' : 'false',\n      \"aria-haspopup\": isMenuDefined ? 'true' : undefined,\n      \"aria-controls\": (_this$menu$identifier = (_this$menu = this.menu) === null || _this$menu === void 0 ? void 0 : _this$menu.identifier) !== null && _this$menu$identifier !== void 0 ? _this$menu$identifier : (_this$menu2 = this.menu) === null || _this$menu2 === void 0 ? void 0 : _this$menu2.id,\n      \"aria-expanded\": isMenuDefined ? hasExpanded : undefined,\n      \"aria-checked\": isCheckedDefined ? isChecked : undefined,\n      onClick: this.onClick.bind(this),\n      onFocus: this.onFocus.bind(this),\n      onBlur: this.onBlur.bind(this),\n      onTouchStart: this.onTouchStart.bind(this),\n      onTouchEnd: this.onTouchEnd.bind(this),\n      onMouseLeave: this.onMouseLeave.bind(this),\n      ref: el => {\n        this.menuItem = el;\n      }\n    }, showCheckedIcon && (0, _client.h)(\"vm-icon\", {\n      name: this.checkIcon,\n      library: this.icons\n    }), showLeftNavArrow && (0, _client.h)(\"span\", {\n      class: \"arrow left\"\n    }), this.label, hasSpacer && (0, _client.h)(\"span\", {\n      class: \"spacer\"\n    }), showHint && (0, _client.h)(\"span\", {\n      class: \"hint\"\n    }, this.hint), showBadge && (0, _client.h)(\"span\", {\n      class: \"badge\"\n    }, this.badge), showRightNavArrow && (0, _client.h)(\"span\", {\n      class: \"arrow right\"\n    }));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get style() {\n    return menuItemCss;\n  }\n\n};\nvar MenuRadio = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmCheck = (0, _client.createEvent)(this, \"vmCheck\", 7);\n    /**\n     * Whether the radio item is selected or not.\n     */\n\n    this.checked = false;\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n\n    this.checkIcon = 'check';\n    withComponentRegistry(this);\n  }\n\n  onClick() {\n    this.checked = true;\n    this.vmCheck.emit();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-menu-item\", {\n      label: this.label,\n      checked: this.checked,\n      badge: this.badge,\n      checkIcon: this.checkIcon,\n      icons: this.icons,\n      onClick: this.onClick.bind(this)\n    });\n  }\n\n};\nvar MenuRadioGroup = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmCheck = (0, _client.createEvent)(this, \"vmCheck\", 7);\n    withComponentRegistry(this);\n  }\n\n  onValueChange() {\n    var _this$findRadios;\n\n    (_this$findRadios = this.findRadios()) === null || _this$findRadios === void 0 ? void 0 : _this$findRadios.forEach(radio => {\n      radio.checked = radio.value === this.value;\n    });\n  }\n\n  connectedCallback() {\n    this.onValueChange();\n  }\n\n  componentDidLoad() {\n    this.onValueChange();\n  }\n\n  onSelectionChange(event) {\n    var radio = event.target;\n    this.value = radio.value;\n  }\n\n  findRadios() {\n    var _this$host$shadowRoot3;\n\n    return (_this$host$shadowRoot3 = this.host.shadowRoot.querySelector('slot')) === null || _this$host$shadowRoot3 === void 0 ? void 0 : _this$host$shadowRoot3.assignedElements();\n  }\n\n  render() {\n    return (0, _client.h)(\"slot\", null);\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"value\": [\"onValueChange\"]\n    };\n  }\n\n};\nvar MuteControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    /**\n     * The name of the low volume icon to resolve from the icon library.\n     */\n\n    this.lowVolumeIcon = 'volume-low';\n    /**\n     * The name of the high volume icon to resolve from the icon library.\n     */\n\n    this.highVolumeIcon = 'volume-high';\n    /**\n     * The name of the muted volume icon to resolve from the icon library.\n     */\n\n    this.mutedIcon = 'volume-mute';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'm';\n    /** @internal */\n\n    this.volume = 50;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['muted', 'volume', 'i18n']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n\n  getIcon() {\n    var volumeIcon = this.volume < 50 ? this.lowVolumeIcon : this.highVolumeIcon;\n    return this.muted || this.volume === 0 ? this.mutedIcon : volumeIcon;\n  }\n\n  onClick() {\n    this.dispatch('muted', !this.muted);\n  }\n\n  render() {\n    var tooltip = this.muted ? this.i18n.unmute : this.i18n.mute;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(\"vm-control\", {\n      label: this.i18n.mute,\n      pressed: this.muted,\n      keys: this.keys,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.getIcon(),\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint));\n  }\n\n};\nvar pipControlCss = \":host([hidden]){display:none}\";\nvar PiPControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.canSetPiP = false;\n    /**\n     * The name of the enter pip icon to resolve from the icon library.\n     */\n\n    this.enterIcon = 'pip-enter';\n    /**\n     * The name of the exit pip icon to resolve from the icon library.\n     */\n\n    this.exitIcon = 'pip-exit';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'p';\n    /** @internal */\n\n    this.isPiPActive = false;\n    /** @internal */\n\n    this.i18n = {};\n    /** @internal */\n\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isPiPActive', 'playbackReady', 'i18n']);\n  }\n\n  onPlaybackReadyChange() {\n    var _this41 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetP;\n\n      var player = getPlayerFromRegistry(_this41);\n      _this41.canSetPiP = (_yield$player$canSetP = yield player === null || player === void 0 ? void 0 : player.canSetPiP()) !== null && _yield$player$canSetP !== void 0 ? _yield$player$canSetP : false;\n    })();\n  }\n\n  componentDidLoad() {\n    this.onPlaybackReadyChange();\n  }\n\n  onClick() {\n    var player = getPlayerFromRegistry(this);\n    !this.isPiPActive ? player === null || player === void 0 ? void 0 : player.enterPiP() : player === null || player === void 0 ? void 0 : player.exitPiP();\n  }\n\n  render() {\n    var tooltip = this.isPiPActive ? this.i18n.exitPiP : this.i18n.enterPiP;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(_client.Host, {\n      hidden: !this.canSetPiP\n    }, (0, _client.h)(\"vm-control\", {\n      label: this.i18n.pip,\n      keys: this.keys,\n      pressed: this.isPiPActive,\n      hidden: !this.canSetPiP,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.isPiPActive ? this.exitIcon : this.enterIcon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint)));\n  }\n\n  static get watchers() {\n    return {\n      \"playbackReady\": [\"onPlaybackReadyChange\"]\n    };\n  }\n\n  static get style() {\n    return pipControlCss;\n  }\n\n};\nvar PlaybackControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The name of the play icon to resolve from the icon library.\n     */\n\n    this.playIcon = 'play';\n    /**\n     * The name of the pause icon to resolve from the icon library.\n     */\n\n    this.pauseIcon = 'pause';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'k';\n    /** @internal */\n\n    this.paused = true;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['paused', 'i18n']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n\n  onClick() {\n    this.dispatch('paused', !this.paused);\n  }\n\n  render() {\n    var tooltip = this.paused ? this.i18n.play : this.i18n.pause;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(\"vm-control\", {\n      label: this.i18n.playback,\n      keys: this.keys,\n      pressed: !this.paused,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.paused ? this.playIcon : this.pauseIcon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint));\n  }\n\n};\nvar apiMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror', 'fullscreen'], // WebKit\n['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror', '-webkit-full-screen'], // Mozilla\n['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror', '-moz-full-screen'], // Microsoft\n['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError', '-ms-fullscreen']];\n/**\n * Normalizes native fullscreen API differences across browsers.\n *\n * @ref https://github.com/videojs/video.js/blob/7.6.x/src/js/fullscreen-api.js\n */\n\nvar getFullscreenApi = () => {\n  var api = {\n    prefixed: false\n  };\n  var specApi = apiMap[0];\n  var browserApi; // Determine the supported set of functions.\n\n  for (var i = 0; i < apiMap.length; i += 1) {\n    // Check for exitFullscreen function.\n    if (apiMap[i][1] in document) {\n      browserApi = apiMap[i];\n      break;\n    }\n  } // Map the browser API names to the spec API names.\n\n\n  if (browserApi) {\n    for (var _i = 0; _i < browserApi.length; _i += 1) {\n      api[specApi[_i]] = browserApi[_i];\n    }\n\n    api.prefixed = browserApi[0] !== specApi[0];\n  }\n\n  return api;\n};\n\nclass Fullscreen {\n  constructor(el, listener) {\n    this.el = el;\n    this.listener = listener;\n    this.disposal = new Disposal();\n    this.api = getFullscreenApi();\n\n    if (this.isSupported) {\n      this.disposal.add(listen(this.el, this.api.fullscreenchange, this.onFullscreenChange.bind(this)));\n      /* *\n       * We have to listen to this on webkit, because no `fullscreenchange` event is fired when the\n       * video element enters or exits fullscreen by:\n       *\n       *  1. Clicking the native Html5 fullscreen video control.\n       *  2. Calling requestFullscreen from the video element directly.\n       *  3. Calling requestFullscreen inside an iframe.\n       * */\n\n      if (document.webkitExitFullscreen) {\n        this.disposal.add(listen(this.el, 'webkitfullscreenchange', this.onFullscreenChange.bind(this)));\n      } // We listen to this for the same reasons as above except when the browser is Firefox.\n\n\n      if (document.mozCancelFullScreen) {\n        this.disposal.add(listen(this.el, 'mozfullscreenchange', this.onFullscreenChange.bind(this)));\n      }\n    }\n  }\n\n  enterFullscreen(options) {\n    var _this42 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this42.isSupported) throw Error('Fullscreen API is not available.');\n      return _this42.el[_this42.api.requestFullscreen](options);\n    })();\n  }\n\n  exitFullscreen() {\n    var _this43 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this43.isSupported) throw Error('Fullscreen API is not available.');\n      if (!_this43.isActive) throw Error('Player is not currently in fullscreen mode to exit.');\n      return document[_this43.api.exitFullscreen]();\n    })();\n  }\n\n  get isActive() {\n    if (!this.isSupported) return false;\n    var fullscreenEl = document[this.api.fullscreenElement];\n    return this.el === fullscreenEl || this.el.matches(\":\".concat(this.api.fullscreen)) || this.el.contains(fullscreenEl);\n  }\n\n  get isSupported() {\n    return !isUndefined(this.api.requestFullscreen);\n  }\n\n  onFullscreenChange() {\n    this.listener(this.isActive);\n  }\n\n  destroy() {\n    this.disposal.empty();\n  }\n\n}\n\nclass Logger {\n  constructor() {\n    this.silent = false;\n  }\n\n  log() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (!this.silent && !isUndefined(console)) console.log('[Vime tip]:', ...args);\n  }\n\n  warn() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    if (!this.silent && !isUndefined(console)) console.error('[Vime warn]:', ...args);\n  }\n\n}\n\nvar players = new Set();\n\nfunction withAutopause(player) {\n  var el = (0, _client.getElement)(player);\n  createStencilHook(player, () => {\n    players.add(el);\n  }, () => {\n    players.delete(el);\n  });\n}\n\nfunction autopause(player) {\n  var el = (0, _client.getElement)(player);\n  players.forEach(p => {\n    if (p !== el && p.autopause) p.paused = true;\n  });\n}\n/* eslint-disable func-names */\n\n\nfunction withPlayerEvents(player) {\n  var el = (0, _client.getElement)(player);\n  var cache = new Map();\n\n  function initCache() {\n    Object.keys(initialState).forEach(prop => {\n      cache.set(prop, player[prop]);\n    });\n  }\n\n  createStencilHook(player, () => {\n    initCache();\n  }, () => {\n    cache.clear();\n  });\n  var {\n    componentDidRender\n  } = player;\n\n  player.componentDidRender = function () {\n    componentDidRender === null || componentDidRender === void 0 ? void 0 : componentDidRender();\n    var props = Array.from(cache.keys());\n\n    for (var i = 0; i < props.length; i += 1) {\n      var prop = props[i];\n      var oldValue = cache.get(prop);\n      var newValue = player[prop];\n\n      if (oldValue !== newValue) {\n        firePlayerEvent(el, prop, newValue, oldValue);\n        cache.set(prop, newValue);\n      }\n    }\n  };\n}\n/* eslint-disable func-names */\n// These changes need to be called immediately to avoid the browser blocking the request.\n\n\nvar immediateAdapterCall = new Set(['currentTime', 'paused']);\n\nfunction withPlayerScheduler(player) {\n  var el = (0, _client.getElement)(player);\n  var cache = new Map();\n  var disposal = new Disposal();\n\n  function initCache() {\n    Object.keys(initialState).forEach(prop => {\n      cache.set(prop, player[prop]);\n    });\n  } // Queue of adapter calls to be run when the media is ready for playback.\n\n\n  var adapterCalls = [];\n\n  function flushAdapterCalls() {\n    return _flushAdapterCalls.apply(this, arguments);\n  }\n\n  function _flushAdapterCalls() {\n    _flushAdapterCalls = _asyncToGenerator(function* () {\n      var adapter = yield player.adapter;\n      if (isUndefined(adapter)) return;\n\n      for (var i = 0; i < adapterCalls.length; i += 1) {\n        // eslint-disable-next-line no-await-in-loop\n        yield adapterCalls[i](adapter);\n      }\n\n      adapterCalls = [];\n    });\n    return _flushAdapterCalls.apply(this, arguments);\n  }\n\n  var hasMediaChanged = false;\n\n  function onMediaChange(e) {\n    e === null || e === void 0 ? void 0 : e.stopImmediatePropagation(); // Don't reset first time otherwise props intialized by the user will be reset.\n\n    if (!hasMediaChanged) {\n      hasMediaChanged = true;\n      return;\n    }\n\n    adapterCalls = [];\n    (0, _client.writeTask)(() => {\n      Object.keys(initialState).filter(shouldPropResetOnMediaChange).forEach(prop => {\n        player[prop] = initialState[prop];\n      });\n    });\n  }\n\n  function onStateChange(_x29) {\n    return _onStateChange.apply(this, arguments);\n  } // Called by ProviderConnect.\n\n\n  function _onStateChange() {\n    _onStateChange = _asyncToGenerator(function* (event) {\n      event.stopImmediatePropagation();\n      var {\n        by,\n        prop,\n        value\n      } = event.detail;\n\n      if (!isWritableProp(prop)) {\n        var _player$logger;\n\n        (_player$logger = player.logger) === null || _player$logger === void 0 ? void 0 : _player$logger.warn(\"\".concat(by.nodeName, \" tried to change `\").concat(prop, \"` but it is readonly.\"));\n        return;\n      }\n\n      if (!player.playbackStarted && immediateAdapterCall.has(prop)) {\n        var adapter = yield player.adapter;\n\n        if (prop === 'paused' && !value) {\n          adapter === null || adapter === void 0 ? void 0 : adapter.play();\n        }\n\n        if (prop === 'currentTime') {\n          adapter === null || adapter === void 0 ? void 0 : adapter.play();\n          adapter === null || adapter === void 0 ? void 0 : adapter.setCurrentTime(value);\n        }\n      }\n\n      (0, _client.writeTask)(() => {\n        player[prop] = value;\n      });\n    });\n    return _onStateChange.apply(this, arguments);\n  }\n\n  var {\n    onProviderDisconnect\n  } = player;\n\n  player.onProviderDisconnect = function () {\n    onMediaChange();\n    if (onProviderDisconnect) onProviderDisconnect.call(player);\n  };\n\n  createStencilHook(player, () => {\n    initCache();\n    disposal.add(listen(el, LOAD_START_EVENT, onMediaChange));\n    disposal.add(listen(el, STATE_CHANGE_EVENT, onStateChange));\n  }, () => {\n    cache.clear();\n    disposal.empty();\n  });\n  wrapStencilHook(player, 'componentWillRender', /*#__PURE__*/_asyncToGenerator(function* () {\n    if (player.playbackReady && adapterCalls.length > 0) yield flushAdapterCalls();\n  }));\n\n  function isAdapterCallRequired(prop, value) {\n    var _player$PROVIDER_CACH;\n\n    return value !== ((_player$PROVIDER_CACH = player[PROVIDER_CACHE_KEY]) === null || _player$PROVIDER_CACH === void 0 ? void 0 : _player$PROVIDER_CACH.get(prop));\n  }\n\n  return /*#__PURE__*/function () {\n    var _safeAdapterCall = _asyncToGenerator(function* (prop, method) {\n      if (!isAdapterCallRequired(prop, player[prop])) return;\n      var value = player[prop];\n\n      var safeCall = /*#__PURE__*/function () {\n        var _ref10 = _asyncToGenerator(function* (adapter) {\n          try {\n            var _adapter$method; // @ts-ignore\n\n\n            yield adapter === null || adapter === void 0 ? void 0 : (_adapter$method = adapter[method]) === null || _adapter$method === void 0 ? void 0 : _adapter$method.call(adapter, value);\n          } catch (e) {\n            el.dispatchEvent(new CustomEvent('vmError', {\n              detail: e\n            }));\n          }\n        });\n\n        return function safeCall(_x32) {\n          return _ref10.apply(this, arguments);\n        };\n      }();\n\n      if (player.playbackReady) {\n        yield safeCall(yield player.adapter);\n      } else {\n        adapterCalls.push(safeCall);\n      }\n    });\n\n    function safeAdapterCall(_x30, _x31) {\n      return _safeAdapterCall.apply(this, arguments);\n    }\n\n    return safeAdapterCall;\n  }();\n}\n\nvar playerCss = \".player{box-sizing:border-box;direction:ltr;font-family:var(--vm-player-font-family);-moz-osx-font-smoothing:auto;-webkit-font-smoothing:subpixel-antialiased;-webkit-tap-highlight-color:transparent;font-variant-numeric:tabular-nums;font-weight:500;line-height:1.7;width:100%;display:block;max-width:100%;min-width:275px;min-height:40px;position:relative;text-shadow:none;outline:0;transition:box-shadow 0.3s ease;box-shadow:var(--vm-player-box-shadow);border-radius:var(--vm-player-border-radius)}.player.idle{cursor:none}.player.audio{background-color:transparent !important}.player.video{height:0;overflow:hidden;background-color:var(--vm-player-bg, #000)}.player.fullscreen{margin:0;border-radius:0;width:100%;height:100%;padding-bottom:0 !important}.blocker{position:absolute;top:0;left:0;width:100%;height:100%;display:inline-block;z-index:var(--vm-blocker-z-index)}\";\nvar idCount$1 = 0;\nvar Player = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmThemeChange = (0, _client.createEvent)(this, \"vmThemeChange\", 7);\n    this.vmPausedChange = (0, _client.createEvent)(this, \"vmPausedChange\", 7);\n    this.vmPlay = (0, _client.createEvent)(this, \"vmPlay\", 7);\n    this.vmPlayingChange = (0, _client.createEvent)(this, \"vmPlayingChange\", 7);\n    this.vmSeekingChange = (0, _client.createEvent)(this, \"vmSeekingChange\", 7);\n    this.vmSeeked = (0, _client.createEvent)(this, \"vmSeeked\", 7);\n    this.vmBufferingChange = (0, _client.createEvent)(this, \"vmBufferingChange\", 7);\n    this.vmDurationChange = (0, _client.createEvent)(this, \"vmDurationChange\", 7);\n    this.vmCurrentTimeChange = (0, _client.createEvent)(this, \"vmCurrentTimeChange\", 7);\n    this.vmReady = (0, _client.createEvent)(this, \"vmReady\", 7);\n    this.vmPlaybackReady = (0, _client.createEvent)(this, \"vmPlaybackReady\", 7);\n    this.vmPlaybackStarted = (0, _client.createEvent)(this, \"vmPlaybackStarted\", 7);\n    this.vmPlaybackEnded = (0, _client.createEvent)(this, \"vmPlaybackEnded\", 7);\n    this.vmBufferedChange = (0, _client.createEvent)(this, \"vmBufferedChange\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmCurrentProviderChange = (0, _client.createEvent)(this, \"vmCurrentProviderChange\", 7);\n    this.vmCurrentSrcChange = (0, _client.createEvent)(this, \"vmCurrentSrcChange\", 7);\n    this.vmCurrentPosterChange = (0, _client.createEvent)(this, \"vmCurrentPosterChange\", 7);\n    this.vmMediaTitleChange = (0, _client.createEvent)(this, \"vmMediaTitleChange\", 7);\n    this.vmControlsChange = (0, _client.createEvent)(this, \"vmControlsChange\", 7);\n    this.vmPlaybackRateChange = (0, _client.createEvent)(this, \"vmPlaybackRateChange\", 7);\n    this.vmPlaybackRatesChange = (0, _client.createEvent)(this, \"vmPlaybackRatesChange\", 7);\n    this.vmPlaybackQualityChange = (0, _client.createEvent)(this, \"vmPlaybackQualityChange\", 7);\n    this.vmPlaybackQualitiesChange = (0, _client.createEvent)(this, \"vmPlaybackQualitiesChange\", 7);\n    this.vmMutedChange = (0, _client.createEvent)(this, \"vmMutedChange\", 7);\n    this.vmVolumeChange = (0, _client.createEvent)(this, \"vmVolumeChange\", 7);\n    this.vmViewTypeChange = (0, _client.createEvent)(this, \"vmViewTypeChange\", 7);\n    this.vmMediaTypeChange = (0, _client.createEvent)(this, \"vmMediaTypeChange\", 7);\n    this.vmLiveChange = (0, _client.createEvent)(this, \"vmLiveChange\", 7);\n    this.vmTouchChange = (0, _client.createEvent)(this, \"vmTouchChange\", 7);\n    this.vmLanguageChange = (0, _client.createEvent)(this, \"vmLanguageChange\", 7);\n    this.vmI18nChange = (0, _client.createEvent)(this, \"vmI18nChange\", 7);\n    this.vmTranslationsChange = (0, _client.createEvent)(this, \"vmTranslationsChange\", 7);\n    this.vmLanguagesChange = (0, _client.createEvent)(this, \"vmLanguagesChange\", 7);\n    this.vmFullscreenChange = (0, _client.createEvent)(this, \"vmFullscreenChange\", 7);\n    this.vmPiPChange = (0, _client.createEvent)(this, \"vmPiPChange\", 7);\n    this.vmTextTracksChange = (0, _client.createEvent)(this, \"vmTextTracksChange\", 7);\n    this.vmCurrentTextTrackChange = (0, _client.createEvent)(this, \"vmCurrentTextTrackChange\", 7);\n    this.vmTextTrackVisibleChange = (0, _client.createEvent)(this, \"vmTextTrackVisibleChange\", 7);\n    this.vmAudioTracksChange = (0, _client.createEvent)(this, \"vmAudioTracksChange\", 7);\n    this.vmCurrentAudioTrackChange = (0, _client.createEvent)(this, \"vmCurrentAudioTrackChange\", 7);\n    this.disposal = new Disposal();\n    /**\n     * ------------------------------------------------------\n     * Props\n     * ------------------------------------------------------\n     */\n\n    /** @internal @readonly */\n\n    this.logger = new Logger();\n    /** @inheritDoc */\n\n    this.icons = 'vime';\n    /** @inheritDoc */\n\n    this.paused = true;\n    /** @inheritDoc @readonly */\n\n    this.playing = false;\n    /** @inheritDoc @readonly */\n\n    this.duration = -1;\n    /** @inheritDoc */\n\n    this.currentTime = 0;\n    /** @inheritDoc */\n\n    this.autoplay = false;\n    /** @inheritDoc @readonly */\n\n    this.ready = false;\n    /** @inheritDoc @readonly */\n\n    this.playbackReady = false;\n    /** @inheritDoc */\n\n    this.loop = false;\n    /** @inheritDoc */\n\n    this.muted = false;\n    /** @inheritDoc @readonly */\n\n    this.buffered = 0;\n    /** @inheritDoc */\n\n    this.playbackRate = 1;\n    this.lastRateCheck = 1;\n    /** @inheritDoc @readonly */\n\n    this.playbackRates = [1];\n    /** @inheritDoc @readonly */\n\n    this.playbackQualities = [];\n    /** @inheritDoc @readonly */\n\n    this.seeking = false;\n    /** @inheritDoc */\n\n    this.debug = false;\n    /** @inheritDoc @readonly */\n\n    this.playbackStarted = false;\n    /** @inheritDoc @readonly */\n\n    this.playbackEnded = false;\n    /** @inheritDoc @readonly */\n\n    this.buffering = false;\n    /** @inheritDoc */\n\n    this.controls = false;\n    /** @inheritDoc */\n\n    this.isControlsActive = false;\n    /** @inheritDoc @readonly */\n\n    this.isSettingsActive = false;\n    /** @inheritDoc */\n\n    this.volume = 50;\n    /** @inheritDoc @readonly */\n\n    this.isFullscreenActive = false;\n    /** @inheritDoc */\n\n    this.aspectRatio = '16:9';\n    /** @inheritDoc @readonly */\n\n    this.isAudioView = false;\n    /** @inheritDoc @readonly */\n\n    this.isVideoView = false;\n    /** @inheritDoc @readonly */\n\n    this.isAudio = false;\n    /** @inheritDoc @readonly */\n\n    this.isVideo = false;\n    /** @inheritDoc @readonly */\n\n    this.isLive = false;\n    /** @inheritDoc @readonly */\n\n    this.isMobile = false;\n    /** @inheritDoc @readonly */\n\n    this.isTouch = false;\n    /** @inheritDoc @readonly */\n\n    this.isPiPActive = false;\n    /** @inheritDoc @readonly */\n\n    this.textTracks = [];\n    /** @inheritDoc @readonly */\n\n    this.currentTextTrack = -1;\n    /** @inheritDoc @readonly */\n\n    this.isTextTrackVisible = true;\n    /** @inheritDoc */\n\n    this.shouldRenderNativeTextTracks = true;\n    /** @inheritDoc @readonly */\n\n    this.audioTracks = [];\n    /** @inheritDoc @readonly */\n\n    this.currentAudioTrack = -1;\n    /** @inheritDoc */\n\n    this.autopause = true;\n    /** @inheritDoc */\n\n    this.playsinline = false;\n    /** @inheritDoc */\n\n    this.language = 'en';\n    /** @inheritDoc */\n\n    this.translations = {\n      en\n    };\n    /** @inheritDoc @readonly */\n\n    this.languages = ['en'];\n    /** @inheritDoc @readonly */\n\n    this.i18n = en;\n    withFindPlayer(this);\n    withComponentRegistrar(this);\n    withAutopause(this);\n    withProviderHost(this);\n    withPlayerEvents(this);\n    this.safeAdapterCall = withPlayerScheduler(this);\n  }\n\n  get adapter() {\n    var _this$provider;\n\n    return (_this$provider = this.provider) === null || _this$provider === void 0 ? void 0 : _this$provider.getAdapter();\n  }\n\n  onContainerChange() {\n    var _this$fullscreen;\n\n    (_this$fullscreen = this.fullscreen) === null || _this$fullscreen === void 0 ? void 0 : _this$fullscreen.destroy();\n    if (isUndefined(this.container)) return;\n    this.fullscreen = new Fullscreen(this.container, isActive => {\n      this.isFullscreenActive = isActive;\n      this.rotateDevice();\n    });\n  }\n\n  onPausedChange() {\n    if (this.paused) {\n      this.playing = false;\n    } else {\n      autopause(this);\n    }\n\n    this.safeAdapterCall('paused', !this.paused ? 'play' : 'pause');\n  }\n\n  onDurationChange() {\n    this.isLive = this.duration === Infinity;\n  }\n\n  onCurrentTimeChange() {\n    var duration = this.playbackReady ? this.duration : Infinity;\n    this.currentTime = Math.max(0, Math.min(this.currentTime, duration));\n    this.safeAdapterCall('currentTime', 'setCurrentTime');\n  }\n\n  onPlaybackReadyChange() {\n    if (!this.ready) this.ready = true;\n  }\n\n  onMutedChange() {\n    this.safeAdapterCall('muted', 'setMuted');\n  }\n\n  onPlaybackRateChange(newRate, prevRate) {\n    var _this44 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this44$adapte, _yield$_this44$adapte2;\n\n      if (newRate === _this44.lastRateCheck) return;\n\n      if (!(yield (_yield$_this44$adapte = yield _this44.adapter) === null || _yield$_this44$adapte === void 0 ? void 0 : (_yield$_this44$adapte2 = _yield$_this44$adapte.canSetPlaybackRate) === null || _yield$_this44$adapte2 === void 0 ? void 0 : _yield$_this44$adapte2.call(_yield$_this44$adapte))) {\n        _this44.logger.log('provider cannot change `playbackRate`.');\n\n        _this44.lastRateCheck = prevRate;\n        _this44.playbackRate = prevRate;\n        return;\n      }\n\n      if (!_this44.playbackRates.includes(newRate)) {\n        _this44.logger.log(\"invalid `playbackRate` of \".concat(newRate, \", \") + \"valid values are [\".concat(_this44.playbackRates.join(', '), \"]\"));\n\n        _this44.lastRateCheck = prevRate;\n        _this44.playbackRate = prevRate;\n        return;\n      }\n\n      _this44.lastRateCheck = newRate;\n\n      _this44.safeAdapterCall('playbackRate', 'setPlaybackRate');\n    })();\n  }\n\n  onPlaybackQualityChange(newQuality, prevQuality) {\n    var _this45 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this45$adapte, _yield$_this45$adapte2;\n\n      if (isUndefined(newQuality) || newQuality === _this45.lastQualityCheck) return;\n\n      if (!(yield (_yield$_this45$adapte = yield _this45.adapter) === null || _yield$_this45$adapte === void 0 ? void 0 : (_yield$_this45$adapte2 = _yield$_this45$adapte.canSetPlaybackQuality) === null || _yield$_this45$adapte2 === void 0 ? void 0 : _yield$_this45$adapte2.call(_yield$_this45$adapte))) {\n        _this45.logger.log('provider cannot change `playbackQuality`.');\n\n        _this45.lastQualityCheck = prevQuality;\n        _this45.playbackQuality = prevQuality;\n        return;\n      }\n\n      if (!_this45.playbackQualities.includes(newQuality)) {\n        _this45.logger.log(\"invalid `playbackQuality` of \".concat(newQuality, \", \") + \"valid values are [\".concat(_this45.playbackQualities.join(', '), \"]\"));\n\n        _this45.lastQualityCheck = prevQuality;\n        _this45.playbackQuality = prevQuality;\n        return;\n      }\n\n      _this45.lastQualityCheck = newQuality;\n\n      _this45.safeAdapterCall('playbackQuality', 'setPlaybackQuality');\n    })();\n  }\n\n  onDebugChange() {\n    this.logger.silent = !this.debug;\n  }\n\n  onVolumeChange() {\n    var _this46 = this;\n\n    return _asyncToGenerator(function* () {\n      _this46.volume = Math.max(0, Math.min(_this46.volume, 100));\n\n      _this46.safeAdapterCall('volume', 'setVolume');\n    })();\n  }\n\n  onViewTypeChange() {\n    this.isAudioView = this.viewType === ViewType.Audio;\n    this.isVideoView = this.viewType === ViewType.Video;\n  }\n\n  onMediaTypeChange() {\n    this.isAudio = this.mediaType === MediaType.Audio;\n    this.isVideo = this.mediaType === MediaType.Video;\n  }\n\n  onLanguageChange(_, prevLanguage) {\n    if (!this.languages.includes(this.language)) {\n      this.logger.log(\"invalid `language` of \".concat(this.language, \", \") + \"valid values are [\".concat(this.languages.join(', '), \"]\"));\n      this.language = prevLanguage;\n      return;\n    }\n\n    this.i18n = this.translations[this.language];\n  }\n\n  onTranslationsChange() {\n    Object.assign(this.translations, {\n      en\n    });\n    this.languages = Object.keys(this.translations);\n    this.i18n = this.translations[this.language];\n  }\n\n  onError(event) {\n    this.logger.warn(event.detail);\n  }\n  /**\n   * ------------------------------------------------------\n   * Methods\n   * ------------------------------------------------------\n   */\n\n  /** @inheritDoc */\n\n\n  getProvider() {\n    var _this47 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this47.provider;\n    })();\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this48 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this48.adapter;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  play() {\n    var _this49 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this49$adapte;\n\n      return (_yield$_this49$adapte = yield _this49.adapter) === null || _yield$_this49$adapte === void 0 ? void 0 : _yield$_this49$adapte.play();\n    })();\n  }\n  /** @inheritDoc */\n\n\n  pause() {\n    var _this50 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this50$adapte;\n\n      return (_yield$_this50$adapte = yield _this50.adapter) === null || _yield$_this50$adapte === void 0 ? void 0 : _yield$_this50$adapte.pause();\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canPlay(type) {\n    var _this51 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this51$adapte, _yield$_this51$adapte2;\n\n      return (_yield$_this51$adapte = (_yield$_this51$adapte2 = yield _this51.adapter) === null || _yield$_this51$adapte2 === void 0 ? void 0 : _yield$_this51$adapte2.canPlay(type)) !== null && _yield$_this51$adapte !== void 0 ? _yield$_this51$adapte : false;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canAutoplay() {\n    return _asyncToGenerator(function* () {\n      return canAutoplay();\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canMutedAutoplay() {\n    return _asyncToGenerator(function* () {\n      return canAutoplay(true);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetPlaybackRate() {\n    var _this52 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this52$adapte, _yield$_this52$adapte2, _yield$_this52$adapte3;\n\n      return (_yield$_this52$adapte = (_yield$_this52$adapte2 = yield _this52.adapter) === null || _yield$_this52$adapte2 === void 0 ? void 0 : (_yield$_this52$adapte3 = _yield$_this52$adapte2.canSetPlaybackRate) === null || _yield$_this52$adapte3 === void 0 ? void 0 : _yield$_this52$adapte3.call(_yield$_this52$adapte2)) !== null && _yield$_this52$adapte !== void 0 ? _yield$_this52$adapte : false;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetPlaybackQuality() {\n    var _this53 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this53$adapte, _yield$_this53$adapte2, _yield$_this53$adapte3;\n\n      return (_yield$_this53$adapte = (_yield$_this53$adapte2 = yield _this53.adapter) === null || _yield$_this53$adapte2 === void 0 ? void 0 : (_yield$_this53$adapte3 = _yield$_this53$adapte2.canSetPlaybackQuality) === null || _yield$_this53$adapte3 === void 0 ? void 0 : _yield$_this53$adapte3.call(_yield$_this53$adapte2)) !== null && _yield$_this53$adapte !== void 0 ? _yield$_this53$adapte : false;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetFullscreen() {\n    var _this54 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this54$adapte, _yield$_this54$adapte2, _yield$_this54$adapte3;\n\n      return _this54.fullscreen.isSupported || ((_yield$_this54$adapte = (_yield$_this54$adapte2 = yield _this54.adapter) === null || _yield$_this54$adapte2 === void 0 ? void 0 : (_yield$_this54$adapte3 = _yield$_this54$adapte2.canSetFullscreen) === null || _yield$_this54$adapte3 === void 0 ? void 0 : _yield$_this54$adapte3.call(_yield$_this54$adapte2)) !== null && _yield$_this54$adapte !== void 0 ? _yield$_this54$adapte : false);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  enterFullscreen(options) {\n    var _this55 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this55$adapte, _yield$_this55$adapte2;\n\n      if (!_this55.isVideoView) throw Error('Cannot enter fullscreen on an audio player view.');\n      if (_this55.fullscreen.isSupported) return _this55.fullscreen.enterFullscreen(options);\n\n      if (yield (_yield$_this55$adapte = yield _this55.adapter) === null || _yield$_this55$adapte === void 0 ? void 0 : (_yield$_this55$adapte2 = _yield$_this55$adapte.canSetFullscreen) === null || _yield$_this55$adapte2 === void 0 ? void 0 : _yield$_this55$adapte2.call(_yield$_this55$adapte)) {\n        var _yield$_this55$adapte3, _yield$_this55$adapte4;\n\n        return (_yield$_this55$adapte3 = yield _this55.adapter) === null || _yield$_this55$adapte3 === void 0 ? void 0 : (_yield$_this55$adapte4 = _yield$_this55$adapte3.enterFullscreen) === null || _yield$_this55$adapte4 === void 0 ? void 0 : _yield$_this55$adapte4.call(_yield$_this55$adapte3, options);\n      }\n\n      throw Error('Fullscreen API is not available.');\n    })();\n  }\n  /** @inheritDoc */\n\n\n  exitFullscreen() {\n    var _this56 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this56$adapte, _yield$_this56$adapte2;\n\n      if (_this56.fullscreen.isSupported) return _this56.fullscreen.exitFullscreen();\n      return (_yield$_this56$adapte = yield _this56.adapter) === null || _yield$_this56$adapte === void 0 ? void 0 : (_yield$_this56$adapte2 = _yield$_this56$adapte.exitFullscreen) === null || _yield$_this56$adapte2 === void 0 ? void 0 : _yield$_this56$adapte2.call(_yield$_this56$adapte);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetPiP() {\n    var _this57 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this57$adapte, _yield$_this57$adapte2, _yield$_this57$adapte3;\n\n      return (_yield$_this57$adapte = (_yield$_this57$adapte2 = yield _this57.adapter) === null || _yield$_this57$adapte2 === void 0 ? void 0 : (_yield$_this57$adapte3 = _yield$_this57$adapte2.canSetPiP) === null || _yield$_this57$adapte3 === void 0 ? void 0 : _yield$_this57$adapte3.call(_yield$_this57$adapte2)) !== null && _yield$_this57$adapte !== void 0 ? _yield$_this57$adapte : false;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  enterPiP() {\n    var _this58 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this58$adapte, _yield$_this58$adapte2;\n\n      if (!_this58.isVideoView) throw Error('Cannot enter PiP mode on an audio player view.');\n      if (!(yield _this58.canSetPiP())) throw Error('Picture-in-Picture API is not available.');\n      return (_yield$_this58$adapte = yield _this58.adapter) === null || _yield$_this58$adapte === void 0 ? void 0 : (_yield$_this58$adapte2 = _yield$_this58$adapte.enterPiP) === null || _yield$_this58$adapte2 === void 0 ? void 0 : _yield$_this58$adapte2.call(_yield$_this58$adapte);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  exitPiP() {\n    var _this59 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this59$adapte, _yield$_this59$adapte2;\n\n      return (_yield$_this59$adapte = yield _this59.adapter) === null || _yield$_this59$adapte === void 0 ? void 0 : (_yield$_this59$adapte2 = _yield$_this59$adapte.exitPiP) === null || _yield$_this59$adapte2 === void 0 ? void 0 : _yield$_this59$adapte2.call(_yield$_this59$adapte);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetAudioTrack() {\n    var _this60 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this60$adapte;\n\n      return !isUndefined((_yield$_this60$adapte = yield _this60.adapter) === null || _yield$_this60$adapte === void 0 ? void 0 : _yield$_this60$adapte.setCurrentAudioTrack);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  setCurrentAudioTrack(trackId) {\n    var _this61 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this61$adapte, _yield$_this61$adapte2;\n\n      (_yield$_this61$adapte = yield _this61.adapter) === null || _yield$_this61$adapte === void 0 ? void 0 : (_yield$_this61$adapte2 = _yield$_this61$adapte.setCurrentAudioTrack) === null || _yield$_this61$adapte2 === void 0 ? void 0 : _yield$_this61$adapte2.call(_yield$_this61$adapte, trackId);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetTextTrack() {\n    var _this62 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this62$adapte;\n\n      return !isUndefined((_yield$_this62$adapte = yield _this62.adapter) === null || _yield$_this62$adapte === void 0 ? void 0 : _yield$_this62$adapte.setCurrentTextTrack);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  setCurrentTextTrack(trackId) {\n    var _this63 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this63$adapte, _yield$_this63$adapte2;\n\n      (_yield$_this63$adapte = yield _this63.adapter) === null || _yield$_this63$adapte === void 0 ? void 0 : (_yield$_this63$adapte2 = _yield$_this63$adapte.setCurrentTextTrack) === null || _yield$_this63$adapte2 === void 0 ? void 0 : _yield$_this63$adapte2.call(_yield$_this63$adapte, trackId);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetTextTrackVisibility() {\n    var _this64 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this64$adapte;\n\n      return !isUndefined((_yield$_this64$adapte = yield _this64.adapter) === null || _yield$_this64$adapte === void 0 ? void 0 : _yield$_this64$adapte.setTextTrackVisibility);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  setTextTrackVisibility(isVisible) {\n    var _this65 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this65$adapte, _yield$_this65$adapte2;\n\n      (_yield$_this65$adapte = yield _this65.adapter) === null || _yield$_this65$adapte === void 0 ? void 0 : (_yield$_this65$adapte2 = _yield$_this65$adapte.setTextTrackVisibility) === null || _yield$_this65$adapte2 === void 0 ? void 0 : _yield$_this65$adapte2.call(_yield$_this65$adapte, isVisible);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  extendLanguage(language, translation) {\n    var _this66 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this66$translations$;\n\n      var translations = _objectSpread(_objectSpread({}, _this66.translations), {}, {\n        [language]: _objectSpread(_objectSpread({}, (_this66$translations$ = _this66.translations[language]) !== null && _this66$translations$ !== void 0 ? _this66$translations$ : {}), translation)\n      });\n\n      _this66.translations = translations;\n    })();\n  }\n\n  connectedCallback() {\n    this.onPausedChange();\n    this.onCurrentTimeChange();\n    this.onVolumeChange();\n    this.onMutedChange();\n    this.onDebugChange();\n    this.onContainerChange();\n    this.onTranslationsChange();\n    this.onLanguageChange(this.language, initialState.language);\n    this.disposal.add(onMobileChange(isMobile => {\n      this.isMobile = isMobile;\n    }));\n    this.disposal.add(onTouchInputChange(isTouch => {\n      this.isTouch = isTouch;\n    }));\n  }\n\n  componentWillLoad() {\n    Universe.create(this, this.getPlayerState());\n  }\n\n  disconnectedCallback() {\n    var _this$fullscreen2;\n\n    (_this$fullscreen2 = this.fullscreen) === null || _this$fullscreen2 === void 0 ? void 0 : _this$fullscreen2.destroy();\n    this.disposal.empty();\n  }\n\n  rotateDevice() {\n    var _this67 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this67.isMobile || !canRotateScreen()) return;\n\n      try {\n        if (_this67.isFullscreenActive) {\n          yield window.screen.orientation.lock('landscape');\n        } else {\n          yield window.screen.orientation.unlock();\n        }\n      } catch (err) {\n        _this67.vmError.emit(err);\n      }\n    })();\n  }\n\n  getPlayerState() {\n    var state = {};\n    var props = Object.keys(initialState);\n\n    for (var i = 0; i < props.length; i += 1) {\n      state[props[i]] = this[props[i]];\n    }\n\n    return state;\n  }\n\n  calcAspectRatio() {\n    var [width, height] = /\\d{1,2}:\\d{1,2}/.test(this.aspectRatio) ? this.aspectRatio.split(':') : [16, 9];\n    return 100 / Number(width) * Number(height);\n  }\n  /**\n   * Returns the inner container.\n   */\n\n\n  getContainer() {\n    var _this68 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this68.container;\n    })();\n  }\n  /** @internal Exposed for E2E testing. */\n\n\n  callAdapter(method, value) {\n    var _this69 = this;\n\n    return _asyncToGenerator(function* () {\n      return (yield _this69.adapter)[method](value);\n    })();\n  }\n\n  hasCustomControls() {\n    return isComponentRegistered(this, 'vm-controls');\n  }\n\n  genId() {\n    var _this$host;\n\n    var id = (_this$host = this.host) === null || _this$host === void 0 ? void 0 : _this$host.id;\n    if (isString(id) && id.length > 0) return id;\n    idCount$1 += 1;\n    return \"vm-player-\".concat(idCount$1);\n  }\n\n  render() {\n    var label = \"\".concat(this.isAudioView ? 'Audio Player' : 'Video Player') + \"\".concat(!isUndefined(this.mediaTitle) ? \" - \".concat(this.mediaTitle) : '');\n    var canShowCustomUI = !IS_IOS || !this.isVideoView || this.playsinline && !this.isFullscreenActive;\n\n    if (!canShowCustomUI) {\n      this.controls = true;\n    }\n\n    var isIdle = canShowCustomUI && this.hasCustomControls() && this.isVideoView && !this.paused && !this.isControlsActive;\n    var isBlockerVisible = !this.controls && canShowCustomUI && this.isVideoView;\n    return (0, _client.h)(_client.Host, {\n      id: this.genId(),\n      idle: isIdle,\n      mobile: this.isMobile,\n      touch: this.isTouch,\n      live: this.isLive,\n      audio: this.isAudioView,\n      video: this.isVideoView,\n      pip: this.isPiPActive,\n      fullscreen: this.isFullscreenActive\n    }, (0, _client.h)(\"div\", {\n      \"aria-label\": label,\n      \"aria-hidden\": !this.ready ? 'true' : 'false',\n      \"aria-busy\": !this.playbackReady ? 'true' : 'false',\n      class: {\n        player: true,\n        idle: isIdle,\n        audio: this.isAudioView,\n        video: this.isVideoView,\n        fullscreen: this.isFullscreenActive\n      },\n      style: {\n        paddingBottom: this.isVideoView ? \"\".concat(this.calcAspectRatio(), \"%\") : undefined\n      },\n      ref: el => {\n        (0, _client.writeTask)(() => {\n          this.container = el;\n        });\n      }\n    }, isBlockerVisible && (0, _client.h)(\"div\", {\n      class: \"blocker\"\n    }), (0, _client.h)(Universe.Provider, {\n      state: this.getPlayerState()\n    }, (0, _client.h)(\"slot\", null))));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"container\": [\"onContainerChange\"],\n      \"paused\": [\"onPausedChange\"],\n      \"duration\": [\"onDurationChange\"],\n      \"currentTime\": [\"onCurrentTimeChange\"],\n      \"playbackReady\": [\"onPlaybackReadyChange\"],\n      \"muted\": [\"onMutedChange\"],\n      \"playbackRate\": [\"onPlaybackRateChange\"],\n      \"playbackQuality\": [\"onPlaybackQualityChange\"],\n      \"debug\": [\"onDebugChange\"],\n      \"volume\": [\"onVolumeChange\"],\n      \"viewType\": [\"onViewTypeChange\"],\n      \"isAudioView\": [\"onViewTypeChange\"],\n      \"isVideoView\": [\"onViewTypeChange\"],\n      \"mediaType\": [\"onMediaTypeChange\"],\n      \"language\": [\"onLanguageChange\"],\n      \"translations\": [\"onTranslationsChange\"]\n    };\n  }\n\n  static get style() {\n    return playerCss;\n  }\n\n};\nvar posterCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-poster-z-index)}.poster{width:100%;height:100%;background:#000;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.poster.hidden{display:none}.poster.active{opacity:1;visibility:visible}img{width:100%;height:100%;pointer-events:none}\";\nvar Poster = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoaded = (0, _client.createEvent)(this, \"vmLoaded\", 3);\n    this.vmWillShow = (0, _client.createEvent)(this, \"vmWillShow\", 3);\n    this.vmWillHide = (0, _client.createEvent)(this, \"vmWillHide\", 3);\n    this.isHidden = true;\n    this.isActive = false;\n    this.hasLoaded = false;\n    /**\n     * How the poster image should be resized to fit the container (sets the `object-fit` property).\n     */\n\n    this.fit = 'cover';\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playbackStarted = false;\n    /** @internal */\n\n    this.currentTime = 0;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['mediaTitle', 'currentPoster', 'playbackStarted', 'currentTime', 'isVideoView']);\n  }\n\n  onCurrentPosterChange() {\n    var _this$lazyLoader2;\n\n    this.hasLoaded = false;\n    (_this$lazyLoader2 = this.lazyLoader) === null || _this$lazyLoader2 === void 0 ? void 0 : _this$lazyLoader2.onMutation();\n  }\n\n  connectedCallback() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src', 'src'], el => {\n      var src = el.getAttribute('data-src');\n      el.removeAttribute('src');\n\n      if (!isNull(src)) {\n        el.setAttribute('src', src);\n      }\n    });\n    this.onEnabledChange();\n    this.onActiveChange();\n  }\n\n  disconnectedCallback() {\n    this.lazyLoader.destroy();\n  }\n\n  onVisibilityChange() {\n    !this.isHidden && this.isActive ? this.vmWillShow.emit() : this.vmWillHide.emit();\n  }\n\n  onEnabledChange() {\n    this.isHidden = !this.isVideoView;\n    this.onVisibilityChange();\n  }\n\n  onActiveChange() {\n    this.isActive = !this.playbackStarted || this.currentTime <= 0.1;\n    this.onVisibilityChange();\n  }\n\n  onPosterLoad() {\n    this.vmLoaded.emit();\n    this.hasLoaded = true;\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        poster: true,\n        hidden: this.isHidden,\n        active: this.isActive && this.hasLoaded\n      }\n    }, (0, _client.h)(\"img\", {\n      class: \"lazy\",\n      \"data-src\": this.currentPoster,\n      alt: !isUndefined(this.mediaTitle) ? \"\".concat(this.mediaTitle, \" Poster\") : 'Media Poster',\n      style: {\n        objectFit: this.fit\n      },\n      onLoad: this.onPosterLoad.bind(this)\n    }));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"currentPoster\": [\"onCurrentPosterChange\"],\n      \"isVideoView\": [\"onEnabledChange\"],\n      \"currentTime\": [\"onActiveChange\"],\n      \"playbackStarted\": [\"onActiveChange\"]\n    };\n  }\n\n  static get style() {\n    return posterCss;\n  }\n\n};\nvar scrimCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-scrim-z-index)}.scrim{position:absolute;width:100%;background:var(--vm-scrim-bg);display:inline-block;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.scrim.gradient{height:258px;background:none;background-position:bottom;background-image:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAECCAYAAAA/9r2TAAABKklEQVQ4T2XI50cFABiF8dvee++67b33uM17b1MkkSSSSBJJJIkkkkQSSSKJ9Efmeb8cr86HH88JBP4thkfEkiKOFPGkSCCNRE8SKZJJkUIaqZ40UqSTIoMUmaSR5ckmRQ4pckkjz5NPigJSFJKiiDSKPSWkKCVFGWmUeypIUUmKKlJUk0aNJ0iKWlLUkUa9p4EUjaRoIkUzabR4WknRRop20ujwdJKiixTdpOghjV5PHyn6STFAGoOeIVIMk2KEFKOkMeYZJ8UEKUKkMemZIsU0KWZIMUsac54wKSKkiJLGvGeBFIukWCLFMrkCq7AG67ABm7AF27ADu7AH+3AAh3AEx3ACp3AG53ABl3AF13ADt3AH9/AAj/AEz/ACr/AG7/ABn/AF3/ADv39LujSyJPVJ0QAAAABJRU5ErkJggg==\\\")}.scrim.gradientUp{top:unset;bottom:0}.scrim.gradientDown{transform:rotate(180deg)}.scrim.hidden{display:none}.scrim.active{opacity:1;visibility:visible}\";\nvar Scrim = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.isControlsActive = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isVideoView', 'isControlsActive']);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        scrim: true,\n        gradient: !isUndefined(this.gradient),\n        gradientUp: this.gradient === 'up',\n        gradientDown: this.gradient === 'down',\n        hidden: !this.isVideoView,\n        active: this.isControlsActive\n      }\n    });\n  }\n\n  static get style() {\n    return scrimCss;\n  }\n\n};\n\nvar getHours = value => Math.trunc(value / 60 / 60 % 60);\n\nvar getMinutes = value => Math.trunc(value / 60 % 60);\n\nvar getSeconds = value => Math.trunc(value % 60);\n\nvar formatTime = function formatTime() {\n  var seconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var alwaysShowHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false; // Format time component to add leading zero.\n\n  var format = value => \"0\".concat(value).slice(-2);\n\n  var hours = getHours(seconds);\n  var mins = getMinutes(seconds);\n  var secs = getSeconds(seconds);\n  return \"\".concat(alwaysShowHours || hours > 0 ? \"\".concat(hours, \":\") : '').concat(format(mins), \":\").concat(format(secs));\n};\n\nvar scrubberControlCss = \":host{--vm-tooltip-spacing:var(--vm-scrubber-tooltip-spacing);flex:1;position:relative;cursor:pointer;pointer-events:auto;box-sizing:border-box;left:calc(var(--vm-slider-thumb-width) / 2);margin-right:var(--vm-slider-thumb-width);margin-bottom:var(--vm-slider-track-height)}@keyframes progress{to{background-position:var(--vm-scrubber-loading-stripe-size) 0}}.scrubber{position:relative;width:100%}vm-slider,progress{margin-left:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);margin-right:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);width:calc(100% + var(--vm-slider-thumb-width));height:var(--vm-slider-track-height)}vm-slider:hover,progress:hover{cursor:pointer}vm-slider{position:absolute;top:0;left:0;z-index:3}progress{-webkit-appearance:none;background:transparent;border:0;border-radius:100px;position:absolute;left:0;top:50%;padding:0;color:var(--vm-scrubber-buffered-bg);height:var(--vm-slider-track-height)}progress::-webkit-progress-bar{background:transparent}progress::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-ms-fill{border-radius:100px;transition:width 0.2s ease}progress.loading{animation:progress 1s linear infinite;background-image:linear-gradient(-45deg,\\n  var(--vm-scrubber-loading-stripe-color) 25%,\\n  transparent 25%,\\n  transparent 50%,\\n  var(--vm-scrubber-loading-stripe-color) 50%,\\n  var(--vm-scrubber-loading-stripe-color) 75%,\\n  transparent 75%,\\n  transparent);background-repeat:repeat-x;background-size:var(--vm-scrubber-loading-stripe-size) var(--vm-scrubber-loading-stripe-size);color:transparent;background-color:transparent}\";\nvar ScrubberControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.keyboardDisposal = new Disposal();\n    this.timestamp = '';\n    this.endTime = 0;\n    /**\n     * Whether the timestamp in the tooltip should show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @internal */\n\n    this.currentTime = 0;\n    /** @internal */\n\n    this.duration = -1;\n    /**\n     * Prevents seeking forward/backward by using the Left/Right arrow keys.\n     */\n\n    this.noKeyboard = false;\n    /** @internal */\n\n    this.buffering = false;\n    /** @internal */\n\n    this.buffered = 0;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n', 'currentTime', 'duration', 'buffering', 'buffered']);\n  }\n\n  onNoKeyboardChange() {\n    var _this70 = this;\n\n    return _asyncToGenerator(function* () {\n      _this70.keyboardDisposal.empty();\n\n      if (_this70.noKeyboard) return;\n      var player = yield findPlayer(_this70);\n\n      var onKeyDown = event => {\n        if (event.key !== 'ArrowLeft' && event.key !== 'ArrowRight') return;\n        event.preventDefault();\n        var isLeftArrow = event.key === 'ArrowLeft';\n        var seekTo = isLeftArrow ? Math.max(0, _this70.currentTime - 5) : Math.min(_this70.duration, _this70.currentTime + 5);\n\n        _this70.dispatch('currentTime', seekTo);\n      };\n\n      _this70.keyboardDisposal.add(listen(player, 'keydown', onKeyDown));\n    })();\n  }\n\n  onDurationChange() {\n    // Avoid -1.\n    this.endTime = Math.max(0, this.duration);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.timestamp = formatTime(this.currentTime, this.alwaysShowHours);\n    this.onNoKeyboardChange();\n  }\n\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n\n  setTooltipPosition(value) {\n    var tooltipRect = this.tooltip.shadowRoot.querySelector('.tooltip').getBoundingClientRect();\n    var bounds = this.slider.getBoundingClientRect();\n    var thumbWidth = parseFloat(window.getComputedStyle(this.slider).getPropertyValue('--vm-slider-thumb-width'));\n    var leftLimit = tooltipRect.width / 2 - thumbWidth / 2;\n    var rightLimit = bounds.width - tooltipRect.width / 2 - thumbWidth / 2;\n    var xPos = Math.max(leftLimit, Math.min(value, rightLimit));\n    this.tooltip.style = \"--vm-tooltip-left: \".concat(xPos, \"px\");\n  }\n\n  onSeek(event) {\n    this.dispatch('currentTime', event.detail);\n  }\n\n  onSeeking(event) {\n    if (this.duration < 0 || this.tooltip.hidden) return;\n\n    if (event.type === 'mouseleave') {\n      this.getSliderInput().blur();\n      this.tooltip.active = false;\n      return;\n    }\n\n    var rect = this.host.getBoundingClientRect();\n    var percent = Math.max(0, Math.min(100, 100 / rect.width * (event.pageX - rect.left)));\n    this.timestamp = formatTime(this.duration / 100 * percent, this.alwaysShowHours);\n    this.setTooltipPosition(percent / 100 * rect.width);\n\n    if (!this.tooltip.active) {\n      this.getSliderInput().focus();\n      this.tooltip.active = true;\n    }\n  }\n\n  getSliderInput() {\n    return this.slider.shadowRoot.querySelector('input');\n  }\n\n  render() {\n    var sliderValueText = this.i18n.scrubberLabel.replace(/{currentTime}/, formatTime(this.currentTime)).replace(/{duration}/, formatTime(this.endTime));\n    return (0, _client.h)(\"div\", {\n      class: \"scrubber\",\n      onMouseEnter: this.onSeeking.bind(this),\n      onMouseLeave: this.onSeeking.bind(this),\n      onMouseMove: this.onSeeking.bind(this),\n      onTouchMove: () => {\n        this.getSliderInput().focus();\n      },\n      onTouchEnd: () => {\n        this.getSliderInput().blur();\n      }\n    }, (0, _client.h)(\"vm-slider\", {\n      step: 0.01,\n      max: this.endTime,\n      value: this.currentTime,\n      label: this.i18n.scrubber,\n      valueText: sliderValueText,\n      onVmValueChange: this.onSeek.bind(this),\n      ref: el => {\n        this.slider = el;\n      }\n    }), (0, _client.h)(\"progress\", {\n      class: {\n        loading: this.buffering\n      },\n      // @ts-ignore\n      min: 0,\n      max: this.endTime,\n      value: this.buffered,\n      \"aria-label\": this.i18n.buffered,\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": this.endTime,\n      \"aria-valuenow\": this.buffered,\n      \"aria-valuetext\": \"\".concat((this.endTime > 0 ? this.buffered / this.endTime : 0).toFixed(0), \"%\")\n    }, \"% buffered\"), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      ref: el => {\n        this.tooltip = el;\n      }\n    }, this.timestamp));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"noKeyboard\": [\"onNoKeyboardChange\"],\n      \"duration\": [\"onDurationChange\"]\n    };\n  }\n\n  static get style() {\n    return scrubberControlCss;\n  }\n\n};\nvar settingsCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-menu-z-index)}.settings{position:absolute;opacity:0;pointer-events:auto;overflow-x:hidden;overflow-y:auto;background-color:var(--vm-menu-bg);max-height:var(--vm-settings-max-height);border-radius:var(--vm-settings-border-radius);padding:var(--vm-settings-padding);box-shadow:var(--vm-settings-shadow);box-sizing:border-box;scrollbar-width:thin;scroll-behavior:smooth;scrollbar-color:var(--vm-settings-scroll-thumb-color) var(--vm-settings-scroll-track-color);transform:translateY(8px);transition:var(--vm-settings-transition)}.container{display:block;width:var(--vm-settings-width);height:100%;position:relative;transition:width 0.25s ease-in, height 0.25s ease-in}.settings.hydrated{visibility:hidden !important}.settings::-webkit-scrollbar{width:var(--vm-settings-scroll-width)}.settings::-webkit-scrollbar-track{background:var(--vm-settings-scroll-track-color)}.settings::-webkit-scrollbar-thumb{border-radius:var(--vm-settings-scroll-width);background-color:var(--vm-settings-scroll-thumb-color);border:2px solid var(--vm-menu-bg)}.settings.active{transform:translateY(0);opacity:1;visibility:visible !important}.settings.mobile{position:fixed;top:auto !important;left:0 !important;right:0 !important;bottom:0 !important;width:100%;min-height:56px;max-height:50%;border-radius:0;z-index:2147483647;transform:translateY(100%)}.settings.mobile.active{transform:translateY(0)}.settings.mobile>vm-menu{height:100% !important;overflow:auto !important}\";\nvar idCount$2 = 0;\nvar Settings = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.disposal = new Disposal();\n    this.menuHeight = 0;\n    /**\n     * Pins the settings to the defined position inside the video player. This has no effect when\n     * the view is of type `audio` (always `bottomRight`) and on mobile devices (always bottom sheet).\n     */\n\n    this.pin = 'bottomRight';\n    /**\n     * Whether the settings menu is opened/closed.\n     */\n\n    this.active = false;\n    /** @internal */\n\n    this.isMobile = false;\n    /** @internal */\n\n    this.isAudioView = false;\n    withComponentRegistry(this);\n    withControlsCollisionDetection(this);\n    withPlayerContext(this, ['isMobile', 'isAudioView']);\n  }\n\n  onActiveChange() {\n    this.dispatch('isSettingsActive', this.active);\n    if (isUndefined(this.controller)) return;\n    this.controller.expanded = this.active;\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    idCount$2 += 1;\n    this.id = \"vm-settings-\".concat(idCount$2);\n  }\n\n  disconnectedCallback() {\n    this.disposal.empty();\n  }\n  /**\n   * Sets the controller responsible for opening/closing this settings menu.\n   */\n\n\n  setController(controller) {\n    var _this71 = this;\n\n    return _asyncToGenerator(function* () {\n      _this71.controller = controller;\n      _this71.controller.menu = _this71.id;\n\n      _this71.disposal.empty();\n\n      _this71.disposal.add(listen(_this71.controller, 'click', () => {\n        _this71.active = !_this71.active;\n      }));\n\n      _this71.disposal.add(listen(_this71.controller, 'keydown', event => {\n        if (event.key !== 'Enter') return; // We're looking for !active because the `click` event above will toggle it to active.\n\n        if (!_this71.active) _this71.menu.focusMenu();\n      }));\n    })();\n  }\n\n  getPosition() {\n    if (this.isAudioView) {\n      return {\n        right: '0',\n        bottom: 'calc(var(--vm-controls-height, 0) + 4px)'\n      };\n    } // topLeft => { top: 0, left: 0 }\n\n\n    var pos = this.pin.split(/(?=[L|R])/).map(s => s.toLowerCase());\n    return {\n      [pos.includes('top') ? 'top' : 'bottom']: 'var(--vm-controls-height, 0)',\n      [pos.includes('left') ? 'left' : 'right']: '8px'\n    };\n  }\n\n  onOpen(event) {\n    var _event$detail;\n\n    if (((_event$detail = event.detail) === null || _event$detail === void 0 ? void 0 : _event$detail.identifier) !== this.id) return;\n    this.active = true;\n  }\n\n  onClose(event) {\n    var _event$detail2;\n\n    if (((_event$detail2 = event.detail) === null || _event$detail2 === void 0 ? void 0 : _event$detail2.identifier) !== this.id) return;\n    this.active = false;\n  }\n\n  onHeightChange(event) {\n    this.menuHeight = event.detail;\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      style: _objectSpread({}, this.getPosition()),\n      class: {\n        settings: true,\n        active: this.active,\n        mobile: this.isMobile\n      }\n    }, (0, _client.h)(\"div\", {\n      class: \"container\",\n      style: {\n        height: \"\".concat(this.menuHeight, \"px\")\n      }\n    }, (0, _client.h)(\"vm-menu\", {\n      identifier: this.id,\n      active: this.active,\n      controller: this.controller,\n      onVmOpen: this.onOpen.bind(this),\n      onVmClose: this.onClose.bind(this),\n      onVmMenuHeightChange: this.onHeightChange.bind(this),\n      ref: el => {\n        this.menu = el;\n      }\n    }, (0, _client.h)(\"slot\", null))));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"active\": [\"onActiveChange\"]\n    };\n  }\n\n  static get style() {\n    return settingsCss;\n  }\n\n};\nvar settingsControlCss = \".settingsControl.hidden{display:none}.settingsControl{--vm-icon-transition:transform 0.3s ease}.settingsControl.active{--vm-icon-transform:rotate(90deg)}\";\nvar idCount$3 = 0;\nvar SettingsControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The name of the settings icon to resolve from the icon library.\n     */\n\n    this.icon = 'settings';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the settings menu this control manages is open.\n     */\n\n    this.expanded = false;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n']);\n  }\n\n  onComponentsChange() {\n    if (!isUndefined(this.vmSettings)) {\n      this.vmSettings.setController(this.host);\n    }\n  }\n\n  connectedCallback() {\n    idCount$3 += 1;\n    this.id = \"vm-settings-control-\".concat(idCount$3);\n    watchComponentRegistry(this, 'vm-settings', regs => {\n      [this.vmSettings] = regs;\n    });\n  }\n  /**\n   * Focuses the control.\n   */\n\n\n  focusControl() {\n    var _this72 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this72$control;\n\n      (_this72$control = _this72.control) === null || _this72$control === void 0 ? void 0 : _this72$control.focusControl();\n    })();\n  }\n  /**\n   * Removes focus from the control.\n   */\n\n\n  blurControl() {\n    var _this73 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this73$control;\n\n      (_this73$control = _this73.control) === null || _this73$control === void 0 ? void 0 : _this73$control.blurControl();\n    })();\n  }\n\n  render() {\n    var hasSettings = !isUndefined(this.menu);\n    return (0, _client.h)(\"div\", {\n      class: {\n        settingsControl: true,\n        hidden: !hasSettings,\n        active: hasSettings && this.expanded\n      }\n    }, (0, _client.h)(\"vm-control\", {\n      identifier: this.id,\n      menu: this.menu,\n      hidden: !hasSettings,\n      expanded: this.expanded,\n      label: this.i18n.settings,\n      ref: control => {\n        this.control = control;\n      }\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.icon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.expanded,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, this.i18n.settings)));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"vmSettings\": [\"onComponentsChange\"]\n    };\n  }\n\n  static get style() {\n    return settingsControlCss;\n  }\n\n};\nvar skeletonCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-skeleton-z-index)}@keyframes sheen{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton{width:100%;height:100%;display:flex;min-height:1rem;pointer-events:auto}.sheen.hidden{opacity:0;visibility:hidden;transition:var(--vm-fade-transition);pointer-events:none}.indicator{flex:1 1 auto;background:var(--vm-skeleton-color)}.skeleton.sheen .indicator{background:linear-gradient(\\n    270deg, \\n    var(--vm-skeleton-sheen-color), \\n    var(--vm-skeleton-color), \\n    var(--vm-skeleton-color), \\n    var(--vm-skeleton-sheen-color)\\n  );background-size:400% 100%;background-size:400% 100%;animation:sheen 8s ease-in-out infinite}\";\nvar Skeleton = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.hidden = false;\n    /**\n     * Determines which animation effect the skeleton will use.\n     * */\n\n    this.effect = 'sheen';\n    /** @internal */\n\n    this.ready = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['ready']);\n  }\n\n  onReadyChange() {\n    if (!this.ready) {\n      this.hidden = false;\n    } else {\n      setTimeout(() => {\n        this.hidden = true;\n      }, 500);\n    }\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        skeleton: true,\n        hidden: this.hidden,\n        sheen: this.effect === 'sheen'\n      }\n    }, (0, _client.h)(\"div\", {\n      class: \"indicator\"\n    }));\n  }\n\n  static get watchers() {\n    return {\n      \"ready\": [\"onReadyChange\"]\n    };\n  }\n\n  static get style() {\n    return skeletonCss;\n  }\n\n};\nvar sliderCss = \":host{width:100%}.slider{width:100%}input{width:100%;-webkit-appearance:none;background:transparent;border:0;outline:0;cursor:pointer;box-sizing:border-box;border-radius:calc(var(--vm-slider-thumb-height) * 2);user-select:none;-webkit-user-select:none;touch-action:manipulation;color:var(--vm-slider-value-color);display:block;height:var(--vm-slider-track-height);margin:0;padding:0;transition:box-shadow 0.3s ease}input::-webkit-slider-runnable-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-image:linear-gradient(to right, currentColor var(--vm-value, 0%), transparent var(--vm-value, 0%));background-color:var(--vm-slider-track-color)}input::-webkit-slider-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);-webkit-appearance:none;margin-top:calc(0px - calc(calc(var(--vm-slider-thumb-height) - var(--vm-slider-track-height)) / 2))}input::-moz-range-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-color:var(--vm-slider-track-color)}input::-moz-range-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow)}input::-moz-range-progress{background:currentColor;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height)}input::-ms-track{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;color:transparent;background-color:var(--vm-slider-track-color)}input::-ms-fill-upper{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none}input::-ms-fill-lower{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background:currentColor}input::-ms-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);margin-top:0}input::-ms-tooltip{display:none}input:hover::-webkit-slider-runnable-track{height:var(--vm-slider-track-focused-height)}input:hover::-moz-range-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-upper{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-lower{height:var(--vm-slider-track-focused-height)}input:hover::-webkit-slider-thumb{opacity:1}input:hover::-moz-range-thumb{opacity:1}input:hover::-ms-thumb{opacity:1}input:focus{outline:0}input:focus::-webkit-slider-runnable-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-moz-range-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-ms-track{outline:0;height:var(--vm-slider-track-focused-height)}input::-moz-focus-outer{border:0}\";\nvar Slider = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmValueChange = (0, _client.createEvent)(this, \"vmValueChange\", 7);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    /**\n     * A number that specifies the granularity that the value must adhere to.\n     */\n\n    this.step = 1;\n    /**\n     * The lowest value in the range of permitted values.\n     */\n\n    this.min = 0;\n    /**\n     * The greatest permitted value.\n     */\n\n    this.max = 10;\n    /**\n     * The current value.\n     */\n\n    this.value = 5;\n    withComponentRegistry(this);\n  }\n\n  getPercentage() {\n    return \"\".concat(this.value / this.max * 100, \"%\");\n  }\n\n  onValueChange(event) {\n    var _event$target;\n\n    var value = parseFloat((_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.value);\n    this.vmValueChange.emit(value);\n  }\n\n  calcTouchedValue(event) {\n    var input = event.target;\n    var touch = event.changedTouches[0];\n    var min = parseFloat(input.getAttribute('min'));\n    var max = parseFloat(input.getAttribute('max'));\n    var step = parseFloat(input.getAttribute('step'));\n    var delta = max - min; // Calculate percentage.\n\n    var percent;\n    var clientRect = input.getBoundingClientRect();\n    var sliderThumbWidth = parseFloat(window.getComputedStyle(this.host).getPropertyValue('--vm-slider-thumb-width'));\n    var thumbWidth = 100 / clientRect.width * (sliderThumbWidth / 2) / 100;\n    percent = 100 / clientRect.width * (touch.clientX - clientRect.left); // Don't allow outside bounds.\n\n    percent = Math.max(0, Math.min(percent, 100)); // Factor in the thumb offset.\n\n    if (percent < 50) {\n      percent -= (100 - percent * 2) * thumbWidth;\n    } else if (percent > 50) {\n      percent += (percent - 50) * 2 * thumbWidth;\n    }\n\n    var position = delta * (percent / 100);\n\n    if (step >= 1) {\n      return min + Math.round(position / step) * step;\n    }\n    /**\n     * This part differs from original implementation to save space. Only supports 2 decimal\n     * places (0.01) as the step.\n     */\n\n\n    return min + parseFloat(position.toFixed(2));\n  }\n  /**\n   * Basically input[range=\"type\"] on touch devices sucks (particularly iOS), so this helps make it\n   * better.\n   *\n   * @see https://github.com/sampotts/rangetouch\n   */\n\n\n  onTouch(event) {\n    var input = event.target;\n    if (input.disabled) return;\n    event.preventDefault();\n    this.value = this.calcTouchedValue(event);\n    this.vmValueChange.emit(this.value);\n    input.dispatchEvent(new window.Event(event.type === 'touchend' ? 'change' : 'input', {\n      bubbles: true\n    }));\n  }\n\n  render() {\n    var _this$valueText;\n\n    return (0, _client.h)(\"div\", {\n      class: \"slider\",\n      style: {\n        '--vm-value': this.getPercentage()\n      }\n    }, (0, _client.h)(\"input\", {\n      type: \"range\",\n      step: this.step,\n      min: this.min,\n      max: this.max,\n      value: this.value,\n      autocomplete: \"off\",\n      \"aria-label\": this.label,\n      \"aria-valuemin\": this.min,\n      \"aria-valuemax\": this.max,\n      \"aria-valuenow\": this.value,\n      \"aria-valuetext\": (_this$valueText = this.valueText) !== null && _this$valueText !== void 0 ? _this$valueText : this.getPercentage(),\n      \"aria-orientation\": \"horizontal\",\n      onInput: this.onValueChange.bind(this),\n      onFocus: () => {\n        this.vmFocus.emit();\n      },\n      onBlur: () => {\n        this.vmBlur.emit();\n      },\n      onTouchStart: this.onTouch.bind(this),\n      onTouchMove: this.onTouch.bind(this),\n      onTouchEnd: this.onTouch.bind(this)\n    }));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get style() {\n    return sliderCss;\n  }\n\n};\nvar spinnerCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-spinner-z-index)}.spinner{width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.spinner.hidden{display:none}.spinner.active{opacity:1;visibility:visible}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.spin{background:transparent;margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;pointer-events:none;border-top:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-left:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-right:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);border-bottom:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);transform:translateZ(0)}.spin.active{animation:spin var(--vm-spinner-spin-duration) infinite var(--vm-spinner-spin-timing-func)}.spin,.spin::after{border-radius:50%;width:var(--vm-spinner-width);height:var(--vm-spinner-height)}\";\nvar Spinner = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmWillShow = (0, _client.createEvent)(this, \"vmWillShow\", 3);\n    this.vmWillHide = (0, _client.createEvent)(this, \"vmWillHide\", 3);\n    this.blacklist = [Provider.YouTube];\n    this.isHidden = true;\n    this.isActive = false;\n    /** @internal */\n\n    this.isVideoView = false;\n    /**\n     * Whether the spinner should be active when the player is booting or media is loading.\n     */\n\n    this.showWhenMediaLoading = false;\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.buffering = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isVideoView', 'buffering', 'playbackReady', 'currentProvider']);\n  }\n\n  onVideoViewChange() {\n    this.isHidden = !this.isVideoView;\n    this.onVisiblityChange();\n  }\n\n  onActiveChange() {\n    this.isActive = this.buffering || this.showWhenMediaLoading && !this.playbackReady;\n    this.onVisiblityChange();\n  }\n\n  onVisiblityChange() {\n    !this.isHidden && this.isActive ? this.vmWillShow.emit() : this.vmWillHide.emit();\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        spinner: true,\n        hidden: this.isHidden || this.blacklist.includes(this.currentProvider),\n        active: this.isActive\n      }\n    }, (0, _client.h)(\"div\", {\n      class: {\n        spin: true,\n        active: this.isActive\n      }\n    }, \"Loading...\"));\n  }\n\n  static get watchers() {\n    return {\n      \"isVideoView\": [\"onVideoViewChange\"],\n      \"buffering\": [\"onActiveChange\"],\n      \"playbackReady\": [\"onActiveChange\"]\n    };\n  }\n\n  static get style() {\n    return spinnerCss;\n  }\n\n};\nvar idCount$4 = 0;\nvar Submenu = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmOpenSubmenu = (0, _client.createEvent)(this, \"vmOpenSubmenu\", 7);\n    this.vmCloseSubmenu = (0, _client.createEvent)(this, \"vmCloseSubmenu\", 7);\n    /**\n     * The direction the submenu should slide in from.\n     */\n\n    this.slideInDirection = 'right';\n    /**\n     * Whether the submenu is open/closed.\n     */\n\n    this.active = false;\n    withComponentRegistry(this);\n  }\n\n  connectedCallback() {\n    this.genId();\n  }\n  /**\n   * Returns the controller (`vm-menu-item`) for this submenu.\n   */\n\n\n  getController() {\n    var _this74 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this74.controller;\n    })();\n  }\n  /**\n   * Returns the menu (`vm-menu`) for this submenu.\n   */\n\n\n  getMenu() {\n    var _this75 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this75.menu;\n    })();\n  }\n  /**\n   * Returns the height of the submenu controller.\n   */\n\n\n  getControllerHeight() {\n    var _this76 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this76$controller$ge, _this76$controller;\n\n      return (_this76$controller$ge = (_this76$controller = _this76.controller) === null || _this76$controller === void 0 ? void 0 : _this76$controller.getHeight()) !== null && _this76$controller$ge !== void 0 ? _this76$controller$ge : 0;\n    })();\n  }\n\n  getControllerHeightSync() {\n    var _this$controller9;\n\n    var el = (_this$controller9 = this.controller) === null || _this$controller9 === void 0 ? void 0 : _this$controller9.shadowRoot.querySelector(\"[role='menuitem']\");\n    return el ? parseFloat(window.getComputedStyle(el).height) : 0;\n  }\n\n  onMenuOpen() {\n    this.active = true;\n    this.vmOpenSubmenu.emit(this.host);\n  }\n\n  onMenuClose() {\n    this.active = false;\n    this.vmCloseSubmenu.emit(this.host);\n  }\n\n  genId() {\n    idCount$4 += 1;\n    this.id = \"vm-submenu-\".concat(idCount$4);\n  }\n\n  getControllerId() {\n    return \"\".concat(this.id, \"-controller\");\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", null, (0, _client.h)(\"vm-menu-item\", {\n      identifier: this.getControllerId(),\n      menu: this.menu,\n      label: this.label,\n      hint: this.hint,\n      expanded: this.active,\n      ref: el => {\n        (0, _client.writeTask)(() => {\n          this.controller = el;\n        });\n      }\n    }), (0, _client.h)(\"vm-menu\", {\n      identifier: this.id,\n      controller: this.controller,\n      active: this.active,\n      slideInDirection: this.slideInDirection,\n      onVmOpen: this.onMenuOpen.bind(this),\n      onVmClose: this.onMenuClose.bind(this),\n      ref: el => {\n        (0, _client.writeTask)(() => {\n          this.menu = el;\n        });\n      },\n      style: {\n        top: \"\".concat(this.getControllerHeightSync() + 1, \"px\")\n      }\n    }, (0, _client.h)(\"slot\", null)));\n  }\n\n  get host() {\n    return this;\n  }\n\n};\nvar timeCss = \".time{display:flex;align-items:center;color:var(--vm-time-color);font-size:var(--vm-time-font-size);font-weight:var(--vm-time-font-weight)}\";\nvar Time = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The length of time in seconds.\n     */\n\n    this.seconds = 0;\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: \"time\",\n      \"aria-label\": this.label\n    }, formatTime(Math.max(0, this.seconds), this.alwaysShowHours));\n  }\n\n  static get style() {\n    return timeCss;\n  }\n\n};\nvar timeProgressCss = \".timeProgress{display:flex;width:100%;height:100%;align-items:center;color:var(--vm-time-color)}.separator{margin:0 4px}\";\nvar TimeProgress = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The string used to separate the current time and end time.\n     */\n\n    this.separator = '/';\n    /**\n     * Whether the times should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: \"timeProgress\"\n    }, (0, _client.h)(\"vm-current-time\", {\n      alwaysShowHours: this.alwaysShowHours\n    }), (0, _client.h)(\"span\", {\n      class: \"separator\"\n    }, this.separator), (0, _client.h)(\"vm-end-time\", {\n      alwaysShowHours: this.alwaysShowHours\n    }));\n  }\n\n  static get style() {\n    return timeProgressCss;\n  }\n\n};\nvar tooltipCss = \":host{display:contents;z-index:var(--vm-tooltip-z-index)}.tooltip{left:var(--vm-tooltip-left, 50%);transform:translateX(-50%);line-height:1.3;pointer-events:none;position:absolute;opacity:0;white-space:nowrap;visibility:hidden;background:var(--vm-tooltip-bg);border-radius:var(--vm-tooltip-border-radius);box-sizing:border-box;box-shadow:var(--vm-tooltip-box-shadow);color:var(--vm-tooltip-color);font-size:var(--vm-tooltip-font-size);padding:var(--vm-tooltip-padding);transition:opacity var(--vm-tooltip-fade-duration) var(--vm-tooltip-fade-timing-func)}.tooltip[aria-hidden='false']{opacity:1;visibility:visible}.tooltip.hidden{display:none}.tooltip.onTop{bottom:100%;margin-bottom:var(--vm-tooltip-spacing)}.tooltip.onBottom{top:100%;margin-top:var(--vm-tooltip-spacing)}.tooltip.growLeft{left:auto;right:0;transform:none}.tooltip.growRight{left:0;transform:none}\";\nvar tooltipIdCount = 0;\nvar Tooltip = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this); // Avoid tooltips flashing when player initializing.\n\n    this.hasLoaded = false;\n    /**\n     * Whether the tooltip is displayed or not.\n     */\n\n    this.hidden = false;\n    /**\n     * Whether the tooltip is visible or not.\n     */\n\n    this.active = false;\n    /**\n     * Determines if the tooltip appears on top/bottom of it's parent.\n     */\n\n    this.position = 'top';\n    /** @internal */\n\n    this.isTouch = false;\n    /** @internal */\n\n    this.isMobile = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch', 'isMobile']);\n  }\n\n  componentDidLoad() {\n    this.hasLoaded = true;\n  }\n\n  getId() {\n    // eslint-disable-next-line prefer-destructuring\n    var id = this.host.id;\n    if (isString(id) && id.length > 0) return id;\n    tooltipIdCount += 1;\n    return \"vm-tooltip-\".concat(tooltipIdCount);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      id: this.getId(),\n      role: \"tooltip\",\n      \"aria-hidden\": !this.active || this.isTouch || this.isMobile ? 'true' : 'false',\n      class: {\n        tooltip: true,\n        hidden: !this.hasLoaded || this.hidden,\n        onTop: this.position === 'top',\n        onBottom: this.position === 'bottom',\n        growLeft: this.direction === 'left',\n        growRight: this.direction === 'right'\n      }\n    }, (0, _client.h)(\"slot\", null));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get style() {\n    return tooltipCss;\n  }\n\n};\nvar uiCss = \":host{z-index:var(--vm-ui-z-index)}.ui{width:100%;pointer-events:none}.ui.hidden{display:none}.ui.video{position:absolute;top:0;left:0;height:100%}\";\nvar UI = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playsinline = false;\n    /** @internal */\n\n    this.isFullscreenActive = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isVideoView', 'playsinline', 'isFullscreenActive']);\n  }\n\n  render() {\n    var canShowCustomUI = !IS_IOS || !this.isVideoView || this.playsinline && !this.isFullscreenActive;\n    return (0, _client.h)(\"div\", {\n      class: {\n        ui: true,\n        hidden: !canShowCustomUI,\n        video: this.isVideoView\n      }\n    }, canShowCustomUI && (0, _client.h)(\"slot\", null));\n  }\n\n  static get style() {\n    return uiCss;\n  }\n\n};\nvar Video = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n    /**\n     * @internal Whether an external SDK will attach itself to the media player and control it.\n     */\n\n\n    this.willAttach = false;\n    /**\n     * @internal Whether an external SDK will manage the text tracks.\n     */\n\n    this.hasCustomTextManager = false;\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    withComponentRegistry(this);\n    withProviderConnect(this);\n  }\n\n  onProviderConnect(event) {\n    if (this.willAttach) event.stopImmediatePropagation();\n  }\n\n  onProviderDisconnect(event) {\n    if (this.willAttach) event.stopImmediatePropagation();\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this77 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this77$fileProvider;\n\n      return (_this77$fileProvider = _this77.fileProvider) === null || _this77$fileProvider === void 0 ? void 0 : _this77$fileProvider.getAdapter();\n    })();\n  }\n\n  render() {\n    return (// @ts-ignore\n      (0, _client.h)(\"vm-file\", {\n        noConnect: true,\n        willAttach: this.willAttach,\n        crossOrigin: this.crossOrigin,\n        poster: this.poster,\n        preload: this.preload,\n        controlsList: this.controlsList,\n        autoPiP: this.autoPiP,\n        disablePiP: this.disablePiP,\n        disableRemotePlayback: this.disableRemotePlayback,\n        hasCustomTextManager: this.hasCustomTextManager,\n        mediaTitle: this.mediaTitle,\n        viewType: ViewType.Video,\n        ref: el => {\n          this.fileProvider = el;\n        }\n      }, (0, _client.h)(\"slot\", null))\n    );\n  }\n\n};\n/**\n * @see https://developer.vimeo.com/player/sdk/reference#events-for-playback-controls\n */\n\nvar VimeoEvent;\n\n(function (VimeoEvent) {\n  VimeoEvent[\"Play\"] = \"play\";\n  VimeoEvent[\"Pause\"] = \"pause\";\n  VimeoEvent[\"Seeking\"] = \"seeking\";\n  VimeoEvent[\"Seeked\"] = \"seeked\";\n  VimeoEvent[\"TimeUpdate\"] = \"timeupdate\";\n  VimeoEvent[\"VolumeChange\"] = \"volumechange\";\n  VimeoEvent[\"DurationChange\"] = \"durationchange\";\n  VimeoEvent[\"FullscreenChange\"] = \"fullscreenchange\";\n  VimeoEvent[\"CueChange\"] = \"cuechange\";\n  VimeoEvent[\"Progress\"] = \"progress\";\n  VimeoEvent[\"Error\"] = \"error\";\n  VimeoEvent[\"PlaybackRateChange\"] = \"playbackratechange\";\n  VimeoEvent[\"Loaded\"] = \"loaded\";\n  VimeoEvent[\"BufferStart\"] = \"bufferstart\";\n  VimeoEvent[\"BufferEnd\"] = \"bufferend\";\n  VimeoEvent[\"TextTrackChange\"] = \"texttrackchange\";\n  VimeoEvent[\"Waiting\"] = \"waiting\";\n  VimeoEvent[\"Ended\"] = \"ended\";\n})(VimeoEvent || (VimeoEvent = {}));\n\nvar vimeoCss = \":host{z-index:var(--vm-media-z-index)}vm-embed{position:absolute;top:0;left:0;width:100%;height:100%}vm-embed.hideControls{display:block;width:100%;height:auto;position:relative}\";\nvar videoInfoCache$1 = new Map();\nvar Vimeo = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.defaultInternalState = {};\n    this.volume = 50;\n    this.hasLoaded = false;\n    this.internalState = {\n      paused: true,\n      playing: false,\n      seeking: false,\n      currentTime: 0,\n      buffered: 0,\n      playbackStarted: false,\n      playRequest: false\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether to display the video owner's name.\n     */\n\n    this.byline = true;\n    /**\n     * Whether to display the video owner's portrait.\n     */\n\n    this.portrait = true;\n    /**\n     * Turns off automatically determining the aspect ratio of the current video.\n     */\n\n    this.noAutoAspectRatio = false;\n    /**\n     * Whether cookies should be enabled on the embed.\n     */\n\n    this.cookies = true;\n    /** @internal */\n\n    this.language = 'en';\n    /** @internal */\n\n    this.aspectRatio = '16:9';\n    /** @internal */\n\n    this.autoplay = false;\n    /** @internal */\n\n    this.controls = false;\n    /** @internal */\n\n    this.loop = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n\n  onVideoIdChange() {\n    this.cancelTimeUpdates();\n\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n\n    this.embedSrc = \"\".concat(this.getOrigin(), \"/video/\").concat(this.videoId);\n    this.pendingDurationCall = deferredPromise();\n    this.pendingMediaTitleCall = deferredPromise();\n    this.fetchVideoInfo = this.getVideoInfo();\n  }\n\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.initialMuted = this.muted;\n    this.defaultInternalState = _objectSpread({}, this.internalState);\n  }\n\n  disconnectedCallback() {\n    this.cancelTimeUpdates();\n    this.pendingPlayRequest = undefined;\n  }\n\n  getOrigin() {\n    return 'https://player.vimeo.com';\n  }\n\n  getPreconnections() {\n    return [this.getOrigin(), 'https://i.vimeocdn.com', 'https://f.vimeocdn.com', 'https://fresnel.vimeocdn.com'];\n  }\n\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      method: command,\n      value: arg\n    });\n  }\n\n  buildParams() {\n    return {\n      byline: this.byline,\n      color: this.color,\n      portrait: this.portrait,\n      autopause: false,\n      transparent: false,\n      autoplay: this.autoplay,\n      muted: this.initialMuted,\n      playsinline: this.playsinline,\n      dnt: !this.cookies\n    };\n  }\n\n  getVideoInfo() {\n    var _this78 = this;\n\n    return _asyncToGenerator(function* () {\n      if (videoInfoCache$1.has(_this78.videoId)) return videoInfoCache$1.get(_this78.videoId);\n      return window.fetch(\"https://vimeo.com/api/oembed.json?url=\".concat(_this78.embedSrc)).then(response => response.json()).then(data => {\n        var thumnailRegex = /vimeocdn\\.com\\/video\\/([0-9]+)/;\n        var thumbnailId = data === null || data === void 0 ? void 0 : data.thumbnail_url.match(thumnailRegex)[1];\n        var poster = \"https://i.vimeocdn.com/video/\".concat(thumbnailId, \"_1920x1080.jpg\");\n        var info = {\n          poster,\n          width: data === null || data === void 0 ? void 0 : data.width,\n          height: data === null || data === void 0 ? void 0 : data.height\n        };\n        videoInfoCache$1.set(_this78.videoId, info);\n        return info;\n      });\n    })();\n  }\n\n  onTimeChange(time) {\n    if (this.internalState.currentTime === time) return;\n    this.dispatch('currentTime', time); // This is how we detect `seeking` early.\n\n    if (Math.abs(this.internalState.currentTime - time) > 1.5) {\n      this.internalState.seeking = true;\n      this.dispatch('seeking', true);\n\n      if (this.internalState.playing && this.internalState.buffered < time) {\n        this.dispatch('buffering', true);\n      } // Player doesn't resume playback once seeked.\n\n\n      window.clearTimeout(this.pendingPlayRequest);\n\n      if (!this.internalState.paused) {\n        this.internalState.playRequest = true;\n      }\n\n      this.remoteControl(this.internalState.playbackStarted ? \"pause\"\n      /* Pause */\n      : \"play\"\n      /* Play */\n      );\n    }\n\n    this.internalState.currentTime = time;\n  }\n\n  cancelTimeUpdates() {\n    if (isNumber(this.timeRAF)) window.cancelAnimationFrame(this.timeRAF);\n  }\n\n  requestTimeUpdates() {\n    this.remoteControl(\"getCurrentTime\"\n    /* GetCurrentTime */\n    );\n    this.timeRAF = window.requestAnimationFrame(() => {\n      this.requestTimeUpdates();\n    });\n  }\n\n  onSeeked() {\n    if (!this.internalState.seeking) return;\n    this.dispatch('seeking', false);\n    this.internalState.seeking = false;\n\n    if (this.internalState.playRequest) {\n      window.setTimeout(() => {\n        this.remoteControl(\"play\"\n        /* Play */\n        );\n      }, 150);\n    }\n  }\n\n  onVimeoMethod(method, arg) {\n    var _this$pendingDuration, _this$pendingMediaTit3;\n\n    switch (method) {\n      case \"getCurrentTime\"\n      /* GetCurrentTime */\n      :\n        if (!this.internalState.seeking) this.onTimeChange(arg);\n        break;\n\n      case \"getDuration\"\n      /* GetDuration */\n      :\n        (_this$pendingDuration = this.pendingDurationCall) === null || _this$pendingDuration === void 0 ? void 0 : _this$pendingDuration.resolve(arg);\n        break;\n\n      case \"getVideoTitle\"\n      /* GetVideoTitle */\n      :\n        (_this$pendingMediaTit3 = this.pendingMediaTitleCall) === null || _this$pendingMediaTit3 === void 0 ? void 0 : _this$pendingMediaTit3.resolve(arg);\n        break;\n    }\n  }\n\n  onLoaded() {\n    var _this$pendingDuration2, _this$pendingMediaTit4;\n\n    if (this.hasLoaded) return;\n    this.pendingPlayRequest = undefined;\n    this.internalState = _objectSpread({}, this.defaultInternalState);\n    this.dispatch('currentSrc', this.embedSrc);\n    this.dispatch('mediaType', MediaType.Video);\n    this.remoteControl(\"getDuration\"\n    /* GetDuration */\n    );\n    this.remoteControl(\"getVideoTitle\"\n    /* GetVideoTitle */\n    );\n    Promise.all([this.fetchVideoInfo, (_this$pendingDuration2 = this.pendingDurationCall) === null || _this$pendingDuration2 === void 0 ? void 0 : _this$pendingDuration2.promise, (_this$pendingMediaTit4 = this.pendingMediaTitleCall) === null || _this$pendingMediaTit4 === void 0 ? void 0 : _this$pendingMediaTit4.promise]).then(_ref11 => {\n      var _info$width, _info$height, _this$poster2;\n\n      var [info, duration, mediaTitle] = _ref11;\n      this.requestTimeUpdates();\n      this.dispatch('aspectRatio', \"\".concat((_info$width = info === null || info === void 0 ? void 0 : info.width) !== null && _info$width !== void 0 ? _info$width : 16, \":\").concat((_info$height = info === null || info === void 0 ? void 0 : info.height) !== null && _info$height !== void 0 ? _info$height : 9));\n      this.dispatch('currentPoster', (_this$poster2 = this.poster) !== null && _this$poster2 !== void 0 ? _this$poster2 : info === null || info === void 0 ? void 0 : info.poster);\n      this.dispatch('duration', duration !== null && duration !== void 0 ? duration : -1);\n      this.dispatch('mediaTitle', mediaTitle);\n      this.dispatch('playbackReady', true);\n    });\n    this.hasLoaded = true;\n  }\n\n  onVimeoEvent(event, payload) {\n    switch (event) {\n      case \"ready\"\n      /* Ready */\n      :\n        Object.values(VimeoEvent).forEach(e => {\n          this.remoteControl(\"addEventListener\"\n          /* AddEventListener */\n          , e);\n        });\n        break;\n\n      case \"loaded\"\n      /* Loaded */\n      :\n        this.onLoaded();\n        break;\n\n      case \"play\"\n      /* Play */\n      :\n        // Incase of autoplay which might skip `Loaded` event.\n        this.onLoaded();\n        this.internalState.paused = false;\n        this.dispatch('paused', false);\n        break;\n\n      case \"playProgress\"\n      /* PlayProgress */\n      :\n        if (!this.internalState.playing) {\n          this.dispatch('playing', true);\n          this.internalState.playing = true;\n          this.internalState.playbackStarted = true;\n          this.pendingPlayRequest = window.setTimeout(() => {\n            this.internalState.playRequest = false;\n            this.pendingPlayRequest = undefined;\n          }, 1000);\n        }\n\n        this.dispatch('buffering', false);\n        this.onSeeked();\n        break;\n\n      case \"pause\"\n      /* Pause */\n      :\n        this.internalState.paused = true;\n        this.internalState.playing = false;\n        this.dispatch('paused', true);\n        this.dispatch('buffering', false);\n        break;\n\n      case \"loadProgress\"\n      /* LoadProgress */\n      :\n        this.internalState.buffered = payload.seconds;\n        this.dispatch('buffered', payload.seconds);\n        break;\n\n      case \"bufferstart\"\n      /* BufferStart */\n      :\n        this.dispatch('buffering', true); // Attempt to detect `play` events early.\n\n        if (this.internalState.paused) {\n          this.internalState.paused = false;\n          this.dispatch('paused', false);\n          this.dispatch('playbackStarted', true);\n        }\n\n        break;\n\n      case \"bufferend\"\n      /* BufferEnd */\n      :\n        this.dispatch('buffering', false);\n        if (this.internalState.paused) this.onSeeked();\n        break;\n\n      case \"volumechange\"\n      /* VolumeChange */\n      :\n        if (payload.volume > 0) {\n          var newVolume = Math.floor(payload.volume * 100);\n          this.dispatch('muted', false);\n\n          if (this.volume !== newVolume) {\n            this.volume = newVolume;\n            this.dispatch('volume', this.volume);\n          }\n        } else {\n          this.dispatch('muted', true);\n        }\n\n        break;\n\n      case \"durationchange\"\n      /* DurationChange */\n      :\n        this.dispatch('duration', payload.duration);\n        break;\n\n      case \"playbackratechange\"\n      /* PlaybackRateChange */\n      :\n        this.dispatch('playbackRate', payload.playbackRate);\n        break;\n\n      case \"fullscreenchange\"\n      /* FullscreenChange */\n      :\n        this.dispatch('isFullscreenActive', payload.fullscreen);\n        break;\n\n      case \"finish\"\n      /* Finish */\n      :\n        if (this.loop) {\n          this.remoteControl(\"setCurrentTime\"\n          /* SetCurrentTime */\n          , 0);\n          setTimeout(() => {\n            this.remoteControl(\"play\"\n            /* Play */\n            );\n          }, 200);\n        } else {\n          this.dispatch('playbackEnded', true);\n        }\n\n        break;\n\n      case \"error\"\n      /* Error */\n      :\n        this.vmError.emit(payload);\n        break;\n    }\n  }\n\n  onEmbedSrcChange() {\n    this.hasLoaded = false;\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n\n  onEmbedMessage(event) {\n    var message = event.detail;\n    if (!isUndefined(message.event)) this.onVimeoEvent(message.event, message.data);\n    if (!isUndefined(message.method)) this.onVimeoMethod(message.method, message.value);\n  }\n\n  adjustPosition() {\n    var [aw, ah] = this.aspectRatio.split(':').map(r => parseInt(r, 10));\n    var height = 240;\n    var padding = 100 / aw * ah;\n    var offset = (height - padding) / (height / 50);\n    return {\n      paddingBottom: \"\".concat(height, \"%\"),\n      transform: \"translateY(-\".concat(offset + 0.02, \"%)\")\n    };\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this79 = this;\n\n    return _asyncToGenerator(function* () {\n      var canPlayRegex = /vimeo(?:\\.com|)\\/([0-9]{9,})/;\n      var fileRegex = /vimeo\\.com\\/external\\/[0-9]+\\..+/;\n      return {\n        getInternalPlayer: function () {\n          var _getInternalPlayer5 = _asyncToGenerator(function* () {\n            return _this79.embed;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer5.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        play: function () {\n          var _play3 = _asyncToGenerator(function* () {\n            _this79.remoteControl(\"play\"\n            /* Play */\n            );\n          });\n\n          function play() {\n            return _play3.apply(this, arguments);\n          }\n\n          return play;\n        }(),\n        pause: function () {\n          var _pause3 = _asyncToGenerator(function* () {\n            _this79.remoteControl(\"pause\"\n            /* Pause */\n            );\n          });\n\n          function pause() {\n            return _pause3.apply(this, arguments);\n          }\n\n          return pause;\n        }(),\n        canPlay: function () {\n          var _canPlay5 = _asyncToGenerator(function* (type) {\n            return isString(type) && !fileRegex.test(type) && canPlayRegex.test(type);\n          });\n\n          function canPlay(_x33) {\n            return _canPlay5.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        setCurrentTime: function () {\n          var _setCurrentTime3 = _asyncToGenerator(function* (time) {\n            _this79.remoteControl(\"setCurrentTime\"\n            /* SetCurrentTime */\n            , time);\n          });\n\n          function setCurrentTime(_x34) {\n            return _setCurrentTime3.apply(this, arguments);\n          }\n\n          return setCurrentTime;\n        }(),\n        setMuted: function () {\n          var _setMuted3 = _asyncToGenerator(function* (muted) {\n            if (!muted) _this79.volume = _this79.volume > 0 ? _this79.volume : 30;\n\n            _this79.remoteControl(\"setVolume\"\n            /* SetVolume */\n            , muted ? 0 : _this79.volume / 100);\n          });\n\n          function setMuted(_x35) {\n            return _setMuted3.apply(this, arguments);\n          }\n\n          return setMuted;\n        }(),\n        setVolume: function () {\n          var _setVolume3 = _asyncToGenerator(function* (volume) {\n            if (!_this79.muted) {\n              _this79.remoteControl(\"setVolume\"\n              /* SetVolume */\n              , volume / 100);\n            } else {\n              // Confirm volume was set.\n              _this79.dispatch('volume', volume);\n            }\n          });\n\n          function setVolume(_x36) {\n            return _setVolume3.apply(this, arguments);\n          }\n\n          return setVolume;\n        }(),\n        // @TODO how to check if Vimeo pro?\n        canSetPlaybackRate: function () {\n          var _canSetPlaybackRate2 = _asyncToGenerator(function* () {\n            return false;\n          });\n\n          function canSetPlaybackRate() {\n            return _canSetPlaybackRate2.apply(this, arguments);\n          }\n\n          return canSetPlaybackRate;\n        }(),\n        setPlaybackRate: function () {\n          var _setPlaybackRate2 = _asyncToGenerator(function* (rate) {\n            _this79.remoteControl(\"setPlaybackRate\"\n            /* SetPlaybackRate */\n            , rate);\n          });\n\n          function setPlaybackRate(_x37) {\n            return _setPlaybackRate2.apply(this, arguments);\n          }\n\n          return setPlaybackRate;\n        }()\n      };\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-embed\", {\n      class: {\n        hideControls: !this.controls\n      },\n      style: this.adjustPosition(),\n      embedSrc: this.embedSrc,\n      mediaTitle: this.mediaTitle,\n      origin: this.getOrigin(),\n      params: this.buildParams(),\n      decoder: decodeJSON,\n      preconnections: this.getPreconnections(),\n      onVmEmbedMessage: this.onEmbedMessage.bind(this),\n      onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this),\n      ref: el => {\n        this.embed = el;\n      }\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"videoId\": [\"onVideoIdChange\"],\n      \"poster\": [\"onCustomPosterChange\"]\n    };\n  }\n\n  static get style() {\n    return vimeoCss;\n  }\n\n};\nvar volumeControlCss = \".volumeControl{align-items:center;display:flex;position:relative;pointer-events:auto;box-sizing:border-box}vm-slider{width:75px;height:100%;margin:0;max-width:0;position:relative;z-index:3;transition:margin 0.2s cubic-bezier(0.4, 0, 1, 1), max-width 0.2s cubic-bezier(0.4, 0, 1, 1);margin-left:calc(var(--vm-control-spacing) / 2) !important;visibility:hidden}vm-slider:hover{cursor:pointer}vm-slider.hidden{display:none}vm-slider.active{max-width:75px;visibility:visible;margin:0 calc(var(--vm-control-spacing) / 2)}\";\nvar VolumeControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.keyboardDisposal = new Disposal();\n    this.prevMuted = false;\n    this.currentVolume = 50;\n    this.isSliderActive = false;\n    /**\n     * The name of the low volume icon to resolve from the icon library.\n     */\n\n    this.lowVolumeIcon = 'volume-low';\n    /**\n     * The name of the high volume icon to resolve from the icon library.\n     */\n\n    this.highVolumeIcon = 'volume-high';\n    /**\n     * The name of the muted volume icon to resolve from the icon library.\n     */\n\n    this.mutedIcon = 'volume-mute';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should be hidden.\n     */\n\n    this.hideTooltip = false;\n    /**\n     * A pipe (`/`) separated string of JS keyboard keys, that when caught in a `keydown` event, will\n     * toggle the muted state of the player.\n     */\n\n    this.muteKeys = 'm';\n    /**\n     * Prevents the volume being changed using the Up/Down arrow keys.\n     */\n\n    this.noKeyboard = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.volume = 50;\n    /** @internal */\n\n    this.isMobile = false;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['volume', 'muted', 'isMobile', 'i18n']);\n  }\n\n  onNoKeyboardChange() {\n    var _this80 = this;\n\n    return _asyncToGenerator(function* () {\n      _this80.keyboardDisposal.empty();\n\n      if (_this80.noKeyboard) return;\n      var player = yield findPlayer(_this80);\n\n      _this80.keyboardDisposal.add(listen(player, 'keydown', event => {\n        if (event.key !== 'ArrowUp' && event.key !== 'ArrowDown') return;\n        var isUpArrow = event.key === 'ArrowUp';\n        var newVolume = isUpArrow ? Math.min(100, _this80.volume + 5) : Math.max(0, _this80.volume - 5);\n\n        _this80.dispatch('volume', parseInt(\"\".concat(newVolume), 10));\n      }));\n    })();\n  }\n\n  onPlayerVolumeChange() {\n    this.currentVolume = this.muted ? 0 : this.volume;\n\n    if (!this.muted && this.prevMuted && this.volume === 0) {\n      this.dispatch('volume', 30);\n    }\n\n    this.prevMuted = this.muted;\n  }\n\n  connectedCallback() {\n    this.prevMuted = this.muted;\n    this.dispatch = createDispatcher(this);\n    this.onNoKeyboardChange();\n  }\n\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n\n  onShowSlider() {\n    clearTimeout(this.hideSliderTimeout);\n    this.isSliderActive = true;\n  }\n\n  onHideSlider() {\n    this.hideSliderTimeout = setTimeout(() => {\n      this.isSliderActive = false;\n    }, 100);\n  }\n\n  onVolumeChange(event) {\n    var newVolume = event.detail;\n    this.currentVolume = newVolume;\n    this.dispatch('volume', newVolume);\n    this.dispatch('muted', newVolume === 0);\n  }\n\n  onKeyDown(event) {\n    if (event.key !== 'ArrowLeft' && event.key !== 'ArrowRight') return;\n    event.stopPropagation();\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: \"volumeControl\",\n      onMouseEnter: this.onShowSlider.bind(this),\n      onMouseLeave: this.onHideSlider.bind(this)\n    }, (0, _client.h)(\"vm-mute-control\", {\n      keys: this.muteKeys,\n      lowVolumeIcon: this.lowVolumeIcon,\n      highVolumeIcon: this.highVolumeIcon,\n      mutedIcon: this.mutedIcon,\n      icons: this.icons,\n      tooltipPosition: this.tooltipPosition,\n      tooltipDirection: this.tooltipDirection,\n      hideTooltip: this.hideTooltip,\n      onVmFocus: this.onShowSlider.bind(this),\n      onVmBlur: this.onHideSlider.bind(this)\n    }), (0, _client.h)(\"vm-slider\", {\n      class: {\n        hidden: this.isMobile,\n        active: this.isSliderActive\n      },\n      step: 5,\n      max: 100,\n      value: this.currentVolume,\n      label: this.i18n.volume,\n      onKeyDown: this.onKeyDown.bind(this),\n      onVmFocus: this.onShowSlider.bind(this),\n      onVmBlur: this.onHideSlider.bind(this),\n      onVmValueChange: this.onVolumeChange.bind(this)\n    }));\n  }\n\n  static get watchers() {\n    return {\n      \"noKeyboard\": [\"onNoKeyboardChange\"],\n      \"muted\": [\"onPlayerVolumeChange\"],\n      \"volume\": [\"onPlayerVolumeChange\"]\n    };\n  }\n\n  static get style() {\n    return volumeControlCss;\n  }\n\n};\n\nvar mapYouTubePlaybackQuality = quality => {\n  switch (quality) {\n    case \"unknown\"\n    /* Unknown */\n    :\n      return undefined;\n\n    case \"tiny\"\n    /* Tiny */\n    :\n      return '144p';\n\n    case \"small\"\n    /* Small */\n    :\n      return '240p';\n\n    case \"medium\"\n    /* Medium */\n    :\n      return '360p';\n\n    case \"large\"\n    /* Large */\n    :\n      return '480p';\n\n    case \"hd720\"\n    /* Hd720 */\n    :\n      return '720p';\n\n    case \"hd1080\"\n    /* Hd1080 */\n    :\n      return '1080p';\n\n    case \"highres\"\n    /* Highres */\n    :\n      return '1440p';\n\n    case \"max\"\n    /* Max */\n    :\n      return '2160p';\n\n    default:\n      return undefined;\n  }\n};\n\nvar youtubeCss = \":host{z-index:var(--vm-media-z-index)}\";\nvar posterCache = new Map();\nvar YouTube = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.defaultInternalState = {};\n    this.internalState = {\n      paused: true,\n      duration: 0,\n      seeking: false,\n      playbackReady: false,\n      playbackStarted: false,\n      currentTime: 0,\n      lastTimeUpdate: 0,\n      playbackRate: 1,\n      state: -1\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether cookies should be enabled on the embed.\n     */\n\n    this.cookies = false;\n    /**\n     * Whether the fullscreen control should be shown.\n     */\n\n    this.showFullscreenControl = true;\n    /** @internal */\n\n    this.language = 'en';\n    /** @internal */\n\n    this.autoplay = false;\n    /** @internal */\n\n    this.controls = false;\n    /** @internal */\n\n    this.loop = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n\n  onVideoIdChange() {\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n\n    this.embedSrc = \"\".concat(this.getOrigin(), \"/embed/\").concat(this.videoId);\n    this.fetchPosterURL = this.findPosterURL();\n  }\n\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.initialMuted = this.muted;\n    this.defaultInternalState = _objectSpread({}, this.internalState);\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this81 = this;\n\n    return _asyncToGenerator(function* () {\n      var canPlayRegex = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\n      return {\n        getInternalPlayer: function () {\n          var _getInternalPlayer6 = _asyncToGenerator(function* () {\n            return _this81.embed;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer6.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        play: function () {\n          var _play4 = _asyncToGenerator(function* () {\n            _this81.remoteControl(\"playVideo\"\n            /* Play */\n            );\n          });\n\n          function play() {\n            return _play4.apply(this, arguments);\n          }\n\n          return play;\n        }(),\n        pause: function () {\n          var _pause4 = _asyncToGenerator(function* () {\n            _this81.remoteControl(\"pauseVideo\"\n            /* Pause */\n            );\n          });\n\n          function pause() {\n            return _pause4.apply(this, arguments);\n          }\n\n          return pause;\n        }(),\n        canPlay: function () {\n          var _canPlay6 = _asyncToGenerator(function* (type) {\n            return isString(type) && canPlayRegex.test(type);\n          });\n\n          function canPlay(_x38) {\n            return _canPlay6.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        setCurrentTime: function () {\n          var _setCurrentTime4 = _asyncToGenerator(function* (time) {\n            _this81.remoteControl(\"seekTo\"\n            /* Seek */\n            , time);\n          });\n\n          function setCurrentTime(_x39) {\n            return _setCurrentTime4.apply(this, arguments);\n          }\n\n          return setCurrentTime;\n        }(),\n        setMuted: function () {\n          var _setMuted4 = _asyncToGenerator(function* (muted) {\n            muted ? _this81.remoteControl(\"mute\"\n            /* Mute */\n            ) : _this81.remoteControl(\"unMute\"\n            /* Unmute */\n            );\n          });\n\n          function setMuted(_x40) {\n            return _setMuted4.apply(this, arguments);\n          }\n\n          return setMuted;\n        }(),\n        setVolume: function () {\n          var _setVolume4 = _asyncToGenerator(function* (volume) {\n            _this81.remoteControl(\"setVolume\"\n            /* SetVolume */\n            , volume);\n          });\n\n          function setVolume(_x41) {\n            return _setVolume4.apply(this, arguments);\n          }\n\n          return setVolume;\n        }(),\n        canSetPlaybackRate: function () {\n          var _canSetPlaybackRate3 = _asyncToGenerator(function* () {\n            return true;\n          });\n\n          function canSetPlaybackRate() {\n            return _canSetPlaybackRate3.apply(this, arguments);\n          }\n\n          return canSetPlaybackRate;\n        }(),\n        setPlaybackRate: function () {\n          var _setPlaybackRate3 = _asyncToGenerator(function* (rate) {\n            _this81.remoteControl(\"setPlaybackRate\"\n            /* SetPlaybackRate */\n            , rate);\n          });\n\n          function setPlaybackRate(_x42) {\n            return _setPlaybackRate3.apply(this, arguments);\n          }\n\n          return setPlaybackRate;\n        }()\n      };\n    })();\n  }\n\n  getOrigin() {\n    return !this.cookies ? 'https://www.youtube-nocookie.com' : 'https://www.youtube.com';\n  }\n\n  getPreconnections() {\n    return [this.getOrigin(), 'https://www.google.com', 'https://googleads.g.doubleclick.net', 'https://static.doubleclick.net', 'https://s.ytimg.com', 'https://i.ytimg.com'];\n  }\n\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      event: 'command',\n      func: command,\n      args: arg ? [arg] : undefined\n    });\n  }\n\n  buildParams() {\n    return {\n      enablejsapi: 1,\n      cc_lang_pref: this.language,\n      hl: this.language,\n      fs: this.showFullscreenControl ? 1 : 0,\n      controls: this.controls ? 1 : 0,\n      disablekb: !this.controls ? 1 : 0,\n      iv_load_policy: this.controls ? 1 : 3,\n      mute: this.initialMuted ? 1 : 0,\n      playsinline: this.playsinline ? 1 : 0,\n      autoplay: this.autoplay ? 1 : 0\n    };\n  }\n\n  onEmbedSrcChange() {\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n\n  onEmbedLoaded() {\n    // Seems like we have to wait a random small delay or else YT player isn't ready.\n    window.setTimeout(() => this.embed.postMessage({\n      event: 'listening'\n    }), 100);\n  }\n\n  findPosterURL() {\n    var _this82 = this;\n\n    return _asyncToGenerator(function* () {\n      if (posterCache.has(_this82.videoId)) return posterCache.get(_this82.videoId);\n\n      var posterURL = quality => \"https://i.ytimg.com/vi/\".concat(_this82.videoId, \"/\").concat(quality, \".jpg\");\n      /**\n       * We are testing a that the image has a min-width of 121px because if the thumbnail does not\n       * exist YouTube returns a blank/error image that is 120px wide.\n       */\n\n\n      return loadImage(posterURL('maxresdefault'), 121) // 1080p (no padding)\n      .catch(() => loadImage(posterURL('sddefault'), 121)) // 640p (padded 4:3)\n      .catch(() => loadImage(posterURL('hqdefault'), 121)) // 480p (padded 4:3)\n      .then(img => {\n        var poster = img.src;\n        posterCache.set(_this82.videoId, poster);\n        return poster;\n      });\n    })();\n  }\n\n  onCued() {\n    if (this.internalState.playbackReady) return;\n    this.internalState = _objectSpread({}, this.defaultInternalState);\n    this.dispatch('currentSrc', this.embedSrc);\n    this.dispatch('mediaType', MediaType.Video);\n    this.fetchPosterURL.then(poster => {\n      var _this$poster3;\n\n      this.dispatch('currentPoster', (_this$poster3 = this.poster) !== null && _this$poster3 !== void 0 ? _this$poster3 : poster);\n      this.dispatch('playbackReady', true);\n    });\n    this.internalState.playbackReady = true;\n  }\n\n  onPlayerStateChange(state) {\n    // Sometimes the embed falls back to an unstarted state for some unknown reason, this will\n    // make sure the player is configured to the right starting state.\n    if (this.internalState.playbackReady && state === -1\n    /* Unstarted */\n    ) {\n        this.internalState.paused = true;\n        this.internalState.playbackStarted = false;\n        this.dispatch('buffering', false);\n        this.dispatch('paused', true);\n        this.dispatch('playbackStarted', false);\n        return;\n      }\n\n    var isPlaying = state === 1\n    /* Playing */\n    ;\n    var isBuffering = state === 3\n    /* Buffering */\n    ;\n    this.dispatch('buffering', isBuffering); // Attempt to detect `play` events early.\n\n    if (this.internalState.paused && (isBuffering || isPlaying)) {\n      this.internalState.paused = false;\n      this.dispatch('paused', false);\n\n      if (!this.internalState.playbackStarted) {\n        this.dispatch('playbackStarted', true);\n        this.internalState.playbackStarted = true;\n      }\n    }\n\n    switch (state) {\n      case 5\n      /* Cued */\n      :\n        this.onCued();\n        break;\n\n      case 1\n      /* Playing */\n      :\n        // Incase of autoplay which might skip `Cued` event.\n        this.onCued();\n        this.dispatch('playing', true);\n        break;\n\n      case 2\n      /* Paused */\n      :\n        this.internalState.paused = true;\n        this.dispatch('paused', true);\n        break;\n\n      case 0\n      /* Ended */\n      :\n        if (this.loop) {\n          window.setTimeout(() => {\n            this.remoteControl(\"playVideo\"\n            /* Play */\n            );\n          }, 150);\n        } else {\n          this.dispatch('playbackEnded', true);\n          this.internalState.paused = true;\n          this.dispatch('paused', true);\n        }\n\n        break;\n    }\n\n    this.internalState.state = state;\n  }\n\n  calcCurrentTime(time) {\n    var currentTime = time;\n\n    if (this.internalState.state === 0\n    /* Ended */\n    ) {\n        return this.internalState.duration;\n      }\n\n    if (this.internalState.state === 1\n    /* Playing */\n    ) {\n        var elapsedTime = (Date.now() / 1e3 - this.defaultInternalState.lastTimeUpdate) * this.internalState.playbackRate;\n        if (elapsedTime > 0) currentTime += Math.min(elapsedTime, 1);\n      }\n\n    return currentTime;\n  }\n\n  onTimeChange(time) {\n    var currentTime = this.calcCurrentTime(time);\n    this.dispatch('currentTime', currentTime); // This is the only way to detect `seeking`.\n\n    if (Math.abs(this.internalState.currentTime - currentTime) > 1.5) {\n      this.internalState.seeking = true;\n      this.dispatch('seeking', true);\n    }\n\n    this.internalState.currentTime = currentTime;\n  }\n\n  onBufferedChange(buffered) {\n    this.dispatch('buffered', buffered);\n    /**\n     * This is the only way to detect `seeked`. Unfortunately while the player is `paused` `seeking`\n     * and `seeked` will fire at the same time, there are no updates inbetween -_-. We need an\n     * artifical delay between the two events.\n     */\n\n    if (this.internalState.seeking && buffered > this.internalState.currentTime) {\n      window.setTimeout(() => {\n        this.internalState.seeking = false;\n        this.dispatch('seeking', false);\n      }, this.internalState.paused ? 100 : 0);\n    }\n  }\n\n  onEmbedMessage(event) {\n    var message = event.detail;\n    var {\n      info\n    } = message;\n    if (!info) return;\n    if (isObject(info.videoData)) this.dispatch('mediaTitle', info.videoData.title);\n\n    if (isNumber(info.duration)) {\n      this.internalState.duration = info.duration;\n      this.dispatch('duration', info.duration);\n    }\n\n    if (isArray(info.availablePlaybackRates)) {\n      this.dispatch('playbackRates', info.availablePlaybackRates);\n    }\n\n    if (isNumber(info.playbackRate)) {\n      this.internalState.playbackRate = info.playbackRate;\n      this.dispatch('playbackRate', info.playbackRate);\n    }\n\n    if (isNumber(info.currentTime)) this.onTimeChange(info.currentTime);\n\n    if (isNumber(info.currentTimeLastUpdated)) {\n      this.internalState.lastTimeUpdate = info.currentTimeLastUpdated;\n    }\n\n    if (isNumber(info.videoLoadedFraction)) {\n      this.onBufferedChange(info.videoLoadedFraction * this.internalState.duration);\n    }\n\n    if (isNumber(info.volume)) this.dispatch('volume', info.volume);\n    if (isBoolean(info.muted)) this.dispatch('muted', info.muted);\n\n    if (isArray(info.availableQualityLevels)) {\n      this.dispatch('playbackQualities', info.availableQualityLevels.map(q => mapYouTubePlaybackQuality(q)));\n    }\n\n    if (isString(info.playbackQuality)) {\n      this.dispatch('playbackQuality', mapYouTubePlaybackQuality(info.playbackQuality));\n    }\n\n    if (isNumber(info.playerState)) this.onPlayerStateChange(info.playerState);\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-embed\", {\n      embedSrc: this.embedSrc,\n      mediaTitle: this.mediaTitle,\n      origin: this.getOrigin(),\n      params: this.buildParams(),\n      decoder: decodeJSON,\n      preconnections: this.getPreconnections(),\n      onVmEmbedLoaded: this.onEmbedLoaded.bind(this),\n      onVmEmbedMessage: this.onEmbedMessage.bind(this),\n      onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this),\n      ref: el => {\n        this.embed = el;\n      }\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"cookies\": [\"onVideoIdChange\"],\n      \"videoId\": [\"onVideoIdChange\"],\n      \"poster\": [\"onCustomPosterChange\"]\n    };\n  }\n\n  static get style() {\n    return youtubeCss;\n  }\n\n};\nvar VmAudio = /*@__PURE__*/(0, _client.proxyCustomElement)(Audio, [4, \"vm-audio\", {\n  \"willAttach\": [4, \"will-attach\"],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"mediaTitle\": [1, \"media-title\"]\n}]);\nexports.VmAudio = VmAudio;\nvar VmCaptionControl = /*@__PURE__*/(0, _client.proxyCustomElement)(CaptionControl, [1, \"vm-caption-control\", {\n  \"showIcon\": [1, \"show-icon\"],\n  \"hideIcon\": [1, \"hide-icon\"],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"icons\": [1],\n  \"keys\": [1],\n  \"i18n\": [16],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"textTracks\": [16],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"canToggleCaptionVisibility\": [32]\n}]);\nexports.VmCaptionControl = VmCaptionControl;\nvar VmCaptions = /*@__PURE__*/(0, _client.proxyCustomElement)(Captions, [1, \"vm-captions\", {\n  \"hidden\": [4],\n  \"isControlsActive\": [4, \"is-controls-active\"],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"playbackStarted\": [4, \"playback-started\"],\n  \"textTracks\": [16],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"isEnabled\": [32],\n  \"cue\": [32],\n  \"fontSize\": [32]\n}]);\nexports.VmCaptions = VmCaptions;\nvar VmClickToPlay = /*@__PURE__*/(0, _client.proxyCustomElement)(ClickToPlay, [1, \"vm-click-to-play\", {\n  \"useOnMobile\": [4, \"use-on-mobile\"],\n  \"paused\": [4],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"isMobile\": [4, \"is-mobile\"]\n}]);\nexports.VmClickToPlay = VmClickToPlay;\nvar VmControl = /*@__PURE__*/(0, _client.proxyCustomElement)(Control, [1, \"vm-control\", {\n  \"keys\": [1],\n  \"identifier\": [1],\n  \"hidden\": [4],\n  \"label\": [1],\n  \"menu\": [1],\n  \"expanded\": [4],\n  \"pressed\": [4],\n  \"isTouch\": [4, \"is-touch\"],\n  \"describedBy\": [32],\n  \"showTapHighlight\": [32]\n}]);\nexports.VmControl = VmControl;\nvar VmControlGroup = /*@__PURE__*/(0, _client.proxyCustomElement)(ControlNewLine, [1, \"vm-control-group\", {\n  \"space\": [1]\n}]);\nexports.VmControlGroup = VmControlGroup;\nvar VmControlSpacer = /*@__PURE__*/(0, _client.proxyCustomElement)(ControlSpacer, [1, \"vm-control-spacer\"]);\nexports.VmControlSpacer = VmControlSpacer;\nvar VmControls = /*@__PURE__*/(0, _client.proxyCustomElement)(Controls, [1, \"vm-controls\", {\n  \"hidden\": [4],\n  \"fullWidth\": [4, \"full-width\"],\n  \"fullHeight\": [4, \"full-height\"],\n  \"direction\": [1],\n  \"align\": [1],\n  \"justify\": [1],\n  \"pin\": [513],\n  \"activeDuration\": [2, \"active-duration\"],\n  \"waitForPlaybackStart\": [4, \"wait-for-playback-start\"],\n  \"hideWhenPaused\": [4, \"hide-when-paused\"],\n  \"hideOnMouseLeave\": [4, \"hide-on-mouse-leave\"],\n  \"isAudioView\": [4, \"is-audio-view\"],\n  \"isSettingsActive\": [4, \"is-settings-active\"],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"isControlsActive\": [4, \"is-controls-active\"],\n  \"paused\": [4],\n  \"playbackStarted\": [4, \"playback-started\"],\n  \"isInteracting\": [32]\n}]);\nexports.VmControls = VmControls;\nvar VmCurrentTime = /*@__PURE__*/(0, _client.proxyCustomElement)(CurrentTime, [1, \"vm-current-time\", {\n  \"currentTime\": [2, \"current-time\"],\n  \"i18n\": [16],\n  \"alwaysShowHours\": [4, \"always-show-hours\"]\n}]);\nexports.VmCurrentTime = VmCurrentTime;\nvar VmDailymotion = /*@__PURE__*/(0, _client.proxyCustomElement)(Dailymotion, [1, \"vm-dailymotion\", {\n  \"videoId\": [1, \"video-id\"],\n  \"shouldAutoplayQueue\": [4, \"should-autoplay-queue\"],\n  \"showUpNextQueue\": [4, \"show-up-next-queue\"],\n  \"showShareButtons\": [4, \"show-share-buttons\"],\n  \"color\": [1],\n  \"syndication\": [1],\n  \"showDailymotionLogo\": [4, \"show-dailymotion-logo\"],\n  \"showVideoInfo\": [4, \"show-video-info\"],\n  \"language\": [1],\n  \"autoplay\": [4],\n  \"controls\": [4],\n  \"poster\": [1],\n  \"logger\": [16],\n  \"loop\": [4],\n  \"muted\": [4],\n  \"playsinline\": [4],\n  \"embedSrc\": [32],\n  \"mediaTitle\": [32]\n}]);\nexports.VmDailymotion = VmDailymotion;\nvar VmDash = /*@__PURE__*/(0, _client.proxyCustomElement)(Dash, [1, \"vm-dash\", {\n  \"src\": [1],\n  \"version\": [1],\n  \"libSrc\": [1, \"lib-src\"],\n  \"config\": [16],\n  \"autoplay\": [4],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"poster\": [1],\n  \"controlsList\": [1, \"controls-list\"],\n  \"autoPiP\": [4, \"auto-pip\"],\n  \"disablePiP\": [4, \"disable-pip\"],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"enableTextTracksByDefault\": [4, \"enable-text-tracks-by-default\"],\n  \"shouldRenderNativeTextTracks\": [4, \"should-render-native-text-tracks\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"hasAttached\": [32]\n}, [[0, \"vmMediaElChange\", \"onMediaElChange\"]]]);\nexports.VmDash = VmDash;\nvar VmDblClickFullscreen = /*@__PURE__*/(0, _client.proxyCustomElement)(DblClickFullscreen, [1, \"vm-dbl-click-fullscreen\", {\n  \"useOnMobile\": [4, \"use-on-mobile\"],\n  \"isFullscreenActive\": [4, \"is-fullscreen-active\"],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"isMobile\": [4, \"is-mobile\"],\n  \"canSetFullscreen\": [32]\n}]);\nexports.VmDblClickFullscreen = VmDblClickFullscreen;\nvar VmDefaultControls = /*@__PURE__*/(0, _client.proxyCustomElement)(DefaultControls, [1, \"vm-default-controls\", {\n  \"activeDuration\": [2, \"active-duration\"],\n  \"waitForPlaybackStart\": [4, \"wait-for-playback-start\"],\n  \"hideWhenPaused\": [4, \"hide-when-paused\"],\n  \"hideOnMouseLeave\": [4, \"hide-on-mouse-leave\"],\n  \"theme\": [1],\n  \"isMobile\": [4, \"is-mobile\"],\n  \"isLive\": [4, \"is-live\"],\n  \"isAudioView\": [4, \"is-audio-view\"],\n  \"isVideoView\": [4, \"is-video-view\"]\n}]);\nexports.VmDefaultControls = VmDefaultControls;\nvar VmDefaultSettings = /*@__PURE__*/(0, _client.proxyCustomElement)(DefaultSettings, [1, \"vm-default-settings\", {\n  \"pin\": [513],\n  \"i18n\": [16],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"playbackRate\": [2, \"playback-rate\"],\n  \"playbackRates\": [16],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"playbackQuality\": [1, \"playback-quality\"],\n  \"playbackQualities\": [16],\n  \"textTracks\": [16],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"audioTracks\": [16],\n  \"currentAudioTrack\": [2, \"current-audio-track\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"canSetPlaybackRate\": [32],\n  \"canSetPlaybackQuality\": [32],\n  \"canSetTextTrack\": [32],\n  \"canSetAudioTrack\": [32]\n}]);\nexports.VmDefaultSettings = VmDefaultSettings;\nvar VmDefaultUi = /*@__PURE__*/(0, _client.proxyCustomElement)(DefaultUI, [1, \"vm-default-ui\", {\n  \"noClickToPlay\": [4, \"no-click-to-play\"],\n  \"noDblClickFullscreen\": [4, \"no-dbl-click-fullscreen\"],\n  \"noCaptions\": [4, \"no-captions\"],\n  \"noPoster\": [4, \"no-poster\"],\n  \"noSpinner\": [4, \"no-spinner\"],\n  \"noControls\": [4, \"no-controls\"],\n  \"noSettings\": [4, \"no-settings\"],\n  \"noLoadingScreen\": [4, \"no-loading-screen\"]\n}]);\nexports.VmDefaultUi = VmDefaultUi;\nvar VmEmbed = /*@__PURE__*/(0, _client.proxyCustomElement)(Embed, [1, \"vm-embed\", {\n  \"embedSrc\": [1, \"embed-src\"],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"params\": [1],\n  \"origin\": [1],\n  \"preconnections\": [16],\n  \"decoder\": [16],\n  \"srcWithParams\": [32],\n  \"hasEnteredViewport\": [32]\n}, [[8, \"message\", \"onWindowMessage\"]]]);\nexports.VmEmbed = VmEmbed;\nvar VmEndTime = /*@__PURE__*/(0, _client.proxyCustomElement)(EndTime, [1, \"vm-end-time\", {\n  \"duration\": [2],\n  \"i18n\": [16],\n  \"alwaysShowHours\": [4, \"always-show-hours\"]\n}]);\nexports.VmEndTime = VmEndTime;\nvar VmFile = /*@__PURE__*/(0, _client.proxyCustomElement)(File, [6, \"vm-file\", {\n  \"willAttach\": [4, \"will-attach\"],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"poster\": [1],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"controlsList\": [1, \"controls-list\"],\n  \"autoPiP\": [4, \"auto-pip\"],\n  \"disablePiP\": [4, \"disable-pip\"],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"viewType\": [1, \"view-type\"],\n  \"playbackRates\": [16],\n  \"language\": [1],\n  \"autoplay\": [4],\n  \"controls\": [4],\n  \"logger\": [16],\n  \"loop\": [4],\n  \"muted\": [4],\n  \"playsinline\": [4],\n  \"noConnect\": [4, \"no-connect\"],\n  \"paused\": [4],\n  \"currentTime\": [2, \"current-time\"],\n  \"volume\": [2],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"playbackStarted\": [4, \"playback-started\"],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"hasCustomTextManager\": [4, \"has-custom-text-manager\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"shouldRenderNativeTextTracks\": [4, \"should-render-native-text-tracks\"],\n  \"vmPoster\": [32]\n}, [[0, \"vmMediaProviderConnect\", \"onProviderConnect\"], [0, \"vmMediaProviderDisconnect\", \"onProviderDisconnect\"]]]);\nexports.VmFile = VmFile;\nvar VmFullscreenControl = /*@__PURE__*/(0, _client.proxyCustomElement)(FullscreenControl, [1, \"vm-fullscreen-control\", {\n  \"enterIcon\": [1, \"enter-icon\"],\n  \"exitIcon\": [1, \"exit-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"keys\": [1],\n  \"isFullscreenActive\": [4, \"is-fullscreen-active\"],\n  \"i18n\": [16],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"canSetFullscreen\": [32]\n}]);\nexports.VmFullscreenControl = VmFullscreenControl;\nvar VmHls = /*@__PURE__*/(0, _client.proxyCustomElement)(HLS, [4, \"vm-hls\", {\n  \"version\": [1],\n  \"libSrc\": [1, \"lib-src\"],\n  \"config\": [8],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"poster\": [1],\n  \"controlsList\": [1, \"controls-list\"],\n  \"autoPiP\": [4, \"auto-pip\"],\n  \"disablePiP\": [4, \"disable-pip\"],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"hasAttached\": [32]\n}, [[0, \"vmMediaElChange\", \"onMediaElChange\"], [0, \"vmSrcSetChange\", \"onSrcChange\"]]]);\nexports.VmHls = VmHls;\nvar VmIcon = /*@__PURE__*/(0, _client.proxyCustomElement)(Icon, [1, \"vm-icon\", {\n  \"name\": [1],\n  \"src\": [1],\n  \"label\": [1],\n  \"library\": [1],\n  \"icons\": [1],\n  \"svg\": [32]\n}]);\nexports.VmIcon = VmIcon;\nvar VmIconLibrary = /*@__PURE__*/(0, _client.proxyCustomElement)(IconLibrary, [1, \"vm-icon-library\", {\n  \"name\": [1],\n  \"resolver\": [16],\n  \"icons\": [1]\n}]);\nexports.VmIconLibrary = VmIconLibrary;\nvar VmLiveIndicator = /*@__PURE__*/(0, _client.proxyCustomElement)(LiveIndicator, [1, \"vm-live-indicator\", {\n  \"isLive\": [4, \"is-live\"],\n  \"i18n\": [16]\n}]);\nexports.VmLiveIndicator = VmLiveIndicator;\nvar VmLoadingScreen = /*@__PURE__*/(0, _client.proxyCustomElement)(LoadingScreen, [1, \"vm-loading-screen\", {\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"hideDots\": [4, \"hide-dots\"]\n}]);\nexports.VmLoadingScreen = VmLoadingScreen;\nvar VmMenu = /*@__PURE__*/(0, _client.proxyCustomElement)(Menu, [1, \"vm-menu\", {\n  \"active\": [1540],\n  \"identifier\": [1],\n  \"controller\": [16],\n  \"slideInDirection\": [1, \"slide-in-direction\"],\n  \"activeMenuItem\": [32],\n  \"activeSubmenu\": [32]\n}, [[0, \"vmOpenSubmenu\", \"onOpenSubmenu\"], [0, \"vmCloseSubmenu\", \"onCloseSubmenu\"], [8, \"click\", \"onWindowClick\"], [8, \"keydown\", \"onWindowKeyDown\"]]]);\nexports.VmMenu = VmMenu;\nvar VmMenuItem = /*@__PURE__*/(0, _client.proxyCustomElement)(MenuItem, [1, \"vm-menu-item\", {\n  \"identifier\": [1],\n  \"hidden\": [4],\n  \"label\": [1],\n  \"menu\": [16],\n  \"expanded\": [4],\n  \"checked\": [4],\n  \"hint\": [1],\n  \"badge\": [1],\n  \"checkIcon\": [1, \"check-icon\"],\n  \"icons\": [1],\n  \"isTouch\": [4, \"is-touch\"],\n  \"showTapHighlight\": [32]\n}]);\nexports.VmMenuItem = VmMenuItem;\nvar VmMenuRadio = /*@__PURE__*/(0, _client.proxyCustomElement)(MenuRadio, [1, \"vm-menu-radio\", {\n  \"label\": [1],\n  \"value\": [1],\n  \"checked\": [1028],\n  \"badge\": [1],\n  \"checkIcon\": [1, \"check-icon\"],\n  \"icons\": [1]\n}]);\nexports.VmMenuRadio = VmMenuRadio;\nvar VmMenuRadioGroup = /*@__PURE__*/(0, _client.proxyCustomElement)(MenuRadioGroup, [1, \"vm-menu-radio-group\", {\n  \"value\": [1025]\n}, [[0, \"vmCheck\", \"onSelectionChange\"]]]);\nexports.VmMenuRadioGroup = VmMenuRadioGroup;\nvar VmMuteControl = /*@__PURE__*/(0, _client.proxyCustomElement)(MuteControl, [1, \"vm-mute-control\", {\n  \"lowVolumeIcon\": [1, \"low-volume-icon\"],\n  \"highVolumeIcon\": [1, \"high-volume-icon\"],\n  \"mutedIcon\": [1, \"muted-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"keys\": [1],\n  \"volume\": [2],\n  \"muted\": [4],\n  \"i18n\": [16]\n}]);\nexports.VmMuteControl = VmMuteControl;\nvar VmPipControl = /*@__PURE__*/(0, _client.proxyCustomElement)(PiPControl, [1, \"vm-pip-control\", {\n  \"enterIcon\": [1, \"enter-icon\"],\n  \"exitIcon\": [1, \"exit-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"keys\": [1],\n  \"isPiPActive\": [4, \"is-pi-p-active\"],\n  \"i18n\": [16],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"canSetPiP\": [32]\n}]);\nexports.VmPipControl = VmPipControl;\nvar VmPlaybackControl = /*@__PURE__*/(0, _client.proxyCustomElement)(PlaybackControl, [1, \"vm-playback-control\", {\n  \"playIcon\": [1, \"play-icon\"],\n  \"pauseIcon\": [1, \"pause-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"keys\": [1],\n  \"paused\": [4],\n  \"i18n\": [16]\n}]);\nexports.VmPlaybackControl = VmPlaybackControl;\nvar VmPlayer = /*@__PURE__*/(0, _client.proxyCustomElement)(Player, [1, \"vm-player\", {\n  \"logger\": [16],\n  \"theme\": [513],\n  \"icons\": [513],\n  \"paused\": [1028],\n  \"playing\": [1028],\n  \"duration\": [1026],\n  \"mediaTitle\": [1025, \"media-title\"],\n  \"currentProvider\": [1025, \"current-provider\"],\n  \"currentSrc\": [1025, \"current-src\"],\n  \"currentPoster\": [1025, \"current-poster\"],\n  \"currentTime\": [1026, \"current-time\"],\n  \"autoplay\": [4],\n  \"ready\": [1540],\n  \"playbackReady\": [1028, \"playback-ready\"],\n  \"loop\": [4],\n  \"muted\": [1028],\n  \"buffered\": [1026],\n  \"playbackRate\": [1026, \"playback-rate\"],\n  \"playbackRates\": [1040],\n  \"playbackQuality\": [1025, \"playback-quality\"],\n  \"playbackQualities\": [1040],\n  \"seeking\": [1028],\n  \"debug\": [4],\n  \"playbackStarted\": [1028, \"playback-started\"],\n  \"playbackEnded\": [1028, \"playback-ended\"],\n  \"buffering\": [1028],\n  \"controls\": [4],\n  \"isControlsActive\": [4, \"is-controls-active\"],\n  \"isSettingsActive\": [1028, \"is-settings-active\"],\n  \"volume\": [1026],\n  \"isFullscreenActive\": [1028, \"is-fullscreen-active\"],\n  \"aspectRatio\": [1025, \"aspect-ratio\"],\n  \"viewType\": [1025, \"view-type\"],\n  \"isAudioView\": [1028, \"is-audio-view\"],\n  \"isVideoView\": [1028, \"is-video-view\"],\n  \"mediaType\": [1025, \"media-type\"],\n  \"isAudio\": [1028, \"is-audio\"],\n  \"isVideo\": [1028, \"is-video\"],\n  \"isLive\": [1028, \"is-live\"],\n  \"isMobile\": [1028, \"is-mobile\"],\n  \"isTouch\": [1028, \"is-touch\"],\n  \"isPiPActive\": [1028, \"is-pi-p-active\"],\n  \"textTracks\": [16],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"shouldRenderNativeTextTracks\": [4, \"should-render-native-text-tracks\"],\n  \"audioTracks\": [16],\n  \"currentAudioTrack\": [2, \"current-audio-track\"],\n  \"autopause\": [4],\n  \"playsinline\": [4],\n  \"language\": [1025],\n  \"translations\": [1040],\n  \"languages\": [1040],\n  \"i18n\": [1040],\n  \"container\": [32]\n}, [[0, \"vmError\", \"onError\"]]]);\nexports.VmPlayer = VmPlayer;\nvar VmPoster = /*@__PURE__*/(0, _client.proxyCustomElement)(Poster, [1, \"vm-poster\", {\n  \"fit\": [1],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"currentPoster\": [1, \"current-poster\"],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"playbackStarted\": [4, \"playback-started\"],\n  \"currentTime\": [2, \"current-time\"],\n  \"isHidden\": [32],\n  \"isActive\": [32],\n  \"hasLoaded\": [32]\n}]);\nexports.VmPoster = VmPoster;\nvar VmScrim = /*@__PURE__*/(0, _client.proxyCustomElement)(Scrim, [1, \"vm-scrim\", {\n  \"gradient\": [1],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"isControlsActive\": [4, \"is-controls-active\"]\n}]);\nexports.VmScrim = VmScrim;\nvar VmScrubberControl = /*@__PURE__*/(0, _client.proxyCustomElement)(ScrubberControl, [1, \"vm-scrubber-control\", {\n  \"alwaysShowHours\": [4, \"always-show-hours\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"currentTime\": [2, \"current-time\"],\n  \"duration\": [2],\n  \"noKeyboard\": [4, \"no-keyboard\"],\n  \"buffering\": [4],\n  \"buffered\": [2],\n  \"i18n\": [16],\n  \"timestamp\": [32],\n  \"endTime\": [32]\n}]);\nexports.VmScrubberControl = VmScrubberControl;\nvar VmSettings = /*@__PURE__*/(0, _client.proxyCustomElement)(Settings, [1, \"vm-settings\", {\n  \"pin\": [513],\n  \"active\": [1540],\n  \"isMobile\": [4, \"is-mobile\"],\n  \"isAudioView\": [4, \"is-audio-view\"],\n  \"menuHeight\": [32]\n}]);\nexports.VmSettings = VmSettings;\nvar VmSettingsControl = /*@__PURE__*/(0, _client.proxyCustomElement)(SettingsControl, [1, \"vm-settings-control\", {\n  \"icon\": [1],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"menu\": [1],\n  \"expanded\": [4],\n  \"i18n\": [16],\n  \"vmSettings\": [32]\n}]);\nexports.VmSettingsControl = VmSettingsControl;\nvar VmSkeleton = /*@__PURE__*/(0, _client.proxyCustomElement)(Skeleton, [1, \"vm-skeleton\", {\n  \"effect\": [1],\n  \"ready\": [4],\n  \"hidden\": [32]\n}]);\nexports.VmSkeleton = VmSkeleton;\nvar VmSlider = /*@__PURE__*/(0, _client.proxyCustomElement)(Slider, [1, \"vm-slider\", {\n  \"step\": [2],\n  \"min\": [2],\n  \"max\": [2],\n  \"value\": [2],\n  \"valueText\": [1, \"value-text\"],\n  \"label\": [1]\n}]);\nexports.VmSlider = VmSlider;\nvar VmSpinner = /*@__PURE__*/(0, _client.proxyCustomElement)(Spinner, [1, \"vm-spinner\", {\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"currentProvider\": [1, \"current-provider\"],\n  \"showWhenMediaLoading\": [4, \"show-when-media-loading\"],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"buffering\": [4],\n  \"isHidden\": [32],\n  \"isActive\": [32]\n}]);\nexports.VmSpinner = VmSpinner;\nvar VmSubmenu = /*@__PURE__*/(0, _client.proxyCustomElement)(Submenu, [1, \"vm-submenu\", {\n  \"label\": [1],\n  \"hint\": [1],\n  \"slideInDirection\": [1, \"slide-in-direction\"],\n  \"active\": [1540],\n  \"menu\": [32],\n  \"controller\": [32]\n}]);\nexports.VmSubmenu = VmSubmenu;\nvar VmTime = /*@__PURE__*/(0, _client.proxyCustomElement)(Time, [1, \"vm-time\", {\n  \"label\": [1],\n  \"seconds\": [2],\n  \"alwaysShowHours\": [4, \"always-show-hours\"]\n}]);\nexports.VmTime = VmTime;\nvar VmTimeProgress = /*@__PURE__*/(0, _client.proxyCustomElement)(TimeProgress, [1, \"vm-time-progress\", {\n  \"separator\": [1],\n  \"alwaysShowHours\": [4, \"always-show-hours\"]\n}]);\nexports.VmTimeProgress = VmTimeProgress;\nvar VmTooltip = /*@__PURE__*/(0, _client.proxyCustomElement)(Tooltip, [1, \"vm-tooltip\", {\n  \"hidden\": [4],\n  \"active\": [4],\n  \"position\": [1],\n  \"direction\": [1],\n  \"isTouch\": [4, \"is-touch\"],\n  \"isMobile\": [4, \"is-mobile\"]\n}]);\nexports.VmTooltip = VmTooltip;\nvar VmUi = /*@__PURE__*/(0, _client.proxyCustomElement)(UI, [1, \"vm-ui\", {\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"playsinline\": [4],\n  \"isFullscreenActive\": [4, \"is-fullscreen-active\"]\n}]);\nexports.VmUi = VmUi;\nvar VmVideo = /*@__PURE__*/(0, _client.proxyCustomElement)(Video, [4, \"vm-video\", {\n  \"willAttach\": [4, \"will-attach\"],\n  \"hasCustomTextManager\": [4, \"has-custom-text-manager\"],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"poster\": [1],\n  \"controlsList\": [1, \"controls-list\"],\n  \"autoPiP\": [4, \"auto-pip\"],\n  \"disablePiP\": [4, \"disable-pip\"],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"mediaTitle\": [1, \"media-title\"]\n}, [[0, \"vmMediaProviderConnect\", \"onProviderConnect\"], [0, \"vmMediaProviderDisconnect\", \"onProviderDisconnect\"]]]);\nexports.VmVideo = VmVideo;\nvar VmVimeo = /*@__PURE__*/(0, _client.proxyCustomElement)(Vimeo, [1, \"vm-vimeo\", {\n  \"videoId\": [1, \"video-id\"],\n  \"byline\": [4],\n  \"color\": [1],\n  \"portrait\": [4],\n  \"noAutoAspectRatio\": [4, \"no-auto-aspect-ratio\"],\n  \"poster\": [1],\n  \"cookies\": [4],\n  \"language\": [1],\n  \"aspectRatio\": [1, \"aspect-ratio\"],\n  \"autoplay\": [4],\n  \"controls\": [4],\n  \"logger\": [16],\n  \"loop\": [4],\n  \"muted\": [4],\n  \"playsinline\": [4],\n  \"embedSrc\": [32],\n  \"mediaTitle\": [32]\n}]);\nexports.VmVimeo = VmVimeo;\nvar VmVolumeControl = /*@__PURE__*/(0, _client.proxyCustomElement)(VolumeControl, [1, \"vm-volume-control\", {\n  \"lowVolumeIcon\": [1, \"low-volume-icon\"],\n  \"highVolumeIcon\": [1, \"high-volume-icon\"],\n  \"mutedIcon\": [1, \"muted-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"muteKeys\": [1, \"mute-keys\"],\n  \"noKeyboard\": [4, \"no-keyboard\"],\n  \"muted\": [4],\n  \"volume\": [2],\n  \"isMobile\": [4, \"is-mobile\"],\n  \"i18n\": [16],\n  \"currentVolume\": [32],\n  \"isSliderActive\": [32]\n}]);\nexports.VmVolumeControl = VmVolumeControl;\nvar VmYoutube = /*@__PURE__*/(0, _client.proxyCustomElement)(YouTube, [1, \"vm-youtube\", {\n  \"cookies\": [4],\n  \"videoId\": [1, \"video-id\"],\n  \"showFullscreenControl\": [4, \"show-fullscreen-control\"],\n  \"poster\": [1],\n  \"language\": [1],\n  \"autoplay\": [4],\n  \"controls\": [4],\n  \"logger\": [16],\n  \"loop\": [4],\n  \"muted\": [4],\n  \"playsinline\": [4],\n  \"embedSrc\": [32],\n  \"mediaTitle\": [32]\n}]);\nexports.VmYoutube = VmYoutube;\n\nvar defineCustomElements = opts => {\n  if (typeof customElements !== 'undefined') {\n    [VmAudio, VmCaptionControl, VmCaptions, VmClickToPlay, VmControl, VmControlGroup, VmControlSpacer, VmControls, VmCurrentTime, VmDailymotion, VmDash, VmDblClickFullscreen, VmDefaultControls, VmDefaultSettings, VmDefaultUi, VmEmbed, VmEndTime, VmFile, VmFullscreenControl, VmHls, VmIcon, VmIconLibrary, VmLiveIndicator, VmLoadingScreen, VmMenu, VmMenuItem, VmMenuRadio, VmMenuRadioGroup, VmMuteControl, VmPipControl, VmPlaybackControl, VmPlayer, VmPoster, VmScrim, VmScrubberControl, VmSettings, VmSettingsControl, VmSkeleton, VmSlider, VmSpinner, VmSubmenu, VmTime, VmTimeProgress, VmTooltip, VmUi, VmVideo, VmVimeo, VmVolumeControl, VmYoutube].forEach(cmp => {\n      if (!customElements.get(cmp.is)) {\n        customElements.define(cmp.is, cmp, opts);\n      }\n    });\n  }\n};\n\nexports.defineCustomElements = defineCustomElements;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/@vime/core/dist/custom-elements/index.js"],"names":["Object","defineProperty","exports","value","getComponentFromRegistry","getPlayerFromRegistry","isComponentRegistered","watchComponentRegistry","withComponentRegistry","enumerable","get","_client","setAssetPath","withPlayerContext","usePlayerContext","isWritableProp","initialState","findPlayer","defineCustomElements","createDispatcher","VmYoutube","VmVolumeControl","VmVimeo","VmVideo","VmUi","VmTooltip","VmTimeProgress","VmTime","VmSubmenu","VmSpinner","VmSlider","VmSkeleton","VmSettingsControl","VmSettings","VmScrubberControl","VmScrim","VmPoster","VmPlayer","VmPlaybackControl","VmPipControl","VmMuteControl","VmMenuRadioGroup","VmMenuRadio","VmMenuItem","VmMenu","VmLoadingScreen","VmLiveIndicator","VmIconLibrary","VmIcon","VmHls","VmFullscreenControl","VmFile","VmEndTime","VmEmbed","VmDefaultUi","VmDefaultSettings","VmDefaultControls","VmDblClickFullscreen","VmDash","VmDailymotion","VmCurrentTime","VmControls","VmControlSpacer","VmControlGroup","VmControl","VmClickToPlay","VmCaptions","VmCaptionControl","VmAudio","ViewType","REGISTRY_KEY","REGISTRATION_KEY","Provider","PLAYER_KEY","MediaType","COMPONENT_NAME_KEY","require","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","err","undefined","en","play","pause","playback","scrubber","scrubberLabel","played","duration","buffered","close","currentTime","live","volume","mute","unmute","audio","default","captions","subtitlesOrCc","enableCaptions","disableCaptions","auto","fullscreen","enterFullscreen","exitFullscreen","settings","seekForward","seekBackward","seekTotal","normal","none","playbackRate","playbackQuality","loop","disabled","off","enabled","pip","enterPiP","exitPiP","theme","paused","playing","currentProvider","mediaTitle","currentSrc","currentPoster","textTracks","currentTextTrack","audioTracks","currentAudioTrack","isTextTrackVisible","shouldRenderNativeTextTracks","icons","autoplay","ready","playbackReady","muted","playbackRates","playbackQualities","seeking","debug","playbackStarted","playbackEnded","buffering","controls","isControlsActive","isFullscreenActive","aspectRatio","viewType","isAudioView","isVideoView","mediaType","isAudio","isVideo","isMobile","isTouch","isSettingsActive","isLive","isPiPActive","autopause","playsinline","language","languages","translations","i18n","writableProps","Set","prop","has","resetableProps","shouldPropResetOnMediaChange","isNull","input","isUndefined","isNullOrUndefined","getConstructor","constructor","isObject","isNumber","Number","isNaN","isString","String","isBoolean","Boolean","isFunction","Function","isArray","Array","isInstanceOf","STATE_CHANGE_EVENT","ref","el","HTMLElement","getElement","event","CustomEvent","bubbles","composed","detail","by","dispatchEvent","createDeferredPromise","promise","res","openWormhole","Component","props","isBlocking","isConstructor","name","Proto","prototype","componentWillLoad","_this","onOpen","consumer","fields","updater","willLoad","call","multiverse","Map","updateConsumer","_a","state","field","Universe","create","creator","wormholes","universe","set","connectedCallback","disconnectedCallback","delete","addEventListener","stopPropagation","connectedCallback_1","disconnectedCallback_1","children","getRenderingRef","opening","listen","node","handler","options","removeEventListener","fireEventAndRetry","onFail","interval","maxRetries","timeout","attempt","found","retry","setTimeout","window","clearTimeout","isColliding","a","b","translateAx","translateAy","translateBx","translateBy","aRect","getBoundingClientRect","bRect","left","right","top","bottom","deferredPromise","rej","wrapStencilHook","component","lifecycle","hook","prevHook","createStencilHook","onConnect","onDisconnect","hasLoaded","FIND_PLAYER_EVENT","withFindPlayer","player","_off","search","stopFiring","concat","nodeName","LOAD_START_EVENT","isToggleStateEvent","hasShortenedEventName","getEventName","replace","charAt","toUpperCase","slice","firePlayerEvent","newValue","oldValue","events","_ref","playerRef","listeners","map","_x","_x2","_x3","_x4","Disposal","dispose","add","callback","empty","Symbol","REGISTER_COMPONENT_EVENT","COMPONENT_REGISTERED_EVENT","COMPONENT_DEREGISTERED_EVENT","getRegistrant","registryId","registrant","toLowerCase","buildEvent","eventName","registerEvent","withComponentRegistrar","registry","disposal","onDeregister","onRegister","e","clear","_registry$values","from","values","some","r","_registrant$REGISTRY_","_registrant$REGISTRY_2","_x5","_x6","_x7","_watchComponentRegistry","onChange","_registry$values2","listener","reg","audioRegex","videoRegex","hlsRegex","hlsTypeRegex","dashRegex","PROVIDER_CHANGE_EVENT","createProviderDispatcher","providerWritableProps","isProviderWritableProp","PROVIDER_CACHE_KEY","PROVIDER_CONNECT_EVENT","PROVIDER_DISCONNECT_EVENT","buildProviderConnectEvent","host","withProviderHost","connector","cache","initCache","writeTask","_connector$onProvider","provider","onProviderDisconnect","stopImmediatePropagation","hostRef","find","_connector$logger","logger","warn","withProviderConnect","connectEvent","Audio","__registerHost","willAttach","preload","getAdapter","_this2","_yield$_this2$filePro","_this2$fileProvider","adapter","fileProvider","canPlay","_ref4","type","test","_x8","render","h","noConnect","crossOrigin","disableRemotePlayback","captionControlCss","CaptionControl","attachShadow","canToggleCaptionVisibility","showIcon","hideIcon","tooltipPosition","hideTooltip","onTextTracksChange","_this3","_yield$player$canSetT","canSetTextTrackVisibility","componentDidLoad","onClick","_player$setTextTrackV","setTextTrackVisibility","tooltip","tooltipWithHint","Host","hidden","label","pressed","bind","library","position","direction","tooltipDirection","watchers","style","watch","collisions","update","controlsEl","controlsHeight","parseFloat","getComputedStyle","height","watchedEl","watchedElCollisions","hasCollided","willCollide","setProperty","Math","max","registerControlsForCollisionDetection","getInnerEl","shadowRoot","querySelector","innerEl","withControlsCollisionDetection","captionsCss","Captions","sizeDisposal","textDisposal","isEnabled","fontSize","onEnabledChange","textTrack","renderCues","_textTrack$activeCues","activeCues","renderCurrentCue","dispatch","onPlayerResize","_this4","container","getContainer","resizeObs","ResizeObserver","entries","entry","width","contentRect","observe","cue","div","document","createElement","append","getCueAsHTML","innerHTML","trim","transform","class","fontMd","fontLg","fontXl","inactive","clickToPlayCss","ClickToPlay","useOnMobile","forceClick","_this5","clickToPlay","controlCss","Control","vmInteractionChange","createEvent","vmFocus","vmBlur","keyboardDisposal","showTapHighlight","onKeysChange","_this6","codes","split","includes","button","click","findTooltip","focusControl","_this7","_this7$button","focus","blurControl","_this8","_this8$button","blur","onTouchStart","onTouchEnd","describedBy","id","onShowTooltip","active","emit","onHideTooltip","onFocus","onBlur","onMouseEnter","onMouseLeave","isMenuExpanded","expanded","isPressed","notTouch","tapHighlight","identifier","menu","controlGroupCss","ControlNewLine","space","controlGroup","spaceTop","spaceBottom","controlSpacerCss","ControlSpacer","debounce","func","wait","immediate","executedFunction","_len","_key","context","later","delayedFunctionCall","callNow","controlsCss","hideControlsTimeout","Controls","isInteracting","fullWidth","fullHeight","align","justify","pin","activeDuration","waitForPlaybackStart","hideWhenPaused","hideOnMouseLeave","onControlsChange","setupPlayerListeners","_this9","show","hide","hideWithDelay","getPosition","pos","s","onStartInteraction","onEndInteraction","video","flexDirection","alignItems","justifyContent","currentTimeCss","CurrentTime","alwaysShowHours","seconds","IS_CLIENT","UA","navigator","userAgent","IS_IOS","IS_ANDROID","IS_MOBILE","IS_IPHONE","platform","IS_FIREFOX","IS_SAFARI","safari","onMobileChange","onResize","innerWidth","onTouchInputChange","lastTouchTime","offTouchListener","Date","getTime","offMouseListener","canFullscreenVideo","webkitEnterFullscreen","canRotateScreen","screen","orientation","lock","canUsePiPInChrome","pictureInPictureEnabled","disablePictureInPicture","canUsePiPInSafari","webkitSupportsPresentationMode","webkitSetPresentationMode","canUsePiP","canAutoplay","setAttribute","opacity","catch","tryParseJSON","json","JSON","parse","isObjOrJSON","startsWith","objOrParseJSON","loadImage","src","minWidth","image","Image","onload","onerror","naturalWidth","assign","loadScript","onLoad","onError","script","firstScriptTag","getElementsByTagName","parentNode","insertBefore","decodeJSON","data","tryDecodeURIComponent","fallback","decodeURIComponent","QUERY_STRING_REGEX","parseQueryString","qs","params","match","exec","currValue","serializeQueryString","appendQueryParam","param","v","encodeURIComponent","join","preconnect","url","rel","as","link","href","head","appendQueryStringToURL","mainAndQuery","appendParamsToURL","decodeQueryString","pendingSDKRequests","loadSDK","sdkGlobalVar","sdkReadyVar","isLoaded","loadScriptFn","getGlobal","module","existingGlobal","onLoaded","sdk","request","previousOnReady","withProviderContext","additionalProps","dailymotionCss","videoInfoCache","Dailymotion","vmLoadStart","vmError","defaultInternalState","internalState","isAdsPlaying","embedSrc","shouldAutoplayQueue","showUpNextQueue","showShareButtons","showDailymotionLogo","showVideoInfo","onVideoIdChange","videoId","getOrigin","fetchVideoInfo","getVideoInfo","pendingMediaTitleCall","remoteControl","onCustomPosterChange","poster","Video","initialMuted","getPreconnections","command","embed","postMessage","parameters","buildParams","syndication","color","_this10","apiEndpoint","fetch","response","thumbnail_1080_url","onEmbedSrcChange","onEmbedMessage","_this$pendingMediaTit","_this$pendingMediaTit2","msg","all","_ref5","_info$duration","_this$poster","title","time","floor","qualities","q","quality","_this11","canPlayRegex","getInternalPlayer","_getInternalPlayer","_play","_pause","_canPlay","_x9","setCurrentTime","_setCurrentTime","_x10","setMuted","_setMuted","_x11","setVolume","_setVolume","_x12","canSetPlaybackQuality","_canSetPlaybackQuality","setPlaybackQuality","_setPlaybackQuality","_x13","canSetFullscreen","_canSetFullscreen","_enterFullscreen","_exitFullscreen","origin","decoder","preconnections","onVmEmbedMessage","onVmEmbedSrcChange","dashCss","Dash","textTracksDisposal","hasAttached","version","config","enableTextTracksByDefault","onSrcChange","dash","attachSource","onShouldRenderNativeTextTracks","_this$dash","hideCurrentTextTrack","enableForcedTextStreaming","onTextTrackChange","setTextTrack","_this$mediaEl$textTra","_this$mediaEl","track","mediaEl","mode","setupDash","destroyDash","_this12","libSrc","DashSDK","MediaPlayer","initialize","setTextDefaultEnabled","on","PLAYBACK_METADATA_LOADED","dispatchLevels","listenToTextTracksForChanges","TRACK_CHANGE_RENDERED","ERROR","_this13","_this13$dash","reset","onMediaElChange","_this14","levelToPlaybackQuality","level","findLevelIndexFromQuality","getBitrateInfoListFor","findIndex","levels","_ref6","_this$dash2","_this$dash2$getCurren","currentTrack","getCurrentTrackFor","index","getTextTracks","_this$mediaEl$textTra2","_this$mediaEl2","_this15","_yield$_this15$videoP","_this15$videoProvider","videoProvider","canVideoProviderPlay","_getInternalPlayer2","_canPlay2","_canVideoProviderPlay","_x14","_canSetPlaybackQuality2","_this15$dash","_this15$dash$getBitra","_setPlaybackQuality2","updateSettings","streaming","abr","autoSwitchBitrate","setQualityFor","_x15","setCurrentTextTrack","_setCurrentTextTrack","trackId","_this15$dash2","_x16","_setTextTrackVisibility","isVisible","_this15$dash3","enableText","_x17","controlsList","autoPiP","disablePiP","hasCustomTextManager","dblClickFullscreenCss","DblClickFullscreen","clicks","onPlaybackReadyChange","_this16","onTriggerClickToPlay","_this17","onToggleFullscreen","_this18","dblClickFullscreen","defaultControlsCss","DefaultControls","buildAudioControls","marginLeft","paddingRight","buildMobileVideoControls","Fragment","gradient","buildDesktopVideoControls","defaultSettingsCss","DefaultSettings","canSetPlaybackRate","canSetTextTrack","canSetAudioTrack","onPlaybackReady","_this19","onAudioTracksChange","_this20","_yield$player$canSetA","_this21","_yield$player$canSetT2","onPlaybackRateSelect","radio","buildPlaybackRateSubmenu","hint","formatRate","rate","onVmCheck","onPlaybackQualitySelect","buildPlaybackQualitySubmenu","_this$playbackQuality","getBadge","verticalPixels","parseInt","badge","onTextTrackSelect","buildTextTracksSubmenu","_this$textTracks$this3","_this$textTracks$this","_this$textTracks$this2","onAudioTrackSelect","setCurrentAudioTrack","buildAudioTracksMenu","_this$audioTracks$thi3","_this$audioTracks$thi","_this$audioTracks$thi2","defaultUiCss","DefaultUI","noClickToPlay","noDblClickFullscreen","noCaptions","noPoster","noSpinner","noControls","noSettings","noLoadingScreen","LazyLoader","attributes","_this$mutationObs","intersectionObs","canObserveIntersection","IntersectionObserver","onIntersection","mutationObs","canObserveMutations","MutationObserver","onMutation","childList","subtree","attributeFilter","lazyLoad","didLoad","destroy","_this$intersectionObs","_this$mutationObs2","disconnect","_this$intersectionObs2","load","intersectionRatio","isIntersecting","unobserve","getLazyElements","root","querySelectorAll","requestAnimationFrame","loadEl","_this$intersectionObs3","_this$onLoad","embedCss","idCount","connected","Embed","vmEmbedSrcChange","vmEmbedMessage","vmEmbedLoaded","srcWithParams","hasEnteredViewport","srcWithParamsChange","preconnectionsChange","connection","lazyLoader","getAttribute","removeAttribute","genIframeId","onWindowMessage","_this$iframe","_this$decoder","_this$decoder2","originMatches","iframe","contentWindow","message","_this22","_this22$iframe","_this22$iframe$conten","stringify","allowFullScreen","allow","endTimeCss","EndTime","fileCss","File","vmMediaElChange","vmSrcSetChange","wasPausedBeforeSeeking","currentSrcSet","mediaQueryDisposal","regs","vmPoster","onMediaTitleChange","onPosterChange","_this$mediaEl3","onViewTypeChange","initLazyLoader","componentDidRender","prevMediaEl","_this$lazyLoader","cancelTimeUpdates","refresh","didSrcSetChange","child","sources","srcSet","_source$getAttribute","media","didChange","resource","onSrcSetChange","_this$mediaEl4","hasCustomPoster","timeRAF","cancelAnimationFrame","requestTimeUpdates","_this$mediaEl$current","_this$mediaEl5","getMediaType","onLoadedMetadata","onProgress","end","onPlay","onPause","onPlaying","onSeeking","onSeeked","attemptToPlay","onRateChange","onVolumeChange","onDurationChange","onWaiting","onSuspend","onEnded","_this$mediaEl6","togglePiPInChrome","toggle","_this$mediaEl7","requestPictureInPicture","exitPictureInPicture","togglePiPInSafari","_this$mediaEl8","_this$mediaEl9","Error","togglePiP","_this23","toggleFullscreen","_this24","_this24$mediaEl","_this24$mediaEl2","_this24$mediaEl3","webkitSupportsFullscreen","webkitExitFullscreen","onPresentationModeChange","_this$mediaEl10","webkitPresentationMode","onEnterPiP","onLeavePiP","_this25","_getInternalPlayer3","_play2","_this25$mediaEl","_pause2","_this25$mediaEl2","_canPlay3","_x18","_setCurrentTime2","_x19","_setMuted2","_x20","_setVolume2","_x21","_canSetPlaybackRate","setPlaybackRate","_setPlaybackRate","_x22","canSetPiP","_canSetPiP","_canSetFullscreen2","_setCurrentTextTrack2","toggleTextTrackModes","_x23","_setTextTrackVisibility2","_x24","onHasCustomTextManagerChange","onShouldRenderNativeTextTracksChange","onProviderConnect","getFilteredTextTracks","tracks","textTrackList","kind","_tracks$trackId","newTrackId","oldTrack","nextTrack","mediaProps","playsInline","crossorigin","controlslist","autoPictureInPicture","onwebkitpresentationmodechanged","onenterpictureinpicture","onleavepictureinpicture","fullscreenControlCss","FullscreenControl","enterIcon","exitIcon","_this26","_yield$player$canSetF","HLS","setupHls","destroyHls","currSource","_this27","hls","Hls","isSupported","Events","MEDIA_ATTACHED","AUDIO_TRACKS_UPDATED","audioTrack","AUDIO_TRACK_SWITCHED","fatal","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","MANIFEST_PARSED","LEVEL_LOADED","_","details","totalduration","attachMedia","_this$hls","_this28","_this29","loadSource","_this30","_yield$_this30$videoP","_this30$videoProvider","_getInternalPlayer4","_canPlay4","_canVideoProviderPlay2","_x25","_canSetPlaybackQuality3","_this30$hls","_this30$hls$levels","_setPlaybackQuality3","currentLevel","_x26","_setCurrentAudioTrack","_x27","ICONS_BASE_CDN_URL","vime","iconName","material","watch$1","withIconRegistry","getIconLibraryResolver","registerIconLibrary","resolver","iconEl","redraw","deregisterIconLibrary","iconFiles","requestIcon","_ref8","ok","text","svg","firstElementChild","status","tagName","outerHTML","_x28","iconCss","parser","DOMParser","Icon","vmLoad","handleChange","setIcon","_this31","getLabel","_this32","_this32$library","file","doc","parseFromString","body","_unused","role","IconLibrary","handleUpdate","register","_this$name","liveIndicatorCss","LiveIndicator","liveIndicator","loadingScreenCss","LoadingScreen","hideDots","loadingScreen","unwrapSubmenu","submenu","unwrapRadioGroup","_slot$assignedElement","radioGroup","slot","assignedElements","menuItemHunter","allowed","reduce","acc","val","menuCss","Menu","vmOpen","vmClose","vmActiveSubmenuChange","vmActiveMenuItemChange","vmMenuHeightChange","hasDisconnected","onActiveMenuitemChange","activeMenuItem","onActiveSubmenuChange","activeSubmenu","onActiveChange","_this$controller","controller","calculateHeight","focusMenu","_this33","_this33$menu","blurMenu","_this34","_this34$menu","getActiveMenuItem","_this35","setActiveMenuItem","item","_this36","focusItem","_this37","_yield$submenu$calcul","getMenu","getControllerHeight","_this37$container","firstChild","flatten","onOpenSubmenu","getChildren","visibility","onCloseSubmenu","onWindowClick","onClose","onWindowKeyDown","focusController","_this$host$shadowRoot","getMenuItems","_this$host$shadowRoot2","_this$controller2","_this$controller4","_this$controller3","_this$controller5","_this$controller6","triggerMenuItem","_this$activeMenuItem$","_this$activeMenuItem","foucsMenuItem","items","onKeyDown","preventDefault","_this$controller$iden","_this$controller7","_this$controller8","slideIn","slideInDirection","slideInFromLeft","slideInFromRight","tabindex","menuItemCss","MenuItem","checkIcon","_this38","_this38$menuItem","menuItem","blurItem","_this39","_this39$menuItem","getHeight","_this40","_this$menuItem","_this$expanded","_this$menu$identifier","_this$menu","_this$menu2","isCheckedDefined","checked","isMenuDefined","hasExpanded","isChecked","showCheckedIcon","showLeftNavArrow","showRightNavArrow","showHint","showBadge","hasSpacer","showDivider","MenuRadio","vmCheck","MenuRadioGroup","onValueChange","_this$findRadios","findRadios","onSelectionChange","_this$host$shadowRoot3","MuteControl","lowVolumeIcon","highVolumeIcon","mutedIcon","getIcon","volumeIcon","pipControlCss","PiPControl","_this41","_yield$player$canSetP","PlaybackControl","playIcon","pauseIcon","apiMap","getFullscreenApi","api","prefixed","specApi","browserApi","_i","Fullscreen","fullscreenchange","onFullscreenChange","mozCancelFullScreen","_this42","requestFullscreen","_this43","isActive","fullscreenEl","fullscreenElement","matches","contains","Logger","silent","log","_len2","_key2","console","_len3","_key3","players","withAutopause","p","withPlayerEvents","immediateAdapterCall","withPlayerScheduler","adapterCalls","flushAdapterCalls","_flushAdapterCalls","hasMediaChanged","onMediaChange","onStateChange","_x29","_onStateChange","_player$logger","isAdapterCallRequired","_player$PROVIDER_CACH","_safeAdapterCall","method","safeCall","_ref10","_adapter$method","_x32","safeAdapterCall","_x30","_x31","playerCss","idCount$1","Player","vmThemeChange","vmPausedChange","vmPlay","vmPlayingChange","vmSeekingChange","vmSeeked","vmBufferingChange","vmDurationChange","vmCurrentTimeChange","vmReady","vmPlaybackReady","vmPlaybackStarted","vmPlaybackEnded","vmBufferedChange","vmCurrentProviderChange","vmCurrentSrcChange","vmCurrentPosterChange","vmMediaTitleChange","vmControlsChange","vmPlaybackRateChange","vmPlaybackRatesChange","vmPlaybackQualityChange","vmPlaybackQualitiesChange","vmMutedChange","vmVolumeChange","vmViewTypeChange","vmMediaTypeChange","vmLiveChange","vmTouchChange","vmLanguageChange","vmI18nChange","vmTranslationsChange","vmLanguagesChange","vmFullscreenChange","vmPiPChange","vmTextTracksChange","vmCurrentTextTrackChange","vmTextTrackVisibleChange","vmAudioTracksChange","vmCurrentAudioTrackChange","lastRateCheck","_this$provider","onContainerChange","_this$fullscreen","rotateDevice","onPausedChange","Infinity","onCurrentTimeChange","min","onMutedChange","onPlaybackRateChange","newRate","prevRate","_this44","_yield$_this44$adapte","_yield$_this44$adapte2","onPlaybackQualityChange","newQuality","prevQuality","_this45","_yield$_this45$adapte","_yield$_this45$adapte2","lastQualityCheck","onDebugChange","_this46","onMediaTypeChange","onLanguageChange","prevLanguage","onTranslationsChange","getProvider","_this47","_this48","_this49","_yield$_this49$adapte","_this50","_yield$_this50$adapte","_this51","_yield$_this51$adapte","_yield$_this51$adapte2","canMutedAutoplay","_this52","_yield$_this52$adapte","_yield$_this52$adapte2","_yield$_this52$adapte3","_this53","_yield$_this53$adapte","_yield$_this53$adapte2","_yield$_this53$adapte3","_this54","_yield$_this54$adapte","_yield$_this54$adapte2","_yield$_this54$adapte3","_this55","_yield$_this55$adapte","_yield$_this55$adapte2","_yield$_this55$adapte3","_yield$_this55$adapte4","_this56","_yield$_this56$adapte","_yield$_this56$adapte2","_this57","_yield$_this57$adapte","_yield$_this57$adapte2","_yield$_this57$adapte3","_this58","_yield$_this58$adapte","_yield$_this58$adapte2","_this59","_yield$_this59$adapte","_yield$_this59$adapte2","_this60","_yield$_this60$adapte","_this61","_yield$_this61$adapte","_yield$_this61$adapte2","_this62","_yield$_this62$adapte","_this63","_yield$_this63$adapte","_yield$_this63$adapte2","_this64","_yield$_this64$adapte","_this65","_yield$_this65$adapte","_yield$_this65$adapte2","extendLanguage","translation","_this66","_this66$translations$","getPlayerState","_this$fullscreen2","_this67","unlock","calcAspectRatio","_this68","callAdapter","_this69","hasCustomControls","genId","_this$host","canShowCustomUI","isIdle","isBlockerVisible","idle","mobile","touch","paddingBottom","posterCss","Poster","vmLoaded","vmWillShow","vmWillHide","isHidden","fit","onCurrentPosterChange","_this$lazyLoader2","onVisibilityChange","onPosterLoad","alt","objectFit","scrimCss","Scrim","scrim","gradientUp","gradientDown","getHours","trunc","getMinutes","getSeconds","formatTime","format","hours","mins","secs","scrubberControlCss","ScrubberControl","timestamp","endTime","noKeyboard","onNoKeyboardChange","_this70","isLeftArrow","seekTo","setTooltipPosition","tooltipRect","bounds","slider","thumbWidth","getPropertyValue","leftLimit","rightLimit","xPos","onSeek","getSliderInput","rect","percent","pageX","sliderValueText","onMouseMove","onTouchMove","step","valueText","onVmValueChange","loading","toFixed","settingsCss","idCount$2","Settings","menuHeight","setController","_this71","_event$detail","_event$detail2","onHeightChange","onVmOpen","onVmClose","onVmMenuHeightChange","settingsControlCss","idCount$3","SettingsControl","icon","onComponentsChange","vmSettings","_this72","_this72$control","control","_this73","_this73$control","hasSettings","settingsControl","skeletonCss","Skeleton","effect","onReadyChange","skeleton","sheen","sliderCss","Slider","vmValueChange","getPercentage","_event$target","calcTouchedValue","changedTouches","delta","clientRect","sliderThumbWidth","clientX","round","onTouch","Event","_this$valueText","autocomplete","onInput","spinnerCss","Spinner","blacklist","YouTube","showWhenMediaLoading","onVideoViewChange","onVisiblityChange","spinner","spin","idCount$4","Submenu","vmOpenSubmenu","vmCloseSubmenu","getController","_this74","_this75","_this76","_this76$controller$ge","_this76$controller","getControllerHeightSync","_this$controller9","onMenuOpen","onMenuClose","getControllerId","timeCss","Time","timeProgressCss","TimeProgress","separator","tooltipCss","tooltipIdCount","Tooltip","getId","onTop","onBottom","growLeft","growRight","uiCss","UI","ui","_this77","_this77$fileProvider","VimeoEvent","vimeoCss","videoInfoCache$1","Vimeo","playRequest","byline","portrait","noAutoAspectRatio","cookies","pendingDurationCall","pendingPlayRequest","transparent","dnt","_this78","thumnailRegex","thumbnailId","thumbnail_url","onTimeChange","abs","onVimeoMethod","_this$pendingDuration","_this$pendingMediaTit3","_this$pendingDuration2","_this$pendingMediaTit4","_ref11","_info$width","_info$height","_this$poster2","onVimeoEvent","payload","newVolume","adjustPosition","aw","ah","padding","offset","_this79","fileRegex","_getInternalPlayer5","_play3","_pause3","_canPlay5","_x33","_setCurrentTime3","_x34","_setMuted3","_x35","_setVolume3","_x36","_canSetPlaybackRate2","_setPlaybackRate2","_x37","hideControls","volumeControlCss","VolumeControl","prevMuted","currentVolume","isSliderActive","muteKeys","_this80","isUpArrow","onPlayerVolumeChange","onShowSlider","hideSliderTimeout","onHideSlider","onVmFocus","onVmBlur","mapYouTubePlaybackQuality","youtubeCss","posterCache","lastTimeUpdate","showFullscreenControl","fetchPosterURL","findPosterURL","_this81","_getInternalPlayer6","_play4","_pause4","_canPlay6","_x38","_setCurrentTime4","_x39","_setMuted4","_x40","_setVolume4","_x41","_canSetPlaybackRate3","_setPlaybackRate3","_x42","enablejsapi","cc_lang_pref","hl","fs","disablekb","iv_load_policy","onEmbedLoaded","_this82","posterURL","img","onCued","_this$poster3","onPlayerStateChange","isPlaying","isBuffering","calcCurrentTime","elapsedTime","now","onBufferedChange","videoData","availablePlaybackRates","currentTimeLastUpdated","videoLoadedFraction","availableQualityLevels","playerState","onVmEmbedLoaded","proxyCustomElement","opts","customElements","cmp","is","define"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,wBAAR,GAAmCA,wBAAnC;AACAF,OAAO,CAACG,qBAAR,GAAgCA,qBAAhC;AACAH,OAAO,CAACI,qBAAR,GAAgCA,qBAAhC;AACAJ,OAAO,CAACK,sBAAR,GAAiCA,sBAAjC;AACAL,OAAO,CAACM,qBAAR,GAAgCA,qBAAhC;AACAR,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,cAA/B,EAA+C;AAC7CO,EAAAA,UAAU,EAAE,IADiC;AAE7CC,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAOC,OAAO,CAACC,YAAf;AACD;AAJ4C,CAA/C;AAMAV,OAAO,CAACW,iBAAR,GAA4BX,OAAO,CAACY,gBAAR,GAA2BZ,OAAO,CAACa,cAAR,GAAyBb,OAAO,CAACc,YAAR,GAAuBd,OAAO,CAACe,UAAR,GAAqBf,OAAO,CAACgB,oBAAR,GAA+BhB,OAAO,CAACiB,gBAAR,GAA2BjB,OAAO,CAACkB,SAAR,GAAoBlB,OAAO,CAACmB,eAAR,GAA0BnB,OAAO,CAACoB,OAAR,GAAkBpB,OAAO,CAACqB,OAAR,GAAkBrB,OAAO,CAACsB,IAAR,GAAetB,OAAO,CAACuB,SAAR,GAAoBvB,OAAO,CAACwB,cAAR,GAAyBxB,OAAO,CAACyB,MAAR,GAAiBzB,OAAO,CAAC0B,SAAR,GAAoB1B,OAAO,CAAC2B,SAAR,GAAoB3B,OAAO,CAAC4B,QAAR,GAAmB5B,OAAO,CAAC6B,UAAR,GAAqB7B,OAAO,CAAC8B,iBAAR,GAA4B9B,OAAO,CAAC+B,UAAR,GAAqB/B,OAAO,CAACgC,iBAAR,GAA4BhC,OAAO,CAACiC,OAAR,GAAkBjC,OAAO,CAACkC,QAAR,GAAmBlC,OAAO,CAACmC,QAAR,GAAmBnC,OAAO,CAACoC,iBAAR,GAA4BpC,OAAO,CAACqC,YAAR,GAAuBrC,OAAO,CAACsC,aAAR,GAAwBtC,OAAO,CAACuC,gBAAR,GAA2BvC,OAAO,CAACwC,WAAR,GAAsBxC,OAAO,CAACyC,UAAR,GAAqBzC,OAAO,CAAC0C,MAAR,GAAiB1C,OAAO,CAAC2C,eAAR,GAA0B3C,OAAO,CAAC4C,eAAR,GAA0B5C,OAAO,CAAC6C,aAAR,GAAwB7C,OAAO,CAAC8C,MAAR,GAAiB9C,OAAO,CAAC+C,KAAR,GAAgB/C,OAAO,CAACgD,mBAAR,GAA8BhD,OAAO,CAACiD,MAAR,GAAiBjD,OAAO,CAACkD,SAAR,GAAoBlD,OAAO,CAACmD,OAAR,GAAkBnD,OAAO,CAACoD,WAAR,GAAsBpD,OAAO,CAACqD,iBAAR,GAA4BrD,OAAO,CAACsD,iBAAR,GAA4BtD,OAAO,CAACuD,oBAAR,GAA+BvD,OAAO,CAACwD,MAAR,GAAiBxD,OAAO,CAACyD,aAAR,GAAwBzD,OAAO,CAAC0D,aAAR,GAAwB1D,OAAO,CAAC2D,UAAR,GAAqB3D,OAAO,CAAC4D,eAAR,GAA0B5D,OAAO,CAAC6D,cAAR,GAAyB7D,OAAO,CAAC8D,SAAR,GAAoB9D,OAAO,CAAC+D,aAAR,GAAwB/D,OAAO,CAACgE,UAAR,GAAqBhE,OAAO,CAACiE,gBAAR,GAA2BjE,OAAO,CAACkE,OAAR,GAAkBlE,OAAO,CAACmE,QAAR,GAAmBnE,OAAO,CAACoE,YAAR,GAAuBpE,OAAO,CAACqE,gBAAR,GAA2BrE,OAAO,CAACsE,QAAR,GAAmBtE,OAAO,CAACuE,UAAR,GAAqBvE,OAAO,CAACwE,SAAR,GAAoBxE,OAAO,CAACyE,kBAAR,GAA6B,KAAK,CAAr5C;;AAEA,IAAIhE,OAAO,GAAGiE,OAAO,CAAC,+BAAD,CAArB;;AAEA,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGhF,MAAM,CAACgF,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAI9E,MAAM,CAACiF,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGlF,MAAM,CAACiF,qBAAP,CAA6BH,MAA7B,CAAd;AAAoD,QAAIC,cAAJ,EAAoBG,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAOpF,MAAM,CAACqF,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6C3E,UAApD;AAAiE,KAAjG,CAAV;AAA8GuE,IAAAA,IAAI,CAACM,IAAL,CAAUC,KAAV,CAAgBP,IAAhB,EAAsBE,OAAtB;AAAiC;;AAAC,SAAOF,IAAP;AAAc;;AAErV,SAASQ,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEb,MAAAA,OAAO,CAAC7E,MAAM,CAAC6F,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUC,GAAV,EAAe;AAAEC,QAAAA,eAAe,CAACP,MAAD,EAASM,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AAA4C,OAAnG;AAAuG,KAApH,MAA0H,IAAI/F,MAAM,CAACiG,yBAAX,EAAsC;AAAEjG,MAAAA,MAAM,CAACkG,gBAAP,CAAwBT,MAAxB,EAAgCzF,MAAM,CAACiG,yBAAP,CAAiCJ,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAEhB,MAAAA,OAAO,CAAC7E,MAAM,CAAC6F,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAE/F,QAAAA,MAAM,CAACC,cAAP,CAAsBwF,MAAtB,EAA8BM,GAA9B,EAAmC/F,MAAM,CAACqF,wBAAP,CAAgCQ,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAON,MAAP;AAAgB;;AAEthB,SAASO,eAAT,CAAyBG,GAAzB,EAA8BJ,GAA9B,EAAmC5F,KAAnC,EAA0C;AAAE,MAAI4F,GAAG,IAAII,GAAX,EAAgB;AAAEnG,IAAAA,MAAM,CAACC,cAAP,CAAsBkG,GAAtB,EAA2BJ,GAA3B,EAAgC;AAAE5F,MAAAA,KAAK,EAAEA,KAAT;AAAgBM,MAAAA,UAAU,EAAE,IAA5B;AAAkC2F,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEF,IAAAA,GAAG,CAACJ,GAAD,CAAH,GAAW5F,KAAX;AAAmB;;AAAC,SAAOgG,GAAP;AAAa;;AAEjN,SAASG,kBAAT,CAA4BC,GAA5B,EAAiCC,OAAjC,EAA0CC,MAA1C,EAAkDC,KAAlD,EAAyDC,MAAzD,EAAiEZ,GAAjE,EAAsEa,GAAtE,EAA2E;AAAE,MAAI;AAAE,QAAIC,IAAI,GAAGN,GAAG,CAACR,GAAD,CAAH,CAASa,GAAT,CAAX;AAA0B,QAAIzG,KAAK,GAAG0G,IAAI,CAAC1G,KAAjB;AAAyB,GAAzD,CAA0D,OAAO2G,KAAP,EAAc;AAAEL,IAAAA,MAAM,CAACK,KAAD,CAAN;AAAe;AAAS;;AAAC,MAAID,IAAI,CAACE,IAAT,EAAe;AAAEP,IAAAA,OAAO,CAACrG,KAAD,CAAP;AAAiB,GAAlC,MAAwC;AAAE6G,IAAAA,OAAO,CAACR,OAAR,CAAgBrG,KAAhB,EAAuB8G,IAAvB,CAA4BP,KAA5B,EAAmCC,MAAnC;AAA6C;AAAE;;AAEzQ,SAASO,iBAAT,CAA2BC,EAA3B,EAA+B;AAAE,SAAO,YAAY;AAAE,QAAIC,IAAI,GAAG,IAAX;AAAA,QAAiBC,IAAI,GAAG1B,SAAxB;AAAmC,WAAO,IAAIqB,OAAJ,CAAY,UAAUR,OAAV,EAAmBC,MAAnB,EAA2B;AAAE,UAAIF,GAAG,GAAGY,EAAE,CAAC5B,KAAH,CAAS6B,IAAT,EAAeC,IAAf,CAAV;;AAAgC,eAASX,KAAT,CAAevG,KAAf,EAAsB;AAAEmG,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,MAAtC,EAA8CxG,KAA9C,CAAlB;AAAyE;;AAAC,eAASwG,MAAT,CAAgBW,GAAhB,EAAqB;AAAEhB,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,OAAtC,EAA+CW,GAA/C,CAAlB;AAAwE;;AAACZ,MAAAA,KAAK,CAACa,SAAD,CAAL;AAAmB,KAA9R,CAAP;AAAyS,GAAjW;AAAoW;;AAErY,IAAIC,EAAE,GAAG;AACPC,EAAAA,IAAI,EAAE,MADC;AAEPC,EAAAA,KAAK,EAAE,OAFA;AAGPC,EAAAA,QAAQ,EAAE,UAHH;AAIPC,EAAAA,QAAQ,EAAE,UAJH;AAKPC,EAAAA,aAAa,EAAE,6BALR;AAMPC,EAAAA,MAAM,EAAE,QAND;AAOPC,EAAAA,QAAQ,EAAE,UAPH;AAQPC,EAAAA,QAAQ,EAAE,UARH;AASPC,EAAAA,KAAK,EAAE,OATA;AAUPC,EAAAA,WAAW,EAAE,cAVN;AAWPC,EAAAA,IAAI,EAAE,MAXC;AAYPC,EAAAA,MAAM,EAAE,QAZD;AAaPC,EAAAA,IAAI,EAAE,MAbC;AAcPC,EAAAA,MAAM,EAAE,QAdD;AAePC,EAAAA,KAAK,EAAE,OAfA;AAgBPC,EAAAA,OAAO,EAAE,SAhBF;AAiBPC,EAAAA,QAAQ,EAAE,UAjBH;AAkBPC,EAAAA,aAAa,EAAE,cAlBR;AAmBPC,EAAAA,cAAc,EAAE,2BAnBT;AAoBPC,EAAAA,eAAe,EAAE,4BApBV;AAqBPC,EAAAA,IAAI,EAAE,MArBC;AAsBPC,EAAAA,UAAU,EAAE,YAtBL;AAuBPC,EAAAA,eAAe,EAAE,kBAvBV;AAwBPC,EAAAA,cAAc,EAAE,iBAxBT;AAyBPC,EAAAA,QAAQ,EAAE,UAzBH;AA0BPC,EAAAA,WAAW,EAAE,cA1BN;AA2BPC,EAAAA,YAAY,EAAE,eA3BP;AA4BPC,EAAAA,SAAS,EAAE,YA5BJ;AA6BPC,EAAAA,MAAM,EAAE,QA7BD;AA8BPC,EAAAA,IAAI,EAAE,MA9BC;AA+BPC,EAAAA,YAAY,EAAE,eA/BP;AAgCPC,EAAAA,eAAe,EAAE,kBAhCV;AAiCPC,EAAAA,IAAI,EAAE,MAjCC;AAkCPC,EAAAA,QAAQ,EAAE,UAlCH;AAmCPC,EAAAA,GAAG,EAAE,KAnCE;AAoCPC,EAAAA,OAAO,EAAE,SApCF;AAqCPC,EAAAA,GAAG,EAAE,oBArCE;AAsCPC,EAAAA,QAAQ,EAAE,YAtCH;AAuCPC,EAAAA,OAAO,EAAE;AAvCF,CAAT;AAyCA,IAAI/I,YAAY,GAAG;AACjBgJ,EAAAA,KAAK,EAAEzC,SADU;AAEjB0C,EAAAA,MAAM,EAAE,IAFS;AAGjBC,EAAAA,OAAO,EAAE,KAHQ;AAIjBnC,EAAAA,QAAQ,EAAE,CAAC,CAJM;AAKjBoC,EAAAA,eAAe,EAAE5C,SALA;AAMjB6C,EAAAA,UAAU,EAAE7C,SANK;AAOjB8C,EAAAA,UAAU,EAAE9C,SAPK;AAQjB+C,EAAAA,aAAa,EAAE/C,SARE;AASjBgD,EAAAA,UAAU,EAAE,EATK;AAUjBC,EAAAA,gBAAgB,EAAE,CAAC,CAVF;AAWjBC,EAAAA,WAAW,EAAE,EAXI;AAYjBC,EAAAA,iBAAiB,EAAE,CAAC,CAZH;AAajBC,EAAAA,kBAAkB,EAAE,IAbH;AAcjBC,EAAAA,4BAA4B,EAAE,IAdb;AAejBC,EAAAA,KAAK,EAAE,MAfU;AAgBjB3C,EAAAA,WAAW,EAAE,CAhBI;AAiBjB4C,EAAAA,QAAQ,EAAE,KAjBO;AAkBjBC,EAAAA,KAAK,EAAE,KAlBU;AAmBjBC,EAAAA,aAAa,EAAE,KAnBE;AAoBjBvB,EAAAA,IAAI,EAAE,KApBW;AAqBjBwB,EAAAA,KAAK,EAAE,KArBU;AAsBjBjD,EAAAA,QAAQ,EAAE,CAtBO;AAuBjBuB,EAAAA,YAAY,EAAE,CAvBG;AAwBjB2B,EAAAA,aAAa,EAAE,CAAC,CAAD,CAxBE;AAyBjB1B,EAAAA,eAAe,EAAEjC,SAzBA;AA0BjB4D,EAAAA,iBAAiB,EAAE,EA1BF;AA2BjBC,EAAAA,OAAO,EAAE,KA3BQ;AA4BjBC,EAAAA,KAAK,EAAE,KA5BU;AA6BjBC,EAAAA,eAAe,EAAE,KA7BA;AA8BjBC,EAAAA,aAAa,EAAE,KA9BE;AA+BjBC,EAAAA,SAAS,EAAE,KA/BM;AAgCjBC,EAAAA,QAAQ,EAAE,KAhCO;AAiCjBC,EAAAA,gBAAgB,EAAE,KAjCD;AAkCjBtD,EAAAA,MAAM,EAAE,EAlCS;AAmCjBuD,EAAAA,kBAAkB,EAAE,KAnCH;AAoCjBC,EAAAA,WAAW,EAAE,MApCI;AAqCjBC,EAAAA,QAAQ,EAAEtE,SArCO;AAsCjBuE,EAAAA,WAAW,EAAE,KAtCI;AAuCjBC,EAAAA,WAAW,EAAE,KAvCI;AAwCjBC,EAAAA,SAAS,EAAEzE,SAxCM;AAyCjB0E,EAAAA,OAAO,EAAE,KAzCQ;AA0CjBC,EAAAA,OAAO,EAAE,KA1CQ;AA2CjBC,EAAAA,QAAQ,EAAE,KA3CO;AA4CjBC,EAAAA,OAAO,EAAE,KA5CQ;AA6CjBC,EAAAA,gBAAgB,EAAE,KA7CD;AA8CjBC,EAAAA,MAAM,EAAE,KA9CS;AA+CjBC,EAAAA,WAAW,EAAE,KA/CI;AAgDjBC,EAAAA,SAAS,EAAE,IAhDM;AAiDjBC,EAAAA,WAAW,EAAE,KAjDI;AAkDjBC,EAAAA,QAAQ,EAAE,IAlDO;AAmDjBC,EAAAA,SAAS,EAAE,CAAC,IAAD,CAnDM;AAoDjBC,EAAAA,YAAY,EAAE;AACZpF,IAAAA;AADY,GApDG;AAuDjBqF,EAAAA,IAAI,EAAErF;AAvDW,CAAnB;AAyDAtH,OAAO,CAACc,YAAR,GAAuBA,YAAvB;AACA,IAAI8L,aAAa,GAAG,IAAIC,GAAJ,CAAQ,CAAC,UAAD,EAAa,WAAb,EAA0B,aAA1B,EAAyC,UAAzC,EAAqD,OAArD,EAA8D,OAA9D,EAAuE,QAAvE,EAAiF,aAAjF,EAAgG,UAAhG,EAA4G,MAA5G,EAAoH,cAApH,EAAoI,iBAApI,EAAuJ,OAAvJ,EAAgK,cAAhK,EAAgL,aAAhL,EAA+L,QAA/L,EAAyM,kBAAzM,EAA6N,kBAA7N,EAAiP,8BAAjP,CAAR,CAApB;;AAEA,IAAIhM,cAAc,GAAGiM,IAAI,IAAIF,aAAa,CAACG,GAAd,CAAkBD,IAAlB,CAA7B;AACA;AACA;AACA;;;AAGA9M,OAAO,CAACa,cAAR,GAAyBA,cAAzB;AACA,IAAImM,cAAc,GAAG,IAAIH,GAAJ,CAAQ,CAAC,QAAD,EAAW,aAAX,EAA0B,UAA1B,EAAsC,UAAtC,EAAkD,SAAlD,EAA6D,SAA7D,EAAwE,WAAxE,EAAqF,eAArF,EAAsG,YAAtG,EAAoH,kBAApH,EAAwI,aAAxI,EAAuJ,mBAAvJ,EAA4K,YAA5K,EAA0L,YAA1L,EAAwM,eAAxM,EAAyN,cAAzN,EAAyO,eAAzO,EAA0P,iBAA1P,EAA6Q,eAA7Q,EAA8R,iBAA9R,EAAiT,mBAAjT,EAAsU,WAAtU,CAAR,CAArB;;AAEA,IAAII,4BAA4B,GAAGH,IAAI,IAAIE,cAAc,CAACD,GAAf,CAAmBD,IAAnB,CAA3C;;AAEA,IAAII,MAAM,GAAGC,KAAK,IAAIA,KAAK,KAAK,IAAhC;;AAEA,IAAIC,WAAW,GAAGD,KAAK,IAAI,OAAOA,KAAP,KAAiB,WAA5C;;AAEA,IAAIE,iBAAiB,GAAGF,KAAK,IAAID,MAAM,CAACC,KAAD,CAAN,IAAiBC,WAAW,CAACD,KAAD,CAA7D;;AAEA,IAAIG,cAAc,GAAGH,KAAK,IAAI,CAACE,iBAAiB,CAACF,KAAD,CAAlB,GAA4BA,KAAK,CAACI,WAAlC,GAAgDlG,SAA9E;;AAEA,IAAImG,QAAQ,GAAGL,KAAK,IAAIG,cAAc,CAACH,KAAD,CAAd,KAA0BrN,MAAlD;;AAEA,IAAI2N,QAAQ,GAAGN,KAAK,IAAIG,cAAc,CAACH,KAAD,CAAd,KAA0BO,MAA1B,IAAoC,CAACA,MAAM,CAACC,KAAP,CAAaR,KAAb,CAA7D;;AAEA,IAAIS,QAAQ,GAAGT,KAAK,IAAIG,cAAc,CAACH,KAAD,CAAd,KAA0BU,MAAlD;;AAEA,IAAIC,SAAS,GAAGX,KAAK,IAAIG,cAAc,CAACH,KAAD,CAAd,KAA0BY,OAAnD;;AAEA,IAAIC,UAAU,GAAGb,KAAK,IAAIG,cAAc,CAACH,KAAD,CAAd,KAA0Bc,QAApD;;AAEA,IAAIC,OAAO,GAAGf,KAAK,IAAIgB,KAAK,CAACD,OAAN,CAAcf,KAAd,CAAvB;;AAEA,IAAIiB,YAAY,GAAG,CAACjB,KAAD,EAAQI,WAAR,KAAwBQ,OAAO,CAACZ,KAAK,IAAII,WAAT,IAAwBJ,KAAK,YAAYI,WAA1C,CAAlD;;AAEA,IAAIc,kBAAkB,GAAG,eAAzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIpN,gBAAgB,GAAGqN,GAAG,IAAI,CAACxB,IAAD,EAAO7M,KAAP,KAAiB;AAC7C,MAAIsO,EAAE,GAAGH,YAAY,CAACE,GAAD,EAAME,WAAN,CAAZ,GAAiCF,GAAjC,GAAuC,CAAC,GAAG7N,OAAO,CAACgO,UAAZ,EAAwBH,GAAxB,CAAhD;AACA,MAAII,KAAK,GAAG,IAAIC,WAAJ,CAAgBN,kBAAhB,EAAoC;AAC9CO,IAAAA,OAAO,EAAE,IADqC;AAE9CC,IAAAA,QAAQ,EAAE,IAFoC;AAG9CC,IAAAA,MAAM,EAAE;AACNC,MAAAA,EAAE,EAAER,EADE;AAENzB,MAAAA,IAFM;AAGN7M,MAAAA;AAHM;AAHsC,GAApC,CAAZ;AASAsO,EAAAA,EAAE,CAACS,aAAH,CAAiBN,KAAjB;AACD,CAZD;;AAcA1O,OAAO,CAACiB,gBAAR,GAA2BA,gBAA3B;;AAEA,IAAIgO,qBAAqB,GAAG,SAASA,qBAAT,GAAiC;AAC3D,MAAI3I,OAAJ;AACA,MAAI4I,OAAO,GAAG,IAAIpI,OAAJ,CAAY,UAAUqI,GAAV,EAAe;AACvC7I,IAAAA,OAAO,GAAG6I,GAAV;AACD,GAFa,CAAd;AAGA,SAAO;AACLD,IAAAA,OAAO,EAAEA,OADJ;AAEL5I,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CATD;;AAWA,IAAI8I,YAAY,GAAG,SAASA,YAAT,CAAsBC,SAAtB,EAAiCC,KAAjC,EAAwCC,UAAxC,EAAoD;AACrE,MAAIA,UAAU,KAAK,KAAK,CAAxB,EAA2B;AACzBA,IAAAA,UAAU,GAAG,IAAb;AACD;;AAED,MAAIC,aAAa,GAAGH,SAAS,CAAC9B,WAAV,CAAsBkC,IAAtB,KAA+B,UAAnD;AACA,MAAIC,KAAK,GAAGF,aAAa,GAAGH,SAAS,CAACM,SAAb,GAAyBN,SAAlD;AACA,MAAIO,iBAAiB,GAAGF,KAAK,CAACE,iBAA9B;;AAEAF,EAAAA,KAAK,CAACE,iBAAN,GAA0B,YAAY;AACpC,QAAIC,KAAK,GAAG,IAAZ;;AAEA,QAAItB,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwB,IAAxB,CAAT;AACA,QAAIqB,MAAM,GAAGb,qBAAqB,EAAlC;AACA,QAAIP,KAAK,GAAG,IAAIC,WAAJ,CAAgB,cAAhB,EAAgC;AAC1CC,MAAAA,OAAO,EAAE,IADiC;AAE1CC,MAAAA,QAAQ,EAAE,IAFgC;AAG1CC,MAAAA,MAAM,EAAE;AACNiB,QAAAA,QAAQ,EAAE,IADJ;AAENC,QAAAA,MAAM,EAAEV,KAFF;AAGNW,QAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBnD,IAAjB,EAAuB7M,KAAvB,EAA8B;AACrC4P,UAAAA,KAAK,CAAC/C,IAAD,CAAL,GAAc7M,KAAd;AACD,SALK;AAMN6P,QAAAA,MAAM,EAAEA;AANF;AAHkC,KAAhC,CAAZ;AAYAvB,IAAAA,EAAE,CAACS,aAAH,CAAiBN,KAAjB;;AAEA,QAAIwB,QAAQ,GAAG,SAASA,QAAT,GAAoB;AACjC,UAAIN,iBAAJ,EAAuB;AACrB,eAAOA,iBAAiB,CAACO,IAAlB,CAAuBN,KAAvB,CAAP;AACD;AACF,KAJD;;AAMA,WAAON,UAAU,GAAGO,MAAM,CAACZ,OAAP,CAAenI,IAAf,CAAoB,YAAY;AAClD,aAAOmJ,QAAQ,EAAf;AACD,KAFmB,CAAH,GAEZA,QAAQ,EAFb;AAGD,GA5BD;AA6BD,CAtCD;;AAwCA,IAAIE,UAAU,GAAG,IAAIC,GAAJ,EAAjB;;AAEA,IAAIC,cAAc,GAAG,SAASA,cAAT,CAAwBC,EAAxB,EAA4BC,KAA5B,EAAmC;AACtD,MAAIR,MAAM,GAAGO,EAAE,CAACP,MAAhB;AAAA,MACIC,OAAO,GAAGM,EAAE,CAACN,OADjB;AAEAD,EAAAA,MAAM,CAACpK,OAAP,CAAe,UAAU6K,KAAV,EAAiB;AAC9BR,IAAAA,OAAO,CAACQ,KAAD,EAAQD,KAAK,CAACC,KAAD,CAAb,CAAP;AACD,GAFD;AAGD,CAND;;AAQA,IAAIC,QAAQ,GAAG;AACbC,EAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBC,OAAhB,EAAyB9P,YAAzB,EAAuC;AAC7C,QAAIyN,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwBmC,OAAxB,CAAT;AACA,QAAIC,SAAS,GAAG,IAAIR,GAAJ,EAAhB;AACA,QAAIS,QAAQ,GAAG;AACbD,MAAAA,SAAS,EAAEA,SADE;AAEbL,MAAAA,KAAK,EAAE1P;AAFM,KAAf;AAIAsP,IAAAA,UAAU,CAACW,GAAX,CAAeH,OAAf,EAAwBE,QAAxB;AACA,QAAIE,iBAAiB,GAAGJ,OAAO,CAACI,iBAAhC;;AAEAJ,IAAAA,OAAO,CAACI,iBAAR,GAA4B,YAAY;AACtCZ,MAAAA,UAAU,CAACW,GAAX,CAAeH,OAAf,EAAwBE,QAAxB;;AAEA,UAAIE,iBAAJ,EAAuB;AACrBA,QAAAA,iBAAiB,CAACb,IAAlB,CAAuBS,OAAvB;AACD;AACF,KAND;;AAQA,QAAIK,oBAAoB,GAAGL,OAAO,CAACK,oBAAnC;;AAEAL,IAAAA,OAAO,CAACK,oBAAR,GAA+B,YAAY;AACzCb,MAAAA,UAAU,CAACc,MAAX,CAAkBN,OAAlB;;AAEA,UAAIK,oBAAJ,EAA0B;AACxBA,QAAAA,oBAAoB,CAACd,IAArB,CAA0BS,OAA1B;AACD;AACF,KAND;;AAQArC,IAAAA,EAAE,CAAC4C,gBAAH,CAAoB,cAApB,EAAoC,UAAUzC,KAAV,EAAiB;AACnDA,MAAAA,KAAK,CAAC0C,eAAN;AACA,UAAIb,EAAE,GAAG7B,KAAK,CAACI,MAAf;AAAA,UACIiB,QAAQ,GAAGQ,EAAE,CAACR,QADlB;AAAA,UAEID,MAAM,GAAGS,EAAE,CAACT,MAFhB;AAGA,UAAIe,SAAS,CAAC9D,GAAV,CAAcgD,QAAd,CAAJ,EAA6B;;AAE7B,UAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AAChC,YAAIsB,mBAAmB,GAAGtB,QAAQ,CAACiB,iBAAnC;AAAA,YACIM,sBAAsB,GAAGvB,QAAQ,CAACkB,oBADtC;;AAGAlB,QAAAA,QAAQ,CAACiB,iBAAT,GAA6B,YAAY;AACvCH,UAAAA,SAAS,CAACE,GAAV,CAAchB,QAAd,EAAwBrB,KAAK,CAACI,MAA9B;;AAEA,cAAIuC,mBAAJ,EAAyB;AACvBA,YAAAA,mBAAmB,CAAClB,IAApB,CAAyBJ,QAAzB;AACD;AACF,SAND;;AAQAA,QAAAA,QAAQ,CAACkB,oBAAT,GAAgC,YAAY;AAC1CJ,UAAAA,SAAS,CAACK,MAAV,CAAiBnB,QAAjB;;AAEA,cAAIuB,sBAAJ,EAA4B;AAC1BA,YAAAA,sBAAsB,CAACnB,IAAvB,CAA4BJ,QAA5B;AACD;AACF,SAND;AAOD;;AAEDc,MAAAA,SAAS,CAACE,GAAV,CAAchB,QAAd,EAAwBrB,KAAK,CAACI,MAA9B;AACAwB,MAAAA,cAAc,CAAC5B,KAAK,CAACI,MAAP,EAAegC,QAAQ,CAACN,KAAxB,CAAd;AACAV,MAAAA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACxJ,OAAP,CAAe,YAAY;AACzEuK,QAAAA,SAAS,CAACK,MAAV,CAAiBnB,QAAjB;AACD,OAF+C,CAAhD;AAGD,KAjCD;AAkCAxB,IAAAA,EAAE,CAAC4C,gBAAH,CAAoB,eAApB,EAAqC,UAAUzC,KAAV,EAAiB;AACpD,UAAIqB,QAAQ,GAAGrB,KAAK,CAACI,MAArB;AACA+B,MAAAA,SAAS,CAACK,MAAV,CAAiBnB,QAAjB;AACD,KAHD;AAID,GAnEY;AAoEbzL,EAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBiM,EAAlB,EAAsBgB,QAAtB,EAAgC;AACxC,QAAIf,KAAK,GAAGD,EAAE,CAACC,KAAf;AACA,QAAII,OAAO,GAAG,CAAC,GAAGnQ,OAAO,CAAC+Q,eAAZ,GAAd;;AAEA,QAAIpB,UAAU,CAACrD,GAAX,CAAe6D,OAAf,CAAJ,EAA6B;AAC3B,UAAIE,QAAQ,GAAGV,UAAU,CAAC5P,GAAX,CAAeoQ,OAAf,CAAf;AACAE,MAAAA,QAAQ,CAACN,KAAT,GAAiBA,KAAjB;AACAM,MAAAA,QAAQ,CAACD,SAAT,CAAmBjL,OAAnB,CAA2B,UAAU6L,OAAV,EAAmB;AAC5CnB,QAAAA,cAAc,CAACmB,OAAD,EAAUjB,KAAV,CAAd;AACD,OAFD;AAGD;;AAED,WAAOe,QAAP;AACD;AAjFY,CAAf;AAmFA;AACA;AACA;;AAEA,SAASG,MAAT,CAAgBC,IAAhB,EAAsBjD,KAAtB,EAA6BkD,OAA7B,EAAsCC,OAAtC,EAA+C;AAC7CF,EAAAA,IAAI,CAACR,gBAAL,CAAsBzC,KAAtB,EAA6BkD,OAA7B,EAAsCC,OAAtC;AACA,SAAO,MAAMF,IAAI,CAACG,mBAAL,CAAyBpD,KAAzB,EAAgCkD,OAAhC,EAAyCC,OAAzC,CAAb;AACD;;AAED,SAASE,iBAAT,CAA2BxD,EAA3B,EAA+BG,KAA/B,EAAsCsD,MAAtC,EAA8C;AAC5C,MAAIC,QAAQ,GAAGxM,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,GAAnF;AACA,MAAIyM,UAAU,GAAGzM,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAArF;AACA,MAAI0M,OAAJ;AACA,MAAIC,OAAO,GAAG,CAAd;AACA,MAAIC,KAAK,GAAG,KAAZ;;AAEA,WAASC,KAAT,GAAiB;AACf,QAAID,KAAJ,EAAW;AACXF,IAAAA,OAAO,GAAGI,UAAU,CAAC,MAAM;AACzB,UAAIH,OAAO,KAAKF,UAAhB,EAA4B;AAC1BF,QAAAA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,EAAtD;AACA;AACD;;AAEDzD,MAAAA,EAAE,CAACS,aAAH,CAAiBN,KAAjB;AACA0D,MAAAA,OAAO,IAAI,CAAX;AACAE,MAAAA,KAAK;AACN,KATmB,EASjBL,QATiB,CAApB;AAUD;;AAEDK,EAAAA,KAAK;AACL,SAAO,MAAM;AACXE,IAAAA,MAAM,CAACC,YAAP,CAAoBN,OAApB;AACAE,IAAAA,KAAK,GAAG,IAAR;AACD,GAHD;AAID;;AAED,IAAIK,WAAW,GAAG,SAASA,WAAT,CAAqBC,CAArB,EAAwBC,CAAxB,EAA2B;AAC3C,MAAIC,WAAW,GAAGpN,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAtF;AACA,MAAIqN,WAAW,GAAGrN,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAtF;AACA,MAAIsN,WAAW,GAAGtN,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAtF;AACA,MAAIuN,WAAW,GAAGvN,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAtF;AACA,MAAIwN,KAAK,GAAGN,CAAC,CAACO,qBAAF,EAAZ;AACA,MAAIC,KAAK,GAAGP,CAAC,CAACM,qBAAF,EAAZ;AACA,SAAOD,KAAK,CAACG,IAAN,GAAaP,WAAb,GAA2BM,KAAK,CAACE,KAAN,GAAcN,WAAzC,IAAwDE,KAAK,CAACI,KAAN,GAAcR,WAAd,GAA4BM,KAAK,CAACC,IAAN,GAAaL,WAAjG,IAAgHE,KAAK,CAACK,GAAN,GAAYR,WAAZ,GAA0BK,KAAK,CAACI,MAAN,GAAeP,WAAzJ,IAAwKC,KAAK,CAACM,MAAN,GAAeT,WAAf,GAA6BK,KAAK,CAACG,GAAN,GAAYN,WAAxN;AACD,CARD;;AAUA,IAAIQ,eAAe,GAAG,MAAM;AAC1B,MAAIlN,OAAJ;AACA,MAAIC,MAAJ;AACA,MAAI2I,OAAO,GAAG,IAAIpI,OAAJ,CAAY,CAACqI,GAAD,EAAMsE,GAAN,KAAc;AACtCnN,IAAAA,OAAO,GAAG6I,GAAV;AACA5I,IAAAA,MAAM,GAAGkN,GAAT;AACD,GAHa,CAAd,CAH0B,CAMtB;;AAEJ,SAAO;AACLvE,IAAAA,OADK;AAEL5I,IAAAA,OAFK;AAGLC,IAAAA;AAHK,GAAP;AAKD,CAbD;;AAeA,SAASmN,eAAT,CAAyBC,SAAzB,EAAoCC,SAApC,EAA+CC,IAA/C,EAAqD;AACnD,MAAIC,QAAQ,GAAGH,SAAS,CAACC,SAAD,CAAxB,CADmD,CACd;;AAErCD,EAAAA,SAAS,CAACC,SAAD,CAAT,GAAuB,YAAY;AACjCC,IAAAA,IAAI;AACJ,WAAOC,QAAQ,GAAGA,QAAQ,CAAC3D,IAAT,CAAcwD,SAAd,CAAH,GAA8BtM,SAA7C;AACD,GAHD;AAID;;AAED,SAAS0M,iBAAT,CAA2BJ,SAA3B,EAAsCK,SAAtC,EAAiDC,YAAjD,EAA+D;AAC7D,MAAIC,SAAS,GAAG,KAAhB;;AAEA,MAAI,CAAC9G,WAAW,CAAC4G,SAAD,CAAhB,EAA6B;AAC3BN,IAAAA,eAAe,CAACC,SAAD,EAAY,mBAAZ,EAAiC,MAAM;AACpDK,MAAAA,SAAS;AACTE,MAAAA,SAAS,GAAG,IAAZ;AACD,KAHc,CAAf;AAIAR,IAAAA,eAAe,CAACC,SAAD,EAAY,mBAAZ,EAAiC,MAAM;AACpD,UAAIO,SAAJ,EAAeF,SAAS;AACzB,KAFc,CAAf;AAGD;;AAED,MAAI,CAAC5G,WAAW,CAAC6G,YAAD,CAAhB,EAAgC;AAC9BP,IAAAA,eAAe,CAACC,SAAD,EAAY,sBAAZ,EAAoC,MAAM;AACvDM,MAAAA,YAAY;AACb,KAFc,CAAf;AAGD;AACF;;AAED,IAAIE,iBAAiB,GAAG,cAAxB;;AAEA,SAASC,cAAT,CAAwBC,MAAxB,EAAgC;AAC9B,MAAI9F,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwB4F,MAAxB,CAAT;AACA,MAAI5K,GAAJ;AACAsK,EAAAA,iBAAiB,CAACM,MAAD,EAAS,MAAM;AAC9B5K,IAAAA,GAAG,GAAGiI,MAAM,CAACnD,EAAD,EAAK4F,iBAAL,EAAwBzF,KAAK,IAAI;AAC3CA,MAAAA,KAAK,CAAC0C,eAAN;AACA1C,MAAAA,KAAK,CAACI,MAAN,CAAaP,EAAb;AACD,KAHW,CAAZ;AAID,GALgB,EAKd,MAAM;AACP,QAAI+F,IAAJ;;AAEA,KAACA,IAAI,GAAG7K,GAAR,MAAiB,IAAjB,IAAyB6K,IAAI,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,IAAI,EAAxD;AACD,GATgB,CAAjB;AAUD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAIvT,UAAU,GAAG,SAASA,UAAT,CAAoBuN,GAApB,EAAyB;AACxC,MAAI2D,QAAQ,GAAGxM,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,GAAnF;AACA,MAAIyM,UAAU,GAAGzM,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAArF;AACA,MAAI8I,EAAE,GAAGH,YAAY,CAACE,GAAD,EAAME,WAAN,CAAZ,GAAiCF,GAAjC,GAAuC,CAAC,GAAG7N,OAAO,CAACgO,UAAZ,EAAwBH,GAAxB,CAAhD;AACA,MAAIiG,MAAM,GAAGf,eAAe,EAA5B;AACA,MAAIgB,UAAJ;AACA,MAAI9F,KAAK,GAAG,IAAIC,WAAJ,CAAgBwF,iBAAhB,EAAmC;AAC7CvF,IAAAA,OAAO,EAAE,IADoC;AAE7CC,IAAAA,QAAQ,EAAE,IAFmC;AAG7CC,IAAAA,MAAM,EAAEuF,MAAM,IAAI;AAChBE,MAAAA,MAAM,CAACjO,OAAP,CAAe+N,MAAf;AACAG,MAAAA,UAAU;AACX;AAN4C,GAAnC,CAAZ;AAQAA,EAAAA,UAAU,GAAGzC,iBAAiB,CAACxD,EAAD,EAAKG,KAAL,EAAY,MAAM;AAC9C6F,IAAAA,MAAM,CAAChO,MAAP,CAAc,6BAA6BkO,MAA7B,CAAoClG,EAAE,CAACmG,QAAvC,CAAd;AACD,GAF6B,EAE3BzC,QAF2B,EAEjBC,UAFiB,CAA9B;AAGA,SAAOqC,MAAM,CAACrF,OAAd;AACD,CAlBD;;AAoBAlP,OAAO,CAACe,UAAR,GAAqBA,UAArB;AACA,IAAI4T,gBAAgB,GAAG,aAAvB,C,CAAsC;;AAEtC,IAAIC,kBAAkB,GAAG,IAAI/H,GAAJ,CAAQ,CAAC,oBAAD,EAAuB,kBAAvB,EAA2C,oBAA3C,EAAiE,aAAjE,EAAgF,QAAhF,EAA0F,SAA1F,EAAqG,SAArG,EAAgH,SAAhH,EAA2H,aAA3H,EAA0I,aAA1I,CAAR,CAAzB,C,CAA4L;;AAE5L,IAAIgI,qBAAqB,GAAG,IAAIhI,GAAJ,CAAQ,CAAC,OAAD,EAAU,iBAAV,EAA6B,eAA7B,EAA8C,eAA9C,CAAR,CAA5B;;AAEA,IAAIiI,YAAY,GAAGhI,IAAI,IAAI;AACzB;AACA,MAAI8H,kBAAkB,CAAC7H,GAAnB,CAAuBD,IAAvB,CAAJ,EAAkC;AAChC,WAAO,KAAK2H,MAAL,CAAY3H,IAAI,CAACiI,OAAL,CAAa,IAAb,EAAmB,EAAnB,EAAuBA,OAAvB,CAA+B,QAA/B,EAAyC,EAAzC,CAAZ,EAA0D,QAA1D,CAAP;AACD,GAJwB,CAIvB;;;AAGF,MAAIF,qBAAqB,CAAC9H,GAAtB,CAA0BD,IAA1B,CAAJ,EAAqC;AACnC,WAAO,KAAK2H,MAAL,CAAY3H,IAAI,CAACkI,MAAL,CAAY,CAAZ,EAAeC,WAAf,EAAZ,EAA0CR,MAA1C,CAAiD3H,IAAI,CAACoI,KAAL,CAAW,CAAX,CAAjD,CAAP;AACD,GATwB,CASvB;;;AAGF,SAAO,KAAKT,MAAL,CAAY3H,IAAI,CAACkI,MAAL,CAAY,CAAZ,EAAeC,WAAf,EAAZ,EAA0CR,MAA1C,CAAiD3H,IAAI,CAACoI,KAAL,CAAW,CAAX,CAAjD,EAAgE,QAAhE,CAAP;AACD,CAbD;;AAeA,SAASC,eAAT,CAAyB5G,EAAzB,EAA6BzB,IAA7B,EAAmCsI,QAAnC,EAA6CC,QAA7C,EAAuD;AACrD,MAAIC,MAAM,GAAG,EAAb;AACAA,EAAAA,MAAM,CAAClQ,IAAP,CAAY,IAAIuJ,WAAJ,CAAgBmG,YAAY,CAAChI,IAAD,CAA5B,EAAoC;AAC9CgC,IAAAA,MAAM,EAAEsG;AADsC,GAApC,CAAZ;AAGA,MAAItI,IAAI,KAAK,QAAT,IAAqB,CAACsI,QAA1B,EAAoCE,MAAM,CAAClQ,IAAP,CAAY,IAAIuJ,WAAJ,CAAgB,QAAhB,CAAZ;AACpC,MAAI7B,IAAI,KAAK,SAAT,IAAsBuI,QAAtB,IAAkC,CAACD,QAAvC,EAAiDE,MAAM,CAAClQ,IAAP,CAAY,IAAIuJ,WAAJ,CAAgB,UAAhB,CAAZ;AACjD2G,EAAAA,MAAM,CAAC1P,OAAP,CAAe8I,KAAK,IAAI;AACtBH,IAAAA,EAAE,CAACS,aAAH,CAAiBN,KAAjB;AACD,GAFD;AAGD;AACD;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAI/N,iBAAiB,GAAG,CAACgT,SAAD,EAAYrE,KAAZ,KAAsBF,YAAY,CAACuE,SAAD,EAAYrE,KAAZ,CAA1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGAtP,OAAO,CAACW,iBAAR,GAA4BA,iBAA5B;;AAEA,IAAIC,gBAAgB,GAAG,aAAa,YAAY;AAC9C,MAAI2U,IAAI,GAAGvO,iBAAiB,CAAC,WAAWsH,GAAX,EAAgBgB,KAAhB,EAAuBW,OAAvB,EAAgCuF,SAAhC,EAA2C;AACtE,QAAInB,MAAM,GAAGmB,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6CA,SAA7C,GAAyD,MAAMzU,UAAU,CAACuN,GAAD,CAAtF;AACA,QAAImH,SAAS,GAAGnG,KAAK,CAACoG,GAAN,CAAU5I,IAAI,IAAI;AAChC,UAAI4B,KAAK,GAAGoG,YAAY,CAAChI,IAAD,CAAxB;AACA,aAAO4E,MAAM,CAAC2C,MAAD,EAAS3F,KAAT,EAAgB,MAAM;AACjCuB,QAAAA,OAAO,CAACnD,IAAD,EAAOuH,MAAM,CAACvH,IAAD,CAAb,CAAP;AACD,OAFY,CAAb;AAGD,KALe,CAAhB;AAMA,WAAO,MAAM;AACX2I,MAAAA,SAAS,CAAC7P,OAAV,CAAkB6D,GAAG,IAAIA,GAAG,EAA5B;AACD,KAFD;AAGD,GAX2B,CAA5B;;AAaA,SAAO,SAAS7I,gBAAT,CAA0B+U,EAA1B,EAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,GAAxC,EAA6C;AAClD,WAAOP,IAAI,CAAClQ,KAAL,CAAW,IAAX,EAAiBI,SAAjB,CAAP;AACD,GAFD;AAGD,CAjBmC,EAApC;;AAmBAzF,OAAO,CAACY,gBAAR,GAA2BA,gBAA3B;AACA,IAAIuD,QAAJ;AACAnE,OAAO,CAACmE,QAAR,GAAmBA,QAAnB;;AAEA,CAAC,UAAUA,QAAV,EAAoB;AACnBA,EAAAA,QAAQ,CAAC,OAAD,CAAR,GAAoB,OAApB;AACAA,EAAAA,QAAQ,CAAC,OAAD,CAAR,GAAoB,OAApB;AACD,CAHD,EAGGA,QAAQ,KAAKnE,OAAO,CAACmE,QAAR,GAAmBA,QAAQ,GAAG,EAAnC,CAHX;;AAKA,IAAIK,SAAJ;AACAxE,OAAO,CAACwE,SAAR,GAAoBA,SAApB;;AAEA,CAAC,UAAUA,SAAV,EAAqB;AACpBA,EAAAA,SAAS,CAAC,OAAD,CAAT,GAAqB,OAArB;AACAA,EAAAA,SAAS,CAAC,OAAD,CAAT,GAAqB,OAArB;AACD,CAHD,EAGGA,SAAS,KAAKxE,OAAO,CAACwE,SAAR,GAAoBA,SAAS,GAAG,EAArC,CAHZ;;AAKA,IAAIF,QAAJ;AACAtE,OAAO,CAACsE,QAAR,GAAmBA,QAAnB;;AAEA,CAAC,UAAUA,QAAV,EAAoB;AACnBA,EAAAA,QAAQ,CAAC,OAAD,CAAR,GAAoB,OAApB;AACAA,EAAAA,QAAQ,CAAC,OAAD,CAAR,GAAoB,OAApB;AACAA,EAAAA,QAAQ,CAAC,KAAD,CAAR,GAAkB,KAAlB;AACAA,EAAAA,QAAQ,CAAC,MAAD,CAAR,GAAmB,MAAnB;AACAA,EAAAA,QAAQ,CAAC,SAAD,CAAR,GAAsB,SAAtB;AACAA,EAAAA,QAAQ,CAAC,OAAD,CAAR,GAAoB,OAApB;AACAA,EAAAA,QAAQ,CAAC,aAAD,CAAR,GAA0B,aAA1B;AACD,CARD,EAQGA,QAAQ,KAAKtE,OAAO,CAACsE,QAAR,GAAmBA,QAAQ,GAAG,EAAnC,CARX;;AAUA,MAAMyR,QAAN,CAAe;AACbxI,EAAAA,WAAW,GAAG;AACZ,QAAIyI,OAAO,GAAGvQ,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,SAAKuQ,OAAL,GAAeA,OAAf;AACD;;AAEDC,EAAAA,GAAG,CAACC,QAAD,EAAW;AACZ,SAAKF,OAAL,CAAa5Q,IAAb,CAAkB8Q,QAAlB;AACD;;AAEDC,EAAAA,KAAK,GAAG;AACN,SAAKH,OAAL,CAAapQ,OAAb,CAAqBqB,EAAE,IAAIA,EAAE,EAA7B;AACA,SAAK+O,OAAL,GAAe,EAAf;AACD;;AAbY;;AAiBf,IAAIzR,UAAU,GAAG6R,MAAM,CAAC,aAAD,CAAvB;AACApW,OAAO,CAACuE,UAAR,GAAqBA,UAArB;AACA,IAAIE,kBAAkB,GAAG2R,MAAM,CAAC,WAAD,CAA/B;AACApW,OAAO,CAACyE,kBAAR,GAA6BA,kBAA7B;AACA,IAAIL,YAAY,GAAGgS,MAAM,CAAC,eAAD,CAAzB;AACApW,OAAO,CAACoE,YAAR,GAAuBA,YAAvB;AACA,IAAIC,gBAAgB,GAAG+R,MAAM,CAAC,mBAAD,CAA7B;AACApW,OAAO,CAACqE,gBAAR,GAA2BA,gBAA3B;AACA,IAAIgS,wBAAwB,GAAG,qBAA/B;AACA,IAAIC,0BAA0B,GAAG,uBAAjC;AACA,IAAIC,4BAA4B,GAAG,yBAAnC;;AAEA,IAAIC,aAAa,GAAGlI,GAAG,IAAIF,YAAY,CAACE,GAAD,EAAME,WAAN,CAAZ,GAAiCF,GAAjC,GAAuC,CAAC,GAAG7N,OAAO,CAACgO,UAAZ,EAAwBH,GAAxB,CAAlE;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAAShO,qBAAT,CAA+BgO,GAA/B,EAAoCmB,IAApC,EAA0C;AACxC,MAAIgH,UAAU,GAAGL,MAAM,CAAC,cAAD,CAAvB;AACA,MAAIM,UAAU,GAAGF,aAAa,CAAClI,GAAD,CAA9B;AACAoI,EAAAA,UAAU,CAACjS,kBAAD,CAAV,GAAiCgL,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmCA,IAAnC,GAA0CiH,UAAU,CAAChC,QAAX,CAAoBiC,WAApB,EAA3E;AACAD,EAAAA,UAAU,CAACrS,gBAAD,CAAV,GAA+BoS,UAA/B;;AAEA,MAAIG,UAAU,GAAGC,SAAS,IAAI,IAAIlI,WAAJ,CAAgBkI,SAAhB,EAA2B;AACvDjI,IAAAA,OAAO,EAAE,IAD8C;AAEvDC,IAAAA,QAAQ,EAAE,IAF6C;AAGvDC,IAAAA,MAAM,EAAER;AAH+C,GAA3B,CAA9B;;AAMA,MAAIwI,aAAa,GAAGF,UAAU,CAACP,wBAAD,CAA9B;AACAtC,EAAAA,iBAAiB,CAACzF,GAAD,EAAM,MAAM;AAC3BoI,IAAAA,UAAU,CAAC1H,aAAX,CAAyB8H,aAAzB;AACD,GAFgB,CAAjB;AAGD;;AAED,SAASC,sBAAT,CAAgC1C,MAAhC,EAAwC;AACtC,MAAI9F,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwB4F,MAAxB,CAAT;AACA,MAAI2C,QAAQ,GAAG,IAAI3G,GAAJ,EAAf;AACA,MAAI4G,QAAQ,GAAG,IAAIlB,QAAJ,EAAf,CAHsC,CAGP;;AAE/BxH,EAAAA,EAAE,CAACnK,YAAD,CAAF,GAAmB4S,QAAnB;;AAEA,WAASE,YAAT,CAAsBR,UAAtB,EAAkC;AAChC,WAAOA,UAAU,CAACnS,UAAD,CAAjB;AACA,WAAOmS,UAAU,CAACtS,YAAD,CAAjB;AACA4S,IAAAA,QAAQ,CAAC9F,MAAT,CAAgBwF,UAAU,CAACrS,gBAAD,CAA1B;AACAkK,IAAAA,EAAE,CAACS,aAAH,CAAiB,IAAIL,WAAJ,CAAgB4H,4BAAhB,EAA8C;AAC7DzH,MAAAA,MAAM,EAAE4H;AADqD,KAA9C,CAAjB;AAGD;;AAED,WAASS,UAAT,CAAoBC,CAApB,EAAuB;AACrB,QAAI9I,GAAG,GAAG8I,CAAC,CAACtI,MAAZ;AACA,QAAI4H,UAAU,GAAGF,aAAa,CAAClI,GAAD,CAA9B;AACAoI,IAAAA,UAAU,CAACnS,UAAD,CAAV,GAAyBgK,EAAzB;AACAmI,IAAAA,UAAU,CAACtS,YAAD,CAAV,GAA2B4S,QAA3B;AACAA,IAAAA,QAAQ,CAACjG,GAAT,CAAa2F,UAAU,CAACrS,gBAAD,CAAvB,EAA2CqS,UAA3C;AACAnI,IAAAA,EAAE,CAACS,aAAH,CAAiB,IAAIL,WAAJ,CAAgB2H,0BAAhB,EAA4C;AAC3DxH,MAAAA,MAAM,EAAE4H;AADmD,KAA5C,CAAjB;AAGA3C,IAAAA,iBAAiB,CAACzF,GAAD,EAAMjH,SAAN,EAAiB,MAAM6P,YAAY,CAACR,UAAD,CAAnC,CAAjB;AACD;;AAED3C,EAAAA,iBAAiB,CAACM,MAAD,EAAS,MAAM;AAC9B4C,IAAAA,QAAQ,CAAChB,GAAT,CAAavE,MAAM,CAACnD,EAAD,EAAK8H,wBAAL,EAA+Bc,UAA/B,CAAnB;AACD,GAFgB,EAEd,MAAM;AACPH,IAAAA,QAAQ,CAACK,KAAT;AACAJ,IAAAA,QAAQ,CAACd,KAAT;AACA,WAAO9B,MAAM,CAACjQ,YAAD,CAAb;AACD,GANgB,CAAjB;AAOD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAAShE,qBAAT,CAA+BkO,GAA/B,EAAoCmB,IAApC,EAA0C;AACxC,MAAI6H,gBAAJ;;AAEA,MAAIZ,UAAU,GAAGF,aAAa,CAAClI,GAAD,CAA9B;AACA,MAAI0I,QAAQ,GAAGN,UAAU,CAACtS,YAAD,CAAzB;AACA,SAAO+J,KAAK,CAACoJ,IAAN,CAAW,CAACD,gBAAgB,GAAGN,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACQ,MAAT,EAAxE,MAA+F,IAA/F,IAAuGF,gBAAgB,KAAK,KAAK,CAAjI,GAAqIA,gBAArI,GAAwJ,EAAnK,EAAuKG,IAAvK,CAA4KC,CAAC,IAAIA,CAAC,CAACjT,kBAAD,CAAD,KAA0BgL,IAA3M,CAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAAStP,qBAAT,CAA+BmO,GAA/B,EAAoC;AAClC,MAAIoI,UAAU,GAAGF,aAAa,CAAClI,GAAD,CAA9B;AACA,SAAOoI,UAAU,CAACnS,UAAD,CAAjB;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASrE,wBAAT,CAAkCoO,GAAlC,EAAuCmB,IAAvC,EAA6C;AAC3C,MAAIkI,qBAAJ,EAA2BC,sBAA3B;;AAEA,MAAIlB,UAAU,GAAGF,aAAa,CAAClI,GAAD,CAA9B;AACA,SAAOH,KAAK,CAACoJ,IAAN,CAAW,CAACI,qBAAqB,GAAG,CAACC,sBAAsB,GAAGlB,UAAU,CAACtS,YAAD,CAApC,MAAwD,IAAxD,IAAgEwT,sBAAsB,KAAK,KAAK,CAAhG,GAAoG,KAAK,CAAzG,GAA6GA,sBAAsB,CAACJ,MAAvB,EAAtI,MAA2K,IAA3K,IAAmLG,qBAAqB,KAAK,KAAK,CAAlN,GAAsNA,qBAAtN,GAA8O,EAAzP,EAA6P1S,MAA7P,CAAoQyS,CAAC,IAAIA,CAAC,CAACjT,kBAAD,CAAD,KAA0BgL,IAAnS,CAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASpP,sBAAT,CAAgCwX,GAAhC,EAAqCC,GAArC,EAA0CC,GAA1C,EAA+C;AAC7C,SAAOC,uBAAuB,CAAC3S,KAAxB,CAA8B,IAA9B,EAAoCI,SAApC,CAAP;AACD;;AAED,SAASuS,uBAAT,GAAmC;AACjCA,EAAAA,uBAAuB,GAAGhR,iBAAiB,CAAC,WAAWsH,GAAX,EAAgBmB,IAAhB,EAAsBwI,QAAtB,EAAgC;AAC1E,QAAIC,iBAAJ;;AAEA,QAAI7D,MAAM,GAAG,MAAMtT,UAAU,CAACuN,GAAD,CAA7B;AACA,QAAI2I,QAAQ,GAAG,IAAIlB,QAAJ,EAAf;AACA,QAAIiB,QAAQ,GAAGR,aAAa,CAAClI,GAAD,CAAb,CAAmBlK,YAAnB,CAAf;;AAEA,aAAS+T,QAAT,CAAkBf,CAAlB,EAAqB;AACnB,UAAIA,CAAC,CAACtI,MAAF,CAASrK,kBAAT,MAAiCgL,IAArC,EAA2CwI,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAAC/X,wBAAwB,CAACmU,MAAD,EAAS5E,IAAT,CAAzB,CAA5D;AAC5C,KATyE,CASxE;;;AAGFtB,IAAAA,KAAK,CAACoJ,IAAN,CAAW,CAACW,iBAAiB,GAAGlB,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACQ,MAAT,EAAzE,MAAgG,IAAhG,IAAwGU,iBAAiB,KAAK,KAAK,CAAnI,GAAuIA,iBAAvI,GAA2J,EAAtK,EAA0KtS,OAA1K,CAAkLwS,GAAG,IAAID,QAAQ,CAAC,IAAIxJ,WAAJ,CAAgB,EAAhB,EAAoB;AACpNG,MAAAA,MAAM,EAAEsJ;AAD4M,KAApB,CAAD,CAAjM;AAGAnB,IAAAA,QAAQ,CAAChB,GAAT,CAAavE,MAAM,CAAC2C,MAAD,EAASiC,0BAAT,EAAqC6B,QAArC,CAAnB;AACAlB,IAAAA,QAAQ,CAAChB,GAAT,CAAavE,MAAM,CAAC2C,MAAD,EAASkC,4BAAT,EAAuC4B,QAAvC,CAAnB;AACApE,IAAAA,iBAAiB,CAACzF,GAAD,EAAM,MAAM,CAAE,CAAd,EAAgB,MAAM;AACrC2I,MAAAA,QAAQ,CAACd,KAAT;AACD,KAFgB,CAAjB;AAGA,WAAO,MAAM;AACXc,MAAAA,QAAQ,CAACd,KAAT;AACD,KAFD;AAGD,GAvB0C,CAA3C;AAwBA,SAAO6B,uBAAuB,CAAC3S,KAAxB,CAA8B,IAA9B,EAAoCI,SAApC,CAAP;AACD;;AAED,IAAI4S,UAAU,GAAG,oEAAjB;AACA,IAAIC,UAAU,GAAG,oCAAjB;AACA,IAAIC,QAAQ,GAAG,iBAAf;AACA,IAAIC,YAAY,GAAG,iDAAnB;AACA,IAAIC,SAAS,GAAG,gBAAhB;AACA,IAAIC,qBAAqB,GAAG,kBAA5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,wBAAwB,GAAGrK,GAAG,IAAI,CAACxB,IAAD,EAAO7M,KAAP,KAAiB;AACrD,MAAIsO,EAAE,GAAGH,YAAY,CAACE,GAAD,EAAME,WAAN,CAAZ,GAAiCF,GAAjC,GAAuC,CAAC,GAAG7N,OAAO,CAACgO,UAAZ,EAAwBH,GAAxB,CAAhD;AACA,MAAII,KAAK,GAAG,IAAIC,WAAJ,CAAgB+J,qBAAhB,EAAuC;AACjD9J,IAAAA,OAAO,EAAE,IADwC;AAEjDC,IAAAA,QAAQ,EAAE,IAFuC;AAGjDC,IAAAA,MAAM,EAAE;AACNC,MAAAA,EAAE,EAAER,EADE;AAENzB,MAAAA,IAFM;AAGN7M,MAAAA;AAHM;AAHyC,GAAvC,CAAZ;AASAsO,EAAAA,EAAE,CAACS,aAAH,CAAiBN,KAAjB;AACD,CAZD;;AAcA,IAAIkK,qBAAqB,GAAG,IAAI/L,GAAJ,CAAQ,CAAC,OAAD,EAAU,SAAV,EAAqB,eAArB,EAAsC,iBAAtC,EAAyD,eAAzD,EAA0E,SAA1E,EAAqF,UAArF,EAAiG,WAAjG,EAA8G,UAA9G,EAA0H,UAA1H,EAAsI,YAAtI,EAAoJ,WAApJ,EAAiK,YAAjK,EAA+K,eAA/K,EAAgM,eAAhM,EAAiN,mBAAjN,EAAsO,YAAtO,EAAoP,kBAApP,EAAwQ,oBAAxQ,EAA8R,aAA9R,EAA6S,mBAA7S,EAAkU,aAAlU,EAAiV,oBAAjV,CAAR,CAA5B;;AAEA,IAAIgM,sBAAsB,GAAG/L,IAAI,IAAIjM,cAAc,CAACiM,IAAD,CAAd,IAAwB8L,qBAAqB,CAAC7L,GAAtB,CAA0BD,IAA1B,CAA7D;;AAEA,IAAIgM,kBAAkB,GAAG1C,MAAM,CAAC,iBAAD,CAA/B;AACA,IAAI2C,sBAAsB,GAAG,wBAA7B;AACA,IAAIC,yBAAyB,GAAG,2BAAhC;;AAEA,SAASC,yBAAT,CAAmCxJ,IAAnC,EAAyCyJ,IAAzC,EAA+C;AAC7C,SAAO,IAAIvK,WAAJ,CAAgBc,IAAhB,EAAsB;AAC3Bb,IAAAA,OAAO,EAAE,IADkB;AAE3BC,IAAAA,QAAQ,EAAE,IAFiB;AAG3BC,IAAAA,MAAM,EAAEoK;AAHmB,GAAtB,CAAP;AAKD;;AAED,SAASC,gBAAT,CAA0BC,SAA1B,EAAqC;AACnC,MAAI7K,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwB2K,SAAxB,CAAT;AACA,MAAInC,QAAQ,GAAG,IAAIlB,QAAJ,EAAf;AACA,MAAIsD,KAAK,GAAG,IAAIhJ,GAAJ,EAAZ;AACA+I,EAAAA,SAAS,CAACN,kBAAD,CAAT,GAAgCO,KAAhC;;AAEA,WAASC,SAAT,GAAqB;AACnBxZ,IAAAA,MAAM,CAACgF,IAAP,CAAYsU,SAAZ,EAAuBxT,OAAvB,CAA+BkH,IAAI,IAAI;AACrCuM,MAAAA,KAAK,CAACtI,GAAN,CAAUjE,IAAV,EAAgBsM,SAAS,CAACtM,IAAD,CAAzB;AACD,KAFD;AAGD;;AAED,WAASmH,YAAT,GAAwB;AACtB,KAAC,GAAGxT,OAAO,CAAC8Y,SAAZ,GAAwB,aAAavS,iBAAiB,CAAC,aAAa;AAClE,UAAIwS,qBAAJ;;AAEAJ,MAAAA,SAAS,CAACvO,KAAV,GAAkB,KAAlB;AACAuO,MAAAA,SAAS,CAACK,QAAV,GAAqBpS,SAArB;AACAgS,MAAAA,KAAK,CAAChC,KAAN;AACA,OAACmC,qBAAqB,GAAGJ,SAAS,CAACM,oBAAnC,MAA6D,IAA7D,IAAqEF,qBAAqB,KAAK,KAAK,CAApG,GAAwG,KAAK,CAA7G,GAAiHA,qBAAqB,CAACrJ,IAAtB,CAA2BiJ,SAA3B,CAAjH;AACA7K,MAAAA,EAAE,CAACS,aAAH,CAAiBiK,yBAAyB,CAACD,yBAAD,CAA1C;AACD,KARqD,CAAtD;AASD;;AAED,WAAShF,SAAT,CAAmBtF,KAAnB,EAA0B;AACxBA,IAAAA,KAAK,CAACiL,wBAAN;AACAL,IAAAA,SAAS;AACT,QAAIM,OAAO,GAAGlL,KAAK,CAACI,MAApB;AACA,QAAIoK,IAAI,GAAG,CAAC,GAAGzY,OAAO,CAACgO,UAAZ,EAAwBC,KAAK,CAACI,MAA9B,CAAX;AACA,QAAIsK,SAAS,CAACK,QAAV,KAAuBP,IAA3B,EAAiC;AACjC,QAAIzJ,IAAI,GAAGyJ,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACxE,QAAL,CAAciC,WAAd,GAA4B5B,OAA5B,CAAoC,KAApC,EAA2C,EAA3C,CAAvD;AACA,KAAC,GAAGtU,OAAO,CAAC8Y,SAAZ,GAAwB,aAAavS,iBAAiB,CAAC,aAAa;AAClEoS,MAAAA,SAAS,CAACK,QAAV,GAAqBP,IAArB;AACAE,MAAAA,SAAS,CAACnP,eAAV,GAA4BnK,MAAM,CAAC0X,MAAP,CAAclT,QAAd,EAAwBuV,IAAxB,CAA6BJ,QAAQ,IAAIhK,IAAI,KAAKgK,QAAlD,CAA5B;AACA1F,MAAAA,iBAAiB,CAAC6F,OAAD,EAAUvS,SAAV,EAAqB,MAAM4M,YAAY,EAAvC,CAAjB;AACD,KAJqD,CAAtD;AAKD;;AAED,WAASgE,QAAT,CAAkBvJ,KAAlB,EAAyB;AACvBA,IAAAA,KAAK,CAACiL,wBAAN;AACA,QAAI;AACF5K,MAAAA,EADE;AAEFjC,MAAAA,IAFE;AAGF7M,MAAAA;AAHE,QAIAyO,KAAK,CAACI,MAJV;;AAMA,QAAI,CAAC+J,sBAAsB,CAAC/L,IAAD,CAA3B,EAAmC;AACjC,UAAIgN,iBAAJ;;AAEA,OAACA,iBAAiB,GAAGV,SAAS,CAACW,MAA/B,MAA2C,IAA3C,IAAmDD,iBAAiB,KAAK,KAAK,CAA9E,GAAkF,KAAK,CAAvF,GAA2FA,iBAAiB,CAACE,IAAlB,CAAuB,GAAGvF,MAAH,CAAU1F,EAAE,CAAC2F,QAAb,EAAuB,oBAAvB,EAA6CD,MAA7C,CAAoD3H,IAApD,EAA0D,uBAA1D,CAAvB,CAA3F;AACA;AACD;;AAED,KAAC,GAAGrM,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3BF,MAAAA,KAAK,CAACtI,GAAN,CAAUjE,IAAV,EAAgB7M,KAAhB;AACAmZ,MAAAA,SAAS,CAACtM,IAAD,CAAT,GAAkB7M,KAAlB;AACD,KAHD;AAID;;AAED8T,EAAAA,iBAAiB,CAACqF,SAAD,EAAY,MAAM;AACjCnC,IAAAA,QAAQ,CAAChB,GAAT,CAAavE,MAAM,CAACnD,EAAD,EAAKwK,sBAAL,EAA6B/E,SAA7B,CAAnB;AACAiD,IAAAA,QAAQ,CAAChB,GAAT,CAAavE,MAAM,CAACnD,EAAD,EAAKmK,qBAAL,EAA4BT,QAA5B,CAAnB;AACD,GAHgB,EAGd,MAAM;AACPhB,IAAAA,QAAQ,CAACd,KAAT;AACAkD,IAAAA,KAAK,CAAChC,KAAN;AACD,GANgB,CAAjB;AAOD;;AAED,SAAS4C,mBAAT,CAA6B3L,GAA7B,EAAkC;AAChC,MAAI4L,YAAY,GAAGjB,yBAAyB,CAACF,sBAAD,EAAyBzK,GAAzB,CAA5C;AACAyF,EAAAA,iBAAiB,CAACzF,GAAD,EAAM,MAAM;AAC3B,KAAC,GAAG7N,OAAO,CAACgO,UAAZ,EAAwBH,GAAxB,EAA6BU,aAA7B,CAA2CkL,YAA3C;AACD,GAFgB,CAAjB;AAGD;;AAED,IAAIC,KAAK,GAAG,cAAc3L,WAAd,CAA0B;AACpCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;AACA;AACJ;AACA;;;AAGI,SAAKC,UAAL,GAAkB,KAAlB;AACA;;AAEA,SAAKC,OAAL,GAAe,UAAf;AACAha,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA,QAAI,CAAC,KAAK+Z,UAAV,EAAsBJ,mBAAmB,CAAC,IAAD,CAAnB;AACvB;AACD;;;AAGAM,EAAAA,UAAU,GAAG;AACX,QAAIC,MAAM,GAAG,IAAb;;AAEA,WAAOxT,iBAAiB,CAAC,aAAa;AACpC,UAAIyT,qBAAJ,EAA2BC,mBAA3B;;AAEA,UAAIC,OAAO,GAAG,CAACF,qBAAqB,GAAG,MAAM,CAACC,mBAAmB,GAAGF,MAAM,CAACI,YAA9B,MAAgD,IAAhD,IAAwDF,mBAAmB,KAAK,KAAK,CAArF,GAAyF,KAAK,CAA9F,GAAkGA,mBAAmB,CAACH,UAApB,EAAjI,MAAuK,IAAvK,IAA+KE,qBAAqB,KAAK,KAAK,CAA9M,GAAkNA,qBAAlN,GAA0O,EAAxP;;AAEAE,MAAAA,OAAO,CAACE,OAAR,GAAkB,aAAa,YAAY;AACzC,YAAIC,KAAK,GAAG9T,iBAAiB,CAAC,WAAW+T,IAAX,EAAiB;AAC7C,iBAAOnN,QAAQ,CAACmN,IAAD,CAAR,IAAkB1C,UAAU,CAAC2C,IAAX,CAAgBD,IAAhB,CAAzB;AACD,SAF4B,CAA7B;;AAIA,eAAO,UAAUE,GAAV,EAAe;AACpB,iBAAOH,KAAK,CAACzV,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAP;AACD,SAFD;AAGD,OAR8B,EAA/B;;AAUA,aAAOkV,OAAP;AACD,KAhBuB,CAAjB,EAAP;AAiBD;;AAEDO,EAAAA,MAAM,GAAG;AACP,WAAQ;AACN,OAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AACxBC,QAAAA,SAAS,EAAE,IADa;AAExBf,QAAAA,UAAU,EAAE,KAAKA,UAFO;AAGxBgB,QAAAA,WAAW,EAAE,KAAKA,WAHM;AAIxBf,QAAAA,OAAO,EAAE,KAAKA,OAJU;AAKxBgB,QAAAA,qBAAqB,EAAE,KAAKA,qBALJ;AAMxBpR,QAAAA,UAAU,EAAE,KAAKA,UANO;AAOxByB,QAAAA,QAAQ,EAAExH,QAAQ,CAACgW,KAPK;AAQxB7L,QAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,eAAKqM,YAAL,GAAoBrM,EAApB;AACD;AAVuB,OAA1B,EAWG,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAXH;AADF;AAcD;;AAzDmC,CAAtC;AA4DA,IAAII,iBAAiB,GAAG,+BAAxB;AACA,IAAIC,cAAc,GAAG,cAAchN,WAAd,CAA0B;AAC7CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKC,0BAAL,GAAkC,KAAlC;AACA;AACJ;AACA;;AAEI,SAAKC,QAAL,GAAgB,aAAhB;AACA;AACJ;AACA;;AAEI,SAAKC,QAAL,GAAgB,cAAhB;AACA;AACJ;AACA;;AAEI,SAAKC,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKC,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKhX,IAAL,GAAY,GAAZ;AACA;;AAEA,SAAK6H,IAAL,GAAY,EAAZ;AACA;;AAEA,SAAK7B,aAAL,GAAqB,KAArB;AACA;;AAEA,SAAKT,UAAL,GAAkB,EAAlB;AACA;;AAEA,SAAKI,kBAAL,GAA0B,KAA1B;AACAnK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,MAAD,EAAS,YAAT,EAAuB,oBAAvB,EAA6C,eAA7C,CAAP,CAAjB;AACD;;AAEDob,EAAAA,kBAAkB,GAAG;AACnB,QAAIC,MAAM,GAAG,IAAb;;AAEA,WAAOhV,iBAAiB,CAAC,aAAa;AACpC,UAAIiV,qBAAJ;;AAEA,UAAI5H,MAAM,GAAGlU,qBAAqB,CAAC6b,MAAD,CAAlC;AACAA,MAAAA,MAAM,CAACN,0BAAP,GAAoCM,MAAM,CAAC3R,UAAP,CAAkB3E,MAAlB,GAA2B,CAA3B,KAAiC,CAACuW,qBAAqB,GAAG,MAAM5H,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAAC6H,yBAAP,EAA/E,MAAuH,IAAvH,IAA+HD,qBAAqB,KAAK,KAAK,CAA9J,GAAkKA,qBAAlK,GAA0L,KAA3N,CAApC;AACD,KALuB,CAAjB,EAAP;AAMD;;AAEDE,EAAAA,gBAAgB,GAAG;AACjB,SAAKJ,kBAAL;AACD;;AAEDK,EAAAA,OAAO,GAAG;AACR,QAAIC,qBAAJ;;AAEA,QAAIhI,MAAM,GAAGlU,qBAAqB,CAAC,IAAD,CAAlC;AACAkU,IAAAA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgD,CAACgI,qBAAqB,GAAGhI,MAAM,CAACiI,sBAAhC,MAA4D,IAA5D,IAAoED,qBAAqB,KAAK,KAAK,CAAnG,GAAuG,KAAK,CAA5G,GAAgHA,qBAAqB,CAAClM,IAAtB,CAA2BkE,MAA3B,EAAmC,CAAC,KAAK5J,kBAAzC,CAAhK;AACD;;AAEDyQ,EAAAA,MAAM,GAAG;AACP,QAAIqB,OAAO,GAAG,KAAK9R,kBAAL,GAA0B,KAAKkC,IAAL,CAAUjE,eAApC,GAAsD,KAAKiE,IAAL,CAAUlE,cAA9E;AACA,QAAI+T,eAAe,GAAG,CAACpP,WAAW,CAAC,KAAKtI,IAAN,CAAZ,GAA0B,GAAG2P,MAAH,CAAU8H,OAAV,EAAmB,IAAnB,EAAyB9H,MAAzB,CAAgC,KAAK3P,IAArC,EAA2C,GAA3C,CAA1B,GAA4EyX,OAAlG;AACA,WAAO,CAAC,GAAG9b,OAAO,CAAC0a,CAAZ,EAAe1a,OAAO,CAACgc,IAAvB,EAA6B;AAClCC,MAAAA,MAAM,EAAE,CAAC,KAAKhB;AADoB,KAA7B,EAEJ,CAAC,GAAGjb,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC9BwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUpE,QADa;AAE9BzD,MAAAA,IAAI,EAAE,KAAKA,IAFmB;AAG9B4X,MAAAA,MAAM,EAAE,CAAC,KAAKhB,0BAHgB;AAI9BkB,MAAAA,OAAO,EAAE,KAAKnS,kBAJgB;AAK9B2R,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB;AALqB,KAA7B,EAMA,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC3B1L,MAAAA,IAAI,EAAE,KAAKhF,kBAAL,GAA0B,KAAKkR,QAA/B,GAA0C,KAAKC,QAD1B;AAE3BkB,MAAAA,OAAO,EAAE,KAAKnS;AAFa,KAA1B,CANA,EASC,CAAC,GAAGlK,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC/BuB,MAAAA,MAAM,EAAE,KAAKZ,WADkB;AAE/BiB,MAAAA,QAAQ,EAAE,KAAKlB,eAFgB;AAG/BmB,MAAAA,SAAS,EAAE,KAAKC;AAHe,KAA7B,EAIDT,eAJC,CATD,CAFI,CAAP;AAgBD;;AAEkB,aAARU,QAAQ,GAAG;AACpB,WAAO;AACL,oBAAc,CAAC,oBAAD,CADT;AAEL,uBAAiB,CAAC,oBAAD;AAFZ,KAAP;AAID;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAO5B,iBAAP;AACD;;AAnG4C,CAA/C;AAsGA;;AAEA,IAAI6B,KAAK,GAAG,IAAIvQ,GAAJ,EAAZ;AACA,IAAItB,QAAQ,GAAG,IAAIsB,GAAJ,EAAf,C,CAA0B;AAC1B;;AAEA,IAAIwQ,UAAU,GAAG,IAAIhN,GAAJ,EAAjB;;AAEA,SAASiN,MAAT,GAAkB;AAChB,GAAC,GAAG7c,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3BhO,IAAAA,QAAQ,CAAC3F,OAAT,CAAiB2X,UAAU,IAAI;AAC7B,UAAIC,cAAc,GAAGC,UAAU,CAACjL,MAAM,CAACkL,gBAAP,CAAwBH,UAAxB,EAAoCI,MAArC,CAA/B;AACAP,MAAAA,KAAK,CAACxX,OAAN,CAAcgY,SAAS,IAAI;AACzB,YAAIC,mBAAmB,GAAGR,UAAU,CAAC7c,GAAX,CAAeod,SAAf,CAA1B;AACA,YAAIE,WAAW,GAAGpL,WAAW,CAACkL,SAAD,EAAYL,UAAZ,CAA7B;AACA,YAAIQ,WAAW,GAAGrL,WAAW,CAACkL,SAAD,EAAYL,UAAZ,EAAwB,CAAxB,EAA2BC,cAA3B,CAAX,IAAyD9K,WAAW,CAACkL,SAAD,EAAYL,UAAZ,EAAwB,CAAxB,EAA2B,CAACC,cAA5B,CAAtF;AACAK,QAAAA,mBAAmB,CAAC9M,GAApB,CAAwBwM,UAAxB,EAAoCO,WAAW,IAAIC,WAAf,GAA6BP,cAA7B,GAA8C,CAAlF;AACD,OALD;AAMD,KARD,EAD2B,CASvB;;AAEJJ,IAAAA,KAAK,CAACxX,OAAN,CAAcgY,SAAS,IAAI;AACzB,UAAIC,mBAAmB,GAAGR,UAAU,CAAC7c,GAAX,CAAeod,SAAf,CAA1B;AACAA,MAAAA,SAAS,CAACT,KAAV,CAAgBa,WAAhB,CAA4B,sBAA5B,EAAoD,GAAGvJ,MAAH,CAAUwJ,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACC,GAAL,CAAS,GAAGL,mBAAmB,CAACrG,MAApB,EAAZ,CAAZ,CAAV,EAAkE,IAAlE,CAApD;AACD,KAHD;AAID,GAfD;AAgBD;;AAED,SAAS2G,qCAAT,CAA+CxK,SAA/C,EAA0D;AACxD,MAAIpF,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwBkF,SAAxB,CAAT;;AAEA,WAASyK,UAAT,GAAsB;AACpB,WAAO7P,EAAE,CAAC8P,UAAH,CAAcC,aAAd,CAA4B,WAA5B,CAAP;AACD;;AAEDvK,EAAAA,iBAAiB,CAACJ,SAAD,EAAY,MAAM;AACjC,QAAI4K,OAAO,GAAGH,UAAU,EAAxB;;AAEA,QAAI,CAAClR,MAAM,CAACqR,OAAD,CAAX,EAAsB;AACpBhT,MAAAA,QAAQ,CAAC0K,GAAT,CAAasI,OAAb;AACAjB,MAAAA,MAAM;AACP;AACF,GAPgB,EAOd,MAAM;AACP/R,IAAAA,QAAQ,CAAC2F,MAAT,CAAgBkN,UAAU,EAA1B;AACAd,IAAAA,MAAM;AACP,GAVgB,CAAjB;AAWA5J,EAAAA,eAAe,CAACC,SAAD,EAAY,kBAAZ,EAAgC,MAAM;AACnDpI,IAAAA,QAAQ,CAAC0K,GAAT,CAAamI,UAAU,EAAvB;AACAd,IAAAA,MAAM;AACP,GAHc,CAAf;AAIA5J,EAAAA,eAAe,CAACC,SAAD,EAAY,oBAAZ,EAAkC2J,MAAlC,CAAf;AACD;;AAED,SAASkB,8BAAT,CAAwC7K,SAAxC,EAAmD;AACjD,MAAIpF,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwBkF,SAAxB,CAAT;AACAI,EAAAA,iBAAiB,CAACJ,SAAD,EAAY,MAAM;AACjCyJ,IAAAA,KAAK,CAACnH,GAAN,CAAU1H,EAAV;AACA8O,IAAAA,UAAU,CAACtM,GAAX,CAAexC,EAAf,EAAmB,IAAI8B,GAAJ,EAAnB;AACAiN,IAAAA,MAAM;AACP,GAJgB,EAId,MAAM;AACPF,IAAAA,KAAK,CAAClM,MAAN,CAAa3C,EAAb;AACA8O,IAAAA,UAAU,CAACnM,MAAX,CAAkB3C,EAAlB;AACD,GAPgB,CAAjB;AAQD;;AAED,IAAIkQ,WAAW,GAAG,u7BAAlB;AACA,IAAIC,QAAQ,GAAG,cAAclQ,WAAd,CAA0B;AACvCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKkD,YAAL,GAAoB,IAAI5I,QAAJ,EAApB;AACA,SAAK6I,YAAL,GAAoB,IAAI7I,QAAJ,EAApB;AACA,SAAK8I,SAAL,GAAiB,KAAjB;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA;AACJ;AACA;;AAEI,SAAKpC,MAAL,GAAc,KAAd;AACA;;AAEA,SAAKlR,gBAAL,GAAwB,KAAxB;AACA;;AAEA,SAAKK,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKT,eAAL,GAAuB,KAAvB;AACA;;AAEA,SAAKf,UAAL,GAAkB,EAAlB;AACA;;AAEA,SAAKC,gBAAL,GAAwB,CAAC,CAAzB;AACA;;AAEA,SAAKG,kBAAL,GAA0B,IAA1B;AACAnK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAke,IAAAA,8BAA8B,CAAC,IAAD,CAA9B;AACA7d,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,aAAD,EAAgB,iBAAhB,EAAmC,kBAAnC,EAAuD,YAAvD,EAAqE,kBAArE,EAAyF,oBAAzF,CAAP,CAAjB;AACD;;AAEDoe,EAAAA,eAAe,GAAG;AAChB,SAAKF,SAAL,GAAiB,KAAKzT,eAAL,IAAwB,KAAKS,WAA9C;AACD;;AAEDkQ,EAAAA,kBAAkB,GAAG;AACnB,QAAIiD,SAAS,GAAG,KAAK3U,UAAL,CAAgB,KAAKC,gBAArB,CAAhB;;AAEA,QAAI2U,UAAU,GAAG,MAAM;AACrB,UAAIC,qBAAJ;;AAEA,UAAIC,UAAU,GAAGhR,KAAK,CAACoJ,IAAN,CAAW,CAAC2H,qBAAqB,GAAGF,SAAS,CAACG,UAAnC,MAAmD,IAAnD,IAA2DD,qBAAqB,KAAK,KAAK,CAA1F,GAA8FA,qBAA9F,GAAsH,EAAjI,CAAjB;AACA,WAAKE,gBAAL,CAAsBD,UAAU,CAAC,CAAD,CAAhC;AACD,KALD;;AAOA,SAAKP,YAAL,CAAkBzI,KAAlB;;AAEA,QAAI,CAAC9I,iBAAiB,CAAC2R,SAAD,CAAtB,EAAmC;AACjCC,MAAAA,UAAU;AACV,WAAKL,YAAL,CAAkB3I,GAAlB,CAAsBvE,MAAM,CAACsN,SAAD,EAAY,WAAZ,EAAyBC,UAAzB,CAA5B;AACD;AACF;;AAEDjO,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACA,SAAKoe,QAAL,CAAc,8BAAd,EAA8C,KAA9C;AACA,SAAKtD,kBAAL;AACA,SAAKuD,cAAL;AACD;;AAEDrO,EAAAA,oBAAoB,GAAG;AACrB,SAAK2N,YAAL,CAAkBzI,KAAlB;AACA,SAAKwI,YAAL,CAAkBxI,KAAlB;AACA,SAAKkJ,QAAL,CAAc,8BAAd,EAA8C,IAA9C;AACD;;AAEDC,EAAAA,cAAc,GAAG;AACf,QAAIC,MAAM,GAAG,IAAb;;AAEA,WAAOvY,iBAAiB,CAAC,aAAa;AACpC,UAAIqN,MAAM,GAAG,MAAMtT,UAAU,CAACwe,MAAD,CAA7B;AACA,UAAIC,SAAS,GAAG,MAAMnL,MAAM,CAACoL,YAAP,EAAtB;AACA,UAAIC,SAAS,GAAG,IAAIC,cAAJ,CAAmBC,OAAO,IAAI;AAC5C,YAAIC,KAAK,GAAGD,OAAO,CAAC,CAAD,CAAnB;AACA,YAAI;AACFE,UAAAA;AADE,YAEAD,KAAK,CAACE,WAFV;;AAIA,YAAID,KAAK,IAAI,IAAb,EAAmB;AACjBP,UAAAA,MAAM,CAACT,QAAP,GAAkB,IAAlB;AACD,SAFD,MAEO,IAAIgB,KAAK,IAAI,IAAb,EAAmB;AACxBP,UAAAA,MAAM,CAACT,QAAP,GAAkB,IAAlB;AACD,SAFM,MAEA,IAAIgB,KAAK,IAAI,GAAb,EAAkB;AACvBP,UAAAA,MAAM,CAACT,QAAP,GAAkB,IAAlB;AACD,SAFM,MAEA;AACLS,UAAAA,MAAM,CAACT,QAAP,GAAkB,IAAlB;AACD;AACF,OAfe,CAAhB;AAgBAY,MAAAA,SAAS,CAACM,OAAV,CAAkBR,SAAlB;AACD,KApBuB,CAAjB,EAAP;AAqBD;;AAEDJ,EAAAA,gBAAgB,CAACa,GAAD,EAAM;AACpB,QAAI5S,iBAAiB,CAAC4S,GAAD,CAArB,EAA4B;AAC1B,WAAKA,GAAL,GAAW,EAAX;AACA;AACD;;AAED,QAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;AACAF,IAAAA,GAAG,CAACG,MAAJ,CAAWJ,GAAG,CAACK,YAAJ,EAAX;AACA,SAAKL,GAAL,GAAWC,GAAG,CAACK,SAAJ,CAAcC,IAAd,EAAX;AACD;;AAEDtF,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BgC,MAAAA,KAAK,EAAE;AACLsD,QAAAA,SAAS,EAAE,mBAAmBhM,MAAnB,CAA0B,KAAKjJ,gBAAL,GAAwB,2BAAxB,GAAsD,MAAhF,EAAwF,SAAxF;AADN,OADoB;AAI3BkV,MAAAA,KAAK,EAAE;AACLnY,QAAAA,QAAQ,EAAE,IADL;AAELmB,QAAAA,OAAO,EAAE,KAAKmV,SAFT;AAGLnC,QAAAA,MAAM,EAAE,KAAKA,MAHR;AAILiE,QAAAA,MAAM,EAAE,KAAK7B,QAAL,KAAkB,IAJrB;AAKL8B,QAAAA,MAAM,EAAE,KAAK9B,QAAL,KAAkB,IALrB;AAML+B,QAAAA,MAAM,EAAE,KAAK/B,QAAL,KAAkB,IANrB;AAOLgC,QAAAA,QAAQ,EAAE,CAAC,KAAKrW;AAPX;AAJoB,KAAtB,EAaJ,CAAC,GAAGhK,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB;AACxBuF,MAAAA,KAAK,EAAE;AADiB,KAAvB,EAEA,KAAKT,GAFL,CAbI,CAAP;AAgBD;;AAEkB,aAAR/C,QAAQ,GAAG;AACpB,WAAO;AACL,qBAAe,CAAC,iBAAD,CADV;AAEL,yBAAmB,CAAC,iBAAD,CAFd;AAGL,oBAAc,CAAC,oBAAD,CAHT;AAIL,0BAAoB,CAAC,oBAAD;AAJf,KAAP;AAMD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOsB,WAAP;AACD;;AA7IsC,CAAzC;AAgJA,IAAIsC,cAAc,GAAG,6PAArB;AACA,IAAIC,WAAW,GAAG,cAAcxS,WAAd,CAA0B;AAC1CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;AACJ;AACA;AACA;;AAEI,SAAKwF,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKlX,MAAL,GAAc,IAAd;AACA;;AAEA,SAAK8B,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKI,QAAL,GAAgB,KAAhB;AACA3L,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,QAAD,EAAW,aAAX,EAA0B,UAA1B,CAAP,CAAjB;AACD;;AAEDqQ,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACD;AACD;;;AAGAigB,EAAAA,UAAU,GAAG;AACX,QAAIC,MAAM,GAAG,IAAb;;AAEA,WAAOna,iBAAiB,CAAC,aAAa;AACpCma,MAAAA,MAAM,CAAC/E,OAAP;AACD,KAFuB,CAAjB,EAAP;AAGD;;AAEDA,EAAAA,OAAO,GAAG;AACR,SAAKiD,QAAL,CAAc,QAAd,EAAwB,CAAC,KAAKtV,MAA9B;AACD;;AAEDmR,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLU,QAAAA,WAAW,EAAE,IADR;AAEL1X,QAAAA,OAAO,EAAE,KAAKmC,WAAL,KAAqB,CAAC,KAAKI,QAAN,IAAkB,KAAKgV,WAA5C;AAFJ,OADoB;AAK3B7E,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB;AALkB,KAAtB,CAAP;AAOD;;AAEe,aAALM,KAAK,GAAG;AACjB,WAAO4D,cAAP;AACD;;AAxDyC,CAA5C;AA2DA,IAAIM,UAAU,GAAG,2xBAAjB;AACA,IAAIC,OAAO,GAAG,cAAc9S,WAAd,CAA0B;AACtCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK8F,mBAAL,GAA2B,CAAC,GAAG9gB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,qBAA/B,EAAsD,CAAtD,CAA3B;AACA,SAAKC,OAAL,GAAe,CAAC,GAAGhhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKE,MAAL,GAAc,CAAC,GAAGjhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,QAA/B,EAAyC,CAAzC,CAAd;AACA,SAAKG,gBAAL,GAAwB,IAAI5L,QAAJ,EAAxB;AACA,SAAK6L,gBAAL,GAAwB,KAAxB;AACA;AACJ;AACA;;AAEI,SAAKlF,MAAL,GAAc,KAAd;AACA;;AAEA,SAAKxQ,OAAL,GAAe,KAAf;AACA5L,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,SAAD,CAAP,CAAjB;AACD;;AAEDkhB,EAAAA,YAAY,GAAG;AACb,QAAIC,MAAM,GAAG,IAAb;;AAEA,WAAO9a,iBAAiB,CAAC,aAAa;AACpC8a,MAAAA,MAAM,CAACH,gBAAP,CAAwBxL,KAAxB;;AAEA,UAAI/I,WAAW,CAAC0U,MAAM,CAAChd,IAAR,CAAf,EAA8B;AAC9B,UAAIuP,MAAM,GAAG,MAAMtT,UAAU,CAAC+gB,MAAD,CAA7B;;AAEA,UAAIC,KAAK,GAAGD,MAAM,CAAChd,IAAP,CAAYkd,KAAZ,CAAkB,GAAlB,CAAZ;;AAEAF,MAAAA,MAAM,CAACH,gBAAP,CAAwB1L,GAAxB,CAA4BvE,MAAM,CAAC2C,MAAD,EAAS,SAAT,EAAoB3F,KAAK,IAAI;AAC7D,YAAIqT,KAAK,CAACE,QAAN,CAAevT,KAAK,CAAC7I,GAArB,CAAJ,EAA+B;AAC7Bic,UAAAA,MAAM,CAACI,MAAP,CAAcC,KAAd;AACD;AACF,OAJiC,CAAlC;AAKD,KAbuB,CAAjB,EAAP;AAcD;;AAEDnR,EAAAA,iBAAiB,GAAG;AAClB,SAAKoR,WAAL;AACA,SAAKP,YAAL;AACD;;AAEDjS,EAAAA,iBAAiB,GAAG;AAClB,SAAKwS,WAAL;AACD;;AAEDnR,EAAAA,oBAAoB,GAAG;AACrB,SAAK0Q,gBAAL,CAAsBxL,KAAtB;AACD;AACD;AACF;AACA;;;AAGEkM,EAAAA,YAAY,GAAG;AACb,QAAIC,MAAM,GAAG,IAAb;;AAEA,WAAOtb,iBAAiB,CAAC,aAAa;AACpC,UAAIub,aAAJ;;AAEA,OAACA,aAAa,GAAGD,MAAM,CAACJ,MAAxB,MAAoC,IAApC,IAA4CK,aAAa,KAAK,KAAK,CAAnE,GAAuE,KAAK,CAA5E,GAAgFA,aAAa,CAACC,KAAd,EAAhF;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;AACF;AACA;;;AAGEC,EAAAA,WAAW,GAAG;AACZ,QAAIC,MAAM,GAAG,IAAb;;AAEA,WAAO1b,iBAAiB,CAAC,aAAa;AACpC,UAAI2b,aAAJ;;AAEA,OAACA,aAAa,GAAGD,MAAM,CAACR,MAAxB,MAAoC,IAApC,IAA4CS,aAAa,KAAK,KAAK,CAAnE,GAAuE,KAAK,CAA5E,GAAgFA,aAAa,CAACC,IAAd,EAAhF;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEDC,EAAAA,YAAY,GAAG;AACb,SAAKjB,gBAAL,GAAwB,IAAxB;AACD;;AAEDkB,EAAAA,UAAU,GAAG;AACXvQ,IAAAA,UAAU,CAAC,MAAM;AACf,WAAKqP,gBAAL,GAAwB,KAAxB;AACD,KAFS,EAEP,GAFO,CAAV;AAGD;;AAEDQ,EAAAA,WAAW,GAAG;AACZ,QAAI7F,OAAO,GAAG,KAAKrD,IAAL,CAAUoF,aAAV,CAAwB,YAAxB,CAAd;AACA,QAAI,CAACpR,MAAM,CAACqP,OAAD,CAAX,EAAsB,KAAKwG,WAAL,GAAmBxG,OAAO,CAACyG,EAA3B;AACtB,WAAOzG,OAAP;AACD;;AAED0G,EAAAA,aAAa,GAAG;AACd,QAAI1G,OAAO,GAAG,KAAK6F,WAAL,EAAd;AACA,QAAI,CAAClV,MAAM,CAACqP,OAAD,CAAX,EAAsBA,OAAO,CAAC2G,MAAR,GAAiB,IAAjB;AACtB,SAAK3B,mBAAL,CAAyB4B,IAAzB,CAA8B,IAA9B;AACD;;AAEDC,EAAAA,aAAa,GAAG;AACd,QAAI7G,OAAO,GAAG,KAAK6F,WAAL,EAAd;AACA,QAAI,CAAClV,MAAM,CAACqP,OAAD,CAAX,EAAsBA,OAAO,CAAC2G,MAAR,GAAiB,KAAjB;AACtB,SAAKhB,MAAL,CAAYU,IAAZ;AACA,SAAKrB,mBAAL,CAAyB4B,IAAzB,CAA8B,KAA9B;AACD;;AAEDE,EAAAA,OAAO,GAAG;AACR,SAAK5B,OAAL,CAAa0B,IAAb;AACA,SAAKF,aAAL;AACD;;AAEDK,EAAAA,MAAM,GAAG;AACP,SAAK5B,MAAL,CAAYyB,IAAZ;AACA,SAAKC,aAAL;AACD;;AAEDG,EAAAA,YAAY,GAAG;AACb,SAAKN,aAAL;AACD;;AAEDO,EAAAA,YAAY,GAAG;AACb,SAAKJ,aAAL;AACD;;AAEDlI,EAAAA,MAAM,GAAG;AACP,QAAIuI,cAAc,GAAG,KAAKC,QAAL,GAAgB,MAAhB,GAAyB,OAA9C;AACA,QAAIC,SAAS,GAAG,KAAK/G,OAAL,GAAe,MAAf,GAAwB,OAAxC;AACA,WAAO,CAAC,GAAGnc,OAAO,CAAC0a,CAAZ,EAAe,QAAf,EAAyB;AAC9BuF,MAAAA,KAAK,EAAE;AACLhE,QAAAA,MAAM,EAAE,KAAKA,MADR;AAELkH,QAAAA,QAAQ,EAAE,CAAC,KAAK1X,OAFX;AAGL2X,QAAAA,YAAY,EAAE,KAAKjC;AAHd,OADuB;AAM9BoB,MAAAA,EAAE,EAAE,KAAKc,UANqB;AAO9B/I,MAAAA,IAAI,EAAE,QAPwB;AAQ9B,oBAAc,KAAK4B,KARW;AAS9B,uBAAiB,CAACvP,WAAW,CAAC,KAAK2W,IAAN,CAAZ,GAA0B,MAA1B,GAAmC1c,SATtB;AAU9B,uBAAiB,KAAK0c,IAVQ;AAW9B,uBAAiB,CAAC3W,WAAW,CAAC,KAAK2W,IAAN,CAAZ,GAA0BN,cAA1B,GAA2Cpc,SAX9B;AAY9B,sBAAgB,CAAC+F,WAAW,CAAC,KAAKwP,OAAN,CAAZ,GAA6B+G,SAA7B,GAAyCtc,SAZ3B;AAa9B,qBAAe,KAAKqV,MAAL,GAAc,MAAd,GAAuB,OAbR;AAc9B,0BAAoB,KAAKqG,WAdK;AAe9BF,MAAAA,YAAY,EAAE,KAAKA,YAAL,CAAkBhG,IAAlB,CAAuB,IAAvB,CAfgB;AAgB9BiG,MAAAA,UAAU,EAAE,KAAKA,UAAL,CAAgBjG,IAAhB,CAAqB,IAArB,CAhBkB;AAiB9BwG,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaxG,IAAb,CAAkB,IAAlB,CAjBqB;AAkB9ByG,MAAAA,MAAM,EAAE,KAAKA,MAAL,CAAYzG,IAAZ,CAAiB,IAAjB,CAlBsB;AAmB9B0G,MAAAA,YAAY,EAAE,KAAKA,YAAL,CAAkB1G,IAAlB,CAAuB,IAAvB,CAnBgB;AAoB9B2G,MAAAA,YAAY,EAAE,KAAKA,YAAL,CAAkB3G,IAAlB,CAAuB,IAAvB,CApBgB;AAqB9BvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAK2T,MAAL,GAAc3T,EAAd;AACD;AAvB6B,KAAzB,EAwBJ,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAxBI,CAAP;AAyBD;;AAEO,MAAJjC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,cAAQ,CAAC,cAAD;AADH,KAAP;AAGD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOkE,UAAP;AACD;;AA7KqC,CAAxC;AAgLA,IAAI2C,eAAe,GAAG,wZAAtB;AACA,IAAIC,cAAc,GAAG,cAAczV,WAAd,CAA0B;AAC7CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;AACJ;AACA;AACA;;AAEI,SAAKyI,KAAL,GAAa,MAAb;AACA5jB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAED4a,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLyD,QAAAA,YAAY,EAAE,IADT;AAELC,QAAAA,QAAQ,EAAE,KAAKF,KAAL,KAAe,MAAf,IAAyB,KAAKA,KAAL,KAAe,QAF7C;AAGLG,QAAAA,WAAW,EAAE,KAAKH,KAAL,KAAe,MAAf,IAAyB,KAAKA,KAAL,KAAe;AAHhD;AADoB,KAAtB,EAMJ,CAAC,GAAGzjB,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CANI,CAAP;AAOD;;AAEO,MAAJjC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEe,aAALiE,KAAK,GAAG;AACjB,WAAO6G,eAAP;AACD;;AAhC4C,CAA/C;AAmCA,IAAIM,gBAAgB,GAAG,eAAvB;AACA,IAAIC,aAAa,GAAG,cAAc/V,WAAd,CAA0B;AAC5CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACAnb,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAEe,aAAL6c,KAAK,GAAG;AACjB,WAAOmH,gBAAP;AACD;;AAZ2C,CAA9C;;AAgBA,IAAIE,QAAQ,GAAG,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AACrC,MAAIC,IAAI,GAAGjf,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAA/E;AACA,MAAIkf,SAAS,GAAGlf,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAApF;AACA,MAAI0M,OAAJ;AACA,SAAO,SAASyS,gBAAT,GAA4B;AACjC,SAAK,IAAIC,IAAI,GAAGpf,SAAS,CAACC,MAArB,EAA6ByB,IAAI,GAAG,IAAIgH,KAAJ,CAAU0W,IAAV,CAApC,EAAqDC,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGD,IAA3E,EAAiFC,IAAI,EAArF,EAAyF;AACvF3d,MAAAA,IAAI,CAAC2d,IAAD,CAAJ,GAAarf,SAAS,CAACqf,IAAD,CAAtB;AACD;;AAED,QAAIC,OAAO,GAAG,IAAd;;AAEA,QAAIC,KAAK,GAAG,SAASC,mBAAT,GAA+B;AACzC9S,MAAAA,OAAO,GAAG9K,SAAV;AACA,UAAI,CAACsd,SAAL,EAAgBF,IAAI,CAACpf,KAAL,CAAW0f,OAAX,EAAoB5d,IAApB;AACjB,KAHD;;AAKA,QAAI+d,OAAO,GAAGP,SAAS,IAAIvX,WAAW,CAAC+E,OAAD,CAAtC;AACAM,IAAAA,YAAY,CAACN,OAAD,CAAZ;AACAA,IAAAA,OAAO,GAAGI,UAAU,CAACyS,KAAD,EAAQN,IAAR,CAApB;AACA,QAAIQ,OAAJ,EAAaT,IAAI,CAACpf,KAAL,CAAW0f,OAAX,EAAoB5d,IAApB;AACd,GAhBD;AAiBD,CArBD;;AAuBA,IAAIge,WAAW,GAAG,uvBAAlB;AACA;AACA;AACA;;AAEA,IAAI3P,SAAS,GAAG,EAAhB;AACA,IAAI4P,mBAAmB,GAAG,EAA1B;AACA,IAAIC,QAAQ,GAAG,cAAc7W,WAAd,CAA0B;AACvCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKxE,QAAL,GAAgB,IAAIlB,QAAJ,EAAhB;AACA,SAAKuP,aAAL,GAAqB,KAArB;AACA;AACJ;AACA;;AAEI,SAAK5I,MAAL,GAAc,KAAd;AACA;AACJ;AACA;AACA;;AAEI,SAAK6I,SAAL,GAAiB,KAAjB;AACA;AACJ;AACA;AACA;;AAEI,SAAKC,UAAL,GAAkB,KAAlB;AACA;AACJ;AACA;AACA;;AAEI,SAAKxI,SAAL,GAAiB,KAAjB;AACA;AACJ;AACA;;AAEI,SAAKyI,KAAL,GAAa,QAAb;AACA;AACJ;AACA;;AAEI,SAAKC,OAAL,GAAe,OAAf;AACA;AACJ;AACA;AACA;;AAEI,SAAKC,GAAL,GAAW,YAAX;AACA;AACJ;AACA;AACA;;AAEI,SAAKC,cAAL,GAAsB,IAAtB;AACA;AACJ;AACA;AACA;;AAEI,SAAKC,oBAAL,GAA4B,KAA5B;AACA;AACJ;AACA;;AAEI,SAAKC,cAAL,GAAsB,KAAtB;AACA;AACJ;AACA;AACA;;AAEI,SAAKC,gBAAL,GAAwB,KAAxB;AACA;;AAEA,SAAKna,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKO,gBAAL,GAAwB,KAAxB;AACA;;AAEA,SAAKrB,aAAL,GAAqB,KAArB;AACA;;AAEA,SAAKU,gBAAL,GAAwB,KAAxB;AACA;;AAEA,SAAKzB,MAAL,GAAc,IAAd;AACA;;AAEA,SAAKqB,eAAL,GAAuB,KAAvB;AACA9K,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA6d,IAAAA,qCAAqC,CAAC,IAAD,CAArC;AACAxd,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,eAAD,EAAkB,aAAlB,EAAiC,kBAAjC,EAAqD,kBAArD,EAAyE,QAAzE,EAAmF,iBAAnF,CAAP,CAAjB;AACD;;AAEDqQ,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACA,SAAK+kB,gBAAL;AACA,SAAKC,oBAAL;AACD;;AAEDrW,EAAAA,iBAAiB,GAAG;AAClB,SAAKoW,gBAAL;AACD;;AAED/U,EAAAA,oBAAoB,GAAG;AACrB,SAAKgG,QAAL,CAAcd,KAAd;AACA,WAAOiP,mBAAmB,CAAC5P,SAAS,CAAC,IAAD,CAAV,CAA1B;AACA,WAAOA,SAAS,CAAC,IAAD,CAAhB;AACD;;AAEDyQ,EAAAA,oBAAoB,GAAG;AACrB,QAAIC,MAAM,GAAG,IAAb;;AAEA,WAAOlf,iBAAiB,CAAC,aAAa;AACpC,UAAIqN,MAAM,GAAG,MAAMtT,UAAU,CAACmlB,MAAD,CAA7B;AACA,UAAI5Q,MAAM,GAAG,CAAC,OAAD,EAAU,SAAV,EAAqB,OAArB,EAA8B,YAA9B,EAA4C,YAA5C,CAAb;AACAA,MAAAA,MAAM,CAAC1P,OAAP,CAAe8I,KAAK,IAAI;AACtBwX,QAAAA,MAAM,CAACjP,QAAP,CAAgBhB,GAAhB,CAAoBvE,MAAM,CAAC2C,MAAD,EAAS3F,KAAT,EAAgBwX,MAAM,CAACF,gBAAP,CAAwBnJ,IAAxB,CAA6BqJ,MAA7B,CAAhB,CAA1B;AACD,OAFD;;AAIAA,MAAAA,MAAM,CAACjP,QAAP,CAAgBhB,GAAhB,CAAoBvE,MAAM,CAAC2C,MAAD,EAAS,WAAT,EAAsBmQ,QAAQ,CAAC0B,MAAM,CAACF,gBAAR,EAA0B,EAA1B,EAA8B,IAA9B,CAAR,CAA4CnJ,IAA5C,CAAiDqJ,MAAjD,CAAtB,CAA1B,EAPoC,CAOwE;;;AAG5G1Q,MAAAA,SAAS,CAAC0Q,MAAD,CAAT,GAAoB7R,MAApB;AACD,KAXuB,CAAjB,EAAP;AAYD;;AAED8R,EAAAA,IAAI,GAAG;AACL,SAAK9G,QAAL,CAAc,kBAAd,EAAkC,IAAlC;AACD;;AAED+G,EAAAA,IAAI,GAAG;AACL,SAAK/G,QAAL,CAAc,kBAAd,EAAkC,KAAlC;AACD;;AAEDgH,EAAAA,aAAa,GAAG;AACd;AACA5T,IAAAA,YAAY,CAAC2S,mBAAmB,CAAC5P,SAAS,CAAC,IAAD,CAAV,CAApB,CAAZ;AACA4P,IAAAA,mBAAmB,CAAC5P,SAAS,CAAC,IAAD,CAAV,CAAnB,GAAuCjD,UAAU,CAAC,MAAM;AACtD,WAAK6T,IAAL;AACD,KAFgD,EAE9C,KAAKR,cAFyC,CAAjD;AAGD;;AAEDI,EAAAA,gBAAgB,CAACtX,KAAD,EAAQ;AACtB;AACA+D,IAAAA,YAAY,CAAC2S,mBAAmB,CAAC5P,SAAS,CAAC,IAAD,CAAV,CAApB,CAAZ;;AAEA,QAAI,KAAKkH,MAAL,IAAe,CAAC,KAAK5R,aAAzB,EAAwC;AACtC,WAAKsb,IAAL;AACA;AACD;;AAED,QAAI,KAAKxa,WAAT,EAAsB;AACpB,WAAKua,IAAL;AACA;AACD;;AAED,QAAI,KAAKN,oBAAL,IAA6B,CAAC,KAAKza,eAAvC,EAAwD;AACtD,WAAKgb,IAAL;AACA;AACD;;AAED,QAAI,KAAKd,aAAL,IAAsB,KAAKnZ,gBAA/B,EAAiD;AAC/C,WAAKga,IAAL;AACA;AACD;;AAED,QAAI,KAAKL,cAAL,IAAuB,KAAK/b,MAAhC,EAAwC;AACtC,WAAKsc,aAAL;AACA;AACD;;AAED,QAAI,KAAKN,gBAAL,IAAyB,CAAC,KAAKhc,MAA/B,IAAyC,CAAC2E,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACqM,IAArD,MAA+D,YAA5G,EAA0H;AACxH,WAAKqL,IAAL;AACA;AACD;;AAED,QAAI,CAAC,KAAKrc,MAAV,EAAkB;AAChB,WAAKoc,IAAL;AACA,WAAKE,aAAL;AACA;AACD;;AAED,SAAKF,IAAL;AACD;;AAEDG,EAAAA,WAAW,GAAG;AACZ,QAAI,KAAK1a,WAAT,EAAsB,OAAO,EAAP;;AAEtB,QAAI,KAAK+Z,GAAL,KAAa,QAAjB,EAA2B;AACzB,aAAO;AACLrS,QAAAA,GAAG,EAAE,KADA;AAELF,QAAAA,IAAI,EAAE,KAFD;AAGLqN,QAAAA,SAAS,EAAE;AAHN,OAAP;AAKD,KATW,CASV;;;AAGF,QAAI8F,GAAG,GAAG,KAAKZ,GAAL,CAAS3D,KAAT,CAAe,WAAf,EAA4BtM,GAA5B,CAAgC8Q,CAAC,IAAIA,CAAC,CAAC7P,WAAF,EAArC,CAAV;AACA,WAAO;AACL,OAAC4P,GAAG,CAAC,CAAD,CAAJ,GAAU,CADL;AAEL,OAACA,GAAG,CAAC,CAAD,CAAJ,GAAU;AAFL,KAAP;AAID;;AAEDE,EAAAA,kBAAkB,GAAG;AACnB,SAAKnB,aAAL,GAAqB,IAArB;AACD;;AAEDoB,EAAAA,gBAAgB,GAAG;AACjB,SAAKpB,aAAL,GAAqB,KAArB;AACD;;AAEDpK,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe1a,OAAO,CAACgc,IAAvB,EAA6B;AAClCkK,MAAAA,KAAK,EAAE,CAAC,KAAK/a;AADqB,KAA7B,EAEJ,CAAC,GAAGnL,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvBgC,MAAAA,KAAK,EAAE7X,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK,KAAKghB,WAAL,EAAL,CAAd,EAAwC,EAAxC,EAA4C;AAC9DM,QAAAA,aAAa,EAAE,KAAK5J,SAD0C;AAE9D6J,QAAAA,UAAU,EAAE,KAAKpB,KAAL,KAAe,QAAf,GAA0B,QAA1B,GAAqC,QAAQhR,MAAR,CAAe,KAAKgR,KAApB,CAFa;AAG9DqB,QAAAA,cAAc,EAAE,KAAKpB;AAHyC,OAA5C,CADG;AAMvBhF,MAAAA,KAAK,EAAE;AACLnV,QAAAA,QAAQ,EAAE,IADL;AAELlD,QAAAA,KAAK,EAAE,KAAKuD,WAFP;AAGL8Q,QAAAA,MAAM,EAAE,KAAKA,MAHR;AAILwG,QAAAA,MAAM,EAAE,KAAKpY,aAAL,IAAsB,KAAKU,gBAJ9B;AAKL+Z,QAAAA,SAAS,EAAE,KAAK3Z,WAAL,IAAoB,KAAK2Z,SAL/B;AAMLC,QAAAA,UAAU,EAAE,CAAC,KAAK5Z,WAAN,IAAqB,KAAK4Z;AANjC,OANgB;AAcvBjC,MAAAA,YAAY,EAAE,KAAKkD,kBAAL,CAAwB5J,IAAxB,CAA6B,IAA7B,CAdS;AAevB2G,MAAAA,YAAY,EAAE,KAAKkD,gBAAL,CAAsB7J,IAAtB,CAA2B,IAA3B,CAfS;AAgBvBgG,MAAAA,YAAY,EAAE,KAAK4D,kBAAL,CAAwB5J,IAAxB,CAA6B,IAA7B,CAhBS;AAiBvBiG,MAAAA,UAAU,EAAE,KAAK4D,gBAAL,CAAsB7J,IAAtB,CAA2B,IAA3B;AAjBW,KAAtB,EAkBA,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAlBA,CAFI,CAAP;AAqBD;;AAEkB,aAAR+B,QAAQ,GAAG;AACpB,WAAO;AACL,gBAAU,CAAC,kBAAD,CADL;AAEL,gBAAU,CAAC,kBAAD,CAFL;AAGL,qBAAe,CAAC,kBAAD,CAHV;AAIL,uBAAiB,CAAC,kBAAD,CAJZ;AAKL,0BAAoB,CAAC,kBAAD,CALf;AAML,wBAAkB,CAAC,kBAAD,CANb;AAOL,0BAAoB,CAAC,kBAAD,CAPf;AAQL,yBAAmB,CAAC,kBAAD,CARd;AASL,8BAAwB,CAAC,kBAAD,CATnB;AAUL,uBAAiB,CAAC,kBAAD;AAVZ,KAAP;AAYD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOgI,WAAP;AACD;;AA9PsC,CAAzC;AAiQA,IAAI4B,cAAc,GAAG,+DAArB;AACA,IAAIC,WAAW,GAAG,cAAcxY,WAAd,CAA0B;AAC1CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;;AAEA,SAAKzT,WAAL,GAAmB,CAAnB;AACA;;AAEA,SAAK2E,IAAL,GAAY,EAAZ;AACA;AACJ;AACA;AACA;;AAEI,SAAKsa,eAAL,GAAuB,KAAvB;AACA3mB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,aAAD,EAAgB,MAAhB,CAAP,CAAjB;AACD;;AAEDua,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC/BwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAU3E,WADc;AAE/Bkf,MAAAA,OAAO,EAAE,KAAKlf,WAFiB;AAG/Bif,MAAAA,eAAe,EAAE,KAAKA;AAHS,KAA1B,CAAP;AAKD;;AAEe,aAAL9J,KAAK,GAAG;AACjB,WAAO4J,cAAP;AACD;;AAjCyC,CAA5C;AAoCA,IAAII,SAAS,GAAG,OAAO3U,MAAP,KAAkB,WAAlC;AACA,IAAI4U,EAAE,GAAGD,SAAS,GAAG3U,MAAM,CAAC6U,SAAP,CAAiBC,SAAjB,CAA2B3Q,WAA3B,EAAH,GAA8C,EAAhE;AACA,IAAI4Q,MAAM,GAAG,mCAAmCvM,IAAnC,CAAwCoM,EAAxC,CAAb;AACA,IAAII,UAAU,GAAG,UAAUxM,IAAV,CAAeoM,EAAf,CAAjB;AACA,IAAIK,SAAS,GAAGF,MAAM,IAAIC,UAA1B;AACA,IAAIE,SAAS,GAAGP,SAAS,IAAI,kBAAkBnM,IAAlB,CAAuBxI,MAAM,CAAC6U,SAAP,CAAiBM,QAAxC,CAA7B;AACA,IAAIC,UAAU,GAAG,UAAU5M,IAAV,CAAeoM,EAAf,CAAjB;AACA,IAAIS,SAAS,GAAGV,SAAS,KAAK3U,MAAM,CAACsV,MAAP,IAAiBP,MAAjB,IAA2B,QAAQvM,IAAR,CAAaoM,EAAb,CAAhC,CAAzB;;AAEA,IAAIW,cAAc,GAAG7R,QAAQ,IAAI;AAC/B,MAAI,CAACiR,SAAD,IAAc/Z,WAAW,CAACoF,MAAM,CAACmN,cAAR,CAA7B,EAAsD;AACpDzJ,IAAAA,QAAQ,CAACuR,SAAD,CAAR;AACA,WAAO,MAAM,CAAE,CAAf;AACD;;AAED,WAASO,QAAT,GAAoB;AAClB9R,IAAAA,QAAQ,CAAC1D,MAAM,CAACyV,UAAP,IAAqB,GAArB,IAA4BR,SAA7B,CAAR;AACD;;AAEDvR,EAAAA,QAAQ,CAAC1D,MAAM,CAACyV,UAAP,IAAqB,GAArB,IAA4BR,SAA7B,CAAR;AACA,SAAO/V,MAAM,CAACc,MAAD,EAAS,QAAT,EAAmBwV,QAAnB,CAAb;AACD,CAZD;;AAcA,IAAIE,kBAAkB,GAAGhS,QAAQ,IAAI;AACnC,MAAI,CAACiR,SAAL,EAAgB,OAAO,MAAM,CAAE,CAAf;AAChB,MAAIgB,aAAa,GAAG,CAApB;AACA,MAAIC,gBAAgB,GAAG1W,MAAM,CAACyO,QAAD,EAAW,YAAX,EAAyB,MAAM;AAC1DgI,IAAAA,aAAa,GAAG,IAAIE,IAAJ,GAAWC,OAAX,EAAhB;AACApS,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,GAH4B,EAG1B,IAH0B,CAA7B;AAIA,MAAIqS,gBAAgB,GAAG7W,MAAM,CAACyO,QAAD,EAAW,WAAX,EAAwB,MAAM;AACzD;AACA,QAAI,IAAIkI,IAAJ,GAAWC,OAAX,KAAuBH,aAAvB,GAAuC,GAA3C,EAAgD;AAChDjS,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,GAJ4B,EAI1B,IAJ0B,CAA7B;AAKA,SAAO,MAAM;AACXkS,IAAAA,gBAAgB;AAChBG,IAAAA,gBAAgB;AACjB,GAHD;AAID,CAhBD;AAiBA;AACA;AACA;AACA;AACA;;;AAGA,IAAIC,kBAAkB,GAAG,MAAM;AAC7B,MAAI,CAACrB,SAAL,EAAgB,OAAO,KAAP;AAChB,MAAIR,KAAK,GAAGxG,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ,CAF6B,CAEgB;;AAE7C,SAAOpS,UAAU,CAAC2Y,KAAK,CAAC8B,qBAAP,CAAjB;AACD,CALD;AAMA;AACA;AACA;AACA;AACA;;;AAGA,IAAIC,eAAe,GAAG,MAAMvB,SAAS,IAAI3U,MAAM,CAACmW,MAAP,CAAcC,WAA3B,IAA0CpW,MAAM,CAACmW,MAAP,CAAcC,WAAd,CAA0BC,IAAhG;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAIC,iBAAiB,GAAG,MAAM;AAC5B,MAAI,CAAC3B,SAAL,EAAgB,OAAO,KAAP;AAChB,MAAIR,KAAK,GAAGxG,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ,CAF4B,CAEiB;;AAE7C,SAAO,CAAC,CAACD,QAAQ,CAAC4I,uBAAX,IAAsC,CAACpC,KAAK,CAACqC,uBAApD;AACD,CALD;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAIC,iBAAiB,GAAG,MAAM;AAC5B,MAAI,CAAC9B,SAAL,EAAgB,OAAO,KAAP;AAChB,MAAIR,KAAK,GAAGxG,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ,CAF4B,CAEiB;;AAE7C,SAAOpS,UAAU,CAAC2Y,KAAK,CAACuC,8BAAP,CAAV,IAAoD;AAC3Dlb,EAAAA,UAAU,CAAC2Y,KAAK,CAACwC,yBAAP,CADH,IACwC,CAACzB,SADhD;AAED,CAND,C,CAMG;;;AAGH,IAAI0B,SAAS,GAAG,MAAMN,iBAAiB,MAAMG,iBAAiB,EAA9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAII,WAAW,GAAG,SAASA,WAAT,GAAuB;AACvC,MAAIte,KAAK,GAAGtF,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAhF;AACA,MAAI8G,WAAW,GAAG9G,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAtF;AACA,MAAI,CAAC0hB,SAAL,EAAgB,OAAOrgB,OAAO,CAACR,OAAR,CAAgB,KAAhB,CAAP;AAChB,MAAIqgB,KAAK,GAAGxG,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ;;AAEA,MAAIrV,KAAJ,EAAW;AACT4b,IAAAA,KAAK,CAAC2C,YAAN,CAAmB,OAAnB,EAA4B,EAA5B;AACA3C,IAAAA,KAAK,CAAC5b,KAAN,GAAc,IAAd;AACD;;AAED,MAAIwB,WAAJ,EAAiB;AACfoa,IAAAA,KAAK,CAAC2C,YAAN,CAAmB,aAAnB,EAAkC,EAAlC;AACA3C,IAAAA,KAAK,CAAC2C,YAAN,CAAmB,oBAAnB,EAAyC,EAAzC;AACD;;AAED3C,EAAAA,KAAK,CAAC2C,YAAN,CAAmB,QAAnB,EAA6B,GAA7B;AACA3C,EAAAA,KAAK,CAAC2C,YAAN,CAAmB,OAAnB,EAA4B,GAA5B;AACA3C,EAAAA,KAAK,CAACxJ,KAAN,CAAYJ,QAAZ,GAAuB,OAAvB;AACA4J,EAAAA,KAAK,CAACxJ,KAAN,CAAY7J,GAAZ,GAAkB,GAAlB;AACAqT,EAAAA,KAAK,CAACxJ,KAAN,CAAY2C,KAAZ,GAAoB,GAApB;AACA6G,EAAAA,KAAK,CAACxJ,KAAN,CAAYQ,MAAZ,GAAqB,GAArB;AACAgJ,EAAAA,KAAK,CAACxJ,KAAN,CAAYoM,OAAZ,GAAsB,GAAtB,CAtBuC,CAsBZ;AAC3B;;AAEA,MAAIziB,OAAJ,CAAYR,OAAO,IAAIA,OAAO,CAACqgB,KAAK,CAACpf,IAAN,EAAD,CAA9B,EAA8CiiB,KAA9C,CAAoD,MAAM,CAAE,CAA5D;AACA,SAAO1iB,OAAO,CAACR,OAAR,CAAgB,CAACqgB,KAAK,CAAC5c,MAAvB,CAAP;AACD,CA3BD;AA4BA;AACA;AACA;;;AAGA,SAAS0f,YAAT,CAAsBC,IAAtB,EAA4B;AAC1B,MAAI,CAAC9b,QAAQ,CAAC8b,IAAD,CAAb,EAAqB,OAAOriB,SAAP;;AAErB,MAAI;AACF,WAAOsiB,IAAI,CAACC,KAAL,CAAWF,IAAX,CAAP;AACD,GAFD,CAEE,OAAOtS,CAAP,EAAU;AACV,WAAO/P,SAAP;AACD;AACF;AACD;AACA;AACA;;;AAGA,IAAIwiB,WAAW,GAAG1c,KAAK,IAAI,CAACE,iBAAiB,CAACF,KAAD,CAAlB,KAA8BK,QAAQ,CAACL,KAAD,CAAR,IAAmBS,QAAQ,CAACT,KAAD,CAAR,IAAmBA,KAAK,CAAC2c,UAAN,CAAiB,GAAjB,CAApE,CAA3B;AACA;AACA;AACA;;;AAGA,IAAIC,cAAc,GAAG5c,KAAK,IAAIK,QAAQ,CAACL,KAAD,CAAR,GAAkBA,KAAlB,GAA0Bsc,YAAY,CAACtc,KAAD,CAApE;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAI6c,SAAS,GAAG,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACtC,MAAIC,QAAQ,GAAGzkB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAnF;AACA,SAAO,IAAIqB,OAAJ,CAAY,CAACR,OAAD,EAAUC,MAAV,KAAqB;AACtC,QAAI4jB,KAAK,GAAG,IAAIC,KAAJ,EAAZ;;AAEA,QAAIxY,OAAO,GAAG,MAAM;AAClB;AACA,aAAOuY,KAAK,CAACE,MAAb,CAFkB,CAEG;;AAErB,aAAOF,KAAK,CAACG,OAAb;AACAH,MAAAA,KAAK,CAACI,YAAN,IAAsBL,QAAtB,GAAiC5jB,OAAO,CAAC6jB,KAAD,CAAxC,GAAkD5jB,MAAM,CAAC4jB,KAAD,CAAxD;AACD,KAND;;AAQArqB,IAAAA,MAAM,CAAC0qB,MAAP,CAAcL,KAAd,EAAqB;AACnBE,MAAAA,MAAM,EAAEzY,OADW;AAEnB0Y,MAAAA,OAAO,EAAE1Y,OAFU;AAGnBqY,MAAAA;AAHmB,KAArB;AAKD,GAhBM,CAAP;AAiBD,CAnBD;;AAqBA,IAAIQ,UAAU,GAAG,SAASA,UAAT,CAAoBR,GAApB,EAAyBS,MAAzB,EAAiC;AAChD,MAAIC,OAAO,GAAGllB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,MAAM,CAAE,CAA1F;AACA,MAAImlB,MAAM,GAAGzK,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAwK,EAAAA,MAAM,CAACX,GAAP,GAAaA,GAAb;AACAW,EAAAA,MAAM,CAACP,MAAP,GAAgBK,MAAhB;AACAE,EAAAA,MAAM,CAACN,OAAP,GAAiBK,OAAjB;AACA,MAAIE,cAAc,GAAG1K,QAAQ,CAAC2K,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAArB;AACAD,EAAAA,cAAc,CAACE,UAAf,CAA0BC,YAA1B,CAAuCJ,MAAvC,EAA+CC,cAA/C;AACD,CARD;AASA;AACA;AACA;;;AAGA,IAAII,UAAU,GAAGC,IAAI,IAAI;AACvB,MAAI,CAACrB,WAAW,CAACqB,IAAD,CAAhB,EAAwB,OAAO7jB,SAAP;AACxB,SAAO0iB,cAAc,CAACmB,IAAD,CAArB;AACD,CAHD;AAIA;AACA;AACA;;;AAGA,IAAIC,qBAAqB,GAAG,SAASA,qBAAT,CAA+BxX,SAA/B,EAA0C;AACpE,MAAIyX,QAAQ,GAAG3lB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAnF;AACA,MAAI,CAAC0hB,SAAL,EAAgB,OAAOiE,QAAP;;AAEhB,MAAI;AACF,WAAO5Y,MAAM,CAAC6Y,kBAAP,CAA0B1X,SAA1B,CAAP;AACD,GAFD,CAEE,OAAOyD,CAAP,EAAU;AACV,WAAOgU,QAAP;AACD;AACF,CATD;AAUA;AACA;AACA;AACA;AACA;;;AAGA,IAAIE,kBAAkB,GAAG,oCAAzB;;AAEA,IAAIC,gBAAgB,GAAGC,EAAE,IAAI;AAC3B,MAAIC,MAAM,GAAG3rB,MAAM,CAAC6Q,MAAP,CAAc,IAAd,CAAb;AACA,MAAIvD,WAAW,CAACoe,EAAD,CAAf,EAAqB,OAAOC,MAAP;AACrB,MAAIC,KAAJ,CAH2B,CAGhB;;AAEX,SAAOA,KAAK,GAAGJ,kBAAkB,CAACK,IAAnB,CAAwBH,EAAxB,CAAf,EAA4C;AAC1C,QAAI/b,IAAI,GAAG0b,qBAAqB,CAACO,KAAK,CAAC,CAAD,CAAN,EAAWA,KAAK,CAAC,CAAD,CAAhB,CAArB,CAA0C3W,OAA1C,CAAkD,IAAlD,EAAwD,EAAxD,CAAX;AACA,QAAI9U,KAAK,GAAG2N,QAAQ,CAAC8d,KAAK,CAAC,CAAD,CAAN,CAAR,GAAqBP,qBAAqB,CAACO,KAAK,CAAC,CAAD,CAAL,CAAS3W,OAAT,CAAiB,KAAjB,EAAwB,GAAxB,CAAD,EAA+B2W,KAAK,CAAC,CAAD,CAApC,CAA1C,GAAqF,EAAjG;AACA,QAAIE,SAAS,GAAGH,MAAM,CAAChc,IAAD,CAAtB;AACA,QAAImc,SAAS,IAAI,CAAC1d,OAAO,CAAC0d,SAAD,CAAzB,EAAsCH,MAAM,CAAChc,IAAD,CAAN,GAAe,CAACmc,SAAD,CAAf;AACtCA,IAAAA,SAAS,GAAGH,MAAM,CAAChc,IAAD,CAAN,CAAarK,IAAb,CAAkBnF,KAAlB,CAAH,GAA8BwrB,MAAM,CAAChc,IAAD,CAAN,GAAexP,KAAtD;AACD;;AAED,SAAOwrB,MAAP;AACD,CAdD;AAeA;AACA;AACA;;;AAGA,IAAII,oBAAoB,GAAGJ,MAAM,IAAI;AACnC,MAAID,EAAE,GAAG,EAAT;;AAEA,MAAIM,gBAAgB,GAAG,CAACC,KAAD,EAAQC,CAAR,KAAc;AACnCR,IAAAA,EAAE,CAACpmB,IAAH,CAAQ,GAAGqP,MAAH,CAAUwX,kBAAkB,CAACF,KAAD,CAA5B,EAAqC,GAArC,EAA0CtX,MAA1C,CAAiDwX,kBAAkB,CAACD,CAAD,CAAnE,CAAR;AACD,GAFD;;AAIAlsB,EAAAA,MAAM,CAACgF,IAAP,CAAY2mB,MAAZ,EAAoB7lB,OAApB,CAA4BmmB,KAAK,IAAI;AACnC,QAAI9rB,KAAK,GAAGwrB,MAAM,CAACM,KAAD,CAAlB;AACA,QAAI1e,iBAAiB,CAACpN,KAAD,CAArB,EAA8B;;AAE9B,QAAIiO,OAAO,CAACjO,KAAD,CAAX,EAAoB;AAClBA,MAAAA,KAAK,CAAC2F,OAAN,CAAcomB,CAAC,IAAIF,gBAAgB,CAACC,KAAD,EAAQC,CAAR,CAAnC;AACD,KAFD,MAEO;AACLF,MAAAA,gBAAgB,CAACC,KAAD,EAAQ9rB,KAAR,CAAhB;AACD;AACF,GATD;AAUA,SAAOurB,EAAE,CAACU,IAAH,CAAQ,GAAR,CAAP;AACD,CAlBD;AAmBA;AACA;AACA;;;AAGA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,GAApB,EAAyB;AACxC,MAAIC,GAAG,GAAG5mB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,YAA9E;AACA,MAAI6mB,EAAE,GAAG7mB,SAAS,CAACC,MAAV,GAAmB,CAAnB,GAAuBD,SAAS,CAAC,CAAD,CAAhC,GAAsC4B,SAA/C;AACA,MAAI,CAAC8f,SAAL,EAAgB,OAAO,KAAP;AAChB,MAAIoF,IAAI,GAAGpM,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAX;AACAmM,EAAAA,IAAI,CAACF,GAAL,GAAWA,GAAX;AACAE,EAAAA,IAAI,CAACC,IAAL,GAAYJ,GAAZ;AACA,MAAI,CAAChf,WAAW,CAACkf,EAAD,CAAhB,EAAsBC,IAAI,CAACD,EAAL,GAAUA,EAAV;AACtBC,EAAAA,IAAI,CAAClR,WAAL,GAAmB,MAAnB;AACA8E,EAAAA,QAAQ,CAACsM,IAAT,CAAcpM,MAAd,CAAqBkM,IAArB;AACA,SAAO,IAAP;AACD,CAXD;AAYA;AACA;AACA;;;AAGA,IAAIG,sBAAsB,GAAG,CAACN,GAAD,EAAMZ,EAAN,KAAa;AACxC,MAAIpe,WAAW,CAACoe,EAAD,CAAX,IAAmBA,EAAE,CAAC9lB,MAAH,KAAc,CAArC,EAAwC,OAAO0mB,GAAP;AACxC,MAAIO,YAAY,GAAGP,GAAG,CAACpK,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAnB;AACA,SAAO2K,YAAY,CAAC,CAAD,CAAZ,IAAmB,CAACvf,WAAW,CAACuf,YAAY,CAAC,CAAD,CAAb,CAAZ,GAAgC,IAAIlY,MAAJ,CAAWkY,YAAY,CAAC,CAAD,CAAvB,EAA4B,GAA5B,EAAiClY,MAAjC,CAAwC+W,EAAxC,CAAhC,GAA8E,IAAI/W,MAAJ,CAAW+W,EAAX,CAAjG,CAAP;AACD,CAJD;AAKA;AACA;AACA;;;AAGA,IAAIoB,iBAAiB,GAAG,CAACR,GAAD,EAAMX,MAAN,KAAiBiB,sBAAsB,CAACN,GAAD,EAAM5e,QAAQ,CAACie,MAAD,CAAR,GAAmBI,oBAAoB,CAACJ,MAAD,CAAvC,GAAkDA,MAAxD,CAA/D;AACA;AACA;AACA;;;AAGA,IAAIoB,iBAAiB,GAAGrB,EAAE,IAAI;AAC5B,MAAI,CAAC5d,QAAQ,CAAC4d,EAAD,CAAb,EAAmB,OAAOnkB,SAAP;AACnB,SAAOkkB,gBAAgB,CAACC,EAAD,CAAvB;AACD,CAHD;;AAKA,IAAIsB,kBAAkB,GAAG,EAAzB;;AAEA,IAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBX,GAAjB,EAAsBY,YAAtB,EAAoCC,WAApC,EAAiD;AAC7D,MAAIC,QAAQ,GAAGznB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,MAAM,IAAzF;AACA,MAAI0nB,YAAY,GAAG1nB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoEglB,UAAvF;;AAEA,MAAI2C,SAAS,GAAGvnB,GAAG,IAAI;AACrB,QAAI,CAACuH,WAAW,CAACoF,MAAM,CAAC3M,GAAD,CAAP,CAAhB,EAA+B,OAAO2M,MAAM,CAAC3M,GAAD,CAAb;AAC/B,QAAI2M,MAAM,CAACxS,OAAP,IAAkBwS,MAAM,CAACxS,OAAP,CAAe6F,GAAf,CAAtB,EAA2C,OAAO2M,MAAM,CAACxS,OAAP,CAAe6F,GAAf,CAAP;;AAE3C,QAAI2M,MAAM,CAAC6a,MAAP,IAAiB7a,MAAM,CAAC6a,MAAP,CAAcrtB,OAA/B,IAA0CwS,MAAM,CAAC6a,MAAP,CAAcrtB,OAAd,CAAsB6F,GAAtB,CAA9C,EAA0E;AACxE,aAAO2M,MAAM,CAAC6a,MAAP,CAAcrtB,OAAd,CAAsB6F,GAAtB,CAAP;AACD;;AAED,WAAOwB,SAAP;AACD,GATD;;AAWA,MAAIimB,cAAc,GAAGF,SAAS,CAACJ,YAAD,CAA9B;;AAEA,MAAIM,cAAc,IAAIJ,QAAQ,CAACI,cAAD,CAA9B,EAAgD;AAC9C,WAAOxmB,OAAO,CAACR,OAAR,CAAgBgnB,cAAhB,CAAP;AACD;;AAED,SAAO,IAAIxmB,OAAJ,CAAY,CAACR,OAAD,EAAUC,MAAV,KAAqB;AACtC,QAAI,CAAC6G,WAAW,CAAC0f,kBAAkB,CAACV,GAAD,CAAnB,CAAhB,EAA2C;AACzCU,MAAAA,kBAAkB,CAACV,GAAD,CAAlB,CAAwBhnB,IAAxB,CAA6B;AAC3BkB,QAAAA,OAD2B;AAE3BC,QAAAA;AAF2B,OAA7B;AAIA;AACD;;AAEDumB,IAAAA,kBAAkB,CAACV,GAAD,CAAlB,GAA0B,CAAC;AACzB9lB,MAAAA,OADyB;AAEzBC,MAAAA;AAFyB,KAAD,CAA1B;;AAKA,QAAIgnB,QAAQ,GAAGC,GAAG,IAAI;AACpBV,MAAAA,kBAAkB,CAACV,GAAD,CAAlB,CAAwBxmB,OAAxB,CAAgC6nB,OAAO,IAAIA,OAAO,CAACnnB,OAAR,CAAgBknB,GAAhB,CAA3C;AACD,KAFD;;AAIA,QAAI,CAACpgB,WAAW,CAAC6f,WAAD,CAAhB,EAA+B;AAC7B,UAAIS,eAAe,GAAGlb,MAAM,CAACya,WAAD,CAA5B,CAD6B,CACc;;AAE3Cza,MAAAA,MAAM,CAACya,WAAD,CAAN,GAAsB,YAAY;AAChC,YAAI,CAAC7f,WAAW,CAACsgB,eAAD,CAAhB,EAAmCA,eAAe;AAClDH,QAAAA,QAAQ,CAACH,SAAS,CAACJ,YAAD,CAAV,CAAR;AACD,OAHD;AAID;;AAEDG,IAAAA,YAAY,CAACf,GAAD,EAAM,MAAM;AACtB,UAAIhf,WAAW,CAAC6f,WAAD,CAAf,EAA8BM,QAAQ,CAACH,SAAS,CAACJ,YAAD,CAAV,CAAR;AAC/B,KAFW,EAET5V,CAAC,IAAI;AACN0V,MAAAA,kBAAkB,CAACV,GAAD,CAAlB,CAAwBxmB,OAAxB,CAAgC6nB,OAAO,IAAI;AACzCA,QAAAA,OAAO,CAAClnB,MAAR,CAAe6Q,CAAf;AACD,OAFD;AAGA,aAAO0V,kBAAkB,CAACV,GAAD,CAAzB;AACD,KAPW,CAAZ;AAQD,GAnCM,CAAP;AAoCD,CAzDD;;AA2DA,IAAIuB,mBAAmB,GAAG,SAASA,mBAAT,CAA6BlU,QAA7B,EAAuC;AAC/D,MAAImU,eAAe,GAAGnoB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA1F;AACA,SAAO9E,iBAAiB,CAAC8Y,QAAD,EAAW,CAAC,UAAD,EAAa,UAAb,EAAyB,UAAzB,EAAqC,OAArC,EAA8C,QAA9C,EAAwD,MAAxD,EAAgE,aAAhE,EAA+E,aAA/E,EAA8F,GAAGmU,eAAjG,CAAX,CAAxB;AACD,CAHD;;AAKA,IAAIC,cAAc,GAAG,wCAArB;AACA,IAAIC,cAAc,GAAG,IAAIzd,GAAJ,EAArB;AACA,IAAI0d,WAAW,GAAG,cAAcvf,WAAd,CAA0B;AAC1CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKuS,WAAL,GAAmB,CAAC,GAAGvtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,aAA/B,EAA8C,CAA9C,CAAnB;AACA,SAAKyM,OAAL,GAAe,CAAC,GAAGxtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAK0M,oBAAL,GAA4B,EAA5B;AACA,SAAKC,aAAL,GAAqB;AACnBnmB,MAAAA,WAAW,EAAE,CADM;AAEnBE,MAAAA,MAAM,EAAE,CAFW;AAGnB6C,MAAAA,KAAK,EAAE,KAHY;AAInBqjB,MAAAA,YAAY,EAAE,KAJK;AAKnBtjB,MAAAA,aAAa,EAAE;AALI,KAArB;AAOA,SAAKujB,QAAL,GAAgB,EAAhB;AACA,SAAKnkB,UAAL,GAAkB,EAAlB;AACA;AACJ;AACA;;AAEI,SAAKokB,mBAAL,GAA2B,KAA3B;AACA;AACJ;AACA;;AAEI,SAAKC,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKC,gBAAL,GAAwB,KAAxB;AACA;AACJ;AACA;;AAEI,SAAKC,mBAAL,GAA2B,KAA3B;AACA;AACJ;AACA;;AAEI,SAAKC,aAAL,GAAqB,IAArB;AACA;;AAEA,SAAKliB,QAAL,GAAgB,IAAhB;AACA;;AAEA,SAAK5B,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKW,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKhC,IAAL,GAAY,KAAZ;AACA;;AAEA,SAAKwB,KAAL,GAAa,KAAb;AACA;;AAEA,SAAKwB,WAAL,GAAmB,KAAnB;AACAjM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA2Z,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACA0T,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;;AAEDgB,EAAAA,eAAe,GAAG;AAChB,SAAKR,aAAL,GAAqB7oB,aAAa,CAAC,EAAD,EAAK,KAAK4oB,oBAAV,CAAlC;;AAEA,QAAI,CAAC,KAAKU,OAAV,EAAmB;AACjB,WAAKP,QAAL,GAAgB,EAAhB;AACA;AACD;;AAED,SAAKA,QAAL,GAAgB,GAAG5Z,MAAH,CAAU,KAAKoa,SAAL,EAAV,EAA4B,eAA5B,EAA6Cpa,MAA7C,CAAoD,KAAKma,OAAzD,EAAkE,QAAlE,CAAhB;AACA,SAAKE,cAAL,GAAsB,KAAKC,YAAL,EAAtB;AACA,SAAKC,qBAAL,GAA6Bxb,eAAe,EAA5C;AACD;;AAEDwS,EAAAA,gBAAgB,GAAG;AACjB,QAAI,KAAKmI,aAAL,CAAmBrjB,aAAvB,EAAsC;AACpC,WAAKmkB,aAAL,CAAmB;AACnB;AADA,QAEE,KAAK1jB,QAFP;AAGD;AACF;;AAED2jB,EAAAA,oBAAoB,GAAG;AACrB,SAAK7P,QAAL,CAAc,eAAd,EAA+B,KAAK8P,MAApC;AACD;;AAEDne,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgB1G,wBAAwB,CAAC,IAAD,CAAxC;AACA,SAAK0G,QAAL,CAAc,UAAd,EAA0Blb,QAAQ,CAACirB,KAAnC;AACA,SAAKT,eAAL;AACA,SAAKU,YAAL,GAAoB,KAAKtkB,KAAzB;AACA,SAAKojB,aAAL,CAAmBpjB,KAAnB,GAA2B,KAAKA,KAAhC;AACA,SAAKmjB,oBAAL,GAA4B5oB,aAAa,CAAC,EAAD,EAAK,KAAK6oB,aAAV,CAAzC;AACD;;AAEDU,EAAAA,SAAS,GAAG;AACV,WAAO,6BAAP;AACD;;AAEDS,EAAAA,iBAAiB,GAAG;AAClB,WAAO,CAAC,KAAKT,SAAL,EAAD,EAAmB,2BAAnB,CAAP;AACD;;AAEDI,EAAAA,aAAa,CAACM,OAAD,EAAU7oB,GAAV,EAAe;AAC1B,WAAO,KAAK8oB,KAAL,CAAWC,WAAX,CAAuB;AAC5BF,MAAAA,OAD4B;AAE5BG,MAAAA,UAAU,EAAEhpB,GAAG,GAAG,CAACA,GAAD,CAAH,GAAW;AAFE,KAAvB,CAAP;AAID;;AAEDipB,EAAAA,WAAW,GAAG;AACZ,WAAO;AACL/kB,MAAAA,QAAQ,EAAE,KAAKA,QADV;AAELzC,MAAAA,IAAI,EAAE,KAAKknB,YAFN;AAGL,6BAAuB,KAAKf,mBAHvB;AAIL,sBAAgB,KAAKC,eAJhB;AAKL,wBAAkB,KAAKC,gBALlB;AAMLoB,MAAAA,WAAW,EAAE,KAAKA,WANb;AAOL,sBAAgB,KAAKC,KAPhB;AAQL,iBAAW,KAAKpB,mBARX;AASL,8BAAwB,KAAKC;AATxB,KAAP;AAWD;;AAEDK,EAAAA,YAAY,GAAG;AACb,QAAIe,OAAO,GAAG,IAAd;;AAEA,WAAO9oB,iBAAiB,CAAC,aAAa;AACpC,UAAI8mB,cAAc,CAAC/gB,GAAf,CAAmB+iB,OAAO,CAAClB,OAA3B,CAAJ,EAAyC,OAAOd,cAAc,CAACttB,GAAf,CAAmBsvB,OAAO,CAAClB,OAA3B,CAAP;AACzC,UAAImB,WAAW,GAAG,6BAAlB;AACA,aAAOvd,MAAM,CAACwd,KAAP,CAAa,GAAGvb,MAAH,CAAUsb,WAAV,EAAuB,SAAvB,EAAkCtb,MAAlC,CAAyCqb,OAAO,CAAClB,OAAjD,EAA0D,qCAA1D,CAAb,EAA+G7nB,IAA/G,CAAoHkpB,QAAQ,IAAIA,QAAQ,CAACvG,IAAT,EAAhI,EAAiJ3iB,IAAjJ,CAAsJmkB,IAAI,IAAI;AACnK,YAAIiE,MAAM,GAAGjE,IAAI,CAACgF,kBAAlB;AACA,YAAIroB,QAAQ,GAAG4V,UAAU,CAACyN,IAAI,CAACrjB,QAAN,CAAzB;AACAimB,QAAAA,cAAc,CAAC/c,GAAf,CAAmB+e,OAAO,CAAClB,OAA3B,EAAoC;AAClCO,UAAAA,MADkC;AAElCtnB,UAAAA;AAFkC,SAApC;AAIA,eAAO;AACLsnB,UAAAA,MADK;AAELtnB,UAAAA;AAFK,SAAP;AAID,OAXM,CAAP;AAYD,KAfuB,CAAjB,EAAP;AAgBD;;AAEDsoB,EAAAA,gBAAgB,GAAG;AACjB,SAAKnC,WAAL,CAAiB7K,IAAjB;AACA,SAAK9D,QAAL,CAAc,UAAd,EAA0Blb,QAAQ,CAACirB,KAAnC;AACD;;AAEDgB,EAAAA,cAAc,CAAC1hB,KAAD,EAAQ;AACpB,QAAI2hB,qBAAJ,EAA2BC,sBAA3B;;AAEA,QAAIC,GAAG,GAAG7hB,KAAK,CAACI,MAAhB;;AAEA,YAAQyhB,GAAG,CAAC7hB,KAAZ;AACE,WAAK;AACL;AADA;AAGE,aAAKsX,gBAAL;AACA,aAAK3G,QAAL,CAAc,YAAd,EAA4B,KAAKgP,QAAjC;AACA,aAAKhP,QAAL,CAAc,WAAd,EAA2B7a,SAAS,CAAC4qB,KAArC;AACAtoB,QAAAA,OAAO,CAAC0pB,GAAR,CAAY,CAAC,KAAK1B,cAAN,EAAsB,CAACuB,qBAAqB,GAAG,KAAKrB,qBAA9B,MAAyD,IAAzD,IAAiEqB,qBAAqB,KAAK,KAAK,CAAhG,GAAoG,KAAK,CAAzG,GAA6GA,qBAAqB,CAACnhB,OAAzJ,CAAZ,EAA+KnI,IAA/K,CAAqL0pB,KAAD,IAAW;AAC7L,cAAIC,cAAJ,EAAoBC,YAApB;;AAEA,cAAI,CAAChqB,IAAD,EAAOuD,UAAP,IAAqBumB,KAAzB;AACA,eAAKpR,QAAL,CAAc,UAAd,EAA0B,CAACqR,cAAc,GAAG/pB,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACkB,QAAnE,MAAiF,IAAjF,IAAyF6oB,cAAc,KAAK,KAAK,CAAjH,GAAqHA,cAArH,GAAsI,CAAC,CAAjK;AACA,eAAKrR,QAAL,CAAc,eAAd,EAA+B,CAACsR,YAAY,GAAG,KAAKxB,MAArB,MAAiC,IAAjC,IAAyCwB,YAAY,KAAK,KAAK,CAA/D,GAAmEA,YAAnE,GAAkFhqB,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACwoB,MAAlK;AACA,eAAK9P,QAAL,CAAc,YAAd,EAA4BnV,UAA5B;AACA,eAAKmV,QAAL,CAAc,eAAd,EAA+B,IAA/B;AACD,SARD;AASA;;AAEF,WAAK;AACL;AADA;AAGE,SAACiR,sBAAsB,GAAG,KAAKtB,qBAA/B,MAA0D,IAA1D,IAAkEsB,sBAAsB,KAAK,KAAK,CAAlG,GAAsG,KAAK,CAA3G,GAA+GA,sBAAsB,CAAChqB,OAAvB,CAA+BiqB,GAAG,CAACK,KAAnC,CAA/G;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKvR,QAAL,CAAc,QAAd,EAAwB,KAAxB;AACA,aAAKA,QAAL,CAAc,iBAAd,EAAiC,IAAjC;AACA,aAAKA,QAAL,CAAc,WAAd,EAA2B,IAA3B;AACA;;AAEF,WAAK;AACL;AADA;AAGE;AACA;AACA,aAAK4P,aAAL,CAAmB;AACnB;AADA,UAEE,KAAKd,aAAL,CAAmBpjB,KAFrB;AAGA,aAAKkkB,aAAL,CAAmB;AACnB;AADA,UAEE,KAAKd,aAAL,CAAmBjmB,MAFrB;;AAIA,YAAI,KAAKimB,aAAL,CAAmBnmB,WAAnB,GAAiC,CAArC,EAAwC;AACtC,eAAKinB,aAAL,CAAmB;AACnB;AADA,YAEE,KAAKd,aAAL,CAAmBnmB,WAFrB;AAGD;;AAED;;AAEF,WAAK;AACL;AADA;AAGE,aAAKqX,QAAL,CAAc,QAAd,EAAwB,KAAxB;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKA,QAAL,CAAc,QAAd,EAAwB,IAAxB;AACA,aAAKA,QAAL,CAAc,SAAd,EAAyB,KAAzB;AACA,aAAKA,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKA,QAAL,CAAc,SAAd,EAAyB,IAAzB;AACA,aAAKA,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACA;;AAEF,WAAK;AACL;AADA;AAGE,YAAI,KAAK9V,IAAT,EAAe;AACbgJ,UAAAA,UAAU,CAAC,MAAM;AACf,iBAAK0c,aAAL,CAAmB;AACnB;AADA;AAGD,WAJS,EAIP,GAJO,CAAV;AAKD,SAND,MAMO;AACL,eAAK5P,QAAL,CAAc,eAAd,EAA+B,IAA/B;AACD;;AAED;;AAEF,WAAK;AACL;AADA;AAGE,aAAKA,QAAL,CAAc,aAAd,EAA6B5B,UAAU,CAAC8S,GAAG,CAACM,IAAL,CAAvC;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKxR,QAAL,CAAc,OAAd,EAAuBkR,GAAG,CAACxlB,KAAJ,KAAc,MAArC;AACA,aAAKsU,QAAL,CAAc,QAAd,EAAwBpB,IAAI,CAAC6S,KAAL,CAAWrT,UAAU,CAAC8S,GAAG,CAACroB,MAAL,CAAV,GAAyB,GAApC,CAAxB;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKmX,QAAL,CAAc,aAAd,EAA6B5B,UAAU,CAAC8S,GAAG,CAACM,IAAL,CAAvC;AACA,aAAKxR,QAAL,CAAc,SAAd,EAAyB,IAAzB;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKA,QAAL,CAAc,aAAd,EAA6B5B,UAAU,CAAC8S,GAAG,CAACM,IAAL,CAAvC;AACA,aAAKxR,QAAL,CAAc,SAAd,EAAyB,KAAzB;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKA,QAAL,CAAc,WAAd,EAA2B,IAA3B;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKA,QAAL,CAAc,UAAd,EAA0B5B,UAAU,CAAC8S,GAAG,CAACM,IAAL,CAApC;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKxR,QAAL,CAAc,UAAd,EAA0B5B,UAAU,CAAC8S,GAAG,CAAC1oB,QAAL,CAApC;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKwX,QAAL,CAAc,mBAAd,EAAmCkR,GAAG,CAACQ,SAAJ,CAAcrb,GAAd,CAAkBsb,CAAC,IAAI,GAAGvc,MAAH,CAAUuc,CAAV,EAAa,GAAb,CAAvB,CAAnC;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAK3R,QAAL,CAAc,iBAAd,EAAiC,GAAG5K,MAAH,CAAU8b,GAAG,CAACU,OAAd,EAAuB,GAAvB,CAAjC;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAK5R,QAAL,CAAc,oBAAd,EAAoCkR,GAAG,CAAC3nB,UAAJ,KAAmB,MAAvD;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKqlB,OAAL,CAAa9K,IAAb,CAAkBoN,GAAG,CAAC3pB,KAAtB;AACA;AA3JJ;AA6JD;AACD;;;AAGA2T,EAAAA,UAAU,GAAG;AACX,QAAI2W,OAAO,GAAG,IAAd;;AAEA,WAAOlqB,iBAAiB,CAAC,aAAa;AACpC,UAAImqB,YAAY,GAAG,qFAAnB;AACA,aAAO;AACLC,QAAAA,iBAAiB,EAAE,YAAY;AAC7B,cAAIC,kBAAkB,GAAGrqB,iBAAiB,CAAC,aAAa;AACtD,mBAAOkqB,OAAO,CAAC1B,KAAf;AACD,WAFyC,CAA1C;;AAIA,mBAAS4B,iBAAT,GAA6B;AAC3B,mBAAOC,kBAAkB,CAAChsB,KAAnB,CAAyB,IAAzB,EAA+BI,SAA/B,CAAP;AACD;;AAED,iBAAO2rB,iBAAP;AACD,SAVkB,EADd;AAYL7pB,QAAAA,IAAI,EAAE,YAAY;AAChB,cAAI+pB,KAAK,GAAGtqB,iBAAiB,CAAC,aAAa;AACzCkqB,YAAAA,OAAO,CAACjC,aAAR,CAAsB;AACtB;AADA;AAGD,WAJ4B,CAA7B;;AAMA,mBAAS1nB,IAAT,GAAgB;AACd,mBAAO+pB,KAAK,CAACjsB,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAP;AACD;;AAED,iBAAO8B,IAAP;AACD,SAZK,EAZD;AAyBLC,QAAAA,KAAK,EAAE,YAAY;AACjB,cAAI+pB,MAAM,GAAGvqB,iBAAiB,CAAC,aAAa;AAC1CkqB,YAAAA,OAAO,CAACjC,aAAR,CAAsB;AACtB;AADA;AAGD,WAJ6B,CAA9B;;AAMA,mBAASznB,KAAT,GAAiB;AACf,mBAAO+pB,MAAM,CAAClsB,KAAP,CAAa,IAAb,EAAmBI,SAAnB,CAAP;AACD;;AAED,iBAAO+B,KAAP;AACD,SAZM,EAzBF;AAsCLqT,QAAAA,OAAO,EAAE,YAAY;AACnB,cAAI2W,QAAQ,GAAGxqB,iBAAiB,CAAC,WAAW+T,IAAX,EAAiB;AAChD,mBAAOnN,QAAQ,CAACmN,IAAD,CAAR,IAAkBoW,YAAY,CAACnW,IAAb,CAAkBD,IAAlB,CAAzB;AACD,WAF+B,CAAhC;;AAIA,mBAASF,OAAT,CAAiB4W,GAAjB,EAAsB;AACpB,mBAAOD,QAAQ,CAACnsB,KAAT,CAAe,IAAf,EAAqBI,SAArB,CAAP;AACD;;AAED,iBAAOoV,OAAP;AACD,SAVQ,EAtCJ;AAiDL6W,QAAAA,cAAc,EAAE,YAAY;AAC1B,cAAIC,eAAe,GAAG3qB,iBAAiB,CAAC,WAAW6pB,IAAX,EAAiB;AACvDK,YAAAA,OAAO,CAAC/C,aAAR,CAAsBnmB,WAAtB,GAAoC6oB,IAApC;;AAEAK,YAAAA,OAAO,CAACjC,aAAR,CAAsB;AACtB;AADA,cAEE4B,IAFF;AAGD,WANsC,CAAvC;;AAQA,mBAASa,cAAT,CAAwBE,IAAxB,EAA8B;AAC5B,mBAAOD,eAAe,CAACtsB,KAAhB,CAAsB,IAAtB,EAA4BI,SAA5B,CAAP;AACD;;AAED,iBAAOisB,cAAP;AACD,SAde,EAjDX;AAgELG,QAAAA,QAAQ,EAAE,YAAY;AACpB,cAAIC,SAAS,GAAG9qB,iBAAiB,CAAC,WAAW+D,KAAX,EAAkB;AAClDmmB,YAAAA,OAAO,CAAC/C,aAAR,CAAsBpjB,KAAtB,GAA8BA,KAA9B;;AAEAmmB,YAAAA,OAAO,CAACjC,aAAR,CAAsB;AACtB;AADA,cAEElkB,KAFF;AAGD,WANgC,CAAjC;;AAQA,mBAAS8mB,QAAT,CAAkBE,IAAlB,EAAwB;AACtB,mBAAOD,SAAS,CAACzsB,KAAV,CAAgB,IAAhB,EAAsBI,SAAtB,CAAP;AACD;;AAED,iBAAOosB,QAAP;AACD,SAdS,EAhEL;AA+ELG,QAAAA,SAAS,EAAE,YAAY;AACrB,cAAIC,UAAU,GAAGjrB,iBAAiB,CAAC,WAAWkB,MAAX,EAAmB;AACpDgpB,YAAAA,OAAO,CAAC/C,aAAR,CAAsBjmB,MAAtB,GAA+BA,MAAM,GAAG,GAAxC;;AAEAgpB,YAAAA,OAAO,CAAC7R,QAAR,CAAiB,QAAjB,EAA2BnX,MAA3B;;AAEAgpB,YAAAA,OAAO,CAACjC,aAAR,CAAsB;AACtB;AADA,cAEE/mB,MAAM,GAAG,GAFX;AAGD,WARiC,CAAlC;;AAUA,mBAAS8pB,SAAT,CAAmBE,IAAnB,EAAyB;AACvB,mBAAOD,UAAU,CAAC5sB,KAAX,CAAiB,IAAjB,EAAuBI,SAAvB,CAAP;AACD;;AAED,iBAAOusB,SAAP;AACD,SAhBU,EA/EN;AAgGLG,QAAAA,qBAAqB,EAAE,YAAY;AACjC,cAAIC,sBAAsB,GAAGprB,iBAAiB,CAAC,aAAa;AAC1D,mBAAO,IAAP;AACD,WAF6C,CAA9C;;AAIA,mBAASmrB,qBAAT,GAAiC;AAC/B,mBAAOC,sBAAsB,CAAC/sB,KAAvB,CAA6B,IAA7B,EAAmCI,SAAnC,CAAP;AACD;;AAED,iBAAO0sB,qBAAP;AACD,SAVsB,EAhGlB;AA2GLE,QAAAA,kBAAkB,EAAE,YAAY;AAC9B,cAAIC,mBAAmB,GAAGtrB,iBAAiB,CAAC,WAAWiqB,OAAX,EAAoB;AAC9DC,YAAAA,OAAO,CAACjC,aAAR,CAAsB;AACtB;AADA,cAEEgC,OAAO,CAAC/b,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAFF;AAGD,WAJ0C,CAA3C;;AAMA,mBAASmd,kBAAT,CAA4BE,IAA5B,EAAkC;AAChC,mBAAOD,mBAAmB,CAACjtB,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;AACD;;AAED,iBAAO4sB,kBAAP;AACD,SAZmB,EA3Gf;AAwHLG,QAAAA,gBAAgB,EAAE,YAAY;AAC5B,cAAIC,iBAAiB,GAAGzrB,iBAAiB,CAAC,aAAa;AACrD,mBAAO,IAAP;AACD,WAFwC,CAAzC;;AAIA,mBAASwrB,gBAAT,GAA4B;AAC1B,mBAAOC,iBAAiB,CAACptB,KAAlB,CAAwB,IAAxB,EAA8BI,SAA9B,CAAP;AACD;;AAED,iBAAO+sB,gBAAP;AACD,SAViB,EAxHb;AAmIL3pB,QAAAA,eAAe,EAAE,YAAY;AAC3B,cAAI6pB,gBAAgB,GAAG1rB,iBAAiB,CAAC,aAAa;AACpDkqB,YAAAA,OAAO,CAACjC,aAAR,CAAsB;AACtB;AADA,cAEE,IAFF;AAGD,WAJuC,CAAxC;;AAMA,mBAASpmB,eAAT,GAA2B;AACzB,mBAAO6pB,gBAAgB,CAACrtB,KAAjB,CAAuB,IAAvB,EAA6BI,SAA7B,CAAP;AACD;;AAED,iBAAOoD,eAAP;AACD,SAZgB,EAnIZ;AAgJLC,QAAAA,cAAc,EAAE,YAAY;AAC1B,cAAI6pB,eAAe,GAAG3rB,iBAAiB,CAAC,aAAa;AACnDkqB,YAAAA,OAAO,CAACjC,aAAR,CAAsB;AACtB;AADA,cAEE,KAFF;AAGD,WAJsC,CAAvC;;AAMA,mBAASnmB,cAAT,GAA0B;AACxB,mBAAO6pB,eAAe,CAACttB,KAAhB,CAAsB,IAAtB,EAA4BI,SAA5B,CAAP;AACD;;AAED,iBAAOqD,cAAP;AACD,SAZe;AAhJX,OAAP;AA8JD,KAhKuB,CAAjB,EAAP;AAiKD;;AAEDoS,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,UAAf,EAA2B;AAChCkT,MAAAA,QAAQ,EAAE,KAAKA,QADiB;AAEhCnkB,MAAAA,UAAU,EAAE,KAAKA,UAFe;AAGhC0oB,MAAAA,MAAM,EAAE,KAAK/D,SAAL,EAHwB;AAIhCpD,MAAAA,MAAM,EAAE,KAAKkE,WAAL,EAJwB;AAKhCkD,MAAAA,OAAO,EAAEhG,iBALuB;AAMhCiG,MAAAA,cAAc,EAAE,KAAKxD,iBAAL,EANgB;AAOhCyD,MAAAA,gBAAgB,EAAE,KAAK3C,cAAL,CAAoBvT,IAApB,CAAyB,IAAzB,CAPc;AAQhCmW,MAAAA,kBAAkB,EAAE,KAAK7C,gBAAL,CAAsBtT,IAAtB,CAA2B,IAA3B,CARY;AAShCvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKihB,KAAL,GAAajhB,EAAb;AACD;AAX+B,KAA3B,CAAP;AAaD;;AAEkB,aAAR2O,QAAQ,GAAG;AACpB,WAAO;AACL,iBAAW,CAAC,iBAAD,CADN;AAEL,kBAAY,CAAC,kBAAD,CAFP;AAGL,gBAAU,CAAC,sBAAD;AAHL,KAAP;AAKD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAO0Q,cAAP;AACD;;AAlgByC,CAA5C;AAqgBA,IAAIoF,OAAO,GAAG,wCAAd;AACA,IAAIC,IAAI,GAAG,cAAc1kB,WAAd,CAA0B;AACnCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKuS,WAAL,GAAmB,CAAC,GAAGvtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,aAA/B,EAA8C,CAA9C,CAAnB;AACA,SAAKyM,OAAL,GAAe,CAAC,GAAGxtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAK2R,kBAAL,GAA0B,IAAIpd,QAAJ,EAA1B;AACA,SAAKqd,WAAL,GAAmB,KAAnB;AACA;AACJ;AACA;;AAEI,SAAKC,OAAL,GAAe,QAAf;AACA;AACJ;AACA;;AAEI,SAAKC,MAAL,GAAc,EAAd;AACA;;AAEA,SAAK1oB,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAK0P,OAAL,GAAe,UAAf;AACA;AACJ;AACA;;AAEI,SAAKiZ,yBAAL,GAAiC,IAAjC;AACA;;AAEA,SAAK7oB,4BAAL,GAAoC,IAApC;AACA;;AAEA,SAAKD,kBAAL,GAA0B,IAA1B;AACA;;AAEA,SAAKH,gBAAL,GAAwB,CAAC,CAAzB;AACAhK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA2Z,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACAtZ,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,UAAD,EAAa,8BAAb,EAA6C,oBAA7C,EAAmE,kBAAnE,CAAP,CAAjB;AACD;;AAED6yB,EAAAA,WAAW,GAAG;AACZ,QAAI,CAAC,KAAKJ,WAAV,EAAuB;AACvB,SAAKpF,WAAL,CAAiB7K,IAAjB;AACA,SAAKsQ,IAAL,CAAUC,YAAV,CAAuB,KAAKzJ,GAA5B;AACD;;AAED0J,EAAAA,8BAA8B,GAAG;AAC/B,QAAIC,UAAJ;;AAEA,QAAI,KAAKlpB,4BAAT,EAAuC;AACrC,WAAKyoB,kBAAL,CAAwBhd,KAAxB;AACD,KAFD,MAEO;AACL,WAAK0d,oBAAL;AACD;;AAED,KAACD,UAAU,GAAG,KAAKH,IAAnB,MAA6B,IAA7B,IAAqCG,UAAU,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,UAAU,CAACE,yBAAX,CAAqC,CAAC,KAAKppB,4BAA3C,CAAtE;AACD;;AAEDqpB,EAAAA,iBAAiB,GAAG;AAClB,QAAI,CAAC,KAAKrpB,4BAAN,IAAsC0C,WAAW,CAAC,KAAKqmB,IAAN,CAArD,EAAkE;AAClE,SAAKA,IAAL,CAAUO,YAAV,CAAuB,CAAC,KAAKvpB,kBAAN,GAA2B,CAAC,CAA5B,GAAgC,KAAKH,gBAA5D;;AAEA,QAAI,CAAC,KAAKG,kBAAV,EAA8B;AAC5B,UAAIwpB,qBAAJ,EAA2BC,aAA3B;;AAEA,UAAIC,KAAK,GAAGhmB,KAAK,CAACoJ,IAAN,CAAW,CAAC0c,qBAAqB,GAAG,CAACC,aAAa,GAAG,KAAKE,OAAtB,MAAmC,IAAnC,IAA2CF,aAAa,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,aAAa,CAAC7pB,UAAtH,MAAsI,IAAtI,IAA8I4pB,qBAAqB,KAAK,KAAK,CAA7K,GAAiLA,qBAAjL,GAAyM,EAApN,EAAwN,KAAK3pB,gBAA7N,CAAZ;AACA,UAAI,CAAC6pB,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACE,IAArD,MAA+D,QAAnE,EAA6E,KAAKhV,QAAL,CAAc,kBAAd,EAAkC,CAAC,CAAnC;AAC9E;AACF;;AAEDrO,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgB1G,wBAAwB,CAAC,IAAD,CAAxC;AACA,QAAI,KAAKyb,OAAT,EAAkB,KAAKE,SAAL;AACnB;;AAEDrjB,EAAAA,oBAAoB,GAAG;AACrB,SAAKkiB,kBAAL,CAAwBhd,KAAxB;AACA,SAAKoe,WAAL;AACD;;AAEDD,EAAAA,SAAS,GAAG;AACV,QAAIE,OAAO,GAAG,IAAd;;AAEA,WAAOxtB,iBAAiB,CAAC,aAAa;AACpC,UAAI;AACF,YAAIolB,GAAG,GAAGoI,OAAO,CAACC,MAAR,IAAkB,uCAAuChgB,MAAvC,CAA8C+f,OAAO,CAACnB,OAAtD,EAA+D,uBAA/D,CAA5B,CADE,CACmH;;AAErH,YAAIqB,OAAO,GAAG,MAAM3H,OAAO,CAACX,GAAD,EAAM,QAAN,CAA3B;AACAoI,QAAAA,OAAO,CAACf,IAAR,GAAeiB,OAAO,CAACC,WAAR,CAAoBH,OAAO,CAAClB,MAA5B,EAAoC3iB,MAApC,EAAf;;AAEA6jB,QAAAA,OAAO,CAACf,IAAR,CAAamB,UAAb,CAAwBJ,OAAO,CAACJ,OAAhC,EAAyC,IAAzC,EAA+CI,OAAO,CAAC5pB,QAAvD;;AAEA4pB,QAAAA,OAAO,CAACf,IAAR,CAAaoB,qBAAb,CAAmCL,OAAO,CAACjB,yBAA3C;;AAEAiB,QAAAA,OAAO,CAACf,IAAR,CAAaK,yBAAb,CAAuC,CAACU,OAAO,CAAC9pB,4BAAhD;;AAEA8pB,QAAAA,OAAO,CAACf,IAAR,CAAaqB,EAAb,CAAgBJ,OAAO,CAACC,WAAR,CAAoBrf,MAApB,CAA2Byf,wBAA3C,EAAqE,MAAM;AACzEP,UAAAA,OAAO,CAACnV,QAAR,CAAiB,WAAjB,EAA8B7a,SAAS,CAAC4qB,KAAxC;;AAEAoF,UAAAA,OAAO,CAACnV,QAAR,CAAiB,YAAjB,EAA+BmV,OAAO,CAACvK,GAAvC;;AAEAuK,UAAAA,OAAO,CAACQ,cAAR;;AAEAR,UAAAA,OAAO,CAACS,4BAAR;;AAEAT,UAAAA,OAAO,CAACnV,QAAR,CAAiB,eAAjB,EAAkC,IAAlC;AACD,SAVD;;AAYAmV,QAAAA,OAAO,CAACf,IAAR,CAAaqB,EAAb,CAAgBJ,OAAO,CAACC,WAAR,CAAoBrf,MAApB,CAA2B4f,qBAA3C,EAAkE,MAAM;AACtE,cAAI,CAACV,OAAO,CAAC9pB,4BAAb,EAA2C8pB,OAAO,CAACX,oBAAR;AAC5C,SAFD;;AAIAW,QAAAA,OAAO,CAACf,IAAR,CAAaqB,EAAb,CAAgBJ,OAAO,CAACC,WAAR,CAAoBrf,MAApB,CAA2B6f,KAA3C,EAAkD/d,CAAC,IAAI;AACrDod,UAAAA,OAAO,CAACvG,OAAR,CAAgB9K,IAAhB,CAAqB/L,CAArB;AACD,SAFD;;AAIAod,QAAAA,OAAO,CAACpB,WAAR,GAAsB,IAAtB;AACD,OAjCD,CAiCE,OAAOhc,CAAP,EAAU;AACVod,QAAAA,OAAO,CAACvG,OAAR,CAAgB9K,IAAhB,CAAqB/L,CAArB;AACD;AACF,KArCuB,CAAjB,EAAP;AAsCD;;AAEDmd,EAAAA,WAAW,GAAG;AACZ,QAAIa,OAAO,GAAG,IAAd;;AAEA,WAAOpuB,iBAAiB,CAAC,aAAa;AACpC,UAAIquB,YAAJ;;AAEA,OAACA,YAAY,GAAGD,OAAO,CAAC3B,IAAxB,MAAkC,IAAlC,IAA0C4B,YAAY,KAAK,KAAK,CAAhE,GAAoE,KAAK,CAAzE,GAA6EA,YAAY,CAACC,KAAb,EAA7E;AACAF,MAAAA,OAAO,CAAChC,WAAR,GAAsB,KAAtB;AACD,KALuB,CAAjB,EAAP;AAMD;;AAEDmC,EAAAA,eAAe,CAAC7mB,KAAD,EAAQ;AACrB,QAAI8mB,OAAO,GAAG,IAAd;;AAEA,WAAOxuB,iBAAiB,CAAC,aAAa;AACpCwuB,MAAAA,OAAO,CAACjB,WAAR;;AAEA,UAAInnB,WAAW,CAACsB,KAAK,CAACI,MAAP,CAAf,EAA+B;AAC/B0mB,MAAAA,OAAO,CAACpB,OAAR,GAAkB1lB,KAAK,CAACI,MAAxB;AACA,YAAM0mB,OAAO,CAAClB,SAAR,EAAN;AACD,KANuB,CAAjB,EAAP;AAOD;;AAEDmB,EAAAA,sBAAsB,CAACC,KAAD,EAAQ;AAC5B,WAAOA,KAAK,KAAK,CAAC,CAAX,GAAe,MAAf,GAAwB,GAAGjhB,MAAH,CAAUihB,KAAK,CAAC/X,MAAhB,EAAwB,GAAxB,CAA/B;AACD;;AAEDgY,EAAAA,yBAAyB,CAAC1E,OAAD,EAAU;AACjC,WAAO,KAAKwC,IAAL,CAAUmC,qBAAV,CAAgC,OAAhC,EAAyCC,SAAzC,CAAmDH,KAAK,IAAI,KAAKD,sBAAL,CAA4BC,KAA5B,MAAuCzE,OAAnG,CAAP;AACD;;AAED+D,EAAAA,cAAc,GAAG;AACf,QAAI;AACF,UAAIc,MAAM,GAAG,KAAKrC,IAAL,CAAUmC,qBAAV,CAAgC,OAAhC,CAAb;;AAEA,UAAI,CAACE,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACpwB,MAAxD,IAAkE,CAAtE,EAAyE;AACvE,aAAK2Z,QAAL,CAAc,mBAAd,EAAmC,CAAC,MAAD,EAAS,GAAGyW,MAAM,CAACpgB,GAAP,CAAW,KAAK+f,sBAAhB,CAAZ,CAAnC;AACA,aAAKpW,QAAL,CAAc,iBAAd,EAAiC,MAAjC;AACD;AACF,KAPD,CAOE,OAAOjI,CAAP,EAAU;AACV,WAAK6W,OAAL,CAAa9K,IAAb,CAAkB/L,CAAlB;AACD;AACF;;AAED6d,EAAAA,4BAA4B,GAAG;AAC7B,QAAIc,KAAJ,EAAWC,WAAX,EAAwBC,qBAAxB;;AAEA,SAAK9C,kBAAL,CAAwBhd,KAAxB;AACA,QAAI/I,WAAW,CAAC,KAAKgnB,OAAN,CAAX,IAA6B,KAAK1pB,4BAAtC,EAAoE,OAJvC,CAI+C;;AAE5E,QAAIwrB,YAAY,GAAG,CAACH,KAAK,GAAG,CAAC,CAACC,WAAW,GAAG,KAAKvC,IAApB,MAA8B,IAA9B,IAAsCuC,WAAW,KAAK,KAAK,CAA3D,GAA+D,KAAK,CAApE,GAAwE,CAACC,qBAAqB,GAAGD,WAAW,CAACG,kBAAZ,CAA+B,MAA/B,CAAzB,MAAqE,IAArE,IAA6EF,qBAAqB,KAAK,KAAK,CAA5G,GAAgH,KAAK,CAArH,GAAyHA,qBAAqB,CAACG,KAAxN,IAAiO,CAA1O,MAAiP,IAAjP,IAAyPL,KAAK,KAAK,KAAK,CAAxQ,GAA4QA,KAA5Q,GAAoR,CAAC,CAAxS;AACA,SAAKzrB,gBAAL,GAAwB4rB,YAAxB;AACA,SAAK7W,QAAL,CAAc,kBAAd,EAAkC6W,YAAlC;AACA,SAAK/C,kBAAL,CAAwBld,GAAxB,CAA4BvE,MAAM,CAAC,KAAK0iB,OAAL,CAAa/pB,UAAd,EAA0B,QAA1B,EAAoC,KAAK0R,kBAAL,CAAwBc,IAAxB,CAA6B,IAA7B,CAApC,CAAlC;AACD;;AAEDwZ,EAAAA,aAAa,GAAG;AACd,QAAIC,sBAAJ,EAA4BC,cAA5B;;AAEA,WAAOpoB,KAAK,CAACoJ,IAAN,CAAW,CAAC+e,sBAAsB,GAAG,CAACC,cAAc,GAAG,KAAKnC,OAAvB,MAAoC,IAApC,IAA4CmC,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAAClsB,UAA1H,MAA0I,IAA1I,IAAkJisB,sBAAsB,KAAK,KAAK,CAAlL,GAAsLA,sBAAtL,GAA+M,EAA1N,CAAP;AACD;;AAEDzC,EAAAA,oBAAoB,GAAG;AACrB,QAAIxpB,UAAU,GAAG,KAAKgsB,aAAL,EAAjB;;AAEA,QAAIhsB,UAAU,CAAC,KAAKC,gBAAN,CAAV,IAAqC,KAAKG,kBAA9C,EAAkE;AAChEJ,MAAAA,UAAU,CAAC,KAAKC,gBAAN,CAAV,CAAkC+pB,IAAlC,GAAyC,QAAzC;AACD;AACF;;AAEDtY,EAAAA,kBAAkB,GAAG;AACnB,SAAK8X,oBAAL;AACA,SAAKxU,QAAL,CAAc,YAAd,EAA4B,KAAKgX,aAAL,EAA5B;AACA,SAAKhX,QAAL,CAAc,oBAAd,EAAoC,KAAK5U,kBAAzC;AACA,SAAK4U,QAAL,CAAc,kBAAd,EAAkC,KAAK/U,gBAAvC;AACD;AACD;;;AAGAiQ,EAAAA,UAAU,GAAG;AACX,QAAIic,OAAO,GAAG,IAAd;;AAEA,WAAOxvB,iBAAiB,CAAC,aAAa;AACpC,UAAIyvB,qBAAJ,EAA2BC,qBAA3B;;AAEA,UAAI/b,OAAO,GAAG,CAAC8b,qBAAqB,GAAG,MAAM,CAACC,qBAAqB,GAAGF,OAAO,CAACG,aAAjC,MAAoD,IAApD,IAA4DD,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACnc,UAAtB,EAAvI,MAA+K,IAA/K,IAAuLkc,qBAAqB,KAAK,KAAK,CAAtN,GAA0NA,qBAA1N,GAAkP,EAAhQ;AACA,UAAIG,oBAAoB,GAAGjc,OAAO,CAACE,OAAnC;AACA,aAAOvV,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKqV,OAAL,CAAd,EAA6B,EAA7B,EAAiC;AACnDyW,QAAAA,iBAAiB,EAAE,YAAY;AAC7B,cAAIyF,mBAAmB,GAAG7vB,iBAAiB,CAAC,aAAa;AACvD,mBAAOwvB,OAAO,CAAC/C,IAAf;AACD,WAF0C,CAA3C;;AAIA,mBAASrC,iBAAT,GAA6B;AAC3B,mBAAOyF,mBAAmB,CAACxxB,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;AACD;;AAED,iBAAO2rB,iBAAP;AACD,SAVkB,EADgC;AAYnDvW,QAAAA,OAAO,EAAE,YAAY;AACnB,cAAIic,SAAS,GAAG9vB,iBAAiB,CAAC,WAAW+T,IAAX,EAAiB;AACjD,gBAAIgc,qBAAJ;;AAEA,mBAAOnpB,QAAQ,CAACmN,IAAD,CAAR,IAAkBtC,SAAS,CAACuC,IAAV,CAAeD,IAAf,CAAlB,KAA2C,CAACgc,qBAAqB,GAAGH,oBAAoB,KAAK,IAAzB,IAAiCA,oBAAoB,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,oBAAoB,CAAC7b,IAAD,CAAzH,MAAqI,IAArI,IAA6Igc,qBAAqB,KAAK,KAAK,CAA5K,GAAgLA,qBAAhL,GAAwM,KAAnP,CAAP;AACD,WAJgC,CAAjC;;AAMA,mBAASlc,OAAT,CAAiBmc,IAAjB,EAAuB;AACrB,mBAAOF,SAAS,CAACzxB,KAAV,CAAgB,IAAhB,EAAsBI,SAAtB,CAAP;AACD;;AAED,iBAAOoV,OAAP;AACD,SAZQ,EAZ0C;AAyBnDsX,QAAAA,qBAAqB,EAAE,YAAY;AACjC,cAAI8E,uBAAuB,GAAGjwB,iBAAiB,CAAC,aAAa;AAC3D,gBAAI;AACF,kBAAIkwB,YAAJ,EAAkBC,qBAAlB;;AAEA,qBAAO,CAAC,CAACD,YAAY,GAAGV,OAAO,CAAC/C,IAAxB,MAAkC,IAAlC,IAA0CyD,YAAY,KAAK,KAAK,CAAhE,GAAoE,KAAK,CAAzE,GAA6E,CAACC,qBAAqB,GAAGD,YAAY,CAACtB,qBAAb,CAAmC,OAAnC,CAAzB,MAA0E,IAA1E,IAAkFuB,qBAAqB,KAAK,KAAK,CAAjH,GAAqH,KAAK,CAA1H,GAA8HA,qBAAqB,CAACzxB,MAAlO,IAA4O,CAAnP;AACD,aAJD,CAIE,OAAO0R,CAAP,EAAU;AACVof,cAAAA,OAAO,CAACvI,OAAR,CAAgB9K,IAAhB,CAAqB/L,CAArB;;AAEA,qBAAO,KAAP;AACD;AACF,WAV8C,CAA/C;;AAYA,mBAAS+a,qBAAT,GAAiC;AAC/B,mBAAO8E,uBAAuB,CAAC5xB,KAAxB,CAA8B,IAA9B,EAAoCI,SAApC,CAAP;AACD;;AAED,iBAAO0sB,qBAAP;AACD,SAlBsB,EAzB4B;AA4CnDE,QAAAA,kBAAkB,EAAE,YAAY;AAC9B,cAAI+E,oBAAoB,GAAGpwB,iBAAiB,CAAC,WAAWiqB,OAAX,EAAoB;AAC/D,gBAAI,CAAC7jB,WAAW,CAACopB,OAAO,CAAC/C,IAAT,CAAhB,EAAgC;AAC9B,kBAAI2C,KAAK,GAAGI,OAAO,CAACb,yBAAR,CAAkC1E,OAAlC,CAAZ;;AAEAuF,cAAAA,OAAO,CAAC/C,IAAR,CAAa4D,cAAb,CAA4B;AAC1BC,gBAAAA,SAAS,EAAE;AACTC,kBAAAA,GAAG,EAAE;AACHC,oBAAAA,iBAAiB,EAAE;AACjB7Q,sBAAAA,KAAK,EAAEyP,KAAK,KAAK,CAAC;AADD;AADhB;AADI;AADe,eAA5B;;AAUA,kBAAIA,KAAK,IAAI,CAAb,EAAgBI,OAAO,CAAC/C,IAAR,CAAagE,aAAb,CAA2B,OAA3B,EAAoCrB,KAApC,EAbc,CAa8B;;AAE5DI,cAAAA,OAAO,CAACnX,QAAR,CAAiB,iBAAjB,EAAoC4R,OAApC;AACD;AACF,WAlB2C,CAA5C;;AAoBA,mBAASoB,kBAAT,CAA4BqF,IAA5B,EAAkC;AAChC,mBAAON,oBAAoB,CAAC/xB,KAArB,CAA2B,IAA3B,EAAiCI,SAAjC,CAAP;AACD;;AAED,iBAAO4sB,kBAAP;AACD,SA1BmB,EA5C+B;AAuEnDsF,QAAAA,mBAAmB,EAAE,YAAY;AAC/B,cAAIC,oBAAoB,GAAG5wB,iBAAiB,CAAC,WAAW6wB,OAAX,EAAoB;AAC/D,gBAAIrB,OAAO,CAAC9rB,4BAAZ,EAA0C;AACxCiQ,cAAAA,OAAO,CAACgd,mBAAR,CAA4BE,OAA5B;AACD,aAFD,MAEO;AACL,kBAAIC,aAAJ;;AAEAtB,cAAAA,OAAO,CAAClsB,gBAAR,GAA2ButB,OAA3B;AACA,eAACC,aAAa,GAAGtB,OAAO,CAAC/C,IAAzB,MAAmC,IAAnC,IAA2CqE,aAAa,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,aAAa,CAAC9D,YAAd,CAA2B6D,OAA3B,CAA/E;;AAEArB,cAAAA,OAAO,CAACza,kBAAR;AACD;AACF,WAX2C,CAA5C;;AAaA,mBAAS4b,mBAAT,CAA6BI,IAA7B,EAAmC;AACjC,mBAAOH,oBAAoB,CAACvyB,KAArB,CAA2B,IAA3B,EAAiCI,SAAjC,CAAP;AACD;;AAED,iBAAOkyB,mBAAP;AACD,SAnBoB,EAvE8B;AA2FnDrb,QAAAA,sBAAsB,EAAE,YAAY;AAClC,cAAI0b,uBAAuB,GAAGhxB,iBAAiB,CAAC,WAAWixB,SAAX,EAAsB;AACpE,gBAAIzB,OAAO,CAAC9rB,4BAAZ,EAA0C;AACxCiQ,cAAAA,OAAO,CAAC2B,sBAAR,CAA+B2b,SAA/B;AACD,aAFD,MAEO;AACL,kBAAIC,aAAJ;;AAEA1B,cAAAA,OAAO,CAAC/rB,kBAAR,GAA6BwtB,SAA7B;AACA,eAACC,aAAa,GAAG1B,OAAO,CAAC/C,IAAzB,MAAmC,IAAnC,IAA2CyE,aAAa,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,aAAa,CAACC,UAAd,CAAyBF,SAAzB,CAA/E;;AAEAzB,cAAAA,OAAO,CAACza,kBAAR;AACD;AACF,WAX8C,CAA/C;;AAaA,mBAASO,sBAAT,CAAgC8b,IAAhC,EAAsC;AACpC,mBAAOJ,uBAAuB,CAAC3yB,KAAxB,CAA8B,IAA9B,EAAoCI,SAApC,CAAP;AACD;;AAED,iBAAO6W,sBAAP;AACD,SAnBuB;AA3F2B,OAAjC,CAApB;AAgHD,KArHuB,CAAjB,EAAP;AAsHD;;AAEDpB,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,UAAf,EAA2B;AAChCd,MAAAA,UAAU,EAAE,IADoB;AAEhCgB,MAAAA,WAAW,EAAE,KAAKA,WAFc;AAGhCf,MAAAA,OAAO,EAAE,KAAKA,OAHkB;AAIhC6U,MAAAA,MAAM,EAAE,KAAKA,MAJmB;AAKhCkJ,MAAAA,YAAY,EAAE,KAAKA,YALa;AAMhCC,MAAAA,OAAO,EAAE,KAAKA,OANkB;AAOhCC,MAAAA,UAAU,EAAE,KAAKA,UAPe;AAQhCC,MAAAA,oBAAoB,EAAE,CAAC,KAAK9tB,4BARI;AAShC4Q,MAAAA,qBAAqB,EAAE,KAAKA,qBATI;AAUhCpR,MAAAA,UAAU,EAAE,KAAKA,UAVe;AAWhCoE,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKooB,aAAL,GAAqBpoB,EAArB;AACD;AAb+B,KAA3B,CAAP;AAeD;;AAEkB,aAAR2O,QAAQ,GAAG;AACpB,WAAO;AACL,aAAO,CAAC,aAAD,CADF;AAEL,qBAAe,CAAC,aAAD,CAFV;AAGL,sCAAgC,CAAC,gCAAD,CAH3B;AAIL,4BAAsB,CAAC,mBAAD,CAJjB;AAKL,0BAAoB,CAAC,mBAAD;AALf,KAAP;AAOD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAO8V,OAAP;AACD;;AAzWkC,CAArC;AA4WA,IAAIwF,qBAAqB,GAAG,kRAA5B;AACA,IAAIC,kBAAkB,GAAG,cAAclqB,WAAd,CAA0B;AACjDjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK+W,gBAAL,GAAwB,KAAxB;AACA;AACJ;AACA;AACA;;AAEI,SAAKvR,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKxV,kBAAL,GAA0B,IAA1B;AACA;;AAEA,SAAKI,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKf,aAAL,GAAqB,KAArB;AACA;;AAEA,SAAKmB,QAAL,GAAgB,KAAhB;AACA,SAAK0sB,MAAL,GAAc,CAAd;AACAr4B,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,eAAD,EAAkB,oBAAlB,EAAwC,aAAxC,EAAuD,UAAvD,CAAP,CAAjB;AACD;;AAEDi4B,EAAAA,qBAAqB,GAAG;AACtB,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAO7xB,iBAAiB,CAAC,aAAa;AACpC,UAAIqN,MAAM,GAAG,MAAMtT,UAAU,CAAC83B,OAAD,CAA7B;AACAA,MAAAA,OAAO,CAACrG,gBAAR,GAA2B,MAAMne,MAAM,CAACme,gBAAP,EAAjC;AACD,KAHuB,CAAjB,EAAP;AAID;;AAEDsG,EAAAA,oBAAoB,GAAG;AACrB,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAO/xB,iBAAiB,CAAC,aAAa;AACpC,UAAI,CAACoa,WAAD,IAAgBlhB,wBAAwB,CAAC64B,OAAD,EAAU,kBAAV,CAA5C;AACA,YAAM3X,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,WAAW,CAACF,UAAZ,EAAhE;AACD,KAHuB,CAAjB,EAAP;AAID;;AAED8X,EAAAA,kBAAkB,GAAG;AACnB,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOjyB,iBAAiB,CAAC,aAAa;AACpC,UAAIqN,MAAM,GAAG,MAAMtT,UAAU,CAACk4B,OAAD,CAA7B;AACAA,MAAAA,OAAO,CAACxtB,kBAAR,GAA6B4I,MAAM,CAACvL,cAAP,EAA7B,GAAuDuL,MAAM,CAACxL,eAAP,EAAvD;AACD,KAHuB,CAAjB,EAAP;AAID;;AAEDuT,EAAAA,OAAO,GAAG;AACR,SAAKuc,MAAL,IAAe,CAAf;;AAEA,QAAI,KAAKA,MAAL,KAAgB,CAApB,EAAuB;AACrBpmB,MAAAA,UAAU,CAAC,MAAM;AACf,YAAI,KAAKomB,MAAL,KAAgB,CAApB,EAAuB;AACrB,eAAKG,oBAAL;AACD,SAFD,MAEO;AACL,eAAKE,kBAAL;AACD;;AAED,aAAKL,MAAL,GAAc,CAAd;AACD,OARS,EAQP,GARO,CAAV;AASD;AACF;;AAEDzd,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLwY,QAAAA,kBAAkB,EAAE,IADf;AAELxvB,QAAAA,OAAO,EAAE,KAAKoB,aAAL,IAAsB,KAAK0nB,gBAA3B,IAA+C,KAAK3mB,WAApD,KAAoE,CAAC,KAAKI,QAAN,IAAkB,KAAKgV,WAA3F;AAFJ,OADoB;AAK3B7E,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB;AALkB,KAAtB,CAAP;AAOD;;AAEkB,aAARK,QAAQ,GAAG;AACpB,WAAO;AACL,uBAAiB,CAAC,uBAAD;AADZ,KAAP;AAGD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOsb,qBAAP;AACD;;AA5FgD,CAAnD;AA+FA,IAAIU,kBAAkB,GAAG,gFAAzB;AACA,IAAIC,eAAe,GAAG,cAAc5qB,WAAd,CAA0B;AAC9CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;AACJ;AACA;AACA;;AAEI,SAAKmK,cAAL,GAAsB,IAAtB;AACA;AACJ;AACA;AACA;;AAEI,SAAKC,oBAAL,GAA4B,KAA5B;AACA;AACJ;AACA;;AAEI,SAAKC,cAAL,GAAsB,KAAtB;AACA;AACJ;AACA;AACA;;AAEI,SAAKC,gBAAL,GAAwB,KAAxB;AACA;;AAEA,SAAK9Z,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKG,MAAL,GAAc,KAAd;AACA;;AAEA,SAAKR,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKC,WAAL,GAAmB,KAAnB;AACAvL,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,OAAD,EAAU,UAAV,EAAsB,aAAtB,EAAqC,aAArC,EAAoD,QAApD,CAAP,CAAjB;AACD;;AAED04B,EAAAA,kBAAkB,GAAG;AACnB,WAAO,CAAC,GAAG54B,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B;AACnCoK,MAAAA,SAAS,EAAE;AADwB,KAA9B,EAEJ,CAAC,GAAG9kB,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC;AACvC8B,MAAAA,gBAAgB,EAAE;AADqB,KAAtC,CAFI,EAIH,CAAC,GAAGxc,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAJG,EAIwC,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,iBAAf,EAAkC,IAAlC,CAJxD,EAIiG,KAAK/O,MAAL,IAAe,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAJhH,EAI2J,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC,IAAtC,CAJ3K,EAIwN,KAAK/O,MAAL,IAAe,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAJvO,EAIkR,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B,IAA9B,CAJlS,EAIuU,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC;AAClY8B,MAAAA,gBAAgB,EAAE;AADgX,KAAtC,CAJvV,EAMH,CAAC,GAAGxc,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACxBgC,MAAAA,KAAK,EAAE;AACLmc,QAAAA,UAAU,EAAE,GADP;AAELC,QAAAA,YAAY,EAAE;AAFT;AADiB,KAAtB,CANG,CAAP;AAYD;;AAEDC,EAAAA,wBAAwB,GAAG;AACzB,WAAO,CAAC,GAAG/4B,OAAO,CAAC0a,CAAZ,EAAe1a,OAAO,CAACg5B,QAAvB,EAAiC,IAAjC,EAAuC,CAAC,GAAGh5B,OAAO,CAAC0a,CAAZ,EAAe,UAAf,EAA2B;AACvEue,MAAAA,QAAQ,EAAE;AAD6D,KAA3B,CAAvC,EAEH,CAAC,GAAGj5B,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B;AAChCwK,MAAAA,GAAG,EAAE,SAD2B;AAEhCJ,MAAAA,SAAS,EAAE,IAFqB;AAGhCK,MAAAA,cAAc,EAAE,KAAKA,cAHW;AAIhCC,MAAAA,oBAAoB,EAAE,KAAKA,oBAJK;AAKhCC,MAAAA,cAAc,EAAE,KAAKA;AALW,KAA9B,EAMD,CAAC,GAAGrlB,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CANC,EAM0C,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAN1C,EAMqF,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,oBAAf,EAAqC,IAArC,CANrG,EAMiJ,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC,IAAtC,CANjK,EAM8M,KAAK/O,MAAL,IAAe,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,uBAAf,EAAwC,IAAxC,CAN7N,CAFG,EAQ0Q,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B;AAC7SwK,MAAAA,GAAG,EAAE,QADwS;AAE7SD,MAAAA,OAAO,EAAE,QAFoS;AAG7SE,MAAAA,cAAc,EAAE,KAAKA,cAHwR;AAI7SC,MAAAA,oBAAoB,EAAE,KAAKA,oBAJkR;AAK7SC,MAAAA,cAAc,EAAE,KAAKA;AALwR,KAA9B,EAM9Q,CAAC,GAAGrlB,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC;AACvCgC,MAAAA,KAAK,EAAE;AACL,8BAAsB;AADjB;AADgC,KAAtC,CAN8Q,CAR1Q,EAkBF,CAAC,KAAK/Q,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B;AACjDwK,MAAAA,GAAG,EAAE,YAD4C;AAEjDJ,MAAAA,SAAS,EAAE,IAFsC;AAGjDK,MAAAA,cAAc,EAAE,KAAKA,cAH4B;AAIjDC,MAAAA,oBAAoB,EAAE,KAAKA,oBAJsB;AAKjDC,MAAAA,cAAc,EAAE,KAAKA;AAL4B,KAA9B,EAMlB,CAAC,GAAGrlB,OAAO,CAAC0a,CAAZ,EAAe,kBAAf,EAAmC,IAAnC,EAAyC,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,iBAAf,EAAkC,IAAlC,CAAzC,EAAkF,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAAlF,EAA6H,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B,IAA9B,CAA7H,EAAkK,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,uBAAf,EAAwC,IAAxC,CAAlK,CANkB,EAMgM,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,kBAAf,EAAmC;AACtP+I,MAAAA,KAAK,EAAE;AAD+O,KAAnC,EAElN,CAAC,GAAGzjB,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC,IAAtC,CAFkN,CANhM,CAlBd,CAAP;AA2BD;;AAEDwe,EAAAA,yBAAyB,GAAG;AAC1B,WAAO,CAAC,GAAGl5B,OAAO,CAAC0a,CAAZ,EAAe1a,OAAO,CAACg5B,QAAvB,EAAiC,IAAjC,EAAuC,KAAK3vB,KAAL,KAAe,OAAf,IAA0B,CAAC,GAAGrJ,OAAO,CAAC0a,CAAZ,EAAe,UAAf,EAA2B;AACjGue,MAAAA,QAAQ,EAAE;AADuF,KAA3B,CAAjE,EAEH,CAAC,GAAGj5B,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B;AAChCoK,MAAAA,SAAS,EAAE,IADqB;AAEhCI,MAAAA,GAAG,EAAE,aAF2B;AAGhCC,MAAAA,cAAc,EAAE,KAAKA,cAHW;AAIhCC,MAAAA,oBAAoB,EAAE,KAAKA,oBAJK;AAKhCC,MAAAA,cAAc,EAAE,KAAKA,cALW;AAMhCC,MAAAA,gBAAgB,EAAE,KAAKA;AANS,KAA9B,EAOD,CAAC,KAAK3Z,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,kBAAf,EAAmC,IAAnC,EAAyC,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC,IAAtC,CAAzC,CAPf,EAOsG,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,kBAAf,EAAmC;AAC3I+I,MAAAA,KAAK,EAAE,KAAK9X,MAAL,GAAc,MAAd,GAAuB;AAD6G,KAAnC,EAEvG,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC;AACvC8B,MAAAA,gBAAgB,EAAE;AADqB,KAAtC,CAFuG,EAItG,CAAC,GAAGxc,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAJsG,EAI3D,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,kBAAf,EAAmC,IAAnC,CAJ2C,EAID,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAJC,EAI0C,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,oBAAf,EAAqC,IAArC,CAJ1D,EAIsG,KAAK/O,MAAL,IAAe,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAJrH,EAIgK,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,gBAAf,EAAiC,IAAjC,CAJhK,EAIwM,CAAC,KAAK/O,MAAN,IAAgB,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC,IAAtC,CAJxN,EAIqQ,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,uBAAf,EAAwC;AACrZ8B,MAAAA,gBAAgB,EAAE;AADmY,KAAxC,CAJrQ,CAPtG,CAFG,CAAP;AAgBD;;AAED/B,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKtP,WAAT,EAAsB,OAAO,KAAKytB,kBAAL,EAAP;AACtB,QAAI,KAAKxtB,WAAL,IAAoB,KAAKI,QAA7B,EAAuC,OAAO,KAAKutB,wBAAL,EAAP;AACvC,QAAI,KAAK3tB,WAAT,EAAsB,OAAO,KAAK8tB,yBAAL,EAAP;AACtB,WAAO,IAAP;AACD;;AAEe,aAALxc,KAAK,GAAG;AACjB,WAAOgc,kBAAP;AACD;;AAvH6C,CAAhD;AA0HA,IAAIS,kBAAkB,GAAG,uCAAzB;AACA,IAAIC,eAAe,GAAG,cAAcrrB,WAAd,CAA0B;AAC9CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK0X,kBAAL,GAA0B,IAAIpd,QAAJ,EAA1B;AACA,SAAK+jB,kBAAL,GAA0B,KAA1B;AACA,SAAK3H,qBAAL,GAA6B,KAA7B;AACA,SAAK4H,eAAL,GAAuB,KAAvB;AACA,SAAKC,gBAAL,GAAwB,KAAxB;AACA;AACJ;AACA;AACA;;AAEI,SAAKrU,GAAL,GAAW,aAAX;AACA;;AAEA,SAAKhZ,IAAL,GAAY,EAAZ;AACA;;AAEA,SAAK7B,aAAL,GAAqB,KAArB;AACA;;AAEA,SAAKzB,YAAL,GAAoB,CAApB;AACA;;AAEA,SAAK2B,aAAL,GAAqB,CAAC,CAAD,CAArB;AACA;;AAEA,SAAKa,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKZ,iBAAL,GAAyB,EAAzB;AACA;;AAEA,SAAKZ,UAAL,GAAkB,EAAlB;AACA;;AAEA,SAAKC,gBAAL,GAAwB,CAAC,CAAzB;AACA;;AAEA,SAAKC,WAAL,GAAmB,EAAnB;AACA;;AAEA,SAAKC,iBAAL,GAAyB,CAAC,CAA1B;AACA;;AAEA,SAAKC,kBAAL,GAA0B,IAA1B;AACAnK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,MAAD,EAAS,eAAT,EAA0B,cAA1B,EAA0C,eAA1C,EAA2D,iBAA3D,EAA8E,mBAA9E,EAAmG,aAAnG,EAAkH,YAAlH,EAAgI,kBAAhI,EAAoJ,oBAApJ,EAA0K,aAA1K,EAAyL,mBAAzL,CAAP,CAAjB;AACD;;AAEDs5B,EAAAA,eAAe,GAAG;AAChB,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOlzB,iBAAiB,CAAC,aAAa;AACpC,UAAIqN,MAAM,GAAG,MAAMtT,UAAU,CAACm5B,OAAD,CAA7B;AACAA,MAAAA,OAAO,CAAC/H,qBAAR,GAAgC,MAAM9d,MAAM,CAAC8d,qBAAP,EAAtC;AACA+H,MAAAA,OAAO,CAACJ,kBAAR,GAA6B,MAAMzlB,MAAM,CAACylB,kBAAP,EAAnC;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEDK,EAAAA,mBAAmB,GAAG;AACpB,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOpzB,iBAAiB,CAAC,aAAa;AACpC,UAAIqzB,qBAAJ;;AAEA,UAAIhmB,MAAM,GAAGlU,qBAAqB,CAACi6B,OAAD,CAAlC;AACAA,MAAAA,OAAO,CAACJ,gBAAR,GAA2B,CAACK,qBAAqB,GAAG,MAAMhmB,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAAC2lB,gBAAP,EAA/E,MAA8G,IAA9G,IAAsHK,qBAAqB,KAAK,KAAK,CAArJ,GAAyJA,qBAAzJ,GAAiL,KAA5M;AACD,KALuB,CAAjB,EAAP;AAMD;;AAEDte,EAAAA,kBAAkB,GAAG;AACnB,QAAIue,OAAO,GAAG,IAAd;;AAEA,WAAOtzB,iBAAiB,CAAC,aAAa;AACpC,UAAIuzB,sBAAJ;;AAEA,UAAIlmB,MAAM,GAAGlU,qBAAqB,CAACm6B,OAAD,CAAlC;AACAA,MAAAA,OAAO,CAACP,eAAR,GAA0B,CAACQ,sBAAsB,GAAG,MAAMlmB,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAAC0lB,eAAP,EAAhF,MAA8G,IAA9G,IAAsHQ,sBAAsB,KAAK,KAAK,CAAtJ,GAA0JA,sBAA1J,GAAmL,KAA7M;AACD,KALuB,CAAjB,EAAP;AAMD;;AAEDvpB,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACD;;AAEDkb,EAAAA,gBAAgB,GAAG;AACjB,SAAKJ,kBAAL;AACD;;AAED9K,EAAAA,oBAAoB,GAAG;AACrB,SAAKkiB,kBAAL,CAAwBhd,KAAxB;AACD;;AAEDqkB,EAAAA,oBAAoB,CAAC9rB,KAAD,EAAQ;AAC1B,QAAI+rB,KAAK,GAAG/rB,KAAK,CAACnJ,MAAlB;AACA,SAAK8Z,QAAL,CAAc,cAAd,EAA8B5B,UAAU,CAACgd,KAAK,CAACx6B,KAAP,CAAxC;AACD;;AAEDy6B,EAAAA,wBAAwB,GAAG;AACzB,QAAI,KAAK1vB,aAAL,CAAmBtF,MAAnB,IAA6B,CAA7B,IAAkC,CAAC,KAAKo0B,kBAA5C,EAAgE;AAC9D,aAAO,CAAC,GAAGr5B,OAAO,CAAC0a,CAAZ,EAAe,cAAf,EAA+B;AACpCwB,QAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUtD,YADmB;AAEpCsxB,QAAAA,IAAI,EAAE,KAAKhuB,IAAL,CAAUxD;AAFoB,OAA/B,CAAP;AAID;;AAED,QAAIyxB,UAAU,GAAGC,IAAI,IAAIA,IAAI,KAAK,CAAT,GAAa,KAAKluB,IAAL,CAAUxD,MAAvB,GAAgC,GAAGsL,MAAH,CAAUomB,IAAV,CAAzD;;AAEA,WAAO,CAAC,GAAGp6B,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAClCwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUtD,YADiB;AAElCsxB,MAAAA,IAAI,EAAEC,UAAU,CAAC,KAAKvxB,YAAN;AAFkB,KAA7B,EAGJ,CAAC,GAAG5I,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC;AACvClb,MAAAA,KAAK,EAAE,GAAGwU,MAAH,CAAU,KAAKpL,YAAf,CADgC;AAEvCyxB,MAAAA,SAAS,EAAE,KAAKN,oBAAL,CAA0B3d,IAA1B,CAA+B,IAA/B;AAF4B,KAAtC,EAGA,KAAK7R,aAAL,CAAmB0K,GAAnB,CAAuBmlB,IAAI,IAAI,CAAC,GAAGp6B,OAAO,CAAC0a,CAAZ,EAAe,eAAf,EAAgC;AAChEwB,MAAAA,KAAK,EAAEie,UAAU,CAACC,IAAD,CAD+C;AAEhE56B,MAAAA,KAAK,EAAE,GAAGwU,MAAH,CAAUomB,IAAV;AAFyD,KAAhC,CAA/B,CAHA,CAHI,CAAP;AAUD;;AAEDE,EAAAA,uBAAuB,CAACrsB,KAAD,EAAQ;AAC7B,QAAI+rB,KAAK,GAAG/rB,KAAK,CAACnJ,MAAlB;AACA,SAAK8Z,QAAL,CAAc,iBAAd,EAAiCob,KAAK,CAACx6B,KAAvC;AACD;;AAED+6B,EAAAA,2BAA2B,GAAG;AAC5B,QAAI,KAAK/vB,iBAAL,CAAuBvF,MAAvB,IAAiC,CAAjC,IAAsC,CAAC,KAAKysB,qBAAhD,EAAuE;AACrE,UAAI8I,qBAAJ;;AAEA,aAAO,CAAC,GAAGx6B,OAAO,CAAC0a,CAAZ,EAAe,cAAf,EAA+B;AACpCwB,QAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUrD,eADmB;AAEpCqxB,QAAAA,IAAI,EAAE,CAACM,qBAAqB,GAAG,KAAK3xB,eAA9B,MAAmD,IAAnD,IAA2D2xB,qBAAqB,KAAK,KAAK,CAA1F,GAA8FA,qBAA9F,GAAsH,KAAKtuB,IAAL,CAAUhE;AAFlG,OAA/B,CAAP;AAID,KAR2B,CAQ1B;;;AAGF,QAAIuyB,QAAQ,GAAGjK,OAAO,IAAI;AACxB,UAAIkK,cAAc,GAAGC,QAAQ,CAACnK,OAAO,CAAC/b,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAD,EAAuB,EAAvB,CAA7B;AACA,UAAIimB,cAAc,IAAI,IAAtB,EAA4B,OAAO,KAAP;AAC5B,UAAIA,cAAc,IAAI,IAAtB,EAA4B,OAAO,IAAP;AAC5B,aAAO9zB,SAAP;AACD,KALD;;AAOA,WAAO,CAAC,GAAG5G,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAClCwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUrD,eADiB;AAElCqxB,MAAAA,IAAI,EAAE,KAAKrxB;AAFuB,KAA7B,EAGJ,CAAC,GAAG7I,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC;AACvClb,MAAAA,KAAK,EAAE,KAAKqJ,eAD2B;AAEvCwxB,MAAAA,SAAS,EAAE,KAAKC,uBAAL,CAA6Ble,IAA7B,CAAkC,IAAlC;AAF4B,KAAtC,EAGA,KAAK5R,iBAAL,CAAuByK,GAAvB,CAA2Bub,OAAO,IAAI,CAAC,GAAGxwB,OAAO,CAAC0a,CAAZ,EAAe,eAAf,EAAgC;AACvEwB,MAAAA,KAAK,EAAEsU,OADgE;AAEvEhxB,MAAAA,KAAK,EAAEgxB,OAFgE;AAGvEoK,MAAAA,KAAK,EAAEH,QAAQ,CAACjK,OAAD;AAHwD,KAAhC,CAAtC,CAHA,CAHI,CAAP;AAWD;;AAEDqK,EAAAA,iBAAiB,CAAC5sB,KAAD,EAAQ;AACvB,QAAI+rB,KAAK,GAAG/rB,KAAK,CAACnJ,MAAlB;AACA,QAAIsyB,OAAO,GAAGuD,QAAQ,CAACX,KAAK,CAACx6B,KAAP,EAAc,EAAd,CAAtB;AACA,QAAIoU,MAAM,GAAGlU,qBAAqB,CAAC,IAAD,CAAlC;;AAEA,QAAI03B,OAAO,KAAK,CAAC,CAAjB,EAAoB;AAClBxjB,MAAAA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACiI,sBAAP,CAA8B,KAA9B,CAAhD;AACA;AACD;;AAEDjI,IAAAA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACiI,sBAAP,CAA8B,IAA9B,CAAhD;AACAjI,IAAAA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACsjB,mBAAP,CAA2BE,OAA3B,CAAhD;AACD;;AAED0D,EAAAA,sBAAsB,GAAG;AACvB,QAAIC,sBAAJ;;AAEA,QAAI,KAAKnxB,UAAL,CAAgB3E,MAAhB,IAA0B,CAA1B,IAA+B,CAAC,KAAKq0B,eAAzC,EAA0D;AACxD,UAAI0B,qBAAJ,EAA2BC,sBAA3B;;AAEA,aAAO,CAAC,GAAGj7B,OAAO,CAAC0a,CAAZ,EAAe,cAAf,EAA+B;AACpCwB,QAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUnE,aADmB;AAEpCmyB,QAAAA,IAAI,EAAE,CAACc,qBAAqB,GAAG,CAACC,sBAAsB,GAAG,KAAKrxB,UAAL,CAAgB,KAAKC,gBAArB,CAA1B,MAAsE,IAAtE,IAA8EoxB,sBAAsB,KAAK,KAAK,CAA9G,GAAkH,KAAK,CAAvH,GAA2HA,sBAAsB,CAAC/e,KAA3K,MAAsL,IAAtL,IAA8L8e,qBAAqB,KAAK,KAAK,CAA7N,GAAiOA,qBAAjO,GAAyP,KAAK9uB,IAAL,CAAUvD;AAFrO,OAA/B,CAAP;AAID;;AAED,WAAO,CAAC,GAAG3I,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAClCwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUnE,aADiB;AAElCmyB,MAAAA,IAAI,EAAE,KAAKlwB,kBAAL,GAA0B,CAAC+wB,sBAAsB,GAAG,KAAKnxB,UAAL,CAAgB,KAAKC,gBAArB,CAA1B,MAAsE,IAAtE,IAA8EkxB,sBAAsB,KAAK,KAAK,CAA9G,GAAkH,KAAK,CAAvH,GAA2HA,sBAAsB,CAAC7e,KAA5K,GAAoL,KAAKhQ,IAAL,CAAUlD;AAFlK,KAA7B,EAGJ,CAAC,GAAGhJ,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC;AACvClb,MAAAA,KAAK,EAAE,GAAGwU,MAAH,CAAU,CAAC,KAAKhK,kBAAN,GAA2B,CAAC,CAA5B,GAAgC,KAAKH,gBAA/C,CADgC;AAEvCwwB,MAAAA,SAAS,EAAE,KAAKQ,iBAAL,CAAuBze,IAAvB,CAA4B,IAA5B;AAF4B,KAAtC,EAGA,CAAC,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,eAAf,EAAgC;AAClCwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUlD,GADiB;AAElCxJ,MAAAA,KAAK,EAAE;AAF2B,KAAhC,CAAD,EAGCwU,MAHD,CAGQ,KAAKpK,UAAL,CAAgBqL,GAAhB,CAAoB,CAACye,KAAD,EAAQ3uB,CAAR,KAAc,CAAC,GAAG/E,OAAO,CAAC0a,CAAZ,EAAe,eAAf,EAAgC;AAC3EwB,MAAAA,KAAK,EAAEwX,KAAK,CAACxX,KAD8D;AAE3E1c,MAAAA,KAAK,EAAE,GAAGwU,MAAH,CAAUjP,CAAV;AAFoE,KAAhC,CAAlC,CAHR,CAHA,CAHI,CAAP;AAaD;;AAEDm2B,EAAAA,kBAAkB,CAACjtB,KAAD,EAAQ;AACxB,QAAI+rB,KAAK,GAAG/rB,KAAK,CAACnJ,MAAlB;AACA,QAAIsyB,OAAO,GAAGuD,QAAQ,CAACX,KAAK,CAACx6B,KAAP,EAAc,EAAd,CAAtB;AACA,QAAIoU,MAAM,GAAGlU,qBAAqB,CAAC,IAAD,CAAlC;AACAkU,IAAAA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACunB,oBAAP,CAA4B/D,OAA5B,CAAhD;AACD;;AAEDgE,EAAAA,oBAAoB,GAAG;AACrB,QAAIC,sBAAJ;;AAEA,QAAI,KAAKvxB,WAAL,CAAiB7E,MAAjB,IAA2B,CAA3B,IAAgC,CAAC,KAAKs0B,gBAA1C,EAA4D;AAC1D,UAAI+B,qBAAJ,EAA2BC,sBAA3B;;AAEA,aAAO,CAAC,GAAGv7B,OAAO,CAAC0a,CAAZ,EAAe,cAAf,EAA+B;AACpCwB,QAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUtE,KADmB;AAEpCsyB,QAAAA,IAAI,EAAE,CAACoB,qBAAqB,GAAG,CAACC,sBAAsB,GAAG,KAAKzxB,WAAL,CAAiB,KAAKC,iBAAtB,CAA1B,MAAwE,IAAxE,IAAgFwxB,sBAAsB,KAAK,KAAK,CAAhH,GAAoH,KAAK,CAAzH,GAA6HA,sBAAsB,CAACrf,KAA7K,MAAwL,IAAxL,IAAgMof,qBAAqB,KAAK,KAAK,CAA/N,GAAmOA,qBAAnO,GAA2P,KAAKpvB,IAAL,CAAUrE;AAFvO,OAA/B,CAAP;AAID;;AAED,WAAO,CAAC,GAAG7H,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAClCwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUtE,KADiB;AAElCsyB,MAAAA,IAAI,EAAE,CAACmB,sBAAsB,GAAG,KAAKvxB,WAAL,CAAiB,KAAKC,iBAAtB,CAA1B,MAAwE,IAAxE,IAAgFsxB,sBAAsB,KAAK,KAAK,CAAhH,GAAoH,KAAK,CAAzH,GAA6HA,sBAAsB,CAACnf;AAFxH,KAA7B,EAGJ,CAAC,GAAGlc,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC;AACvClb,MAAAA,KAAK,EAAE,GAAGwU,MAAH,CAAU,KAAKjK,iBAAf,CADgC;AAEvCswB,MAAAA,SAAS,EAAE,KAAKa,kBAAL,CAAwB9e,IAAxB,CAA6B,IAA7B;AAF4B,KAAtC,EAGA,KAAKtS,WAAL,CAAiBmL,GAAjB,CAAqB,CAACye,KAAD,EAAQ3uB,CAAR,KAAc,CAAC,GAAG/E,OAAO,CAAC0a,CAAZ,EAAe,eAAf,EAAgC;AACpEwB,MAAAA,KAAK,EAAEwX,KAAK,CAACxX,KADuD;AAEpE1c,MAAAA,KAAK,EAAE,GAAGwU,MAAH,CAAUjP,CAAV;AAF6D,KAAhC,CAAnC,CAHA,CAHI,CAAP;AAUD;;AAED0V,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B;AACnCwK,MAAAA,GAAG,EAAE,KAAKA;AADyB,KAA9B,EAEJ,KAAKkW,oBAAL,EAFI,EAEyB,KAAKnB,wBAAL,EAFzB,EAE0D,KAAKM,2BAAL,EAF1D,EAE8F,KAAKnvB,WAAL,IAAoB,KAAK0vB,sBAAL,EAFlH,EAEiJ,CAAC,GAAG96B,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAFjJ,CAAP;AAGD;;AAEkB,aAAR+B,QAAQ,GAAG;AACpB,WAAO;AACL,uBAAiB,CAAC,iBAAD,EAAoB,qBAApB,EAA2C,oBAA3C,CADZ;AAEL,qBAAe,CAAC,qBAAD,CAFV;AAGL,oBAAc,CAAC,oBAAD;AAHT,KAAP;AAKD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOyc,kBAAP;AACD;;AA1P6C,CAAhD;AA6PA,IAAIqC,YAAY,GAAG,6CAAnB;AACA,IAAIC,SAAS,GAAG,cAAc1tB,WAAd,CAA0B;AACxCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;AACJ;AACA;;AAEI,SAAK0gB,aAAL,GAAqB,KAArB;AACA;AACJ;AACA;;AAEI,SAAKC,oBAAL,GAA4B,KAA5B;AACA;AACJ;AACA;;AAEI,SAAKC,UAAL,GAAkB,KAAlB;AACA;AACJ;AACA;;AAEI,SAAKC,QAAL,GAAgB,KAAhB;AACA;AACJ;AACA;;AAEI,SAAKC,SAAL,GAAiB,KAAjB;AACA;AACJ;AACA;;AAEI,SAAKC,UAAL,GAAkB,KAAlB;AACA;AACJ;AACA;;AAEI,SAAKC,UAAL,GAAkB,KAAlB;AACA;AACJ;AACA;;AAEI,SAAKC,eAAL,GAAuB,KAAvB;AACAp8B,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAED4a,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,OAAf,EAAwB,IAAxB,EAA8B,CAAC,KAAKghB,aAAN,IAAuB,CAAC,GAAG17B,OAAO,CAAC0a,CAAZ,EAAe,kBAAf,EAAmC,IAAnC,CAArD,EAA+F,CAAC,KAAKihB,oBAAN,IAA8B,CAAC,GAAG37B,OAAO,CAAC0a,CAAZ,EAAe,yBAAf,EAA0C,IAA1C,CAA7H,EAA8K,CAAC,KAAKkhB,UAAN,IAAoB,CAAC,GAAG57B,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B,IAA9B,CAAlM,EAAuO,CAAC,KAAKmhB,QAAN,IAAkB,CAAC,GAAG77B,OAAO,CAAC0a,CAAZ,EAAe,WAAf,EAA4B,IAA5B,CAAzP,EAA4R,CAAC,KAAKohB,SAAN,IAAmB,CAAC,GAAG97B,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B,IAA7B,CAA/S,EAAmV,CAAC,KAAKuhB,eAAN,IAAyB,CAAC,GAAGj8B,OAAO,CAAC0a,CAAZ,EAAe,mBAAf,EAAoC,IAApC,CAA5W,EAAuZ,CAAC,KAAKqhB,UAAN,IAAoB,CAAC,GAAG/7B,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC,IAAtC,CAA3a,EAAwd,CAAC,KAAKshB,UAAN,IAAoB,CAAC,GAAGh8B,OAAO,CAAC0a,CAAZ,EAAe,qBAAf,EAAsC,IAAtC,CAA5e,EAAyhB,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAAzhB,CAAP;AACD;;AAEe,aAALgC,KAAK,GAAG;AACjB,WAAO8e,YAAP;AACD;;AAxDuC,CAA1C;;AA4DA,MAAMU,UAAN,CAAiB;AACfpvB,EAAAA,WAAW,CAACgB,EAAD,EAAKquB,UAAL,EAAiBlS,MAAjB,EAAyB;AAClC,QAAImS,iBAAJ;;AAEA,SAAKtuB,EAAL,GAAUA,EAAV;AACA,SAAKquB,UAAL,GAAkBA,UAAlB;AACA,SAAKlS,MAAL,GAAcA,MAAd;AACA,SAAKxW,SAAL,GAAiB,KAAjB;AACA,QAAI7G,iBAAiB,CAAC,KAAKkB,EAAN,CAArB,EAAgC;AAChC,SAAKuuB,eAAL,GAAuB,KAAKC,sBAAL,KAAgC,IAAIC,oBAAJ,CAAyB,KAAKC,cAAL,CAAoBpgB,IAApB,CAAyB,IAAzB,CAAzB,CAAhC,GAA2FxV,SAAlH;AACA,SAAK61B,WAAL,GAAmB,KAAKC,mBAAL,KAA6B,IAAIC,gBAAJ,CAAqB,KAAKC,UAAL,CAAgBxgB,IAAhB,CAAqB,IAArB,CAArB,CAA7B,GAAgFxV,SAAnG;AACA,KAACw1B,iBAAiB,GAAG,KAAKK,WAA1B,MAA2C,IAA3C,IAAmDL,iBAAiB,KAAK,KAAK,CAA9E,GAAkF,KAAK,CAAvF,GAA2FA,iBAAiB,CAAC7c,OAAlB,CAA0B,KAAKzR,EAA/B,EAAmC;AAC5H+uB,MAAAA,SAAS,EAAE,IADiH;AAE5HC,MAAAA,OAAO,EAAE,IAFmH;AAG5HC,MAAAA,eAAe,EAAE,KAAKZ;AAHsG,KAAnC,CAA3F;AAKA,SAAKa,QAAL;AACD;;AAEDC,EAAAA,OAAO,GAAG;AACR,WAAO,KAAKxpB,SAAZ;AACD;;AAEDypB,EAAAA,OAAO,GAAG;AACR,QAAIC,qBAAJ,EAA2BC,kBAA3B;;AAEA,KAACD,qBAAqB,GAAG,KAAKd,eAA9B,MAAmD,IAAnD,IAA2Dc,qBAAqB,KAAK,KAAK,CAA1F,GAA8F,KAAK,CAAnG,GAAuGA,qBAAqB,CAACE,UAAtB,EAAvG;AACA,KAACD,kBAAkB,GAAG,KAAKX,WAA3B,MAA4C,IAA5C,IAAoDW,kBAAkB,KAAK,KAAK,CAAhF,GAAoF,KAAK,CAAzF,GAA6FA,kBAAkB,CAACC,UAAnB,EAA7F;AACD;;AAEDf,EAAAA,sBAAsB,GAAG;AACvB,WAAO5V,SAAS,IAAI3U,MAAM,CAACwqB,oBAA3B;AACD;;AAEDG,EAAAA,mBAAmB,GAAG;AACpB,WAAOhW,SAAS,IAAI3U,MAAM,CAAC4qB,gBAA3B;AACD;;AAEDK,EAAAA,QAAQ,GAAG;AACT,QAAI,KAAKV,sBAAL,EAAJ,EAAmC;AACjC,UAAIgB,sBAAJ;;AAEA,OAACA,sBAAsB,GAAG,KAAKjB,eAA/B,MAAoD,IAApD,IAA4DiB,sBAAsB,KAAK,KAAK,CAA5F,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC/d,OAAvB,CAA+B,KAAKzR,EAApC,CAAzG;AACD,KAJD,MAIO;AACL,WAAKyvB,IAAL;AACD;AACF;;AAEDf,EAAAA,cAAc,CAACrd,OAAD,EAAU;AACtBA,IAAAA,OAAO,CAACha,OAAR,CAAgBia,KAAK,IAAI;AACvB,UAAIA,KAAK,CAACoe,iBAAN,GAA0B,CAA1B,IAA+Bpe,KAAK,CAACqe,cAAzC,EAAyD;AACvD,aAAKF,IAAL;AACA,aAAKlB,eAAL,CAAqBqB,SAArB,CAA+Bte,KAAK,CAACta,MAArC;AACD;AACF,KALD;AAMD;;AAED83B,EAAAA,UAAU,GAAG;AACX,QAAI,KAAKnpB,SAAT,EAAoB,KAAK8pB,IAAL;AACrB;;AAEDI,EAAAA,eAAe,GAAG;AAChB,QAAIC,IAAI,GAAG,CAAChxB,iBAAiB,CAAC,KAAKkB,EAAL,CAAQ8P,UAAT,CAAlB,GAAyC,KAAK9P,EAAL,CAAQ8P,UAAjD,GAA8D,KAAK9P,EAA9E;AACA,WAAO8vB,IAAI,CAACC,gBAAL,CAAsB,OAAtB,CAAP;AACD;;AAEDN,EAAAA,IAAI,GAAG;AACLxrB,IAAAA,MAAM,CAAC+rB,qBAAP,CAA6B,MAAM;AACjC,WAAKH,eAAL,GAAuBx4B,OAAvB,CAA+B,KAAK44B,MAAL,CAAY3hB,IAAZ,CAAiB,IAAjB,CAA/B;AACD,KAFD;AAGD;;AAED2hB,EAAAA,MAAM,CAACjwB,EAAD,EAAK;AACT,QAAIkwB,sBAAJ,EAA4BC,YAA5B;;AAEA,KAACD,sBAAsB,GAAG,KAAK3B,eAA/B,MAAoD,IAApD,IAA4D2B,sBAAsB,KAAK,KAAK,CAA5F,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAACN,SAAvB,CAAiC5vB,EAAjC,CAAzG;AACA,SAAK2F,SAAL,GAAiB,IAAjB;AACA,KAACwqB,YAAY,GAAG,KAAKhU,MAArB,MAAiC,IAAjC,IAAyCgU,YAAY,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,YAAY,CAACvuB,IAAb,CAAkB,IAAlB,EAAwB5B,EAAxB,CAA5E;AACD;;AA9Ec;;AAkFjB,IAAIowB,QAAQ,GAAG,+HAAf;AACA,IAAIC,OAAO,GAAG,CAAd;AACA,IAAIC,SAAS,GAAG,IAAIhyB,GAAJ,EAAhB;AACA,IAAIiyB,KAAK,GAAG,cAActwB,WAAd,CAA0B;AACpCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKsjB,gBAAL,GAAwB,CAAC,GAAGt+B,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,kBAA/B,EAAmD,CAAnD,CAAxB;AACA,SAAKwd,cAAL,GAAsB,CAAC,GAAGv+B,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,gBAA/B,EAAiD,CAAjD,CAAtB;AACA,SAAKyd,aAAL,GAAqB,CAAC,GAAGx+B,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,eAA/B,EAAgD,CAAhD,CAArB;AACA,SAAK0d,aAAL,GAAqB,EAArB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA;AACJ;AACA;;AAEI,SAAK9Q,QAAL,GAAgB,EAAhB;AACA;AACJ;AACA;;AAEI,SAAKnkB,UAAL,GAAkB,EAAlB;AACA;AACJ;AACA;AACA;;AAEI,SAAKuhB,MAAL,GAAc,EAAd;AACA;AACJ;AACA;AACA;;AAEI,SAAKqH,cAAL,GAAsB,EAAtB;AACAxyB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAED6vB,EAAAA,gBAAgB,GAAG;AACjB,SAAK+O,aAAL,GAAqBtxB,QAAQ,CAAC,KAAKygB,QAAN,CAAR,IAA2B,KAAKA,QAAL,CAAc3oB,MAAd,GAAuB,CAAlD,GAAsDknB,iBAAiB,CAAC,KAAKyB,QAAN,EAAgB,KAAK5C,MAArB,CAAvE,GAAsGpkB,SAA3H;AACD;;AAED+3B,EAAAA,mBAAmB,GAAG;AACpB,QAAIhyB,WAAW,CAAC,KAAK8xB,aAAN,CAAf,EAAqC;AACnC,WAAKH,gBAAL,CAAsB5b,IAAtB,CAA2B,KAAK+b,aAAhC;AACA;AACD;;AAED,QAAI,CAAC,KAAKC,kBAAN,IAA4B,CAACN,SAAS,CAAC9xB,GAAV,CAAc,KAAKshB,QAAnB,CAAjC,EAA+D;AAC7D,UAAIlC,UAAU,CAAC,KAAK+S,aAAN,CAAd,EAAoCL,SAAS,CAAC5oB,GAAV,CAAc,KAAKoY,QAAnB;AACrC;;AAED,SAAK0Q,gBAAL,CAAsB5b,IAAtB,CAA2B,KAAK+b,aAAhC;AACD;;AAEDG,EAAAA,oBAAoB,GAAG;AACrB,QAAI,KAAKF,kBAAT,EAA6B;AAC3B;AACD;;AAED,SAAKrM,cAAL,CAAoB7tB,MAApB,CAA2Bq6B,UAAU,IAAI,CAACT,SAAS,CAAC9xB,GAAV,CAAcuyB,UAAd,CAA1C,EAAqE15B,OAArE,CAA6E05B,UAAU,IAAI;AACzF,UAAInT,UAAU,CAACmT,UAAD,CAAd,EAA4BT,SAAS,CAAC5oB,GAAV,CAAcqpB,UAAd;AAC7B,KAFD;AAGD;;AAEDtuB,EAAAA,iBAAiB,GAAG;AAClB,SAAKuuB,UAAL,GAAkB,IAAI5C,UAAJ,CAAe,KAAKzjB,IAApB,EAA0B,CAAC,UAAD,CAA1B,EAAwC3K,EAAE,IAAI;AAC9D,UAAI0b,GAAG,GAAG1b,EAAE,CAACixB,YAAH,CAAgB,UAAhB,CAAV;AACAjxB,MAAAA,EAAE,CAACkxB,eAAH,CAAmB,KAAnB;AACA,UAAI,CAACvyB,MAAM,CAAC+c,GAAD,CAAX,EAAkB1b,EAAE,CAAC+a,YAAH,CAAgB,KAAhB,EAAuBW,GAAvB;AACnB,KAJiB,CAAlB;AAKA,SAAKkG,gBAAL;AACA,SAAKuP,WAAL;AACD;;AAEDzuB,EAAAA,oBAAoB,GAAG;AACrB,SAAKsuB,UAAL,CAAgB5B,OAAhB;AACD;;AAEDgC,EAAAA,eAAe,CAACvoB,CAAD,EAAI;AACjB,QAAIwoB,YAAJ,EAAkBC,aAAlB,EAAiCC,cAAjC;;AAEA,QAAIC,aAAa,GAAG3oB,CAAC,CAACzR,MAAF,MAAc,CAACi6B,YAAY,GAAG,KAAKI,MAArB,MAAiC,IAAjC,IAAyCJ,YAAY,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,YAAY,CAACK,aAAvG,MAA0H,CAACryB,QAAQ,CAAC,KAAKglB,MAAN,CAAT,IAA0B,KAAKA,MAAL,KAAgBxb,CAAC,CAACwb,MAAtK,CAApB;AACA,QAAI,CAACmN,aAAL,EAAoB;AACpB,QAAIG,OAAO,GAAG,CAACL,aAAa,GAAG,CAACC,cAAc,GAAG,KAAKjN,OAAvB,MAAoC,IAApC,IAA4CiN,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAAC3vB,IAAf,CAAoB,IAApB,EAA0BiH,CAAC,CAAC8T,IAA5B,CAAlG,MAAyI,IAAzI,IAAiJ2U,aAAa,KAAK,KAAK,CAAxK,GAA4KA,aAA5K,GAA4LzoB,CAAC,CAAC8T,IAA5M;AACA,QAAIgV,OAAJ,EAAa,KAAKlB,cAAL,CAAoB7b,IAApB,CAAyB+c,OAAzB;AACd;AACD;AACF;AACA;;;AAGEzQ,EAAAA,WAAW,CAACyQ,OAAD,EAAU36B,MAAV,EAAkB;AAC3B,QAAI46B,OAAO,GAAG,IAAd;;AAEA,WAAOn5B,iBAAiB,CAAC,aAAa;AACpC,UAAIo5B,cAAJ,EAAoBC,qBAApB;;AAEA,OAACD,cAAc,GAAGD,OAAO,CAACH,MAA1B,MAAsC,IAAtC,IAA8CI,cAAc,KAAK,KAAK,CAAtE,GAA0E,KAAK,CAA/E,GAAmF,CAACC,qBAAqB,GAAGD,cAAc,CAACH,aAAxC,MAA2D,IAA3D,IAAmEI,qBAAqB,KAAK,KAAK,CAAlG,GAAsG,KAAK,CAA3G,GAA+GA,qBAAqB,CAAC5Q,WAAtB,CAAkC9F,IAAI,CAAC2W,SAAL,CAAeJ,OAAf,CAAlC,EAA2D36B,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuCA,MAAvC,GAAgD,GAA3G,CAAlM;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEDmlB,EAAAA,MAAM,GAAG;AACP,SAAKuU,aAAL,CAAmB9b,IAAnB;AACD;;AAEDuc,EAAAA,WAAW,GAAG;AACZd,IAAAA,OAAO,IAAI,CAAX;AACA,SAAK5b,EAAL,GAAU,aAAavO,MAAb,CAAoBmqB,OAApB,CAAV;AACD;;AAED1jB,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,QAAf,EAAyB;AAC9B6H,MAAAA,EAAE,EAAE,KAAKA,EADqB;AAE9BtC,MAAAA,KAAK,EAAE,MAFuB;AAG9BkQ,MAAAA,KAAK,EAAE,KAAK1mB,UAHkB;AAI9B,kBAAY,KAAKg1B,aAJa;AAK9BqB,MAAAA,eAAe,EAAE,IALa;AAM9BC,MAAAA,KAAK,EAAE,gDANuB;AAO9B9V,MAAAA,MAAM,EAAE,KAAKA,MAAL,CAAY7N,IAAZ,CAAiB,IAAjB,CAPsB;AAQ9BvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKyxB,MAAL,GAAczxB,EAAd;AACD;AAV6B,KAAzB,CAAP;AAYD;;AAEO,MAAJ2K,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,kBAAY,CAAC,kBAAD,CADP;AAEL,gBAAU,CAAC,kBAAD,CAFL;AAGL,uBAAiB,CAAC,qBAAD,CAHZ;AAIL,wBAAkB,CAAC,sBAAD;AAJb,KAAP;AAMD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOwhB,QAAP;AACD;;AA5ImC,CAAtC;AA+IA,IAAI8B,UAAU,GAAG,+DAAjB;AACA,IAAIC,OAAO,GAAG,cAAclyB,WAAd,CAA0B;AACtCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;;AAEA,SAAK5T,QAAL,GAAgB,CAAC,CAAjB;AACA;;AAEA,SAAK8E,IAAL,GAAY,EAAZ;AACA;AACJ;AACA;AACA;;AAEI,SAAKsa,eAAL,GAAuB,KAAvB;AACA3mB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,UAAD,EAAa,MAAb,CAAP,CAAjB;AACD;;AAEDua,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC/BwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAU9E,QADc;AAE/Bqf,MAAAA,OAAO,EAAEjJ,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,KAAKrW,QAAjB,CAFsB;AAG/Bof,MAAAA,eAAe,EAAE,KAAKA;AAHS,KAA1B,CAAP;AAKD;;AAEe,aAAL9J,KAAK,GAAG;AACjB,WAAOsjB,UAAP;AACD;;AAjCqC,CAAxC;AAoCA,IAAIE,OAAO,GAAG,2LAAd;AACA,IAAIC,IAAI,GAAG,cAAcpyB,WAAd,CAA0B;AACnCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,SAAK4T,WAAL,GAAmB,CAAC,GAAGvtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,aAA/B,EAA8C,CAA9C,CAAnB;AACA,SAAKyM,OAAL,GAAe,CAAC,GAAGxtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKqf,eAAL,GAAuB,CAAC,GAAGpgC,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,iBAA/B,EAAkD,CAAlD,CAAvB;AACA,SAAKsf,cAAL,GAAsB,CAAC,GAAGrgC,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,gBAA/B,EAAiD,CAAjD,CAAtB;AACA,SAAK2R,kBAAL,GAA0B,IAAIpd,QAAJ,EAA1B;AACA,SAAKgrB,sBAAL,GAA8B,IAA9B;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,kBAAL,GAA0B,IAAIlrB,QAAJ,EAA1B;AACA;;AAEA,SAAKsE,UAAL,GAAkB,KAAlB;AACA;;AAEA,SAAKC,OAAL,GAAe,UAAf;AACA;AACJ;AACA;;AAEI,SAAKtP,aAAL,GAAqB,CAAC,IAAD,EAAO,GAAP,EAAY,IAAZ,EAAkB,CAAlB,EAAqB,IAArB,EAA2B,GAA3B,EAAgC,CAAhC,CAArB;AACA;;AAEA,SAAKwB,QAAL,GAAgB,IAAhB;AACA;;AAEA,SAAK5B,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKW,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKhC,IAAL,GAAY,KAAZ;AACA;;AAEA,SAAKwB,KAAL,GAAa,KAAb;AACA;;AAEA,SAAKwB,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAK6O,SAAL,GAAiB,KAAjB;AACA;;AAEA,SAAKrR,MAAL,GAAc,IAAd;AACA;;AAEA,SAAK/B,WAAL,GAAmB,CAAnB;AACA;;AAEA,SAAKE,MAAL,GAAc,CAAd;AACA;;AAEA,SAAK4C,aAAL,GAAqB,KAArB;AACA;;AAEA,SAAKM,eAAL,GAAuB,KAAvB;AACA;;AAEA,SAAKd,gBAAL,GAAwB,CAAC,CAAzB;AACA;;AAEA,SAAKkuB,oBAAL,GAA4B,KAA5B;AACA;;AAEA,SAAK/tB,kBAAL,GAA0B,IAA1B;AACA;;AAEA,SAAKC,4BAAL,GAAoC,IAApC;AACApK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA2Z,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACA0T,IAAAA,mBAAmB,CAAC,IAAD,EAAO,CAAC,eAAD,EAAkB,iBAAlB,EAAqC,aAArC,EAAoD,QAApD,EAA8D,QAA9D,EAAwE,kBAAxE,EAA4F,oBAA5F,EAAkH,8BAAlH,CAAP,CAAnB;AACAttB,IAAAA,sBAAsB,CAAC,IAAD,EAAO,WAAP,EAAoB6gC,IAAI,IAAI;AAChD,OAAC,KAAKC,QAAN,IAAkBD,IAAlB;AACD,KAFqB,CAAtB;AAGD;;AAEDE,EAAAA,kBAAkB,GAAG;AACnB,SAAK/hB,QAAL,CAAc,YAAd,EAA4B,KAAKnV,UAAjC;AACD;;AAEDm3B,EAAAA,cAAc,GAAG;AACf,QAAIC,cAAJ;;AAEA,QAAI,CAAC,KAAKl2B,eAAV,EAA2B,CAACk2B,cAAc,GAAG,KAAKlN,OAAvB,MAAoC,IAApC,IAA4CkN,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAACtD,IAAf,EAAjF;AAC5B;;AAEDuD,EAAAA,gBAAgB,GAAG;AACjB,SAAKliB,QAAL,CAAc,UAAd,EAA0B,KAAK1T,QAA/B;AACD;;AAEDqF,EAAAA,iBAAiB,GAAG;AAClB,SAAKwwB,cAAL;AACA,SAAKniB,QAAL,GAAgB1G,wBAAwB,CAAC,IAAD,CAAxC;AACA,SAAK4oB,gBAAL;AACA,SAAKF,cAAL;AACA,SAAKD,kBAAL;AACD;;AAEDK,EAAAA,kBAAkB,GAAG;AACnB,QAAI,KAAKC,WAAL,KAAqB,KAAKtN,OAA9B,EAAuC;AACrC,WAAKsN,WAAL,GAAmB,KAAKtN,OAAxB;AACA,WAAKyM,eAAL,CAAqB1d,IAArB,CAA0B,KAAKiR,OAA/B;AACD;AACF;;AAEDjY,EAAAA,gBAAgB,GAAG;AACjB,SAAKolB,gBAAL;AACD;;AAEDtwB,EAAAA,oBAAoB,GAAG;AACrB,QAAI0wB,gBAAJ;;AAEA,SAAKV,kBAAL,CAAwB9qB,KAAxB;AACA,SAAKgd,kBAAL,CAAwBhd,KAAxB;AACA,SAAKyrB,iBAAL;AACA,KAACD,gBAAgB,GAAG,KAAKpC,UAAzB,MAAyC,IAAzC,IAAiDoC,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAAChE,OAAjB,EAAxF;AACA,SAAKoD,sBAAL,GAA8B,IAA9B;AACD;;AAEDS,EAAAA,cAAc,GAAG;AACf,SAAKjC,UAAL,GAAkB,IAAI5C,UAAJ,CAAe,KAAKzjB,IAApB,EAA0B,CAAC,UAAD,EAAa,aAAb,CAA1B,EAAuD,MAAM;AAC7E,UAAI7L,iBAAiB,CAAC,KAAK+mB,OAAN,CAArB,EAAqC;AACrC,UAAIjF,MAAM,GAAG,KAAKiF,OAAL,CAAaoL,YAAb,CAA0B,aAA1B,CAAb;AACA,UAAI,CAACtyB,MAAM,CAACiiB,MAAD,CAAX,EAAqB,KAAKiF,OAAL,CAAa9K,YAAb,CAA0B,QAA1B,EAAoC6F,MAApC;AACrB,WAAK0S,OAAL;AACA,WAAKC,eAAL;AACD,KANiB,CAAlB;AAOD;;AAEDD,EAAAA,OAAO,GAAG;AACR,QAAIx0B,iBAAiB,CAAC,KAAK+mB,OAAN,CAArB,EAAqC;AACrC,QAAI;AACF7iB,MAAAA;AADE,QAEA,KAAK6iB,OAFT;;AAIA,SAAK,IAAI5uB,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI+L,QAAQ,CAAC7L,MAAT,GAAkB,CAAvC,EAA0CF,CAAC,IAAI,CAA/C,EAAkD;AAChD,UAAIu8B,KAAK,GAAGxwB,QAAQ,CAAC/L,CAAD,CAApB;AACA,UAAIykB,GAAG,GAAG8X,KAAK,CAACvC,YAAN,CAAmB,UAAnB,KAAkCuC,KAAK,CAACvC,YAAN,CAAmB,KAAnB,CAAlC,IAA+DuC,KAAK,CAACvC,YAAN,CAAmB,SAAnB,CAAzE;AACAuC,MAAAA,KAAK,CAACtC,eAAN,CAAsB,KAAtB;AACA,UAAIvyB,MAAM,CAAC+c,GAAD,CAAV,EAAiB;AACjB8X,MAAAA,KAAK,CAACzY,YAAN,CAAmB,SAAnB,EAA8BW,GAA9B;AACA8X,MAAAA,KAAK,CAACzY,YAAN,CAAmB,KAAnB,EAA0BW,GAA1B;AACD;AACF;;AAED6X,EAAAA,eAAe,GAAG;AAChB,QAAIz0B,iBAAiB,CAAC,KAAK+mB,OAAN,CAArB,EAAqC;AACrC,QAAI4N,OAAO,GAAG7zB,KAAK,CAACoJ,IAAN,CAAW,KAAK6c,OAAL,CAAakK,gBAAb,CAA8B,QAA9B,CAAX,CAAd;AACA,QAAI2D,MAAM,GAAGD,OAAO,CAACtsB,GAAR,CAAY/P,MAAM,IAAI;AACjC,UAAIu8B,oBAAJ;;AAEA,aAAO;AACLjY,QAAAA,GAAG,EAAEtkB,MAAM,CAAC65B,YAAP,CAAoB,SAApB,CADA;AAEL2C,QAAAA,KAAK,EAAE,CAACD,oBAAoB,GAAGv8B,MAAM,CAAC65B,YAAP,CAAoB,YAApB,CAAxB,MAA+D,IAA/D,IAAuE0C,oBAAoB,KAAK,KAAK,CAArG,GAAyGA,oBAAzG,GAAgI76B,SAFlI;AAGLiH,QAAAA,GAAG,EAAE3I;AAHA,OAAP;AAKD,KARY,CAAb;AASA,QAAIy8B,SAAS,GAAG,KAAKpB,aAAL,CAAmBt7B,MAAnB,KAA8Bu8B,MAAM,CAACv8B,MAArC,IAA+Cu8B,MAAM,CAACxqB,IAAP,CAAY,CAAC4qB,QAAD,EAAW78B,CAAX,KAAiB,KAAKw7B,aAAL,CAAmBx7B,CAAnB,EAAsBykB,GAAtB,KAA8BoY,QAAQ,CAACpY,GAApE,CAA/D;;AAEA,QAAImY,SAAJ,EAAe;AACb,WAAKpB,aAAL,GAAqBiB,MAArB;AACA,WAAKK,cAAL;AACD;AACF;;AAEDA,EAAAA,cAAc,GAAG;AACf,QAAIC,cAAJ;;AAEA,SAAKpP,kBAAL,CAAwBhd,KAAxB;AACA,SAAK8qB,kBAAL,CAAwB9qB,KAAxB;AACA,SAAK6X,WAAL,CAAiB7K,IAAjB;AACA,SAAK2d,cAAL,CAAoB3d,IAApB,CAAyB,KAAK6d,aAA9B;AACA,QAAI,CAAC,KAAK3mB,UAAV,EAAsB,CAACkoB,cAAc,GAAG,KAAKnO,OAAvB,MAAoC,IAApC,IAA4CmO,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAACvE,IAAf,EAAjF;AACvB;;AAEDwE,EAAAA,eAAe,GAAG;AAChB,WAAO,CAACjb,MAAD,IAAW,CAACna,WAAW,CAAC,KAAK+zB,QAAN,CAA9B;AACD;;AAEDS,EAAAA,iBAAiB,GAAG;AAClB,QAAIn0B,QAAQ,CAAC,KAAKg1B,OAAN,CAAZ,EAA4BjwB,MAAM,CAACkwB,oBAAP,CAA4B,KAAKD,OAAjC;AAC5B,SAAKA,OAAL,GAAep7B,SAAf;AACD;;AAEDs7B,EAAAA,kBAAkB,GAAG;AACnB,QAAIC,qBAAJ,EAA2BC,cAA3B;;AAEA,SAAKxjB,QAAL,CAAc,aAAd,EAA6B,CAACujB,qBAAqB,GAAG,CAACC,cAAc,GAAG,KAAKzO,OAAvB,MAAoC,IAApC,IAA4CyO,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAAC76B,WAAzH,MAA0I,IAA1I,IAAkJ46B,qBAAqB,KAAK,KAAK,CAAjL,GAAqLA,qBAArL,GAA6M,CAA1O;AACA,SAAKH,OAAL,GAAejwB,MAAM,CAAC+rB,qBAAP,CAA6B,MAAM;AAChD,WAAKoE,kBAAL;AACD,KAFc,CAAf;AAGD;;AAEDG,EAAAA,YAAY,GAAG;AACb,QAAI;AACF34B,MAAAA;AADE,QAEA,KAAKiqB,OAFT;AAGA,QAAI/b,UAAU,CAAC2C,IAAX,CAAgB7Q,UAAhB,CAAJ,EAAiC,OAAO3F,SAAS,CAAC2V,KAAjB;AACjC,QAAI7B,UAAU,CAAC0C,IAAX,CAAgB7Q,UAAhB,KAA+BoO,QAAQ,CAACyC,IAAT,CAAc7Q,UAAd,CAAnC,EAA8D,OAAO3F,SAAS,CAAC4qB,KAAjB;AAC9D,WAAO/nB,SAAP;AACD;;AAED07B,EAAAA,gBAAgB,GAAG;AACjB,SAAK3O,OAAL,CAAalsB,MAAb,GAAsB,KAAKA,MAAL,GAAc,GAApC;AACA,SAAK+sB,4BAAL;AACA,SAAKlZ,kBAAL;AACA,SAAKinB,UAAL;AACA,SAAK3jB,QAAL,CAAc,eAAd,EAA+B,KAAK8P,MAApC;AACA,SAAK9P,QAAL,CAAc,UAAd,EAA0B,KAAK+U,OAAL,CAAavsB,QAAvC;AACA,SAAKwX,QAAL,CAAc,eAAd,EAA+B,KAAKrU,aAApC;;AAEA,QAAI,CAAC,KAAKqP,UAAV,EAAsB;AACpB,WAAKgF,QAAL,CAAc,YAAd,EAA4B,KAAK+U,OAAL,CAAajqB,UAAzC;AACA,WAAKkV,QAAL,CAAc,WAAd,EAA2B,KAAKyjB,YAAL,EAA3B;AACA,WAAKzjB,QAAL,CAAc,eAAd,EAA+B,IAA/B;AACD;AACF;;AAED2jB,EAAAA,UAAU,GAAG;AACX,QAAI;AACFl7B,MAAAA,QADE;AAEFD,MAAAA;AAFE,QAGA,KAAKusB,OAHT;AAIA,QAAI6O,GAAG,GAAGn7B,QAAQ,CAACpC,MAAT,KAAoB,CAApB,GAAwB,CAAxB,GAA4BoC,QAAQ,CAACm7B,GAAT,CAAan7B,QAAQ,CAACpC,MAAT,GAAkB,CAA/B,CAAtC;AACA,SAAK2Z,QAAL,CAAc,UAAd,EAA0B4jB,GAAG,GAAGp7B,QAAN,GAAiBA,QAAjB,GAA4Bo7B,GAAtD;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,SAAKP,kBAAL;AACA,SAAKtjB,QAAL,CAAc,QAAd,EAAwB,KAAxB;AACA,QAAI,CAAC,KAAKjU,eAAV,EAA2B,KAAKiU,QAAL,CAAc,iBAAd,EAAiC,IAAjC;AAC5B;;AAED8jB,EAAAA,OAAO,GAAG;AACR,SAAKvB,iBAAL;AACA,SAAKviB,QAAL,CAAc,QAAd,EAAwB,IAAxB;AACA,SAAKA,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACD;;AAED+jB,EAAAA,SAAS,GAAG;AACV,SAAK/jB,QAAL,CAAc,SAAd,EAAyB,IAAzB;AACA,SAAKA,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACD;;AAEDgkB,EAAAA,SAAS,GAAG;AACV,QAAI,CAAC,KAAKtC,sBAAV,EAAkC,KAAKA,sBAAL,GAA8B,KAAK3M,OAAL,CAAarqB,MAA3C;AAClC,SAAKsV,QAAL,CAAc,aAAd,EAA6B,KAAK+U,OAAL,CAAapsB,WAA1C;AACA,SAAKqX,QAAL,CAAc,SAAd,EAAyB,IAAzB;AACD;;AAEDikB,EAAAA,QAAQ,GAAG;AACT;AACA,QAAI,KAAKt7B,WAAL,KAAqB,CAArB,IAA0B,CAAC,KAAKoD,eAApC,EAAqD;AACrD,SAAKiU,QAAL,CAAc,SAAd,EAAyB,KAAzB;AACA,QAAI,CAAC,KAAKjU,eAAN,IAAyB,CAAC,KAAK21B,sBAAnC,EAA2D,KAAKwC,aAAL;AAC3D,SAAKxC,sBAAL,GAA8B,IAA9B;AACD;;AAEDyC,EAAAA,YAAY,GAAG;AACb,SAAKnkB,QAAL,CAAc,cAAd,EAA8B,KAAK+U,OAAL,CAAa/qB,YAA3C;AACD;;AAEDo6B,EAAAA,cAAc,GAAG;AACf,SAAKpkB,QAAL,CAAc,OAAd,EAAuB,KAAK+U,OAAL,CAAarpB,KAApC;AACA,SAAKsU,QAAL,CAAc,QAAd,EAAwB,KAAK+U,OAAL,CAAalsB,MAAb,GAAsB,GAA9C;AACD;;AAEDw7B,EAAAA,gBAAgB,GAAG;AACjB,SAAKrkB,QAAL,CAAc,UAAd,EAA0B,KAAK+U,OAAL,CAAavsB,QAAvC;AACD;;AAED87B,EAAAA,SAAS,GAAG;AACV,SAAKtkB,QAAL,CAAc,WAAd,EAA2B,IAA3B;AACD;;AAEDukB,EAAAA,SAAS,GAAG;AACV,SAAKvkB,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACD;;AAEDwkB,EAAAA,OAAO,GAAG;AACR,QAAI,CAAC,KAAKt6B,IAAV,EAAgB,KAAK8V,QAAL,CAAc,eAAd,EAA+B,IAA/B;AACjB;;AAEDsL,EAAAA,OAAO,GAAG;AACR,SAAKsD,OAAL,CAAa9K,IAAb,CAAkB,KAAKiR,OAAL,CAAaxtB,KAA/B;AACD;;AAED28B,EAAAA,aAAa,GAAG;AACd,QAAI;AACF,UAAIO,cAAJ;;AAEA,OAACA,cAAc,GAAG,KAAK1P,OAAvB,MAAoC,IAApC,IAA4C0P,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAACv8B,IAAf,EAAjF;AACD,KAJD,CAIE,OAAO6P,CAAP,EAAU;AACV,WAAK6W,OAAL,CAAa9K,IAAb,CAAkB/L,CAAlB;AACD;AACF;;AAED2sB,EAAAA,iBAAiB,CAACC,MAAD,EAAS;AACxB,QAAIC,cAAJ;;AAEA,WAAOD,MAAM,GAAG,CAACC,cAAc,GAAG,KAAK7P,OAAvB,MAAoC,IAApC,IAA4C6P,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAACC,uBAAf,EAApF,GAA+H/jB,QAAQ,CAACgkB,oBAAT,EAA5I;AACD;;AAEDC,EAAAA,iBAAiB,CAACJ,MAAD,EAAS;AACxB,QAAIK,cAAJ,EAAoBC,cAApB;;AAEA,QAAIjQ,IAAI,GAAG2P,MAAM,GAAG;AACpB;AADiB,MAEf;AACF;AAHA;;AAMA,QAAI,EAAE,CAACK,cAAc,GAAG,KAAKjQ,OAAvB,MAAoC,IAApC,IAA4CiQ,cAAc,KAAK,KAAK,CAApE,IAAyEA,cAAc,CAACnb,8BAAf,CAA8CmL,IAA9C,CAA3E,CAAJ,EAAqI;AACnI,YAAM,IAAIkQ,KAAJ,CAAU,2BAAV,CAAN;AACD;;AAED,WAAO,CAACD,cAAc,GAAG,KAAKlQ,OAAvB,MAAoC,IAApC,IAA4CkQ,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAACnb,yBAAf,CAAyCkL,IAAzC,CAAxF;AACD;;AAEDmQ,EAAAA,SAAS,CAACR,MAAD,EAAS;AAChB,QAAIS,OAAO,GAAG,IAAd;;AAEA,WAAOz9B,iBAAiB,CAAC,aAAa;AACpC,UAAI8hB,iBAAiB,EAArB,EAAyB,OAAO2b,OAAO,CAACV,iBAAR,CAA0BC,MAA1B,CAAP;AACzB,UAAI/a,iBAAiB,EAArB,EAAyB,OAAOwb,OAAO,CAACL,iBAAR,CAA0BJ,MAA1B,CAAP;AACzB,YAAM,IAAIO,KAAJ,CAAU,2BAAV,CAAN;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEDG,EAAAA,gBAAgB,CAACV,MAAD,EAAS;AACvB,QAAIW,OAAO,GAAG,IAAd;;AAEA,WAAO39B,iBAAiB,CAAC,aAAa;AACpC,UAAI49B,eAAJ,EAAqBC,gBAArB,EAAuCC,gBAAvC;;AAEA,UAAI,EAAE,CAACF,eAAe,GAAGD,OAAO,CAACvQ,OAA3B,MAAwC,IAAxC,IAAgDwQ,eAAe,KAAK,KAAK,CAAzE,IAA8EA,eAAe,CAACG,wBAAhG,CAAJ,EAA+H;AAC7H,cAAM,IAAIR,KAAJ,CAAU,kCAAV,CAAN;AACD;;AAED,aAAOP,MAAM,GAAG,CAACa,gBAAgB,GAAGF,OAAO,CAACvQ,OAA5B,MAAyC,IAAzC,IAAiDyQ,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACpc,qBAAjB,EAA3F,GAAsI,CAACqc,gBAAgB,GAAGH,OAAO,CAACvQ,OAA5B,MAAyC,IAAzC,IAAiD0Q,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACE,oBAAjB,EAA3O;AACD,KARuB,CAAjB,EAAP;AASD;;AAEDC,EAAAA,wBAAwB,GAAG;AACzB,QAAIC,eAAJ;;AAEA,QAAI7Q,IAAI,GAAG,CAAC6Q,eAAe,GAAG,KAAK9Q,OAAxB,MAAqC,IAArC,IAA6C8Q,eAAe,KAAK,KAAK,CAAtE,GAA0E,KAAK,CAA/E,GAAmFA,eAAe,CAACC,sBAA9G;AACA,SAAK9lB,QAAL,CAAc,aAAd,EAA6BgV,IAAI,KAAK;AACtC;AADA;AAGA,SAAKhV,QAAL,CAAc,oBAAd,EAAoCgV,IAAI,KAAK;AAC7C;AADA;AAGD;;AAED+Q,EAAAA,UAAU,GAAG;AACX,SAAK/lB,QAAL,CAAc,aAAd,EAA6B,IAA7B;AACD;;AAEDgmB,EAAAA,UAAU,GAAG;AACX,SAAKhmB,QAAL,CAAc,aAAd,EAA6B,KAA7B;AACD;AACD;;;AAGA9E,EAAAA,UAAU,GAAG;AACX,QAAI+qB,OAAO,GAAG,IAAd;;AAEA,WAAOt+B,iBAAiB,CAAC,aAAa;AACpC,aAAO;AACLoqB,QAAAA,iBAAiB,EAAE,YAAY;AAC7B,cAAImU,mBAAmB,GAAGv+B,iBAAiB,CAAC,aAAa;AACvD,mBAAOs+B,OAAO,CAAClR,OAAf;AACD,WAF0C,CAA3C;;AAIA,mBAAShD,iBAAT,GAA6B;AAC3B,mBAAOmU,mBAAmB,CAAClgC,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;AACD;;AAED,iBAAO2rB,iBAAP;AACD,SAVkB,EADd;AAYL7pB,QAAAA,IAAI,EAAE,YAAY;AAChB,cAAIi+B,MAAM,GAAGx+B,iBAAiB,CAAC,aAAa;AAC1C,gBAAIy+B,eAAJ;;AAEA,mBAAO,CAACA,eAAe,GAAGH,OAAO,CAAClR,OAA3B,MAAwC,IAAxC,IAAgDqR,eAAe,KAAK,KAAK,CAAzE,GAA6E,KAAK,CAAlF,GAAsFA,eAAe,CAACl+B,IAAhB,EAA7F;AACD,WAJ6B,CAA9B;;AAMA,mBAASA,IAAT,GAAgB;AACd,mBAAOi+B,MAAM,CAACngC,KAAP,CAAa,IAAb,EAAmBI,SAAnB,CAAP;AACD;;AAED,iBAAO8B,IAAP;AACD,SAZK,EAZD;AAyBLC,QAAAA,KAAK,EAAE,YAAY;AACjB,cAAIk+B,OAAO,GAAG1+B,iBAAiB,CAAC,aAAa;AAC3C,gBAAI2+B,gBAAJ;;AAEA,mBAAO,CAACA,gBAAgB,GAAGL,OAAO,CAAClR,OAA5B,MAAyC,IAAzC,IAAiDuR,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACn+B,KAAjB,EAA/F;AACD,WAJ8B,CAA/B;;AAMA,mBAASA,KAAT,GAAiB;AACf,mBAAOk+B,OAAO,CAACrgC,KAAR,CAAc,IAAd,EAAoBI,SAApB,CAAP;AACD;;AAED,iBAAO+B,KAAP;AACD,SAZM,EAzBF;AAsCLqT,QAAAA,OAAO,EAAE,YAAY;AACnB,cAAI+qB,SAAS,GAAG5+B,iBAAiB,CAAC,WAAW+T,IAAX,EAAiB;AACjD,mBAAOnN,QAAQ,CAACmN,IAAD,CAAR,KAAmB1C,UAAU,CAAC2C,IAAX,CAAgBD,IAAhB,KAAyBzC,UAAU,CAAC0C,IAAX,CAAgBD,IAAhB,CAA5C,CAAP;AACD,WAFgC,CAAjC;;AAIA,mBAASF,OAAT,CAAiBgrB,IAAjB,EAAuB;AACrB,mBAAOD,SAAS,CAACvgC,KAAV,CAAgB,IAAhB,EAAsBI,SAAtB,CAAP;AACD;;AAED,iBAAOoV,OAAP;AACD,SAVQ,EAtCJ;AAiDL6W,QAAAA,cAAc,EAAE,YAAY;AAC1B,cAAIoU,gBAAgB,GAAG9+B,iBAAiB,CAAC,WAAW6pB,IAAX,EAAiB;AACxD,gBAAIyU,OAAO,CAAClR,OAAZ,EAAqBkR,OAAO,CAAClR,OAAR,CAAgBpsB,WAAhB,GAA8B6oB,IAA9B;AACtB,WAFuC,CAAxC;;AAIA,mBAASa,cAAT,CAAwBqU,IAAxB,EAA8B;AAC5B,mBAAOD,gBAAgB,CAACzgC,KAAjB,CAAuB,IAAvB,EAA6BI,SAA7B,CAAP;AACD;;AAED,iBAAOisB,cAAP;AACD,SAVe,EAjDX;AA4DLG,QAAAA,QAAQ,EAAE,YAAY;AACpB,cAAImU,UAAU,GAAGh/B,iBAAiB,CAAC,WAAW+D,KAAX,EAAkB;AACnD,gBAAIu6B,OAAO,CAAClR,OAAZ,EAAqBkR,OAAO,CAAClR,OAAR,CAAgBrpB,KAAhB,GAAwBA,KAAxB;AACtB,WAFiC,CAAlC;;AAIA,mBAAS8mB,QAAT,CAAkBoU,IAAlB,EAAwB;AACtB,mBAAOD,UAAU,CAAC3gC,KAAX,CAAiB,IAAjB,EAAuBI,SAAvB,CAAP;AACD;;AAED,iBAAOosB,QAAP;AACD,SAVS,EA5DL;AAuELG,QAAAA,SAAS,EAAE,YAAY;AACrB,cAAIkU,WAAW,GAAGl/B,iBAAiB,CAAC,WAAWkB,MAAX,EAAmB;AACrD,gBAAIo9B,OAAO,CAAClR,OAAZ,EAAqBkR,OAAO,CAAClR,OAAR,CAAgBlsB,MAAhB,GAAyBA,MAAM,GAAG,GAAlC;AACtB,WAFkC,CAAnC;;AAIA,mBAAS8pB,SAAT,CAAmBmU,IAAnB,EAAyB;AACvB,mBAAOD,WAAW,CAAC7gC,KAAZ,CAAkB,IAAlB,EAAwBI,SAAxB,CAAP;AACD;;AAED,iBAAOusB,SAAP;AACD,SAVU,EAvEN;AAkFL8H,QAAAA,kBAAkB,EAAE,YAAY;AAC9B,cAAIsM,mBAAmB,GAAGp/B,iBAAiB,CAAC,aAAa;AACvD,mBAAO,IAAP;AACD,WAF0C,CAA3C;;AAIA,mBAAS8yB,kBAAT,GAA8B;AAC5B,mBAAOsM,mBAAmB,CAAC/gC,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;AACD;;AAED,iBAAOq0B,kBAAP;AACD,SAVmB,EAlFf;AA6FLuM,QAAAA,eAAe,EAAE,YAAY;AAC3B,cAAIC,gBAAgB,GAAGt/B,iBAAiB,CAAC,WAAW6zB,IAAX,EAAiB;AACxD,gBAAIyK,OAAO,CAAClR,OAAZ,EAAqBkR,OAAO,CAAClR,OAAR,CAAgB/qB,YAAhB,GAA+BwxB,IAA/B;AACtB,WAFuC,CAAxC;;AAIA,mBAASwL,eAAT,CAAyBE,IAAzB,EAA+B;AAC7B,mBAAOD,gBAAgB,CAACjhC,KAAjB,CAAuB,IAAvB,EAA6BI,SAA7B,CAAP;AACD;;AAED,iBAAO4gC,eAAP;AACD,SAVgB,EA7FZ;AAwGLG,QAAAA,SAAS,EAAE,YAAY;AACrB,cAAIC,UAAU,GAAGz/B,iBAAiB,CAAC,aAAa;AAC9C,mBAAOoiB,SAAS,EAAhB;AACD,WAFiC,CAAlC;;AAIA,mBAASod,SAAT,GAAqB;AACnB,mBAAOC,UAAU,CAACphC,KAAX,CAAiB,IAAjB,EAAuBI,SAAvB,CAAP;AACD;;AAED,iBAAO+gC,SAAP;AACD,SAVU,EAxGN;AAmHL58B,QAAAA,QAAQ,EAAE,MAAM07B,OAAO,CAACd,SAAR,CAAkB,IAAlB,CAnHX;AAoHL36B,QAAAA,OAAO,EAAE,MAAMy7B,OAAO,CAACd,SAAR,CAAkB,KAAlB,CApHV;AAqHLhS,QAAAA,gBAAgB,EAAE,YAAY;AAC5B,cAAIkU,kBAAkB,GAAG1/B,iBAAiB,CAAC,aAAa;AACtD,mBAAOwhB,kBAAkB,EAAzB;AACD,WAFyC,CAA1C;;AAIA,mBAASgK,gBAAT,GAA4B;AAC1B,mBAAOkU,kBAAkB,CAACrhC,KAAnB,CAAyB,IAAzB,EAA+BI,SAA/B,CAAP;AACD;;AAED,iBAAO+sB,gBAAP;AACD,SAViB,EArHb;AAgIL3pB,QAAAA,eAAe,EAAE,MAAMy8B,OAAO,CAACZ,gBAAR,CAAyB,IAAzB,CAhIlB;AAiIL57B,QAAAA,cAAc,EAAE,MAAMw8B,OAAO,CAACZ,gBAAR,CAAyB,KAAzB,CAjIjB;AAkIL/M,QAAAA,mBAAmB,EAAE,YAAY;AAC/B,cAAIgP,qBAAqB,GAAG3/B,iBAAiB,CAAC,WAAW6wB,OAAX,EAAoB;AAChE,gBAAIA,OAAO,KAAKyN,OAAO,CAACh7B,gBAAxB,EAA0Cg7B,OAAO,CAACsB,oBAAR,CAA6B/O,OAA7B;AAC3C,WAF4C,CAA7C;;AAIA,mBAASF,mBAAT,CAA6BkP,IAA7B,EAAmC;AACjC,mBAAOF,qBAAqB,CAACthC,KAAtB,CAA4B,IAA5B,EAAkCI,SAAlC,CAAP;AACD;;AAED,iBAAOkyB,mBAAP;AACD,SAVoB,EAlIhB;AA6ILrb,QAAAA,sBAAsB,EAAE,YAAY;AAClC,cAAIwqB,wBAAwB,GAAG9/B,iBAAiB,CAAC,WAAWixB,SAAX,EAAsB;AACrEqN,YAAAA,OAAO,CAAC76B,kBAAR,GAA6BwtB,SAA7B;;AAEAqN,YAAAA,OAAO,CAACsB,oBAAR,CAA6BtB,OAAO,CAACh7B,gBAArC;AACD,WAJ+C,CAAhD;;AAMA,mBAASgS,sBAAT,CAAgCyqB,IAAhC,EAAsC;AACpC,mBAAOD,wBAAwB,CAACzhC,KAAzB,CAA+B,IAA/B,EAAqCI,SAArC,CAAP;AACD;;AAED,iBAAO6W,sBAAP;AACD,SAZuB;AA7InB,OAAP;AA2JD,KA5JuB,CAAjB,EAAP;AA6JD;;AAED0qB,EAAAA,4BAA4B,GAAG;AAC7B,QAAI,KAAKxO,oBAAT,EAA+B;AAC7B,WAAKrF,kBAAL,CAAwBhd,KAAxB;AACD,KAFD,MAEO,IAAI,KAAKrL,aAAT,EAAwB;AAC7B,WAAKmqB,4BAAL;AACD;AACF;;AAEDgS,EAAAA,oCAAoC,GAAG;AACrC,QAAI,KAAKzO,oBAAT,EAA+B;AAC/B,SAAKoO,oBAAL,CAA0B,KAAKt8B,gBAA/B;AACD;;AAED48B,EAAAA,iBAAiB,CAACx4B,KAAD,EAAQ;AACvB,QAAI,KAAK0M,SAAT,EAAoB1M,KAAK,CAACiL,wBAAN;AACrB;;AAEDD,EAAAA,oBAAoB,CAAChL,KAAD,EAAQ;AAC1B,QAAI,KAAK0M,SAAT,EAAoB1M,KAAK,CAACiL,wBAAN;AACrB;;AAEDwtB,EAAAA,qBAAqB,GAAG;AACtB,QAAIC,MAAM,GAAG,EAAb;AACA,QAAIC,aAAa,GAAGl5B,KAAK,CAACoJ,IAAN,CAAW,KAAK6c,OAAL,CAAa/pB,UAAxB,CAApB;;AAEA,SAAK,IAAI7E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6hC,aAAa,CAAC3hC,MAAlC,EAA0CF,CAAC,IAAI,CAA/C,EAAkD;AAChD,UAAI2uB,KAAK,GAAGkT,aAAa,CAAC7hC,CAAD,CAAzB,CADgD,CAClB;;AAE9B,UAAI,CAAC2uB,KAAK,CAACmT,IAAN,KAAe,WAAf,IAA8BnT,KAAK,CAACmT,IAAN,KAAe,UAA9C,KAA6DnT,KAAK,CAACxX,KAAvE,EAA8E;AAC5EyqB,QAAAA,MAAM,CAAChiC,IAAP,CAAYiiC,aAAa,CAAC7hC,CAAD,CAAzB;AACD;AACF;;AAED,WAAO4hC,MAAP;AACD;;AAEDnS,EAAAA,4BAA4B,GAAG;AAC7B,QAAI,KAAKuD,oBAAT,EAA+B;AAC/B,SAAKrF,kBAAL,CAAwBhd,KAAxB;AACA,QAAI/I,WAAW,CAAC,KAAKgnB,OAAN,CAAf,EAA+B;AAC/B,SAAKjB,kBAAL,CAAwBld,GAAxB,CAA4BvE,MAAM,CAAC,KAAK0iB,OAAL,CAAa/pB,UAAd,EAA0B,QAA1B,EAAoC,KAAK0R,kBAAL,CAAwBc,IAAxB,CAA6B,IAA7B,CAApC,CAAlC;AACD;;AAEDd,EAAAA,kBAAkB,GAAG;AACnB,QAAIwrB,eAAJ;;AAEA,QAAIH,MAAM,GAAG,KAAKD,qBAAL,EAAb;AACA,QAAItP,OAAO,GAAG,CAAC,CAAf;;AAEA,SAAK,IAAI7U,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGokB,MAAM,CAAC1hC,MAA7B,EAAqCsd,EAAE,IAAI,CAA3C,EAA8C;AAC5C,UAAIokB,MAAM,CAACpkB,EAAD,CAAN,CAAWqR,IAAX,KAAoB,QAAxB,EAAkC;AAChC;AACAwD,QAAAA,OAAO,GAAG7U,EAAV;AACD,OAHD,MAGO,IAAIokB,MAAM,CAACpkB,EAAD,CAAN,CAAWqR,IAAX,KAAoB,SAAxB,EAAmC;AACxCwD,QAAAA,OAAO,GAAG7U,EAAV;AACA;AACD;AACF;;AAED,QAAI,CAAC,KAAKtY,4BAAN,IAAsC,CAAC,CAAC68B,eAAe,GAAGH,MAAM,CAACvP,OAAD,CAAzB,MAAwC,IAAxC,IAAgD0P,eAAe,KAAK,KAAK,CAAzE,GAA6E,KAAK,CAAlF,GAAsFA,eAAe,CAAClT,IAAvG,MAAiH,SAA3J,EAAsK;AACpK+S,MAAAA,MAAM,CAACvP,OAAD,CAAN,CAAgBxD,IAAhB,GAAuB,QAAvB;AACA;AACD;;AAED,QAAI,KAAK3pB,4BAAT,EAAuC;AACrC,WAAKD,kBAAL,GAA0BotB,OAAO,KAAK,CAAC,CAAb,IAAkBuP,MAAM,CAACvP,OAAD,CAAN,CAAgBxD,IAAhB,KAAyB,SAArE;AACA,WAAKhV,QAAL,CAAc,oBAAd,EAAoC,KAAK5U,kBAAzC;AACD;;AAED,SAAK4U,QAAL,CAAc,YAAd,EAA4B+nB,MAA5B;AACA,SAAK/nB,QAAL,CAAc,kBAAd,EAAkC,KAAK3U,4BAAL,IAAqC,CAAC,KAAKD,kBAA3C,GAAgE,CAAC,CAAjE,GAAqEotB,OAAvG;AACD;;AAED+O,EAAAA,oBAAoB,CAACY,UAAD,EAAa;AAC/B,QAAIn6B,iBAAiB,CAAC,KAAK+mB,OAAN,CAArB,EAAqC;AACrC,QAAI;AACF/pB,MAAAA;AADE,QAEA,KAAK+pB,OAFT;;AAIA,QAAIoT,UAAU,KAAK,CAAC,CAApB,EAAuB;AACrBr5B,MAAAA,KAAK,CAACoJ,IAAN,CAAWlN,UAAX,EAAuBzE,OAAvB,CAA+BuuB,KAAK,IAAI;AACtCA,QAAAA,KAAK,CAACE,IAAN,GAAa,UAAb;AACD,OAFD;AAGD,KAJD,MAIO;AACL,UAAIoT,QAAQ,GAAGp9B,UAAU,CAAC,KAAKC,gBAAN,CAAzB;AACA,UAAIm9B,QAAJ,EAAcA,QAAQ,CAACpT,IAAT,GAAgB,UAAhB;AACf;;AAED,QAAIqT,SAAS,GAAGr9B,UAAU,CAACm9B,UAAD,CAA1B;;AAEA,QAAIE,SAAJ,EAAe;AACbA,MAAAA,SAAS,CAACrT,IAAV,GAAiB,KAAK5pB,kBAAL,IAA2B,KAAKC,4BAAhC,GAA+D,SAA/D,GAA2E,QAA5F;AACD;;AAED,SAAK2U,QAAL,CAAc,kBAAd,EAAkC,KAAK3U,4BAAL,IAAqC,CAAC,KAAKD,kBAA3C,GAAgE,CAAC,CAAjE,GAAqE+8B,UAAvG;AACA,SAAKnoB,QAAL,CAAc,oBAAd,EAAoC,KAAK5U,kBAAzC;AACD;;AAEDyQ,EAAAA,MAAM,GAAG;AACP,QAAIysB,UAAU,GAAG;AACf/8B,MAAAA,QAAQ,EAAE,KAAKA,QADA;AAEfG,MAAAA,KAAK,EAAE,KAAKA,KAFG;AAGfwB,MAAAA,WAAW,EAAE,KAAKA,WAHH;AAIfq7B,MAAAA,WAAW,EAAE,KAAKr7B,WAJH;AAKf,wBAAkB,KAAKA,WALR;AAMf,4BAAsB,KAAKA,WANZ;AAOfhB,MAAAA,QAAQ,EAAE,KAAKA,QAPA;AAQfs8B,MAAAA,WAAW,EAAE,KAAKxsB,WAAL,KAAqB,EAArB,GAA0B,WAA1B,GAAwC,KAAKA,WAR3C;AASfysB,MAAAA,YAAY,EAAE,KAAKzP,YATJ;AAUf,qBAAe,CAAC,KAAKmK,eAAL,EAAD,GAA0B,KAAKrT,MAA/B,GAAwC9nB,SAVxC;AAWfkC,MAAAA,IAAI,EAAE,KAAKA,IAXI;AAYf+Q,MAAAA,OAAO,EAAE,KAAKA,OAZC;AAaf0O,MAAAA,uBAAuB,EAAE,KAAKuP,UAbf;AAcfwP,MAAAA,oBAAoB,EAAE,KAAKzP,OAdZ;AAefhd,MAAAA,qBAAqB,EAAE,KAAKA,qBAfb;AAgBf,0BAAoB,KAAKA,qBAAL,GAA6B,MAA7B,GAAsC,OAhB3C;AAiBfhN,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAK6lB,OAAL,GAAe7lB,EAAf;AACD,OAnBc;AAoBfw0B,MAAAA,gBAAgB,EAAE,KAAKA,gBAAL,CAAsBlmB,IAAtB,CAA2B,IAA3B,CApBH;AAqBfmmB,MAAAA,UAAU,EAAE,KAAKA,UAAL,CAAgBnmB,IAAhB,CAAqB,IAArB,CArBG;AAsBfqmB,MAAAA,MAAM,EAAE,KAAKA,MAAL,CAAYrmB,IAAZ,CAAiB,IAAjB,CAtBO;AAuBfsmB,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAatmB,IAAb,CAAkB,IAAlB,CAvBM;AAwBfumB,MAAAA,SAAS,EAAE,KAAKA,SAAL,CAAevmB,IAAf,CAAoB,IAApB,CAxBI;AAyBfwmB,MAAAA,SAAS,EAAE,KAAKA,SAAL,CAAexmB,IAAf,CAAoB,IAApB,CAzBI;AA0BfymB,MAAAA,QAAQ,EAAE,KAAKA,QAAL,CAAczmB,IAAd,CAAmB,IAAnB,CA1BK;AA2Bf2mB,MAAAA,YAAY,EAAE,KAAKA,YAAL,CAAkB3mB,IAAlB,CAAuB,IAAvB,CA3BC;AA4Bf4mB,MAAAA,cAAc,EAAE,KAAKA,cAAL,CAAoB5mB,IAApB,CAAyB,IAAzB,CA5BD;AA6Bf6mB,MAAAA,gBAAgB,EAAE,KAAKA,gBAAL,CAAsB7mB,IAAtB,CAA2B,IAA3B,CA7BH;AA8Bf8mB,MAAAA,SAAS,EAAE,KAAKA,SAAL,CAAe9mB,IAAf,CAAoB,IAApB,CA9BI;AA+Bf+mB,MAAAA,SAAS,EAAE,KAAKA,SAAL,CAAe/mB,IAAf,CAAoB,IAApB,CA/BI;AAgCfgnB,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAahnB,IAAb,CAAkB,IAAlB,CAhCM;AAiCf8N,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAa9N,IAAb,CAAkB,IAAlB;AAjCM,KAAjB;AAmCA,QAAIxU,KAAK,GAAG,CAAC,GAAG5H,OAAO,CAAC0a,CAAZ,EAAe,OAAf,EAAwBrb,MAAM,CAAC0qB,MAAP,CAAc;AAChD9J,MAAAA,KAAK,EAAE;AADyC,KAAd,EAEjCinB,UAFiC,CAAxB,EAEI,CAAC,GAAGlnC,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAFJ,EAEkC,mCAFlC,EAEuE,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,EAA6B,OAA7B,CAFvE,EAE8G,UAF9G,CAAZ;AAGA,QAAIwL,KAAK,GAAG,CAAC,GAAGlmB,OAAO,CAAC0a,CAAZ,EAAe,OAAf,EAAwBrb,MAAM,CAAC0qB,MAAP,CAAc;AAChD9J,MAAAA,KAAK,EAAE;AADyC,KAAd,EAEjCinB,UAFiC,EAErB;AACb;AACAK,MAAAA,+BAA+B,EAAE,KAAK/C,wBAAL,CAA8BpoB,IAA9B,CAAmC,IAAnC,CAFpB;AAGborB,MAAAA,uBAAuB,EAAE,KAAK7C,UAAL,CAAgBvoB,IAAhB,CAAqB,IAArB,CAHZ;AAIbqrB,MAAAA,uBAAuB,EAAE,KAAK7C,UAAL,CAAgBxoB,IAAhB,CAAqB,IAArB;AAJZ,KAFqB,CAAxB,EAOR,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAPQ,EAOsB,mCAPtB,EAO2D,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,EAA6B,OAA7B,CAP3D,EAOkG,UAPlG,CAAZ;AAQA,WAAO,KAAKxP,QAAL,KAAkBxH,QAAQ,CAACgW,KAA3B,GAAmC9R,KAAnC,GAA2Cse,KAAlD;AACD;;AAEO,MAAJzN,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,oBAAc,CAAC,oBAAD,CADT;AAEL,gBAAU,CAAC,gBAAD,CAFL;AAGL,kBAAY,CAAC,kBAAD,CAHP;AAIL,8BAAwB,CAAC,8BAAD,CAJnB;AAKL,sCAAgC,CAAC,sCAAD;AAL3B,KAAP;AAOD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOwjB,OAAP;AACD;;AAxrBkC,CAArC;AA2rBA,IAAIwH,oBAAoB,GAAG,+BAA3B;AACA,IAAIC,iBAAiB,GAAG,cAAc55B,WAAd,CAA0B;AAChDjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK+W,gBAAL,GAAwB,KAAxB;AACA;AACJ;AACA;;AAEI,SAAK6V,SAAL,GAAiB,kBAAjB;AACA;AACJ;AACA;;AAEI,SAAKC,QAAL,GAAgB,iBAAhB;AACA;AACJ;AACA;;AAEI,SAAKzsB,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKC,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKhX,IAAL,GAAY,GAAZ;AACA;;AAEA,SAAK2G,kBAAL,GAA0B,KAA1B;AACA;;AAEA,SAAKkB,IAAL,GAAY,EAAZ;AACA;;AAEA,SAAK7B,aAAL,GAAqB,KAArB;AACAxK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,oBAAD,EAAuB,eAAvB,EAAwC,MAAxC,CAAP,CAAjB;AACD;;AAEDi4B,EAAAA,qBAAqB,GAAG;AACtB,QAAI2P,OAAO,GAAG,IAAd;;AAEA,WAAOvhC,iBAAiB,CAAC,aAAa;AACpC,UAAIwhC,qBAAJ;;AAEA,UAAIn0B,MAAM,GAAGlU,qBAAqB,CAACooC,OAAD,CAAlC;AACAA,MAAAA,OAAO,CAAC/V,gBAAR,GAA2B,CAACgW,qBAAqB,GAAG,MAAMn0B,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACme,gBAAP,EAA/E,MAA8G,IAA9G,IAAsHgW,qBAAqB,KAAK,KAAK,CAArJ,GAAyJA,qBAAzJ,GAAiL,KAA5M;AACD,KALuB,CAAjB,EAAP;AAMD;;AAEDrsB,EAAAA,gBAAgB,GAAG;AACjB,SAAKyc,qBAAL;AACD;;AAEDxc,EAAAA,OAAO,GAAG;AACR,QAAI/H,MAAM,GAAGlU,qBAAqB,CAAC,IAAD,CAAlC;AACA,KAAC,KAAKsL,kBAAN,GAA2B4I,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACxL,eAAP,EAA3E,GAAsGwL,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACvL,cAAP,EAAtJ;AACD;;AAEDoS,EAAAA,MAAM,GAAG;AACP,QAAIqB,OAAO,GAAG,KAAK9Q,kBAAL,GAA0B,KAAKkB,IAAL,CAAU7D,cAApC,GAAqD,KAAK6D,IAAL,CAAU9D,eAA7E;AACA,QAAI2T,eAAe,GAAG,CAACpP,WAAW,CAAC,KAAKtI,IAAN,CAAZ,GAA0B,GAAG2P,MAAH,CAAU8H,OAAV,EAAmB,IAAnB,EAAyB9H,MAAzB,CAAgC,KAAK3P,IAArC,EAA2C,GAA3C,CAA1B,GAA4EyX,OAAlG;AACA,WAAO,CAAC,GAAG9b,OAAO,CAAC0a,CAAZ,EAAe1a,OAAO,CAACgc,IAAvB,EAA6B;AAClCC,MAAAA,MAAM,EAAE,CAAC,KAAK8V;AADoB,KAA7B,EAEJ,CAAC,GAAG/xB,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC9BwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAU/D,UADa;AAE9B9D,MAAAA,IAAI,EAAE,KAAKA,IAFmB;AAG9B8X,MAAAA,OAAO,EAAE,KAAKnR,kBAHgB;AAI9BiR,MAAAA,MAAM,EAAE,CAAC,KAAK8V,gBAJgB;AAK9BpW,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB;AALqB,KAA7B,EAMA,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC3B1L,MAAAA,IAAI,EAAE,KAAKhE,kBAAL,GAA0B,KAAK68B,QAA/B,GAA0C,KAAKD,SAD1B;AAE3BvrB,MAAAA,OAAO,EAAE,KAAKnS;AAFa,KAA1B,CANA,EASC,CAAC,GAAGlK,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC/BuB,MAAAA,MAAM,EAAE,KAAKZ,WADkB;AAE/BiB,MAAAA,QAAQ,EAAE,KAAKlB,eAFgB;AAG/BmB,MAAAA,SAAS,EAAE,KAAKC;AAHe,KAA7B,EAIDT,eAJC,CATD,CAFI,CAAP;AAgBD;;AAEkB,aAARU,QAAQ,GAAG;AACpB,WAAO;AACL,uBAAiB,CAAC,uBAAD;AADZ,KAAP;AAGD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOgrB,oBAAP;AACD;;AA7F+C,CAAlD;AAgGA,IAAIM,GAAG,GAAG,cAAcj6B,WAAd,CAA0B;AAClCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,SAAK4T,WAAL,GAAmB,CAAC,GAAGvtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,aAA/B,EAA8C,CAA9C,CAAnB;AACA,SAAKyM,OAAL,GAAe,CAAC,GAAGxtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAK4R,WAAL,GAAmB,KAAnB;AACA;AACJ;AACA;AACA;;AAEI,SAAKC,OAAL,GAAe,QAAf;AACA;;AAEA,SAAK/Y,OAAL,GAAe,UAAf;AACA;;AAEA,SAAKxP,aAAL,GAAqB,KAArB;AACAxK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA2Z,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACAtZ,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,eAAD,CAAP,CAAjB;AACD;;AAEDqQ,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgB1G,wBAAwB,CAAC,IAAD,CAAxC;AACA,QAAI,KAAKyb,OAAT,EAAkB,KAAKsU,QAAL;AACnB;;AAEDz3B,EAAAA,oBAAoB,GAAG;AACrB,SAAK03B,UAAL;AACD;;AAEM,MAAH1e,GAAG,GAAG;AACR,QAAI5c,iBAAiB,CAAC,KAAKspB,aAAN,CAArB,EAA2C,OAAOtvB,SAAP;AAC3C,QAAI26B,OAAO,GAAG,KAAKrL,aAAL,CAAmB2H,gBAAnB,CAAoC,QAApC,CAAd;AACA,QAAIsK,UAAU,GAAGz6B,KAAK,CAACoJ,IAAN,CAAWyqB,OAAX,EAAoBnoB,IAApB,CAAyBlU,MAAM,IAAI4S,QAAQ,CAACyC,IAAT,CAAcrV,MAAM,CAACskB,GAArB,KAA6BzR,YAAY,CAACwC,IAAb,CAAkBrV,MAAM,CAACoV,IAAzB,CAAhE,CAAjB;AACA,WAAO6tB,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAAC3e,GAA1E;AACD;;AAEDye,EAAAA,QAAQ,GAAG;AACT,QAAIG,OAAO,GAAG,IAAd;;AAEA,WAAO7hC,iBAAiB,CAAC,aAAa;AACpC,UAAI,CAACoG,WAAW,CAACy7B,OAAO,CAACC,GAAT,CAAhB,EAA+B;;AAE/B,UAAI;AACF,YAAI1c,GAAG,GAAGyc,OAAO,CAACpU,MAAR,IAAkB,uCAAuChgB,MAAvC,CAA8Co0B,OAAO,CAACxV,OAAtD,EAA+D,kBAA/D,CAA5B;AACA,YAAI0V,GAAG,GAAG,MAAMhc,OAAO,CAACX,GAAD,EAAM,KAAN,CAAvB;;AAEA,YAAI,CAAC2c,GAAG,CAACC,WAAJ,EAAL,EAAwB;AACtBH,UAAAA,OAAO,CAAC5a,OAAR,CAAgB9K,IAAhB,CAAqB,yBAArB;;AAEA;AACD;;AAED0lB,QAAAA,OAAO,CAACC,GAAR,GAAc,IAAIC,GAAJ,CAAQF,OAAO,CAACvV,MAAhB,CAAd;;AAEAuV,QAAAA,OAAO,CAACC,GAAR,CAAYhU,EAAZ,CAAeiU,GAAG,CAACE,MAAJ,CAAWC,cAA1B,EAA0C,MAAM;AAC9CL,UAAAA,OAAO,CAACzV,WAAR,GAAsB,IAAtB;;AAEAyV,UAAAA,OAAO,CAACrV,WAAR;AACD,SAJD;;AAMAqV,QAAAA,OAAO,CAACC,GAAR,CAAYhU,EAAZ,CAAeiU,GAAG,CAACE,MAAJ,CAAWE,oBAA1B,EAAgD,MAAM;AACpDN,UAAAA,OAAO,CAACxpB,QAAR,CAAiB,aAAjB,EAAgCwpB,OAAO,CAACC,GAAR,CAAYv+B,WAA5C;;AAEAs+B,UAAAA,OAAO,CAACxpB,QAAR,CAAiB,mBAAjB,EAAsCwpB,OAAO,CAACC,GAAR,CAAYM,UAAlD;AACD,SAJD;;AAMAP,QAAAA,OAAO,CAACC,GAAR,CAAYhU,EAAZ,CAAeiU,GAAG,CAACE,MAAJ,CAAWI,oBAA1B,EAAgD,MAAM;AACpDR,UAAAA,OAAO,CAACxpB,QAAR,CAAiB,mBAAjB,EAAsCwpB,OAAO,CAACC,GAAR,CAAYM,UAAlD;AACD,SAFD;;AAIAP,QAAAA,OAAO,CAACC,GAAR,CAAYhU,EAAZ,CAAeiU,GAAG,CAACE,MAAJ,CAAW9T,KAA1B,EAAiC,CAACzmB,KAAD,EAAQwc,IAAR,KAAiB;AAChD,cAAIA,IAAI,CAACoe,KAAT,EAAgB;AACd,oBAAQpe,IAAI,CAACnQ,IAAb;AACE,mBAAKguB,GAAG,CAACQ,UAAJ,CAAeC,aAApB;AACEX,gBAAAA,OAAO,CAACC,GAAR,CAAYW,SAAZ;;AAEA;;AAEF,mBAAKV,GAAG,CAACQ,UAAJ,CAAeG,WAApB;AACEb,gBAAAA,OAAO,CAACC,GAAR,CAAYa,iBAAZ;;AAEA;;AAEF;AACEd,gBAAAA,OAAO,CAACF,UAAR;;AAEA;AAdJ;AAgBD;;AAEDE,UAAAA,OAAO,CAAC5a,OAAR,CAAgB9K,IAAhB,CAAqB;AACnBzU,YAAAA,KADmB;AAEnBwc,YAAAA;AAFmB,WAArB;AAID,SAxBD;;AA0BA2d,QAAAA,OAAO,CAACC,GAAR,CAAYhU,EAAZ,CAAeiU,GAAG,CAACE,MAAJ,CAAWW,eAA1B,EAA2C,MAAM;AAC/Cf,UAAAA,OAAO,CAACxpB,QAAR,CAAiB,WAAjB,EAA8B7a,SAAS,CAAC4qB,KAAxC;;AAEAyZ,UAAAA,OAAO,CAACxpB,QAAR,CAAiB,YAAjB,EAA+BwpB,OAAO,CAAC5e,GAAvC;;AAEA4e,UAAAA,OAAO,CAAC7T,cAAR;AACD,SAND;;AAQA6T,QAAAA,OAAO,CAACC,GAAR,CAAYhU,EAAZ,CAAeiU,GAAG,CAACE,MAAJ,CAAWY,YAA1B,EAAwC,CAACC,CAAD,EAAI5e,IAAJ,KAAa;AACnD,cAAI,CAAC2d,OAAO,CAAC/9B,aAAb,EAA4B;AAC1B+9B,YAAAA,OAAO,CAACxpB,QAAR,CAAiB,UAAjB,EAA6B6L,IAAI,CAAC6e,OAAL,CAAaC,aAA1C;;AAEAnB,YAAAA,OAAO,CAACxpB,QAAR,CAAiB,eAAjB,EAAkC,IAAlC;AACD;AACF,SAND;;AAQAwpB,QAAAA,OAAO,CAACC,GAAR,CAAYmB,WAAZ,CAAwBpB,OAAO,CAACzU,OAAhC;AACD,OAvED,CAuEE,OAAOhd,CAAP,EAAU;AACVyxB,QAAAA,OAAO,CAAC5a,OAAR,CAAgB9K,IAAhB,CAAqB/L,CAArB;AACD;AACF,KA7EuB,CAAjB,EAAP;AA8ED;;AAED4d,EAAAA,cAAc,GAAG;AACf,QAAI,CAAC,KAAK8T,GAAL,CAAShT,MAAV,IAAoB,KAAKgT,GAAL,CAAShT,MAAT,CAAgBpwB,MAAhB,KAA2B,CAAnD,EAAsD;AACtD,SAAK2Z,QAAL,CAAc,mBAAd,EAAmC,CAAC,MAAD,EAAS,GAAG,KAAKypB,GAAL,CAAShT,MAAT,CAAgBpgB,GAAhB,CAAoB,KAAK+f,sBAAzB,CAAZ,CAAnC;AACA,SAAKpW,QAAL,CAAc,iBAAd,EAAiC,MAAjC;AACD;;AAEDoW,EAAAA,sBAAsB,CAACC,KAAD,EAAQ;AAC5B,WAAOA,KAAK,KAAK,CAAC,CAAX,GAAe,MAAf,GAAwB,GAAGjhB,MAAH,CAAUihB,KAAK,CAAC/X,MAAhB,EAAwB,GAAxB,CAA/B;AACD;;AAEDgY,EAAAA,yBAAyB,CAAC1E,OAAD,EAAU;AACjC,WAAO,KAAK6X,GAAL,CAAShT,MAAT,CAAgBD,SAAhB,CAA0BH,KAAK,IAAI,KAAKD,sBAAL,CAA4BC,KAA5B,MAAuCzE,OAA1E,CAAP;AACD;;AAED0X,EAAAA,UAAU,GAAG;AACX,QAAIuB,SAAJ;;AAEA,KAACA,SAAS,GAAG,KAAKpB,GAAlB,MAA2B,IAA3B,IAAmCoB,SAAS,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,SAAS,CAACvM,OAAV,EAAnE;AACA,SAAKvK,WAAL,GAAmB,KAAnB;AACD;;AAEDmC,EAAAA,eAAe,CAAC7mB,KAAD,EAAQ;AACrB,QAAIy7B,OAAO,GAAG,IAAd;;AAEA,WAAOnjC,iBAAiB,CAAC,aAAa;AACpCmjC,MAAAA,OAAO,CAACxB,UAAR;;AAEA,UAAIv7B,WAAW,CAACsB,KAAK,CAACI,MAAP,CAAf,EAA+B;AAC/Bq7B,MAAAA,OAAO,CAAC/V,OAAR,GAAkB1lB,KAAK,CAACI,MAAxB,CAJoC,CAIJ;;AAEhCyD,MAAAA,UAAU,EAAE,aAAavL,iBAAiB,CAAC,aAAa;AACtD,cAAMmjC,OAAO,CAACzB,QAAR,EAAN;AACD,OAFyC,CAAhC,EAEN,EAFM,CAAV;AAGD,KATuB,CAAjB,EAAP;AAUD;;AAEDlV,EAAAA,WAAW,GAAG;AACZ,QAAI4W,OAAO,GAAG,IAAd;;AAEA,WAAOpjC,iBAAiB,CAAC,aAAa;AACpC,UAAIojC,OAAO,CAAChX,WAAR,IAAuBgX,OAAO,CAACtB,GAAR,CAAY1c,GAAZ,KAAoBge,OAAO,CAACngB,GAAvD,EAA4D;AAC1DmgB,QAAAA,OAAO,CAACpc,WAAR,CAAoB7K,IAApB;;AAEAinB,QAAAA,OAAO,CAACtB,GAAR,CAAYuB,UAAZ,CAAuBD,OAAO,CAACngB,GAA/B;AACD;AACF,KANuB,CAAjB,EAAP;AAOD;AACD;;;AAGA1P,EAAAA,UAAU,GAAG;AACX,QAAI+vB,OAAO,GAAG,IAAd;;AAEA,WAAOtjC,iBAAiB,CAAC,aAAa;AACpC,UAAIujC,qBAAJ,EAA2BC,qBAA3B;;AAEA,UAAI7vB,OAAO,GAAG,CAAC4vB,qBAAqB,GAAG,MAAM,CAACC,qBAAqB,GAAGF,OAAO,CAAC3T,aAAjC,MAAoD,IAApD,IAA4D6T,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACjwB,UAAtB,EAAvI,MAA+K,IAA/K,IAAuLgwB,qBAAqB,KAAK,KAAK,CAAtN,GAA0NA,qBAA1N,GAAkP,EAAhQ;AACA,UAAI3T,oBAAoB,GAAGjc,OAAO,CAACE,OAAnC;AACA,aAAOvV,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKqV,OAAL,CAAd,EAA6B,EAA7B,EAAiC;AACnDyW,QAAAA,iBAAiB,EAAE,YAAY;AAC7B,cAAIqZ,mBAAmB,GAAGzjC,iBAAiB,CAAC,aAAa;AACvD,mBAAOsjC,OAAO,CAACxB,GAAf;AACD,WAF0C,CAA3C;;AAIA,mBAAS1X,iBAAT,GAA6B;AAC3B,mBAAOqZ,mBAAmB,CAACplC,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;AACD;;AAED,iBAAO2rB,iBAAP;AACD,SAVkB,EADgC;AAYnDvW,QAAAA,OAAO,EAAE,YAAY;AACnB,cAAI6vB,SAAS,GAAG1jC,iBAAiB,CAAC,WAAW+T,IAAX,EAAiB;AACjD,gBAAI4vB,sBAAJ;;AAEA,mBAAO/8B,QAAQ,CAACmN,IAAD,CAAR,IAAkBxC,QAAQ,CAACyC,IAAT,CAAcD,IAAd,CAAlB,KAA0C,CAAC4vB,sBAAsB,GAAG/T,oBAAoB,KAAK,IAAzB,IAAiCA,oBAAoB,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,oBAAoB,CAAC7b,IAAD,CAA1H,MAAsI,IAAtI,IAA8I4vB,sBAAsB,KAAK,KAAK,CAA9K,GAAkLA,sBAAlL,GAA2M,KAArP,CAAP;AACD,WAJgC,CAAjC;;AAMA,mBAAS9vB,OAAT,CAAiB+vB,IAAjB,EAAuB;AACrB,mBAAOF,SAAS,CAACrlC,KAAV,CAAgB,IAAhB,EAAsBI,SAAtB,CAAP;AACD;;AAED,iBAAOoV,OAAP;AACD,SAZQ,EAZ0C;AAyBnDsX,QAAAA,qBAAqB,EAAE,YAAY;AACjC,cAAI0Y,uBAAuB,GAAG7jC,iBAAiB,CAAC,aAAa;AAC3D,gBAAI8jC,WAAJ,EAAiBC,kBAAjB;;AAEA,mBAAO,CAAC,CAACD,WAAW,GAAGR,OAAO,CAACxB,GAAvB,MAAgC,IAAhC,IAAwCgC,WAAW,KAAK,KAAK,CAA7D,GAAiE,KAAK,CAAtE,GAA0E,CAACC,kBAAkB,GAAGD,WAAW,CAAChV,MAAlC,MAA8C,IAA9C,IAAsDiV,kBAAkB,KAAK,KAAK,CAAlF,GAAsF,KAAK,CAA3F,GAA+FA,kBAAkB,CAACrlC,MAA7L,IAAuM,CAA9M;AACD,WAJ8C,CAA/C;;AAMA,mBAASysB,qBAAT,GAAiC;AAC/B,mBAAO0Y,uBAAuB,CAACxlC,KAAxB,CAA8B,IAA9B,EAAoCI,SAApC,CAAP;AACD;;AAED,iBAAO0sB,qBAAP;AACD,SAZsB,EAzB4B;AAsCnDE,QAAAA,kBAAkB,EAAE,YAAY;AAC9B,cAAI2Y,oBAAoB,GAAGhkC,iBAAiB,CAAC,WAAWiqB,OAAX,EAAoB;AAC/D,gBAAI,CAAC7jB,WAAW,CAACk9B,OAAO,CAACxB,GAAT,CAAhB,EAA+B;AAC7BwB,cAAAA,OAAO,CAACxB,GAAR,CAAYmC,YAAZ,GAA2BX,OAAO,CAAC3U,yBAAR,CAAkC1E,OAAlC,CAA3B,CAD6B,CAC0C;;AAEvEqZ,cAAAA,OAAO,CAACjrB,QAAR,CAAiB,iBAAjB,EAAoC4R,OAApC;AACD;AACF,WAN2C,CAA5C;;AAQA,mBAASoB,kBAAT,CAA4B6Y,IAA5B,EAAkC;AAChC,mBAAOF,oBAAoB,CAAC3lC,KAArB,CAA2B,IAA3B,EAAiCI,SAAjC,CAAP;AACD;;AAED,iBAAO4sB,kBAAP;AACD,SAdmB,EAtC+B;AAqDnDuJ,QAAAA,oBAAoB,EAAE,YAAY;AAChC,cAAIuP,qBAAqB,GAAGnkC,iBAAiB,CAAC,WAAW6wB,OAAX,EAAoB;AAChE,gBAAI,CAACzqB,WAAW,CAACk9B,OAAO,CAACxB,GAAT,CAAhB,EAA+B;AAC7BwB,cAAAA,OAAO,CAACxB,GAAR,CAAYM,UAAZ,GAAyBvR,OAAzB;AACD;AACF,WAJ4C,CAA7C;;AAMA,mBAAS+D,oBAAT,CAA8BwP,IAA9B,EAAoC;AAClC,mBAAOD,qBAAqB,CAAC9lC,KAAtB,CAA4B,IAA5B,EAAkCI,SAAlC,CAAP;AACD;;AAED,iBAAOm2B,oBAAP;AACD,SAZqB;AArD6B,OAAjC,CAApB;AAmED,KAxEuB,CAAjB,EAAP;AAyED;;AAED1gB,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,UAAf,EAA2B;AAChCd,MAAAA,UAAU,EAAE,IADoB;AAEhCgB,MAAAA,WAAW,EAAE,KAAKA,WAFc;AAGhCf,MAAAA,OAAO,EAAE,KAAKA,OAHkB;AAIhC6U,MAAAA,MAAM,EAAE,KAAKA,MAJmB;AAKhCkJ,MAAAA,YAAY,EAAE,KAAKA,YALa;AAMhCC,MAAAA,OAAO,EAAE,KAAKA,OANkB;AAOhCC,MAAAA,UAAU,EAAE,KAAKA,UAPe;AAQhCjd,MAAAA,qBAAqB,EAAE,KAAKA,qBARI;AAShCpR,MAAAA,UAAU,EAAE,KAAKA,UATe;AAUhCoE,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKooB,aAAL,GAAqBpoB,EAArB;AACD;AAZ+B,KAA3B,EAaJ,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAbI,CAAP;AAcD;;AA5QiC,CAApC;AA+QA;AACA;AACA;;AAEA,IAAIkwB,kBAAkB,GAAG,sDAAzB;AACA,IAAIr0B,QAAQ,GAAG,IAAI3G,GAAJ,CAAQvQ,MAAM,CAAC8f,OAAP,CAAe;AACpC0rB,EAAAA,IAAI,EAAEC,QAAQ,IAAI,GAAG92B,MAAH,CAAU42B,kBAAV,EAA8B,WAA9B,EAA2C52B,MAA3C,CAAkD82B,QAAlD,EAA4D,MAA5D,CADkB;AAEpCC,EAAAA,QAAQ,EAAED,QAAQ,IAAI,GAAG92B,MAAH,CAAU42B,kBAAV,EAA8B,eAA9B,EAA+C52B,MAA/C,CAAsD82B,QAAtD,EAAgE,MAAhE;AAFc,CAAf,CAAR,CAAf;AAIA,IAAIE,OAAO,GAAG,IAAI5+B,GAAJ,EAAd;;AAEA,SAAS6+B,gBAAT,CAA0B/3B,SAA1B,EAAqC;AACnC,MAAIpF,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwBkF,SAAxB,CAAT;AACAI,EAAAA,iBAAiB,CAACJ,SAAD,EAAY,MAAM;AACjC83B,IAAAA,OAAO,CAACx1B,GAAR,CAAY1H,EAAZ;AACD,GAFgB,EAEd,MAAM;AACPk9B,IAAAA,OAAO,CAACv6B,MAAR,CAAe3C,EAAf;AACD,GAJgB,CAAjB;AAKD;;AAED,IAAIo9B,sBAAsB,GAAGl8B,IAAI,IAAIuH,QAAQ,CAACxW,GAAT,CAAaiP,IAAb,CAArC;;AAEA,SAASm8B,mBAAT,CAA6Bn8B,IAA7B,EAAmCo8B,QAAnC,EAA6C;AAC3C,MAAI,CAACz+B,WAAW,CAACy+B,QAAD,CAAhB,EAA4B;AAC1B70B,IAAAA,QAAQ,CAACjG,GAAT,CAAatB,IAAb,EAAmBo8B,QAAnB;AACD,GAH0C,CAGzC;;;AAGFJ,EAAAA,OAAO,CAAC7lC,OAAR,CAAgBkmC,MAAM,IAAI;AACxB,QAAIA,MAAM,CAAChvB,OAAP,KAAmBrN,IAAvB,EAA6Bq8B,MAAM,CAACC,MAAP;AAC9B,GAFD;AAGD;;AAED,SAASC,qBAAT,CAA+Bv8B,IAA/B,EAAqC;AACnCuH,EAAAA,QAAQ,CAAC9F,MAAT,CAAgBzB,IAAhB;AACD;AACD;AACA;AACA;;;AAGA,IAAIw8B,SAAS,GAAG,IAAI57B,GAAJ,EAAhB;;AAEA,IAAI67B,WAAW,GAAG9f,GAAG,IAAI;AACvB,MAAI6f,SAAS,CAACl/B,GAAV,CAAcqf,GAAd,CAAJ,EAAwB,OAAO6f,SAAS,CAACzrC,GAAV,CAAc4rB,GAAd,CAAP;AACxB,MAAIqB,OAAO,GAAGuC,KAAK,CAAC5D,GAAD,CAAL,CAAWrlB,IAAX,EAAiB,aAAa,YAAY;AACtD,QAAIolC,KAAK,GAAGnlC,iBAAiB,CAAC,WAAWipB,QAAX,EAAqB;AACjD,UAAIA,QAAQ,CAACmc,EAAb,EAAiB;AACf,YAAIlsB,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;AACAF,QAAAA,GAAG,CAACK,SAAJ,GAAgB,MAAM0P,QAAQ,CAACoc,IAAT,EAAtB;AACA,YAAIC,GAAG,GAAGpsB,GAAG,CAACqsB,iBAAd;AACA,eAAO;AACLH,UAAAA,EAAE,EAAEnc,QAAQ,CAACmc,EADR;AAELI,UAAAA,MAAM,EAAEvc,QAAQ,CAACuc,MAFZ;AAGLF,UAAAA,GAAG,EAAEA,GAAG,IAAIA,GAAG,CAACG,OAAJ,CAAY91B,WAAZ,OAA8B,KAArC,GAA6C21B,GAAG,CAACI,SAAjD,GAA6D;AAH7D,SAAP;AAKD;;AAED,aAAO;AACLN,QAAAA,EAAE,EAAEnc,QAAQ,CAACmc,EADR;AAELI,QAAAA,MAAM,EAAEvc,QAAQ,CAACuc;AAFZ,OAAP;AAID,KAhB4B,CAA7B;;AAkBA,WAAO,UAAUG,IAAV,EAAgB;AACrB,aAAOR,KAAK,CAAC9mC,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAP;AACD,KAFD;AAGD,GAtB2C,EAA9B,CAAd;AAuBAwmC,EAAAA,SAAS,CAACl7B,GAAV,CAAcqb,GAAd,EAAmBqB,OAAnB;AACA,SAAOA,OAAP;AACD,CA3BD;;AA6BA,IAAImf,OAAO,GAAG,8RAAd;AACA,IAAIC,MAAM,GAAG,IAAIC,SAAJ,EAAb;AACA,IAAIC,IAAI,GAAG,cAAcv+B,WAAd,CAA0B;AACnCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKuxB,MAAL,GAAc,CAAC,GAAGvsC,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,QAA/B,EAAyC,CAAzC,CAAd;AACA,SAAKyM,OAAL,GAAe,CAAC,GAAGxtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA;;AAEA,SAAK7W,KAAL,GAAa,UAAb;AACArK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAorC,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;;AAEDuB,EAAAA,YAAY,GAAG;AACb,SAAKC,OAAL;AACD;;AAEDl8B,EAAAA,iBAAiB,GAAG;AAClBrQ,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,OAAD,CAAP,CAAjB;AACD;;AAEDwb,EAAAA,gBAAgB,GAAG;AACjB,SAAK+wB,OAAL;AACD;AACD;AACF;AACA;;;AAGEnB,EAAAA,MAAM,GAAG;AACP,QAAIoB,OAAO,GAAG,IAAd;;AAEA,WAAOnmC,iBAAiB,CAAC,aAAa;AACpCmmC,MAAAA,OAAO,CAACD,OAAR;AACD,KAFuB,CAAjB,EAAP;AAGD;;AAEDE,EAAAA,QAAQ,GAAG;AACT,QAAIzwB,KAAK,GAAG,EAAZ;;AAEA,QAAI,KAAKA,KAAT,EAAgB;AACdA,MAAAA,KAAK,GAAG,KAAKA,KAAb;AACD,KAFD,MAEO,IAAI,KAAKlN,IAAT,EAAe;AACpBkN,MAAAA,KAAK,GAAG,KAAKlN,IAAL,CAAUsF,OAAV,CAAkB,IAAlB,EAAwB,GAAxB,CAAR;AACD,KAFM,MAEA,IAAI,KAAKkV,GAAT,EAAc;AACnBtN,MAAAA,KAAK,GAAG,KAAKsN,GAAL,CAASlV,OAAT,CAAiB,MAAjB,EAAyB,EAAzB,EAA6BA,OAA7B,CAAqC,IAArC,EAA2C,GAA3C,EAAgDA,OAAhD,CAAwD,QAAxD,EAAkE,EAAlE,CAAR;AACD;;AAED,WAAO4H,KAAP;AACD;;AAEDuwB,EAAAA,OAAO,GAAG;AACR,QAAIG,OAAO,GAAG,IAAd;;AAEA,WAAOrmC,iBAAiB,CAAC,aAAa;AACpC,UAAIsmC,eAAJ;;AAEA,UAAIzB,QAAQ,GAAGF,sBAAsB,CAAC,CAAC2B,eAAe,GAAGD,OAAO,CAACvwB,OAA3B,MAAwC,IAAxC,IAAgDwwB,eAAe,KAAK,KAAK,CAAzE,GAA6EA,eAA7E,GAA+FD,OAAO,CAAC1iC,KAAxG,CAArC;AACA,UAAIyhB,GAAG,GAAGihB,OAAO,CAACpjB,GAAlB;;AAEA,UAAIojB,OAAO,CAAC59B,IAAR,IAAgBo8B,QAApB,EAA8B;AAC5Bzf,QAAAA,GAAG,GAAGyf,QAAQ,CAACwB,OAAO,CAAC59B,IAAT,CAAd;AACD;;AAED,UAAI2c,GAAJ,EAAS;AACP,YAAI;AACF,cAAImhB,IAAI,GAAG,MAAMrB,WAAW,CAAC9f,GAAD,CAA5B;;AAEA,cAAImhB,IAAI,CAACnB,EAAT,EAAa;AACX,gBAAIoB,GAAG,GAAGX,MAAM,CAACY,eAAP,CAAuBF,IAAI,CAACjB,GAA5B,EAAiC,WAAjC,CAAV;AACA,gBAAIA,GAAG,GAAGkB,GAAG,CAACE,IAAJ,CAASpvB,aAAT,CAAuB,KAAvB,CAAV;;AAEA,gBAAIguB,GAAJ,EAAS;AACPe,cAAAA,OAAO,CAACf,GAAR,GAAcA,GAAG,CAACI,SAAlB;;AAEAW,cAAAA,OAAO,CAACL,MAAR,CAAe7pB,IAAf;AACD,aAJD,MAIO;AACLkqB,cAAAA,OAAO,CAACf,GAAR,GAAc,EAAd;;AAEAe,cAAAA,OAAO,CAACpf,OAAR,CAAgB9K,IAAhB,CAAqB;AACnBqpB,gBAAAA,MAAM,EAAEe,IAAI,CAACf;AADM,eAArB;AAGD;AACF;AACF,SAnBD,CAmBE,OAAOmB,OAAP,EAAgB;AAChBN,UAAAA,OAAO,CAACpf,OAAR,CAAgB9K,IAAhB;AACD;AACF;AACF,KAlCuB,CAAjB,EAAP;AAmCD;;AAEDjI,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE,MADoB;AAE3BktB,MAAAA,IAAI,EAAE,KAFqB;AAG3B,oBAAc,KAAKR,QAAL,EAHa;AAI3B7sB,MAAAA,SAAS,EAAE,KAAK+rB;AAJW,KAAtB,CAAP;AAMD;;AAEkB,aAARpvB,QAAQ,GAAG;AACpB,WAAO;AACL,cAAQ,CAAC,cAAD,CADH;AAEL,aAAO,CAAC,cAAD,CAFF;AAGL,iBAAW,CAAC,cAAD,CAHN;AAIL,eAAS,CAAC,cAAD;AAJJ,KAAP;AAMD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOyvB,OAAP;AACD;;AAlHkC,CAArC;AAqHA,IAAIiB,WAAW,GAAG,cAAcr/B,WAAd,CAA0B;AAC1CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;;AAEA,SAAK9Q,KAAL,GAAa,UAAb;AACArK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,OAAD,CAAP,CAAjB;AACD;;AAEDmtC,EAAAA,YAAY,GAAG;AACb,SAAKC,QAAL;AACD;;AAED/8B,EAAAA,iBAAiB,GAAG;AAClB,SAAK+8B,QAAL;AACD;;AAED98B,EAAAA,oBAAoB,GAAG;AACrB,QAAI,CAAC7D,WAAW,CAAC,KAAKqC,IAAN,CAAhB,EAA6Bu8B,qBAAqB,CAAC,KAAKv8B,IAAN,CAArB;AAC9B;;AAEDs+B,EAAAA,QAAQ,GAAG;AACT,QAAIC,UAAJ;;AAEApC,IAAAA,mBAAmB,CAAC,CAACoC,UAAU,GAAG,KAAKv+B,IAAnB,MAA6B,IAA7B,IAAqCu+B,UAAU,KAAK,KAAK,CAAzD,GAA6DA,UAA7D,GAA0E,KAAKrjC,KAAhF,EAAuF,KAAK8E,IAAL,GAAY,KAAKo8B,QAAjB,GAA4BxkC,SAAnH,CAAnB;AACD;;AAEO,MAAJ6R,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,cAAQ,CAAC,cAAD,CADH;AAEL,kBAAY,CAAC,cAAD,CAFP;AAGL,eAAS,CAAC,cAAD;AAHJ,KAAP;AAKD;;AA1CyC,CAA5C;AA6CA,IAAI+wB,gBAAgB,GAAG,oTAAvB;AACA,IAAIC,aAAa,GAAG,cAAc1/B,WAAd,CAA0B;AAC5CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;;AAEA,SAAKrP,MAAL,GAAc,KAAd;AACA;;AAEA,SAAKO,IAAL,GAAY,EAAZ;AACArM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,QAAD,EAAW,MAAX,CAAP,CAAjB;AACD;;AAEDua,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLytB,QAAAA,aAAa,EAAE,IADV;AAELzxB,QAAAA,MAAM,EAAE,CAAC,KAAKtQ;AAFT;AADoB,KAAtB,EAKJ,CAAC,GAAG3L,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvBuF,MAAAA,KAAK,EAAE;AADgB,KAAtB,CALI,EAOH,KAAK/T,IAAL,CAAU1E,IAPP,CAAP;AAQD;;AAEe,aAALkV,KAAK,GAAG;AACjB,WAAO8wB,gBAAP;AACD;;AA9B2C,CAA9C;AAiCA,IAAIG,gBAAgB,GAAG,mjFAAvB;AACA,IAAIC,aAAa,GAAG,cAAc7/B,WAAd,CAA0B;AAC5CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;;AAEA,SAAK3Q,aAAL,GAAqB,KAArB;AACA;AACJ;AACA;;AAEI,SAAKwjC,QAAL,GAAgB,KAAhB;AACAhuC,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,eAAD,CAAP,CAAjB;AACD;;AAEDua,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACL6tB,QAAAA,aAAa,EAAE,IADV;AAELztB,QAAAA,QAAQ,EAAE,KAAKhW;AAFV;AADoB,KAAtB,EAKJ,CAAC,GAAGrK,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CALI,EAK0B,CAAC,KAAKmzB,QAAN,IAAkB,CAAC,GAAG7tC,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvEuF,MAAAA,KAAK,EAAE;AADgE,KAAtB,CAL5C,CAAP;AAQD;;AAEe,aAALvD,KAAK,GAAG;AACjB,WAAOixB,gBAAP;AACD;;AAhC2C,CAA9C;;AAoCA,SAASI,aAAT,CAAuBjgC,EAAvB,EAA2B;AACzB,MAAIA,EAAE,CAACk+B,OAAH,CAAW91B,WAAX,OAA6B,YAAjC,EAA+C,OAAOpI,EAAP;AAC/C,MAAIkgC,OAAO,GAAGlgC,EAAd;AACA,SAAOkgC,OAAO,CAACpwB,UAAR,CAAmBC,aAAnB,CAAiC,cAAjC,CAAP;AACD;;AAED,SAASowB,gBAAT,CAA0BngC,EAA1B,EAA8B;AAC5B,MAAIogC,qBAAJ;;AAEA,MAAIpgC,EAAE,CAACk+B,OAAH,CAAW91B,WAAX,OAA6B,qBAAjC,EAAwD,OAAOpI,EAAP;AACxD,MAAIqgC,UAAU,GAAGrgC,EAAjB;AACA,MAAIsgC,IAAI,GAAGD,UAAU,CAACvwB,UAAX,CAAsBC,aAAtB,CAAoC,MAApC,CAAX;AACA,MAAIwwB,gBAAgB,GAAG3gC,KAAK,CAACoJ,IAAN,CAAW,CAACo3B,qBAAqB,GAAGE,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACC,gBAAL,EAArE,MAAkG,IAAlG,IAA0GH,qBAAqB,KAAK,KAAK,CAAzI,GAA6IA,qBAA7I,GAAqK,EAAhL,CAAvB;AACA,SAAOG,gBAAgB,CAAC7pC,MAAjB,CAAwBw1B,KAAK,IAAIA,KAAK,CAACgS,OAAN,CAAc91B,WAAd,OAAgC,eAAjE,EAAkFjB,GAAlF,CAAsF+kB,KAAK,IAAIA,KAAK,CAACpc,UAAN,CAAiBC,aAAjB,CAA+B,cAA/B,CAA/F,CAAP;AACD;;AAED,SAASywB,cAAT,CAAwBD,gBAAxB,EAA0C;AACxC,MAAI1hC,WAAW,CAAC0hC,gBAAD,CAAf,EAAmC,OAAO,EAAP;AACnC,MAAIE,OAAO,GAAG,CAAC,cAAD,EAAiB,qBAAjB,EAAwC,YAAxC,CAAd;AACA,SAAO7gC,KAAK,CAACoJ,IAAN,CAAWu3B,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAK,KAAK,CAAvD,GAA2DA,gBAA3D,GAA8E,EAAzF,EAA6F7pC,MAA7F,CAAoGsJ,EAAE,IAAIygC,OAAO,CAAC/sB,QAAR,CAAiB1T,EAAE,CAACk+B,OAAH,CAAW91B,WAAX,EAAjB,CAA1G,EAAsJjB,GAAtJ,CAA0JnH,EAAE,IAAIigC,aAAa,CAACjgC,EAAD,CAA7K,EAAmLmH,GAAnL,CAAuLnH,EAAE,IAAImgC,gBAAgB,CAACngC,EAAD,CAA7M,EAAmN0gC,MAAnN,CAA0N,CAACC,GAAD,EAAMC,GAAN,KAAcD,GAAG,CAACz6B,MAAJ,CAAW06B,GAAX,CAAxO,EAAyP,EAAzP,CAAP;AACD;;AAED,IAAIC,OAAO,GAAG,svBAAd;AACA,IAAIC,IAAI,GAAG,cAAc7gC,WAAd,CAA0B;AACnCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK6zB,MAAL,GAAc,CAAC,GAAG7uC,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,QAA/B,EAAyC,CAAzC,CAAd;AACA,SAAK+tB,OAAL,GAAe,CAAC,GAAG9uC,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKC,OAAL,GAAe,CAAC,GAAGhhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKE,MAAL,GAAc,CAAC,GAAGjhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,QAA/B,EAAyC,CAAzC,CAAd;AACA,SAAKguB,qBAAL,GAA6B,CAAC,GAAG/uC,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,uBAA/B,EAAwD,CAAxD,CAA7B;AACA,SAAKiuB,sBAAL,GAA8B,CAAC,GAAGhvC,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,wBAA/B,EAAyD,CAAzD,CAA9B;AACA,SAAKkuB,kBAAL,GAA0B,CAAC,GAAGjvC,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,oBAA/B,EAAqD,CAArD,CAA1B;AACA,SAAKmuB,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKzsB,MAAL,GAAc,KAAd;AACA5iB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAEDsvC,EAAAA,sBAAsB,GAAG;AACvB,SAAKH,sBAAL,CAA4BtsB,IAA5B,CAAiC,KAAK0sB,cAAtC;AACD;;AAEDC,EAAAA,qBAAqB,GAAG;AACtB,SAAKN,qBAAL,CAA2BrsB,IAA3B,CAAgC,KAAK4sB,aAArC;AACD;;AAEDC,EAAAA,cAAc,GAAG;AACf,QAAIC,gBAAJ;;AAEA,QAAI,KAAKN,eAAT,EAA0B;AAC1B,SAAKzsB,MAAL,GAAc,KAAKosB,MAAL,CAAYnsB,IAAZ,CAAiB,KAAKjK,IAAtB,CAAd,GAA4C,KAAKq2B,OAAL,CAAapsB,IAAb,CAAkB,KAAKjK,IAAvB,CAA5C;;AAEA,QAAI,CAAC,CAAC+2B,gBAAgB,GAAG,KAAKC,UAAzB,MAAyC,IAAzC,IAAiDD,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACxD,OAAjB,CAAyB91B,WAAzB,EAAzF,MAAqI,cAAzI,EAAyJ;AACvJ,WAAKu5B,UAAL,CAAgBxsB,QAAhB,GAA2B,IAA3B;AACD;AACF;;AAED1S,EAAAA,iBAAiB,GAAG;AAClB,SAAK2+B,eAAL,GAAuB,KAAvB;AACD;;AAEDlO,EAAAA,kBAAkB,GAAG;AACnB,KAAC,GAAGhhC,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3B,UAAI,CAAC,KAAKo2B,eAAV,EAA2B,KAAKQ,eAAL;AAC5B,KAFD;AAGD;;AAEDl/B,EAAAA,oBAAoB,GAAG;AACrB,SAAKi/B,UAAL,GAAkB7oC,SAAlB;AACA,SAAKsoC,eAAL,GAAuB,IAAvB;AACD;AACD;AACF;AACA;;;AAGES,EAAAA,SAAS,GAAG;AACV,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOrpC,iBAAiB,CAAC,aAAa;AACpC,UAAIspC,YAAJ;;AAEA,OAACA,YAAY,GAAGD,OAAO,CAACtsB,IAAxB,MAAkC,IAAlC,IAA0CusB,YAAY,KAAK,KAAK,CAAhE,GAAoE,KAAK,CAAzE,GAA6EA,YAAY,CAAC9tB,KAAb,EAA7E;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;AACF;AACA;;;AAGE+tB,EAAAA,QAAQ,GAAG;AACT,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOxpC,iBAAiB,CAAC,aAAa;AACpC,UAAIypC,YAAJ;;AAEA,OAACA,YAAY,GAAGD,OAAO,CAACzsB,IAAxB,MAAkC,IAAlC,IAA0C0sB,YAAY,KAAK,KAAK,CAAhE,GAAoE,KAAK,CAAzE,GAA6EA,YAAY,CAAC7tB,IAAb,EAA7E;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;AACF;AACA;;;AAGE8tB,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAO3pC,iBAAiB,CAAC,aAAa;AACpC,aAAO2pC,OAAO,CAACd,cAAf;AACD,KAFuB,CAAjB,EAAP;AAGD;AACD;AACF;AACA;;;AAGEe,EAAAA,iBAAiB,CAACC,IAAD,EAAO;AACtB,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAO9pC,iBAAiB,CAAC,aAAa;AACpC6pC,MAAAA,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACE,SAAL,EAA5C;AACAD,MAAAA,OAAO,CAACjB,cAAR,GAAyBgB,IAAzB;AACD,KAHuB,CAAjB,EAAP;AAID;AACD;AACF;AACA;;;AAGEV,EAAAA,eAAe,GAAG;AAChB,QAAIa,OAAO,GAAG,IAAd;;AAEA,WAAOhqC,iBAAiB,CAAC,aAAa;AACpC,UAAI2W,MAAM,GAAG,CAAb;;AAEA,UAAIqzB,OAAO,CAACjB,aAAZ,EAA2B;AACzB,YAAIkB,qBAAJ;;AAEA,YAAIxC,OAAO,GAAG,MAAMuC,OAAO,CAACjB,aAAR,CAAsBmB,OAAtB,EAApB;AACAvzB,QAAAA,MAAM,GAAG,CAACszB,qBAAqB,GAAG,MAAMxC,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAAC0B,eAAR,EAAjF,MAAgH,IAAhH,IAAwHc,qBAAqB,KAAK,KAAK,CAAvJ,GAA2JA,qBAA3J,GAAmL,CAA5L;AACAtzB,QAAAA,MAAM,IAAI,MAAMqzB,OAAO,CAACjB,aAAR,CAAsBoB,mBAAtB,EAAhB;AACD,OAND,MAMO;AACL,YAAIC,iBAAJ;;AAEA,YAAI7/B,QAAQ,GAAG,CAAC6/B,iBAAiB,GAAGJ,OAAO,CAACxxB,SAA7B,MAA4C,IAA5C,IAAoD4xB,iBAAiB,KAAK,KAAK,CAA/E,GAAmF,KAAK,CAAxF,GAA4FA,iBAAiB,CAACC,UAAlB,CAA6BvC,gBAA7B,CAA8C;AACvJwC,UAAAA,OAAO,EAAE;AAD8I,SAA9C,CAA3G;AAGA//B,QAAAA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAAC3L,OAAT,CAAiBm8B,KAAK,IAAI;AAC5EpkB,UAAAA,MAAM,IAAIF,UAAU,CAACjL,MAAM,CAACkL,gBAAP,CAAwBqkB,KAAxB,EAA+BpkB,MAAhC,CAApB;AACD,SAFmD,CAApD;AAGD;;AAEDqzB,MAAAA,OAAO,CAACtB,kBAAR,CAA2BvsB,IAA3B,CAAgCxF,MAAhC;;AAEA,aAAOA,MAAP;AACD,KAvBuB,CAAjB,EAAP;AAwBD;;AAED4zB,EAAAA,aAAa,CAAC7iC,KAAD,EAAQ;AACnBA,IAAAA,KAAK,CAAC0C,eAAN;AACA,QAAI,CAAChE,WAAW,CAAC,KAAK2iC,aAAN,CAAhB,EAAsC,KAAKA,aAAL,CAAmB7sB,MAAnB,GAA4B,KAA5B;AACtC,SAAK6sB,aAAL,GAAqBrhC,KAAK,CAACI,MAA3B;AACA,SAAK0iC,WAAL,GAAmB5rC,OAAnB,CAA2Bm8B,KAAK,IAAI;AAClC,UAAIA,KAAK,KAAK,KAAKgO,aAAnB,EAAkC;AAChChO,QAAAA,KAAK,CAAC5kB,KAAN,CAAYoM,OAAZ,GAAsB,GAAtB;AACAwY,QAAAA,KAAK,CAAC5kB,KAAN,CAAYs0B,UAAZ,GAAyB,QAAzB;AACD;AACF,KALD;AAMA,KAAC,GAAGhxC,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3B,WAAKw2B,aAAL,CAAmB7sB,MAAnB,GAA4B,IAA5B;AACD,KAFD;AAGD;;AAEDwuB,EAAAA,cAAc,CAAChjC,KAAD,EAAQ;AACpBA,IAAAA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAAC0C,eAAN,EAA9C;AACA,QAAI,CAAChE,WAAW,CAAC,KAAK2iC,aAAN,CAAhB,EAAsC,KAAKA,aAAL,CAAmB7sB,MAAnB,GAA4B,KAA5B;AACtC,SAAKsuB,WAAL,GAAmB5rC,OAAnB,CAA2Bm8B,KAAK,IAAI;AAClC,UAAIA,KAAK,KAAK,KAAKgO,aAAnB,EAAkC;AAChChO,QAAAA,KAAK,CAAC5kB,KAAN,CAAYoM,OAAZ,GAAsB,EAAtB;AACAwY,QAAAA,KAAK,CAAC5kB,KAAN,CAAYs0B,UAAZ,GAAyB,EAAzB;AACD;AACF,KALD;AAMA,KAAC,GAAGhxC,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3B,WAAKw2B,aAAL,GAAqB1oC,SAArB;AACD,KAFD;AAGD;;AAEDsqC,EAAAA,aAAa,GAAG;AACd,SAAKD,cAAL;AACA,SAAKE,OAAL;AACD;;AAEDC,EAAAA,eAAe,CAACnjC,KAAD,EAAQ;AACrB,QAAI,KAAKwU,MAAL,IAAexU,KAAK,CAAC7I,GAAN,KAAc,QAAjC,EAA2C;AACzC,WAAK6rC,cAAL;AACA,WAAKE,OAAL;AACA,WAAKE,eAAL;AACD;AACF;;AAEDN,EAAAA,WAAW,GAAG;AACZ,QAAIO,qBAAJ;;AAEA,QAAIjD,gBAAgB,GAAG,CAACiD,qBAAqB,GAAG,KAAK74B,IAAL,CAAUmF,UAAV,CAAqBC,aAArB,CAAmC,MAAnC,CAAzB,MAAyE,IAAzE,IAAiFyzB,qBAAqB,KAAK,KAAK,CAAhH,GAAoH,KAAK,CAAzH,GAA6HA,qBAAqB,CAACjD,gBAAtB,CAAuC;AACzLwC,MAAAA,OAAO,EAAE;AADgL,KAAvC,CAApJ;AAGA,WAAOxC,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAK,KAAK,CAAvD,GAA2DA,gBAA3D,GAA8E,EAArF;AACD;;AAEDkD,EAAAA,YAAY,GAAG;AACb,QAAIC,sBAAJ;;AAEA,QAAInD,gBAAgB,GAAG,CAACmD,sBAAsB,GAAG,KAAK/4B,IAAL,CAAUmF,UAAV,CAAqBC,aAArB,CAAmC,MAAnC,CAA1B,MAA0E,IAA1E,IAAkF2zB,sBAAsB,KAAK,KAAK,CAAlH,GAAsH,KAAK,CAA3H,GAA+HA,sBAAsB,CAACnD,gBAAvB,CAAwC;AAC5LwC,MAAAA,OAAO,EAAE;AADmL,KAAxC,CAAtJ;AAGA,WAAOvC,cAAc,CAACD,gBAAD,CAArB;AACD;;AAEDgD,EAAAA,eAAe,GAAG;AAChB,QAAII,iBAAJ,EAAuBC,iBAAvB;;AAEA,QAAI,CAAC/kC,WAAW,CAAC,CAAC8kC,iBAAiB,GAAG,KAAKhC,UAA1B,MAA0C,IAA1C,IAAkDgC,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAACnB,SAA7G,CAAhB,EAAyI;AACvI,UAAIqB,iBAAJ;;AAEA,OAACA,iBAAiB,GAAG,KAAKlC,UAA1B,MAA0C,IAA1C,IAAkDkC,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAACrB,SAAlB,EAA1F;AACD,KAJD,MAIO,IAAI,CAAC3jC,WAAW,CAAC,CAAC+kC,iBAAiB,GAAG,KAAKjC,UAA1B,MAA0C,IAA1C,IAAkDiC,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAAC9vB,YAA7G,CAAhB,EAA4I;AACjJ,UAAIgwB,iBAAJ;;AAEA,OAACA,iBAAiB,GAAG,KAAKnC,UAA1B,MAA0C,IAA1C,IAAkDmC,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAAChwB,YAAlB,EAA1F;AACD,KAJM,MAIA;AACL,UAAIiwB,iBAAJ;;AAEA,OAACA,iBAAiB,GAAG,KAAKpC,UAA1B,MAA0C,IAA1C,IAAkDoC,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAAC9vB,KAAlB,EAA1F;AACD;AACF;;AAED+vB,EAAAA,eAAe,GAAG;AAChB,QAAIC,qBAAJ;;AAEA,QAAIplC,WAAW,CAAC,KAAKyiC,cAAN,CAAf,EAAsC;AACtC,SAAKA,cAAL,CAAoB1tB,KAApB,GAJgB,CAIa;;AAE7B,KAACqwB,qBAAqB,GAAG,KAAK3C,cAAL,CAAoB9rB,IAA7C,MAAuD,IAAvD,IAA+DyuB,qBAAqB,KAAK,KAAK,CAA9F,GAAkG,KAAK,CAAvG,GAA2GA,qBAAqB,CAACpC,SAAtB,EAA3G;AACD;;AAEDwB,EAAAA,OAAO,GAAG;AACR,SAAK/B,cAAL,GAAsBxoC,SAAtB;AACA,SAAK6b,MAAL,GAAc,KAAd;AACD;;AAED9G,EAAAA,OAAO,CAAC1N,KAAD,EAAQ;AACb;AACA;AACAA,IAAAA,KAAK,CAAC0C,eAAN;AACD;;AAEDiS,EAAAA,OAAO,GAAG;AACR,QAAIovB,oBAAJ;;AAEA,SAAKvvB,MAAL,GAAc,IAAd;AACA,KAAC,KAAK2sB,cAAN,IAAwB,KAAKmC,YAAL,EAAxB;AACA,KAACS,oBAAoB,GAAG,KAAK5C,cAA7B,MAAiD,IAAjD,IAAyD4C,oBAAoB,KAAK,KAAK,CAAvF,GAA2F,KAAK,CAAhG,GAAoGA,oBAAoB,CAAC1B,SAArB,EAApG;AACA,SAAKtvB,OAAL,CAAa0B,IAAb;AACD;;AAEDG,EAAAA,MAAM,GAAG;AACP,SAAK5B,MAAL,CAAYyB,IAAZ;AACD;;AAEDuvB,EAAAA,aAAa,CAACC,KAAD,EAAQvc,KAAR,EAAe;AAC1B,QAAIA,KAAK,GAAG,CAAZ,EAAeA,KAAK,GAAGuc,KAAK,CAACjtC,MAAN,GAAe,CAAvB;AACf,QAAI0wB,KAAK,GAAGuc,KAAK,CAACjtC,MAAN,GAAe,CAA3B,EAA8B0wB,KAAK,GAAG,CAAR;AAC9B,SAAKyZ,cAAL,GAAsB8C,KAAK,CAACvc,KAAD,CAA3B;AACA,SAAKyZ,cAAL,CAAoBkB,SAApB;AACD;;AAED6B,EAAAA,SAAS,CAAClkC,KAAD,EAAQ;AACf,QAAI,CAAC,KAAKwU,MAAV,EAAkB;AAClBxU,IAAAA,KAAK,CAACmkC,cAAN;AACAnkC,IAAAA,KAAK,CAAC0C,eAAN;AACA,QAAIuhC,KAAK,GAAG,KAAKX,YAAL,EAAZ;AACA,QAAI5b,KAAK,GAAGuc,KAAK,CAAC9c,SAAN,CAAgBgb,IAAI,IAAIA,IAAI,KAAK,KAAKhB,cAAtC,CAAZ;;AAEA,YAAQnhC,KAAK,CAAC7I,GAAd;AACE,WAAK,QAAL;AACE,aAAK+rC,OAAL;AACA,aAAKE,eAAL;AACA;;AAEF,WAAK,WAAL;AACA,WAAK,KAAL;AACE,aAAKY,aAAL,CAAmBC,KAAnB,EAA0Bvc,KAAK,IAAI,CAAnC;AACA;;AAEF,WAAK,SAAL;AACE,aAAKsc,aAAL,CAAmBC,KAAnB,EAA0Bvc,KAAK,IAAI,CAAnC;AACA;;AAEF,WAAK,WAAL;AACE,aAAKwb,OAAL;AACA,aAAKE,eAAL;AACA;;AAEF,WAAK,YAAL;AACA,WAAK,OAAL;AACA,WAAK,GAAL;AACE,aAAKS,eAAL;AACA;;AAEF,WAAK,MAAL;AACA,WAAK,QAAL;AACE,aAAKG,aAAL,CAAmBC,KAAnB,EAA0B,CAA1B;AACA;;AAEF,WAAK,KAAL;AACA,WAAK,UAAL;AACE,aAAKD,aAAL,CAAmBC,KAAnB,EAA0BA,KAAK,CAACjtC,MAAN,GAAe,CAAzC;AACA;AAlCJ;AAoCD;;AAEDwV,EAAAA,MAAM,GAAG;AACP,QAAI43B,qBAAJ,EAA2BC,iBAA3B,EAA8CC,iBAA9C;;AAEA,WAAO,CAAC,GAAGvyC,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3B6H,MAAAA,EAAE,EAAE,KAAKc,UADkB;AAE3BpD,MAAAA,KAAK,EAAE;AACLqD,QAAAA,IAAI,EAAE,IADD;AAELkvB,QAAAA,OAAO,EAAE,CAAC7lC,WAAW,CAAC,KAAK8lC,gBAAN,CAFhB;AAGLC,QAAAA,eAAe,EAAE,KAAKD,gBAAL,KAA0B,MAHtC;AAILE,QAAAA,gBAAgB,EAAE,KAAKF,gBAAL,KAA0B;AAJvC,OAFoB;AAQ3BtF,MAAAA,IAAI,EAAE,MARqB;AAS3ByF,MAAAA,QAAQ,EAAE,IATiB;AAU3B,yBAAmB,CAACP,qBAAqB,GAAG,CAACC,iBAAiB,GAAG,KAAK7C,UAA1B,MAA0C,IAA1C,IAAkD6C,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAACjvB,UAArI,MAAqJ,IAArJ,IAA6JgvB,qBAAqB,KAAK,KAAK,CAA5L,GAAgMA,qBAAhM,GAAwN,CAACE,iBAAiB,GAAG,KAAK9C,UAA1B,MAA0C,IAA1C,IAAkD8C,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAAChwB,EAV5T;AAW3B,qBAAe,CAAC,KAAKE,MAAN,GAAe,MAAf,GAAwB,OAXZ;AAY3BG,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaxG,IAAb,CAAkB,IAAlB,CAZkB;AAa3ByG,MAAAA,MAAM,EAAE,KAAKA,MAAL,CAAYzG,IAAZ,CAAiB,IAAjB,CAbmB;AAc3BT,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB,CAdkB;AAe3B+1B,MAAAA,SAAS,EAAE,KAAKA,SAAL,CAAe/1B,IAAf,CAAoB,IAApB,CAfgB;AAgB3BvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKwV,IAAL,GAAYxV,EAAZ;AACD;AAlB0B,KAAtB,EAmBJ,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvBuF,MAAAA,KAAK,EAAE,WADgB;AAEvBpS,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKiR,SAAL,GAAiBjR,EAAjB;AACD;AAJsB,KAAtB,EAKA,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CALA,CAnBI,CAAP;AAyBD;;AAEO,MAAJjC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,wBAAkB,CAAC,wBAAD,CADb;AAEL,uBAAiB,CAAC,uBAAD,CAFZ;AAGL,gBAAU,CAAC,gBAAD;AAHL,KAAP;AAKD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOiyB,OAAP;AACD;;AA9VkC,CAArC;AAiWA,IAAIkE,WAAW,GAAG,stDAAlB;AACA,IAAIC,QAAQ,GAAG,cAAc/kC,WAAd,CAA0B;AACvCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKgG,OAAL,GAAe,CAAC,GAAGhhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKE,MAAL,GAAc,CAAC,GAAGjhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,QAA/B,EAAyC,CAAzC,CAAd;AACA,SAAKI,gBAAL,GAAwB,KAAxB;AACA;AACJ;AACA;;AAEI,SAAKlF,MAAL,GAAc,KAAd;AACA;AACJ;AACA;;AAEI,SAAK82B,SAAL,GAAiB,OAAjB;AACA;;AAEA,SAAKtnC,OAAL,GAAe,KAAf;AACA5L,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,SAAD,CAAP,CAAjB;AACD;AACD;AACF;AACA;;;AAGEowC,EAAAA,SAAS,GAAG;AACV,QAAI0C,OAAO,GAAG,IAAd;;AAEA,WAAOzsC,iBAAiB,CAAC,aAAa;AACpC,UAAI0sC,gBAAJ;;AAEA,OAACA,gBAAgB,GAAGD,OAAO,CAACE,QAA5B,MAA0C,IAA1C,IAAkDD,gBAAgB,KAAK,KAAK,CAA5E,GAAgF,KAAK,CAArF,GAAyFA,gBAAgB,CAAClxB,KAAjB,EAAzF;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;AACF;AACA;;;AAGEoxB,EAAAA,QAAQ,GAAG;AACT,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAO7sC,iBAAiB,CAAC,aAAa;AACpC,UAAI8sC,gBAAJ;;AAEA,OAACA,gBAAgB,GAAGD,OAAO,CAACF,QAA5B,MAA0C,IAA1C,IAAkDG,gBAAgB,KAAK,KAAK,CAA5E,GAAgF,KAAK,CAArF,GAAyFA,gBAAgB,CAAClxB,IAAjB,EAAzF;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;AACF;AACA;;;AAGEmxB,EAAAA,SAAS,GAAG;AACV,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOhtC,iBAAiB,CAAC,aAAa;AACpC,aAAOyW,UAAU,CAACu2B,OAAO,CAACL,QAAR,GAAmBnhC,MAAM,CAACkL,gBAAP,CAAwBs2B,OAAO,CAACL,QAAhC,EAA0Ch2B,MAA7D,GAAsE,GAAvE,CAAjB;AACD,KAFuB,CAAjB,EAAP;AAGD;;AAEDvB,EAAAA,OAAO,GAAG;AACR,QAAI,CAAC/O,iBAAiB,CAAC,KAAK0W,IAAN,CAAtB,EAAmC,KAAKA,IAAL,CAAUb,MAAV,GAAmB,CAAC,KAAKQ,QAAzB;AACpC;;AAEDL,EAAAA,OAAO,GAAG;AACR,SAAK5B,OAAL,CAAa0B,IAAb;AACD;;AAEDG,EAAAA,MAAM,GAAG;AACP,SAAK5B,MAAL,CAAYyB,IAAZ;AACD;;AAEDN,EAAAA,YAAY,GAAG;AACb,SAAKjB,gBAAL,GAAwB,IAAxB;AACD;;AAEDkB,EAAAA,UAAU,GAAG;AACXvQ,IAAAA,UAAU,CAAC,MAAM;AACf,WAAKqP,gBAAL,GAAwB,KAAxB;AACD,KAFS,EAEP,GAFO,CAAV;AAGD;;AAED4B,EAAAA,YAAY,GAAG;AACb,QAAIywB,cAAJ;;AAEA,KAACA,cAAc,GAAG,KAAKN,QAAvB,MAAqC,IAArC,IAA6CM,cAAc,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,cAAc,CAACrxB,IAAf,EAAlF;AACD;;AAED1H,EAAAA,MAAM,GAAG;AACP,QAAIg5B,cAAJ,EAAoBC,qBAApB,EAA2CC,UAA3C,EAAuDC,WAAvD;;AAEA,QAAIC,gBAAgB,GAAG,CAAClnC,WAAW,CAAC,KAAKmnC,OAAN,CAAnC;AACA,QAAIC,aAAa,GAAG,CAACpnC,WAAW,CAAC,KAAK2W,IAAN,CAAhC;AACA,QAAI0wB,WAAW,GAAG,KAAK/wB,QAAL,GAAgB,MAAhB,GAAyB,OAA3C;AACA,QAAIgxB,SAAS,GAAG,KAAKH,OAAL,GAAe,MAAf,GAAwB,OAAxC;AACA,QAAII,eAAe,GAAGL,gBAAgB,IAAI,CAAClnC,WAAW,CAAC,KAAKomC,SAAN,CAAtD;AACA,QAAIoB,gBAAgB,GAAGJ,aAAa,IAAI,KAAK9wB,QAA7C;AACA,QAAImxB,iBAAiB,GAAGL,aAAa,IAAI,CAAC,KAAK9wB,QAA/C;AACA,QAAIoxB,QAAQ,GAAG,CAAC1nC,WAAW,CAAC,KAAKutB,IAAN,CAAZ,IAA2B,CAAC2Z,gBAA5B,KAAiD,CAACE,aAAD,IAAkB,CAAC,KAAK9wB,QAAzE,CAAf;AACA,QAAIqxB,SAAS,GAAG,CAAC3nC,WAAW,CAAC,KAAKiuB,KAAN,CAAZ,IAA4B,CAACyZ,QAA7B,IAAyC,CAACD,iBAA1D;AACA,QAAIG,SAAS,GAAGF,QAAQ,IAAID,iBAA5B;AACA,WAAO,CAAC,GAAGp0C,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLizB,QAAAA,QAAQ,EAAE,IADL;AAEL/vB,QAAAA,QAAQ,EAAE,CAAC,KAAK1X,OAFX;AAGL2X,QAAAA,YAAY,EAAE,KAAKjC,gBAHd;AAILqzB,QAAAA,WAAW,EAAET,aAAa,KAAK,CAACN,cAAc,GAAG,KAAKxwB,QAAvB,MAAqC,IAArC,IAA6CwwB,cAAc,KAAK,KAAK,CAArE,GAAyEA,cAAzE,GAA0F,KAA/F;AAJrB,OADoB;AAO3BlxB,MAAAA,EAAE,EAAE,KAAKc,UAPkB;AAQ3B8pB,MAAAA,IAAI,EAAE0G,gBAAgB,GAAG,eAAH,GAAqB,UARhB;AAS3BjB,MAAAA,QAAQ,EAAE,GATiB;AAU3B,oBAAc,KAAK12B,KAVQ;AAW3B,qBAAe,KAAKD,MAAL,GAAc,MAAd,GAAuB,OAXX;AAY3B,uBAAiB83B,aAAa,GAAG,MAAH,GAAYntC,SAZf;AAa3B,uBAAiB,CAAC8sC,qBAAqB,GAAG,CAACC,UAAU,GAAG,KAAKrwB,IAAnB,MAA6B,IAA7B,IAAqCqwB,UAAU,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,UAAU,CAACtwB,UAA1G,MAA0H,IAA1H,IAAkIqwB,qBAAqB,KAAK,KAAK,CAAjK,GAAqKA,qBAArK,GAA6L,CAACE,WAAW,GAAG,KAAKtwB,IAApB,MAA8B,IAA9B,IAAsCswB,WAAW,KAAK,KAAK,CAA3D,GAA+D,KAAK,CAApE,GAAwEA,WAAW,CAACrxB,EAbvQ;AAc3B,uBAAiBwxB,aAAa,GAAGC,WAAH,GAAiBptC,SAdpB;AAe3B,sBAAgBitC,gBAAgB,GAAGI,SAAH,GAAertC,SAfpB;AAgB3B+U,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB,CAhBkB;AAiB3BwG,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaxG,IAAb,CAAkB,IAAlB,CAjBkB;AAkB3ByG,MAAAA,MAAM,EAAE,KAAKA,MAAL,CAAYzG,IAAZ,CAAiB,IAAjB,CAlBmB;AAmB3BgG,MAAAA,YAAY,EAAE,KAAKA,YAAL,CAAkBhG,IAAlB,CAAuB,IAAvB,CAnBa;AAoB3BiG,MAAAA,UAAU,EAAE,KAAKA,UAAL,CAAgBjG,IAAhB,CAAqB,IAArB,CApBe;AAqB3B2G,MAAAA,YAAY,EAAE,KAAKA,YAAL,CAAkB3G,IAAlB,CAAuB,IAAvB,CArBa;AAsB3BvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKolC,QAAL,GAAgBplC,EAAhB;AACD;AAxB0B,KAAtB,EAyBJomC,eAAe,IAAI,CAAC,GAAGl0C,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC9C1L,MAAAA,IAAI,EAAE,KAAK+jC,SADmC;AAE9C12B,MAAAA,OAAO,EAAE,KAAKnS;AAFgC,KAA1B,CAzBf,EA4BHiqC,gBAAgB,IAAI,CAAC,GAAGn0C,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB;AAC7CuF,MAAAA,KAAK,EAAE;AADsC,KAAvB,CA5BjB,EA8BH,KAAK/D,KA9BF,EA8BSq4B,SAAS,IAAI,CAAC,GAAGv0C,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB;AAClDuF,MAAAA,KAAK,EAAE;AAD2C,KAAvB,CA9BtB,EAgCHo0B,QAAQ,IAAI,CAAC,GAAGr0C,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB;AACrCuF,MAAAA,KAAK,EAAE;AAD8B,KAAvB,EAEb,KAAKia,IAFQ,CAhCT,EAkCQoa,SAAS,IAAI,CAAC,GAAGt0C,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB;AACjDuF,MAAAA,KAAK,EAAE;AAD0C,KAAvB,EAEzB,KAAK2a,KAFoB,CAlCrB,EAoCSwZ,iBAAiB,IAAI,CAAC,GAAGp0C,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB;AAC1DuF,MAAAA,KAAK,EAAE;AADmD,KAAvB,CApC9B,CAAP;AAuCD;;AAEO,MAAJxH,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEe,aAALiE,KAAK,GAAG;AACjB,WAAOm2B,WAAP;AACD;;AA3JsC,CAAzC;AA8JA,IAAI4B,SAAS,GAAG,cAAc1mC,WAAd,CAA0B;AACxCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK05B,OAAL,GAAe,CAAC,GAAG10C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA;AACJ;AACA;;AAEI,SAAK+yB,OAAL,GAAe,KAAf;AACA;AACJ;AACA;;AAEI,SAAKf,SAAL,GAAiB,OAAjB;AACAlzC,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAED8b,EAAAA,OAAO,GAAG;AACR,SAAKm4B,OAAL,GAAe,IAAf;AACA,SAAKY,OAAL,CAAahyB,IAAb;AACD;;AAEDjI,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,cAAf,EAA+B;AACpCwB,MAAAA,KAAK,EAAE,KAAKA,KADwB;AAEpC43B,MAAAA,OAAO,EAAE,KAAKA,OAFsB;AAGpClZ,MAAAA,KAAK,EAAE,KAAKA,KAHwB;AAIpCmY,MAAAA,SAAS,EAAE,KAAKA,SAJoB;AAKpC7oC,MAAAA,KAAK,EAAE,KAAKA,KALwB;AAMpCyR,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB;AAN2B,KAA/B,CAAP;AAQD;;AAnCuC,CAA1C;AAsCA,IAAIu4B,cAAc,GAAG,cAAc5mC,WAAd,CAA0B;AAC7CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK05B,OAAL,GAAe,CAAC,GAAG10C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACAlhB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAED+0C,EAAAA,aAAa,GAAG;AACd,QAAIC,gBAAJ;;AAEA,KAACA,gBAAgB,GAAG,KAAKC,UAAL,EAApB,MAA2C,IAA3C,IAAmDD,gBAAgB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,gBAAgB,CAAC1vC,OAAjB,CAAyB60B,KAAK,IAAI;AAC1HA,MAAAA,KAAK,CAAC8Z,OAAN,GAAgB9Z,KAAK,CAACx6B,KAAN,KAAgB,KAAKA,KAArC;AACD,KAFyF,CAA1F;AAGD;;AAED+Q,EAAAA,iBAAiB,GAAG;AAClB,SAAKqkC,aAAL;AACD;;AAEDl5B,EAAAA,gBAAgB,GAAG;AACjB,SAAKk5B,aAAL;AACD;;AAEDG,EAAAA,iBAAiB,CAAC9mC,KAAD,EAAQ;AACvB,QAAI+rB,KAAK,GAAG/rB,KAAK,CAACnJ,MAAlB;AACA,SAAKtF,KAAL,GAAaw6B,KAAK,CAACx6B,KAAnB;AACD;;AAEDs1C,EAAAA,UAAU,GAAG;AACX,QAAIE,sBAAJ;;AAEA,WAAO,CAACA,sBAAsB,GAAG,KAAKv8B,IAAL,CAAUmF,UAAV,CAAqBC,aAArB,CAAmC,MAAnC,CAA1B,MAA0E,IAA1E,IAAkFm3B,sBAAsB,KAAK,KAAK,CAAlH,GAAsH,KAAK,CAA3H,GAA+HA,sBAAsB,CAAC3G,gBAAvB,EAAtI;AACD;;AAED5zB,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAAP;AACD;;AAEO,MAAJjC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,eAAS,CAAC,eAAD;AADJ,KAAP;AAGD;;AAlD4C,CAA/C;AAqDA,IAAIw4B,WAAW,GAAG,cAAclnC,WAAd,CAA0B;AAC1CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKgG,OAAL,GAAe,CAAC,GAAGhhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKE,MAAL,GAAc,CAAC,GAAGjhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,QAA/B,EAAyC,CAAzC,CAAd;AACA;AACJ;AACA;;AAEI,SAAKm0B,aAAL,GAAqB,YAArB;AACA;AACJ;AACA;;AAEI,SAAKC,cAAL,GAAsB,aAAtB;AACA;AACJ;AACA;;AAEI,SAAKC,SAAL,GAAiB,aAAjB;AACA;AACJ;AACA;;AAEI,SAAKh6B,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKC,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKhX,IAAL,GAAY,GAAZ;AACA;;AAEA,SAAKoD,MAAL,GAAc,EAAd;AACA;;AAEA,SAAK6C,KAAL,GAAa,KAAb;AACA;;AAEA,SAAK4B,IAAL,GAAY,EAAZ;AACArM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,CAAP,CAAjB;AACD;;AAEDqQ,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACD;;AAED60C,EAAAA,OAAO,GAAG;AACR,QAAIC,UAAU,GAAG,KAAK7tC,MAAL,GAAc,EAAd,GAAmB,KAAKytC,aAAxB,GAAwC,KAAKC,cAA9D;AACA,WAAO,KAAK7qC,KAAL,IAAc,KAAK7C,MAAL,KAAgB,CAA9B,GAAkC,KAAK2tC,SAAvC,GAAmDE,UAA1D;AACD;;AAED35B,EAAAA,OAAO,GAAG;AACR,SAAKiD,QAAL,CAAc,OAAd,EAAuB,CAAC,KAAKtU,KAA7B;AACD;;AAEDmQ,EAAAA,MAAM,GAAG;AACP,QAAIqB,OAAO,GAAG,KAAKxR,KAAL,GAAa,KAAK4B,IAAL,CAAUvE,MAAvB,GAAgC,KAAKuE,IAAL,CAAUxE,IAAxD;AACA,QAAIqU,eAAe,GAAG,CAACpP,WAAW,CAAC,KAAKtI,IAAN,CAAZ,GAA0B,GAAG2P,MAAH,CAAU8H,OAAV,EAAmB,IAAnB,EAAyB9H,MAAzB,CAAgC,KAAK3P,IAArC,EAA2C,GAA3C,CAA1B,GAA4EyX,OAAlG;AACA,WAAO,CAAC,GAAG9b,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAClCwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUxE,IADiB;AAElCyU,MAAAA,OAAO,EAAE,KAAK7R,KAFoB;AAGlCjG,MAAAA,IAAI,EAAE,KAAKA,IAHuB;AAIlCsX,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB;AAJyB,KAA7B,EAKJ,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC3B1L,MAAAA,IAAI,EAAE,KAAKqmC,OAAL,EADqB;AAE3Bh5B,MAAAA,OAAO,EAAE,KAAKnS;AAFa,KAA1B,CALI,EAQH,CAAC,GAAGlK,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC/BuB,MAAAA,MAAM,EAAE,KAAKZ,WADkB;AAE/BiB,MAAAA,QAAQ,EAAE,KAAKlB,eAFgB;AAG/BmB,MAAAA,SAAS,EAAE,KAAKC;AAHe,KAA7B,EAIDT,eAJC,CARG,CAAP;AAaD;;AA/EyC,CAA5C;AAkFA,IAAIw5B,aAAa,GAAG,+BAApB;AACA,IAAIC,UAAU,GAAG,cAAcznC,WAAd,CAA0B;AACzCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK+qB,SAAL,GAAiB,KAAjB;AACA;AACJ;AACA;;AAEI,SAAK6B,SAAL,GAAiB,WAAjB;AACA;AACJ;AACA;;AAEI,SAAKC,QAAL,GAAgB,UAAhB;AACA;AACJ;AACA;;AAEI,SAAKzsB,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKC,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKhX,IAAL,GAAY,GAAZ;AACA;;AAEA,SAAKuH,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKM,IAAL,GAAY,EAAZ;AACA;;AAEA,SAAK7B,aAAL,GAAqB,KAArB;AACAxK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,aAAD,EAAgB,eAAhB,EAAiC,MAAjC,CAAP,CAAjB;AACD;;AAEDi4B,EAAAA,qBAAqB,GAAG;AACtB,QAAIsd,OAAO,GAAG,IAAd;;AAEA,WAAOlvC,iBAAiB,CAAC,aAAa;AACpC,UAAImvC,qBAAJ;;AAEA,UAAI9hC,MAAM,GAAGlU,qBAAqB,CAAC+1C,OAAD,CAAlC;AACAA,MAAAA,OAAO,CAAC1P,SAAR,GAAoB,CAAC2P,qBAAqB,GAAG,MAAM9hC,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACmyB,SAAP,EAA/E,MAAuG,IAAvG,IAA+G2P,qBAAqB,KAAK,KAAK,CAA9I,GAAkJA,qBAAlJ,GAA0K,KAA9L;AACD,KALuB,CAAjB,EAAP;AAMD;;AAEDh6B,EAAAA,gBAAgB,GAAG;AACjB,SAAKyc,qBAAL;AACD;;AAEDxc,EAAAA,OAAO,GAAG;AACR,QAAI/H,MAAM,GAAGlU,qBAAqB,CAAC,IAAD,CAAlC;AACA,KAAC,KAAKkM,WAAN,GAAoBgI,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACzK,QAAP,EAApE,GAAwFyK,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACxK,OAAP,EAAxI;AACD;;AAEDqR,EAAAA,MAAM,GAAG;AACP,QAAIqB,OAAO,GAAG,KAAKlQ,WAAL,GAAmB,KAAKM,IAAL,CAAU9C,OAA7B,GAAuC,KAAK8C,IAAL,CAAU/C,QAA/D;AACA,QAAI4S,eAAe,GAAG,CAACpP,WAAW,CAAC,KAAKtI,IAAN,CAAZ,GAA0B,GAAG2P,MAAH,CAAU8H,OAAV,EAAmB,IAAnB,EAAyB9H,MAAzB,CAAgC,KAAK3P,IAArC,EAA2C,GAA3C,CAA1B,GAA4EyX,OAAlG;AACA,WAAO,CAAC,GAAG9b,OAAO,CAAC0a,CAAZ,EAAe1a,OAAO,CAACgc,IAAvB,EAA6B;AAClCC,MAAAA,MAAM,EAAE,CAAC,KAAK8pB;AADoB,KAA7B,EAEJ,CAAC,GAAG/lC,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC9BwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUhD,GADa;AAE9B7E,MAAAA,IAAI,EAAE,KAAKA,IAFmB;AAG9B8X,MAAAA,OAAO,EAAE,KAAKvQ,WAHgB;AAI9BqQ,MAAAA,MAAM,EAAE,CAAC,KAAK8pB,SAJgB;AAK9BpqB,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB;AALqB,KAA7B,EAMA,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC3B1L,MAAAA,IAAI,EAAE,KAAKpD,WAAL,GAAmB,KAAKi8B,QAAxB,GAAmC,KAAKD,SADnB;AAE3BvrB,MAAAA,OAAO,EAAE,KAAKnS;AAFa,KAA1B,CANA,EASC,CAAC,GAAGlK,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC/BuB,MAAAA,MAAM,EAAE,KAAKZ,WADkB;AAE/BiB,MAAAA,QAAQ,EAAE,KAAKlB,eAFgB;AAG/BmB,MAAAA,SAAS,EAAE,KAAKC;AAHe,KAA7B,EAIDT,eAJC,CATD,CAFI,CAAP;AAgBD;;AAEkB,aAARU,QAAQ,GAAG;AACpB,WAAO;AACL,uBAAiB,CAAC,uBAAD;AADZ,KAAP;AAGD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAO64B,aAAP;AACD;;AA7FwC,CAA3C;AAgGA,IAAII,eAAe,GAAG,cAAc5nC,WAAd,CAA0B;AAC9CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;AACJ;AACA;;AAEI,SAAK46B,QAAL,GAAgB,MAAhB;AACA;AACJ;AACA;;AAEI,SAAKC,SAAL,GAAiB,OAAjB;AACA;AACJ;AACA;;AAEI,SAAKz6B,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKC,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKhX,IAAL,GAAY,GAAZ;AACA;;AAEA,SAAKiF,MAAL,GAAc,IAAd;AACA;;AAEA,SAAK4C,IAAL,GAAY,EAAZ;AACArM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,QAAD,EAAW,MAAX,CAAP,CAAjB;AACD;;AAEDqQ,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACD;;AAEDmb,EAAAA,OAAO,GAAG;AACR,SAAKiD,QAAL,CAAc,QAAd,EAAwB,CAAC,KAAKtV,MAA9B;AACD;;AAEDmR,EAAAA,MAAM,GAAG;AACP,QAAIqB,OAAO,GAAG,KAAKxS,MAAL,GAAc,KAAK4C,IAAL,CAAUpF,IAAxB,GAA+B,KAAKoF,IAAL,CAAUnF,KAAvD;AACA,QAAIgV,eAAe,GAAG,CAACpP,WAAW,CAAC,KAAKtI,IAAN,CAAZ,GAA0B,GAAG2P,MAAH,CAAU8H,OAAV,EAAmB,IAAnB,EAAyB9H,MAAzB,CAAgC,KAAK3P,IAArC,EAA2C,GAA3C,CAA1B,GAA4EyX,OAAlG;AACA,WAAO,CAAC,GAAG9b,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAClCwB,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUlF,QADiB;AAElC3C,MAAAA,IAAI,EAAE,KAAKA,IAFuB;AAGlC8X,MAAAA,OAAO,EAAE,CAAC,KAAK7S,MAHmB;AAIlCqS,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaS,IAAb,CAAkB,IAAlB;AAJyB,KAA7B,EAKJ,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC3B1L,MAAAA,IAAI,EAAE,KAAK1F,MAAL,GAAc,KAAKssC,QAAnB,GAA8B,KAAKC,SADd;AAE3Bx5B,MAAAA,OAAO,EAAE,KAAKnS;AAFa,KAA1B,CALI,EAQH,CAAC,GAAGlK,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC/BuB,MAAAA,MAAM,EAAE,KAAKZ,WADkB;AAE/BiB,MAAAA,QAAQ,EAAE,KAAKlB,eAFgB;AAG/BmB,MAAAA,SAAS,EAAE,KAAKC;AAHe,KAA7B,EAIDT,eAJC,CARG,CAAP;AAaD;;AAhE6C,CAAhD;AAmEA,IAAI+5B,MAAM,GAAG,CAAC,CAAC,mBAAD,EAAsB,gBAAtB,EAAwC,mBAAxC,EAA6D,mBAA7D,EAAkF,kBAAlF,EAAsG,iBAAtG,EAAyH,YAAzH,CAAD,EAAyI;AACtJ,CAAC,yBAAD,EAA4B,sBAA5B,EAAoD,yBAApD,EAA+E,yBAA/E,EAA0G,wBAA1G,EAAoI,uBAApI,EAA6J,qBAA7J,CADa,EACwK;AACrL,CAAC,sBAAD,EAAyB,qBAAzB,EAAgD,sBAAhD,EAAwE,sBAAxE,EAAgG,qBAAhG,EAAuH,oBAAvH,EAA6I,kBAA7I,CAFa,EAEqJ;AAClK,CAAC,qBAAD,EAAwB,kBAAxB,EAA4C,qBAA5C,EAAmE,qBAAnE,EAA0F,oBAA1F,EAAgH,mBAAhH,EAAqI,gBAArI,CAHa,CAAb;AAIA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,gBAAgB,GAAG,MAAM;AAC3B,MAAIC,GAAG,GAAG;AACRC,IAAAA,QAAQ,EAAE;AADF,GAAV;AAGA,MAAIC,OAAO,GAAGJ,MAAM,CAAC,CAAD,CAApB;AACA,MAAIK,UAAJ,CAL2B,CAKX;;AAEhB,OAAK,IAAIpxC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+wC,MAAM,CAAC7wC,MAA3B,EAAmCF,CAAC,IAAI,CAAxC,EAA2C;AACzC;AACA,QAAI+wC,MAAM,CAAC/wC,CAAD,CAAN,CAAU,CAAV,KAAgB2a,QAApB,EAA8B;AAC5By2B,MAAAA,UAAU,GAAGL,MAAM,CAAC/wC,CAAD,CAAnB;AACA;AACD;AACF,GAb0B,CAazB;;;AAGF,MAAIoxC,UAAJ,EAAgB;AACd,SAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGD,UAAU,CAAClxC,MAAjC,EAAyCmxC,EAAE,IAAI,CAA/C,EAAkD;AAChDJ,MAAAA,GAAG,CAACE,OAAO,CAACE,EAAD,CAAR,CAAH,GAAmBD,UAAU,CAACC,EAAD,CAA7B;AACD;;AAEDJ,IAAAA,GAAG,CAACC,QAAJ,GAAeE,UAAU,CAAC,CAAD,CAAV,KAAkBD,OAAO,CAAC,CAAD,CAAxC;AACD;;AAED,SAAOF,GAAP;AACD,CAzBD;;AA2BA,MAAMK,UAAN,CAAiB;AACfvpC,EAAAA,WAAW,CAACgB,EAAD,EAAK4J,QAAL,EAAe;AACxB,SAAK5J,EAAL,GAAUA,EAAV;AACA,SAAK4J,QAAL,GAAgBA,QAAhB;AACA,SAAKlB,QAAL,GAAgB,IAAIlB,QAAJ,EAAhB;AACA,SAAK0gC,GAAL,GAAWD,gBAAgB,EAA3B;;AAEA,QAAI,KAAKxN,WAAT,EAAsB;AACpB,WAAK/xB,QAAL,CAAchB,GAAd,CAAkBvE,MAAM,CAAC,KAAKnD,EAAN,EAAU,KAAKkoC,GAAL,CAASM,gBAAnB,EAAqC,KAAKC,kBAAL,CAAwBn6B,IAAxB,CAA6B,IAA7B,CAArC,CAAxB;AACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEM,UAAIsD,QAAQ,CAAC6kB,oBAAb,EAAmC;AACjC,aAAK/tB,QAAL,CAAchB,GAAd,CAAkBvE,MAAM,CAAC,KAAKnD,EAAN,EAAU,wBAAV,EAAoC,KAAKyoC,kBAAL,CAAwBn6B,IAAxB,CAA6B,IAA7B,CAApC,CAAxB;AACD,OAbmB,CAalB;;;AAGF,UAAIsD,QAAQ,CAAC82B,mBAAb,EAAkC;AAChC,aAAKhgC,QAAL,CAAchB,GAAd,CAAkBvE,MAAM,CAAC,KAAKnD,EAAN,EAAU,qBAAV,EAAiC,KAAKyoC,kBAAL,CAAwBn6B,IAAxB,CAA6B,IAA7B,CAAjC,CAAxB;AACD;AACF;AACF;;AAEDhU,EAAAA,eAAe,CAACgJ,OAAD,EAAU;AACvB,QAAIqlC,OAAO,GAAG,IAAd;;AAEA,WAAOlwC,iBAAiB,CAAC,aAAa;AACpC,UAAI,CAACkwC,OAAO,CAAClO,WAAb,EAA0B,MAAMzE,KAAK,CAAC,kCAAD,CAAX;AAC1B,aAAO2S,OAAO,CAAC3oC,EAAR,CAAW2oC,OAAO,CAACT,GAAR,CAAYU,iBAAvB,EAA0CtlC,OAA1C,CAAP;AACD,KAHuB,CAAjB,EAAP;AAID;;AAED/I,EAAAA,cAAc,GAAG;AACf,QAAIsuC,OAAO,GAAG,IAAd;;AAEA,WAAOpwC,iBAAiB,CAAC,aAAa;AACpC,UAAI,CAACowC,OAAO,CAACpO,WAAb,EAA0B,MAAMzE,KAAK,CAAC,kCAAD,CAAX;AAC1B,UAAI,CAAC6S,OAAO,CAACC,QAAb,EAAuB,MAAM9S,KAAK,CAAC,qDAAD,CAAX;AACvB,aAAOpkB,QAAQ,CAACi3B,OAAO,CAACX,GAAR,CAAY3tC,cAAb,CAAR,EAAP;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEW,MAARuuC,QAAQ,GAAG;AACb,QAAI,CAAC,KAAKrO,WAAV,EAAuB,OAAO,KAAP;AACvB,QAAIsO,YAAY,GAAGn3B,QAAQ,CAAC,KAAKs2B,GAAL,CAASc,iBAAV,CAA3B;AACA,WAAO,KAAKhpC,EAAL,KAAY+oC,YAAZ,IAA4B,KAAK/oC,EAAL,CAAQipC,OAAR,CAAgB,IAAI/iC,MAAJ,CAAW,KAAKgiC,GAAL,CAAS7tC,UAApB,CAAhB,CAA5B,IAAgF,KAAK2F,EAAL,CAAQkpC,QAAR,CAAiBH,YAAjB,CAAvF;AACD;;AAEc,MAAXtO,WAAW,GAAG;AAChB,WAAO,CAAC57B,WAAW,CAAC,KAAKqpC,GAAL,CAASU,iBAAV,CAAnB;AACD;;AAEDH,EAAAA,kBAAkB,GAAG;AACnB,SAAK7+B,QAAL,CAAc,KAAKk/B,QAAnB;AACD;;AAED1Z,EAAAA,OAAO,GAAG;AACR,SAAK1mB,QAAL,CAAcd,KAAd;AACD;;AAhEc;;AAoEjB,MAAMuhC,MAAN,CAAa;AACXnqC,EAAAA,WAAW,GAAG;AACZ,SAAKoqC,MAAL,GAAc,KAAd;AACD;;AAEDC,EAAAA,GAAG,GAAG;AACJ,SAAK,IAAIC,KAAK,GAAGpyC,SAAS,CAACC,MAAtB,EAA8ByB,IAAI,GAAG,IAAIgH,KAAJ,CAAU0pC,KAAV,CAArC,EAAuDC,KAAK,GAAG,CAApE,EAAuEA,KAAK,GAAGD,KAA/E,EAAsFC,KAAK,EAA3F,EAA+F;AAC7F3wC,MAAAA,IAAI,CAAC2wC,KAAD,CAAJ,GAAcryC,SAAS,CAACqyC,KAAD,CAAvB;AACD;;AAED,QAAI,CAAC,KAAKH,MAAN,IAAgB,CAACvqC,WAAW,CAAC2qC,OAAD,CAAhC,EAA2CA,OAAO,CAACH,GAAR,CAAY,aAAZ,EAA2B,GAAGzwC,IAA9B;AAC5C;;AAED6S,EAAAA,IAAI,GAAG;AACL,SAAK,IAAIg+B,KAAK,GAAGvyC,SAAS,CAACC,MAAtB,EAA8ByB,IAAI,GAAG,IAAIgH,KAAJ,CAAU6pC,KAAV,CAArC,EAAuDC,KAAK,GAAG,CAApE,EAAuEA,KAAK,GAAGD,KAA/E,EAAsFC,KAAK,EAA3F,EAA+F;AAC7F9wC,MAAAA,IAAI,CAAC8wC,KAAD,CAAJ,GAAcxyC,SAAS,CAACwyC,KAAD,CAAvB;AACD;;AAED,QAAI,CAAC,KAAKN,MAAN,IAAgB,CAACvqC,WAAW,CAAC2qC,OAAD,CAAhC,EAA2CA,OAAO,CAACnxC,KAAR,CAAc,cAAd,EAA8B,GAAGO,IAAjC;AAC5C;;AAnBU;;AAuBb,IAAI+wC,OAAO,GAAG,IAAIrrC,GAAJ,EAAd;;AAEA,SAASsrC,aAAT,CAAuB9jC,MAAvB,EAA+B;AAC7B,MAAI9F,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwB4F,MAAxB,CAAT;AACAN,EAAAA,iBAAiB,CAACM,MAAD,EAAS,MAAM;AAC9B6jC,IAAAA,OAAO,CAACjiC,GAAR,CAAY1H,EAAZ;AACD,GAFgB,EAEd,MAAM;AACP2pC,IAAAA,OAAO,CAAChnC,MAAR,CAAe3C,EAAf;AACD,GAJgB,CAAjB;AAKD;;AAED,SAASjC,SAAT,CAAmB+H,MAAnB,EAA2B;AACzB,MAAI9F,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwB4F,MAAxB,CAAT;AACA6jC,EAAAA,OAAO,CAACtyC,OAAR,CAAgBwyC,CAAC,IAAI;AACnB,QAAIA,CAAC,KAAK7pC,EAAN,IAAY6pC,CAAC,CAAC9rC,SAAlB,EAA6B8rC,CAAC,CAACruC,MAAF,GAAW,IAAX;AAC9B,GAFD;AAGD;AACD;;;AAGA,SAASsuC,gBAAT,CAA0BhkC,MAA1B,EAAkC;AAChC,MAAI9F,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwB4F,MAAxB,CAAT;AACA,MAAIgF,KAAK,GAAG,IAAIhJ,GAAJ,EAAZ;;AAEA,WAASiJ,SAAT,GAAqB;AACnBxZ,IAAAA,MAAM,CAACgF,IAAP,CAAYhE,YAAZ,EAA0B8E,OAA1B,CAAkCkH,IAAI,IAAI;AACxCuM,MAAAA,KAAK,CAACtI,GAAN,CAAUjE,IAAV,EAAgBuH,MAAM,CAACvH,IAAD,CAAtB;AACD,KAFD;AAGD;;AAEDiH,EAAAA,iBAAiB,CAACM,MAAD,EAAS,MAAM;AAC9BiF,IAAAA,SAAS;AACV,GAFgB,EAEd,MAAM;AACPD,IAAAA,KAAK,CAAChC,KAAN;AACD,GAJgB,CAAjB;AAKA,MAAI;AACFoqB,IAAAA;AADE,MAEAptB,MAFJ;;AAIAA,EAAAA,MAAM,CAACotB,kBAAP,GAA4B,YAAY;AACtCA,IAAAA,kBAAkB,KAAK,IAAvB,IAA+BA,kBAAkB,KAAK,KAAK,CAA3D,GAA+D,KAAK,CAApE,GAAwEA,kBAAkB,EAA1F;AACA,QAAInyB,KAAK,GAAGnB,KAAK,CAACoJ,IAAN,CAAW8B,KAAK,CAACvU,IAAN,EAAX,CAAZ;;AAEA,SAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8J,KAAK,CAAC5J,MAA1B,EAAkCF,CAAC,IAAI,CAAvC,EAA0C;AACxC,UAAIsH,IAAI,GAAGwC,KAAK,CAAC9J,CAAD,CAAhB;AACA,UAAI6P,QAAQ,GAAGgE,KAAK,CAAC7Y,GAAN,CAAUsM,IAAV,CAAf;AACA,UAAIsI,QAAQ,GAAGf,MAAM,CAACvH,IAAD,CAArB;;AAEA,UAAIuI,QAAQ,KAAKD,QAAjB,EAA2B;AACzBD,QAAAA,eAAe,CAAC5G,EAAD,EAAKzB,IAAL,EAAWsI,QAAX,EAAqBC,QAArB,CAAf;AACAgE,QAAAA,KAAK,CAACtI,GAAN,CAAUjE,IAAV,EAAgBsI,QAAhB;AACD;AACF;AACF,GAdD;AAeD;AACD;AACA;;;AAGA,IAAIkjC,oBAAoB,GAAG,IAAIzrC,GAAJ,CAAQ,CAAC,aAAD,EAAgB,QAAhB,CAAR,CAA3B;;AAEA,SAAS0rC,mBAAT,CAA6BlkC,MAA7B,EAAqC;AACnC,MAAI9F,EAAE,GAAG,CAAC,GAAG9N,OAAO,CAACgO,UAAZ,EAAwB4F,MAAxB,CAAT;AACA,MAAIgF,KAAK,GAAG,IAAIhJ,GAAJ,EAAZ;AACA,MAAI4G,QAAQ,GAAG,IAAIlB,QAAJ,EAAf;;AAEA,WAASuD,SAAT,GAAqB;AACnBxZ,IAAAA,MAAM,CAACgF,IAAP,CAAYhE,YAAZ,EAA0B8E,OAA1B,CAAkCkH,IAAI,IAAI;AACxCuM,MAAAA,KAAK,CAACtI,GAAN,CAAUjE,IAAV,EAAgBuH,MAAM,CAACvH,IAAD,CAAtB;AACD,KAFD;AAGD,GATkC,CASjC;;;AAGF,MAAI0rC,YAAY,GAAG,EAAnB;;AAEA,WAASC,iBAAT,GAA6B;AAC3B,WAAOC,kBAAkB,CAACrzC,KAAnB,CAAyB,IAAzB,EAA+BI,SAA/B,CAAP;AACD;;AAED,WAASizC,kBAAT,GAA8B;AAC5BA,IAAAA,kBAAkB,GAAG1xC,iBAAiB,CAAC,aAAa;AAClD,UAAI2T,OAAO,GAAG,MAAMtG,MAAM,CAACsG,OAA3B;AACA,UAAIvN,WAAW,CAACuN,OAAD,CAAf,EAA0B;;AAE1B,WAAK,IAAInV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgzC,YAAY,CAAC9yC,MAAjC,EAAyCF,CAAC,IAAI,CAA9C,EAAiD;AAC/C;AACA,cAAMgzC,YAAY,CAAChzC,CAAD,CAAZ,CAAgBmV,OAAhB,CAAN;AACD;;AAED69B,MAAAA,YAAY,GAAG,EAAf;AACD,KAVqC,CAAtC;AAWA,WAAOE,kBAAkB,CAACrzC,KAAnB,CAAyB,IAAzB,EAA+BI,SAA/B,CAAP;AACD;;AAED,MAAIkzC,eAAe,GAAG,KAAtB;;AAEA,WAASC,aAAT,CAAuBxhC,CAAvB,EAA0B;AACxBA,IAAAA,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAK,KAAK,CAAzB,GAA6B,KAAK,CAAlC,GAAsCA,CAAC,CAACuC,wBAAF,EAAtC,CADwB,CAC4C;;AAEpE,QAAI,CAACg/B,eAAL,EAAsB;AACpBA,MAAAA,eAAe,GAAG,IAAlB;AACA;AACD;;AAEDH,IAAAA,YAAY,GAAG,EAAf;AACA,KAAC,GAAG/3C,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3BzZ,MAAAA,MAAM,CAACgF,IAAP,CAAYhE,YAAZ,EAA0BmE,MAA1B,CAAiCgI,4BAAjC,EAA+DrH,OAA/D,CAAuEkH,IAAI,IAAI;AAC7EuH,QAAAA,MAAM,CAACvH,IAAD,CAAN,GAAehM,YAAY,CAACgM,IAAD,CAA3B;AACD,OAFD;AAGD,KAJD;AAKD;;AAED,WAAS+rC,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,WAAOC,cAAc,CAAC1zC,KAAf,CAAqB,IAArB,EAA2BI,SAA3B,CAAP;AACD,GArDkC,CAqDjC;;;AAGF,WAASszC,cAAT,GAA0B;AACxBA,IAAAA,cAAc,GAAG/xC,iBAAiB,CAAC,WAAW0H,KAAX,EAAkB;AACnDA,MAAAA,KAAK,CAACiL,wBAAN;AACA,UAAI;AACF5K,QAAAA,EADE;AAEFjC,QAAAA,IAFE;AAGF7M,QAAAA;AAHE,UAIAyO,KAAK,CAACI,MAJV;;AAMA,UAAI,CAACjO,cAAc,CAACiM,IAAD,CAAnB,EAA2B;AACzB,YAAIksC,cAAJ;;AAEA,SAACA,cAAc,GAAG3kC,MAAM,CAAC0F,MAAzB,MAAqC,IAArC,IAA6Ci/B,cAAc,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,cAAc,CAACh/B,IAAf,CAAoB,GAAGvF,MAAH,CAAU1F,EAAE,CAAC2F,QAAb,EAAuB,oBAAvB,EAA6CD,MAA7C,CAAoD3H,IAApD,EAA0D,uBAA1D,CAApB,CAAlF;AACA;AACD;;AAED,UAAI,CAACuH,MAAM,CAACjJ,eAAR,IAA2BktC,oBAAoB,CAACvrC,GAArB,CAAyBD,IAAzB,CAA/B,EAA+D;AAC7D,YAAI6N,OAAO,GAAG,MAAMtG,MAAM,CAACsG,OAA3B;;AAEA,YAAI7N,IAAI,KAAK,QAAT,IAAqB,CAAC7M,KAA1B,EAAiC;AAC/B0a,UAAAA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACpT,IAAR,EAAlD;AACD;;AAED,YAAIuF,IAAI,KAAK,aAAb,EAA4B;AAC1B6N,UAAAA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACpT,IAAR,EAAlD;AACAoT,UAAAA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAAC+W,cAAR,CAAuBzxB,KAAvB,CAAlD;AACD;AACF;;AAED,OAAC,GAAGQ,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3BlF,QAAAA,MAAM,CAACvH,IAAD,CAAN,GAAe7M,KAAf;AACD,OAFD;AAGD,KA/BiC,CAAlC;AAgCA,WAAO84C,cAAc,CAAC1zC,KAAf,CAAqB,IAArB,EAA2BI,SAA3B,CAAP;AACD;;AAED,MAAI;AACFiU,IAAAA;AADE,MAEArF,MAFJ;;AAIAA,EAAAA,MAAM,CAACqF,oBAAP,GAA8B,YAAY;AACxCk/B,IAAAA,aAAa;AACb,QAAIl/B,oBAAJ,EAA0BA,oBAAoB,CAACvJ,IAArB,CAA0BkE,MAA1B;AAC3B,GAHD;;AAKAN,EAAAA,iBAAiB,CAACM,MAAD,EAAS,MAAM;AAC9BiF,IAAAA,SAAS;AACTrC,IAAAA,QAAQ,CAAChB,GAAT,CAAavE,MAAM,CAACnD,EAAD,EAAKoG,gBAAL,EAAuBikC,aAAvB,CAAnB;AACA3hC,IAAAA,QAAQ,CAAChB,GAAT,CAAavE,MAAM,CAACnD,EAAD,EAAKF,kBAAL,EAAyBwqC,aAAzB,CAAnB;AACD,GAJgB,EAId,MAAM;AACPx/B,IAAAA,KAAK,CAAChC,KAAN;AACAJ,IAAAA,QAAQ,CAACd,KAAT;AACD,GAPgB,CAAjB;AAQAzC,EAAAA,eAAe,CAACW,MAAD,EAAS,qBAAT,EAAgC,aAAarN,iBAAiB,CAAC,aAAa;AACzF,QAAIqN,MAAM,CAACvJ,aAAP,IAAwB0tC,YAAY,CAAC9yC,MAAb,GAAsB,CAAlD,EAAqD,MAAM+yC,iBAAiB,EAAvB;AACtD,GAF4E,CAA9D,CAAf;;AAIA,WAASQ,qBAAT,CAA+BnsC,IAA/B,EAAqC7M,KAArC,EAA4C;AAC1C,QAAIi5C,qBAAJ;;AAEA,WAAOj5C,KAAK,MAAM,CAACi5C,qBAAqB,GAAG7kC,MAAM,CAACyE,kBAAD,CAA/B,MAAyD,IAAzD,IAAiEogC,qBAAqB,KAAK,KAAK,CAAhG,GAAoG,KAAK,CAAzG,GAA6GA,qBAAqB,CAAC14C,GAAtB,CAA0BsM,IAA1B,CAAnH,CAAZ;AACD;;AAED,SAAO,aAAa,YAAY;AAC9B,QAAIqsC,gBAAgB,GAAGnyC,iBAAiB,CAAC,WAAW8F,IAAX,EAAiBssC,MAAjB,EAAyB;AAChE,UAAI,CAACH,qBAAqB,CAACnsC,IAAD,EAAOuH,MAAM,CAACvH,IAAD,CAAb,CAA1B,EAAgD;AAChD,UAAI7M,KAAK,GAAGoU,MAAM,CAACvH,IAAD,CAAlB;;AAEA,UAAIusC,QAAQ,GAAG,aAAa,YAAY;AACtC,YAAIC,MAAM,GAAGtyC,iBAAiB,CAAC,WAAW2T,OAAX,EAAoB;AACjD,cAAI;AACF,gBAAI4+B,eAAJ,CADE,CAGF;;;AACA,kBAAM5+B,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkD,CAAC4+B,eAAe,GAAG5+B,OAAO,CAACy+B,MAAD,CAA1B,MAAwC,IAAxC,IAAgDG,eAAe,KAAK,KAAK,CAAzE,GAA6E,KAAK,CAAlF,GAAsFA,eAAe,CAACppC,IAAhB,CAAqBwK,OAArB,EAA8B1a,KAA9B,CAA9I;AACD,WALD,CAKE,OAAOmX,CAAP,EAAU;AACV7I,YAAAA,EAAE,CAACS,aAAH,CAAiB,IAAIL,WAAJ,CAAgB,SAAhB,EAA2B;AAC1CG,cAAAA,MAAM,EAAEsI;AADkC,aAA3B,CAAjB;AAGD;AACF,SAX6B,CAA9B;;AAaA,eAAO,SAASiiC,QAAT,CAAkBG,IAAlB,EAAwB;AAC7B,iBAAOF,MAAM,CAACj0C,KAAP,CAAa,IAAb,EAAmBI,SAAnB,CAAP;AACD,SAFD;AAGD,OAjB2B,EAA5B;;AAmBA,UAAI4O,MAAM,CAACvJ,aAAX,EAA0B;AACxB,cAAMuuC,QAAQ,CAAC,MAAMhlC,MAAM,CAACsG,OAAd,CAAd;AACD,OAFD,MAEO;AACL69B,QAAAA,YAAY,CAACpzC,IAAb,CAAkBi0C,QAAlB;AACD;AACF,KA5BuC,CAAxC;;AA8BA,aAASI,eAAT,CAAyBC,IAAzB,EAA+BC,IAA/B,EAAqC;AACnC,aAAOR,gBAAgB,CAAC9zC,KAAjB,CAAuB,IAAvB,EAA6BI,SAA7B,CAAP;AACD;;AAED,WAAOg0C,eAAP;AACD,GApCmB,EAApB;AAqCD;;AAED,IAAIG,SAAS,GAAG,y2BAAhB;AACA,IAAIC,SAAS,GAAG,CAAhB;AACA,IAAIC,MAAM,GAAG,cAActrC,WAAd,CAA0B;AACrCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKs+B,aAAL,GAAqB,CAAC,GAAGt5C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,eAA/B,EAAgD,CAAhD,CAArB;AACA,SAAKw4B,cAAL,GAAsB,CAAC,GAAGv5C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,gBAA/B,EAAiD,CAAjD,CAAtB;AACA,SAAKy4B,MAAL,GAAc,CAAC,GAAGx5C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,QAA/B,EAAyC,CAAzC,CAAd;AACA,SAAK04B,eAAL,GAAuB,CAAC,GAAGz5C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,iBAA/B,EAAkD,CAAlD,CAAvB;AACA,SAAK24B,eAAL,GAAuB,CAAC,GAAG15C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,iBAA/B,EAAkD,CAAlD,CAAvB;AACA,SAAK44B,QAAL,GAAgB,CAAC,GAAG35C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,UAA/B,EAA2C,CAA3C,CAAhB;AACA,SAAK64B,iBAAL,GAAyB,CAAC,GAAG55C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,mBAA/B,EAAoD,CAApD,CAAzB;AACA,SAAK84B,gBAAL,GAAwB,CAAC,GAAG75C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,kBAA/B,EAAmD,CAAnD,CAAxB;AACA,SAAK+4B,mBAAL,GAA2B,CAAC,GAAG95C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,qBAA/B,EAAsD,CAAtD,CAA3B;AACA,SAAKg5B,OAAL,GAAe,CAAC,GAAG/5C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKi5B,eAAL,GAAuB,CAAC,GAAGh6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,iBAA/B,EAAkD,CAAlD,CAAvB;AACA,SAAKk5B,iBAAL,GAAyB,CAAC,GAAGj6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,mBAA/B,EAAoD,CAApD,CAAzB;AACA,SAAKm5B,eAAL,GAAuB,CAAC,GAAGl6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,iBAA/B,EAAkD,CAAlD,CAAvB;AACA,SAAKo5B,gBAAL,GAAwB,CAAC,GAAGn6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,kBAA/B,EAAmD,CAAnD,CAAxB;AACA,SAAKyM,OAAL,GAAe,CAAC,GAAGxtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKwM,WAAL,GAAmB,CAAC,GAAGvtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,aAA/B,EAA8C,CAA9C,CAAnB;AACA,SAAKq5B,uBAAL,GAA+B,CAAC,GAAGp6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,yBAA/B,EAA0D,CAA1D,CAA/B;AACA,SAAKs5B,kBAAL,GAA0B,CAAC,GAAGr6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,oBAA/B,EAAqD,CAArD,CAA1B;AACA,SAAKu5B,qBAAL,GAA6B,CAAC,GAAGt6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,uBAA/B,EAAwD,CAAxD,CAA7B;AACA,SAAKw5B,kBAAL,GAA0B,CAAC,GAAGv6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,oBAA/B,EAAqD,CAArD,CAA1B;AACA,SAAKy5B,gBAAL,GAAwB,CAAC,GAAGx6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,kBAA/B,EAAmD,CAAnD,CAAxB;AACA,SAAK05B,oBAAL,GAA4B,CAAC,GAAGz6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,sBAA/B,EAAuD,CAAvD,CAA5B;AACA,SAAK25B,qBAAL,GAA6B,CAAC,GAAG16C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,uBAA/B,EAAwD,CAAxD,CAA7B;AACA,SAAK45B,uBAAL,GAA+B,CAAC,GAAG36C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,yBAA/B,EAA0D,CAA1D,CAA/B;AACA,SAAK65B,yBAAL,GAAiC,CAAC,GAAG56C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,2BAA/B,EAA4D,CAA5D,CAAjC;AACA,SAAK85B,aAAL,GAAqB,CAAC,GAAG76C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,eAA/B,EAAgD,CAAhD,CAArB;AACA,SAAK+5B,cAAL,GAAsB,CAAC,GAAG96C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,gBAA/B,EAAiD,CAAjD,CAAtB;AACA,SAAKg6B,gBAAL,GAAwB,CAAC,GAAG/6C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,kBAA/B,EAAmD,CAAnD,CAAxB;AACA,SAAKi6B,iBAAL,GAAyB,CAAC,GAAGh7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,mBAA/B,EAAoD,CAApD,CAAzB;AACA,SAAKk6B,YAAL,GAAoB,CAAC,GAAGj7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,cAA/B,EAA+C,CAA/C,CAApB;AACA,SAAKm6B,aAAL,GAAqB,CAAC,GAAGl7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,eAA/B,EAAgD,CAAhD,CAArB;AACA,SAAKo6B,gBAAL,GAAwB,CAAC,GAAGn7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,kBAA/B,EAAmD,CAAnD,CAAxB;AACA,SAAKq6B,YAAL,GAAoB,CAAC,GAAGp7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,cAA/B,EAA+C,CAA/C,CAApB;AACA,SAAKs6B,oBAAL,GAA4B,CAAC,GAAGr7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,sBAA/B,EAAuD,CAAvD,CAA5B;AACA,SAAKu6B,iBAAL,GAAyB,CAAC,GAAGt7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,mBAA/B,EAAoD,CAApD,CAAzB;AACA,SAAKw6B,kBAAL,GAA0B,CAAC,GAAGv7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,oBAA/B,EAAqD,CAArD,CAA1B;AACA,SAAKy6B,WAAL,GAAmB,CAAC,GAAGx7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,aAA/B,EAA8C,CAA9C,CAAnB;AACA,SAAK06B,kBAAL,GAA0B,CAAC,GAAGz7C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,oBAA/B,EAAqD,CAArD,CAA1B;AACA,SAAK26B,wBAAL,GAAgC,CAAC,GAAG17C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,0BAA/B,EAA2D,CAA3D,CAAhC;AACA,SAAK46B,wBAAL,GAAgC,CAAC,GAAG37C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,0BAA/B,EAA2D,CAA3D,CAAhC;AACA,SAAK66B,mBAAL,GAA2B,CAAC,GAAG57C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,qBAA/B,EAAsD,CAAtD,CAA3B;AACA,SAAK86B,yBAAL,GAAiC,CAAC,GAAG77C,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,2BAA/B,EAA4D,CAA5D,CAAjC;AACA,SAAKvK,QAAL,GAAgB,IAAIlB,QAAJ,EAAhB;AACA;AACJ;AACA;AACA;AACA;;AAEI;;AAEA,SAAKgE,MAAL,GAAc,IAAI29B,MAAJ,EAAd;AACA;;AAEA,SAAK/sC,KAAL,GAAa,MAAb;AACA;;AAEA,SAAKZ,MAAL,GAAc,IAAd;AACA;;AAEA,SAAKC,OAAL,GAAe,KAAf;AACA;;AAEA,SAAKnC,QAAL,GAAgB,CAAC,CAAjB;AACA;;AAEA,SAAKG,WAAL,GAAmB,CAAnB;AACA;;AAEA,SAAK4C,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKC,KAAL,GAAa,KAAb;AACA;;AAEA,SAAKC,aAAL,GAAqB,KAArB;AACA;;AAEA,SAAKvB,IAAL,GAAY,KAAZ;AACA;;AAEA,SAAKwB,KAAL,GAAa,KAAb;AACA;;AAEA,SAAKjD,QAAL,GAAgB,CAAhB;AACA;;AAEA,SAAKuB,YAAL,GAAoB,CAApB;AACA,SAAKkzC,aAAL,GAAqB,CAArB;AACA;;AAEA,SAAKvxC,aAAL,GAAqB,CAAC,CAAD,CAArB;AACA;;AAEA,SAAKC,iBAAL,GAAyB,EAAzB;AACA;;AAEA,SAAKC,OAAL,GAAe,KAAf;AACA;;AAEA,SAAKC,KAAL,GAAa,KAAb;AACA;;AAEA,SAAKC,eAAL,GAAuB,KAAvB;AACA;;AAEA,SAAKC,aAAL,GAAqB,KAArB;AACA;;AAEA,SAAKC,SAAL,GAAiB,KAAjB;AACA;;AAEA,SAAKC,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKC,gBAAL,GAAwB,KAAxB;AACA;;AAEA,SAAKW,gBAAL,GAAwB,KAAxB;AACA;;AAEA,SAAKjE,MAAL,GAAc,EAAd;AACA;;AAEA,SAAKuD,kBAAL,GAA0B,KAA1B;AACA;;AAEA,SAAKC,WAAL,GAAmB,MAAnB;AACA;;AAEA,SAAKE,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKC,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKE,OAAL,GAAe,KAAf;AACA;;AAEA,SAAKC,OAAL,GAAe,KAAf;AACA;;AAEA,SAAKI,MAAL,GAAc,KAAd;AACA;;AAEA,SAAKH,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKC,OAAL,GAAe,KAAf;AACA;;AAEA,SAAKG,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKhC,UAAL,GAAkB,EAAlB;AACA;;AAEA,SAAKC,gBAAL,GAAwB,CAAC,CAAzB;AACA;;AAEA,SAAKG,kBAAL,GAA0B,IAA1B;AACA;;AAEA,SAAKC,4BAAL,GAAoC,IAApC;AACA;;AAEA,SAAKH,WAAL,GAAmB,EAAnB;AACA;;AAEA,SAAKC,iBAAL,GAAyB,CAAC,CAA1B;AACA;;AAEA,SAAK8B,SAAL,GAAiB,IAAjB;AACA;;AAEA,SAAKC,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKC,QAAL,GAAgB,IAAhB;AACA;;AAEA,SAAKE,YAAL,GAAoB;AAClBpF,MAAAA;AADkB,KAApB;AAGA;;AAEA,SAAKmF,SAAL,GAAiB,CAAC,IAAD,CAAjB;AACA;;AAEA,SAAKE,IAAL,GAAYrF,EAAZ;AACA8M,IAAAA,cAAc,CAAC,IAAD,CAAd;AACA2C,IAAAA,sBAAsB,CAAC,IAAD,CAAtB;AACAohC,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAh/B,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAk/B,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA,SAAKoB,eAAL,GAAuBlB,mBAAmB,CAAC,IAAD,CAA1C;AACD;;AAEU,MAAP59B,OAAO,GAAG;AACZ,QAAI6hC,cAAJ;;AAEA,WAAO,CAACA,cAAc,GAAG,KAAK/iC,QAAvB,MAAqC,IAArC,IAA6C+iC,cAAc,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,cAAc,CAACjiC,UAAf,EAAzF;AACD;;AAEDkiC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,gBAAJ;;AAEA,KAACA,gBAAgB,GAAG,KAAK9zC,UAAzB,MAAyC,IAAzC,IAAiD8zC,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAAC/e,OAAjB,EAAxF;AACA,QAAIvwB,WAAW,CAAC,KAAKoS,SAAN,CAAf,EAAiC;AACjC,SAAK5W,UAAL,GAAkB,IAAIkuC,UAAJ,CAAe,KAAKt3B,SAApB,EAA+B63B,QAAQ,IAAI;AAC3D,WAAK5rC,kBAAL,GAA0B4rC,QAA1B;AACA,WAAKsF,YAAL;AACD,KAHiB,CAAlB;AAID;;AAEDC,EAAAA,cAAc,GAAG;AACf,QAAI,KAAK7yC,MAAT,EAAiB;AACf,WAAKC,OAAL,GAAe,KAAf;AACD,KAFD,MAEO;AACLsC,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AAED,SAAKmtC,eAAL,CAAqB,QAArB,EAA+B,CAAC,KAAK1vC,MAAN,GAAe,MAAf,GAAwB,OAAvD;AACD;;AAED25B,EAAAA,gBAAgB,GAAG;AACjB,SAAKt3B,MAAL,GAAc,KAAKvE,QAAL,KAAkBg1C,QAAhC;AACD;;AAEDC,EAAAA,mBAAmB,GAAG;AACpB,QAAIj1C,QAAQ,GAAG,KAAKiD,aAAL,GAAqB,KAAKjD,QAA1B,GAAqCg1C,QAApD;AACA,SAAK70C,WAAL,GAAmBiW,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAAC8+B,GAAL,CAAS,KAAK/0C,WAAd,EAA2BH,QAA3B,CAAZ,CAAnB;AACA,SAAK4xC,eAAL,CAAqB,aAArB,EAAoC,gBAApC;AACD;;AAED7gB,EAAAA,qBAAqB,GAAG;AACtB,QAAI,CAAC,KAAK/tB,KAAV,EAAiB,KAAKA,KAAL,GAAa,IAAb;AAClB;;AAEDmyC,EAAAA,aAAa,GAAG;AACd,SAAKvD,eAAL,CAAqB,OAArB,EAA8B,UAA9B;AACD;;AAEDwD,EAAAA,oBAAoB,CAACC,OAAD,EAAUC,QAAV,EAAoB;AACtC,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOp2C,iBAAiB,CAAC,aAAa;AACpC,UAAIq2C,qBAAJ,EAA2BC,sBAA3B;;AAEA,UAAIJ,OAAO,KAAKE,OAAO,CAACb,aAAxB,EAAuC;;AAEvC,UAAI,EAAE,MAAM,CAACc,qBAAqB,GAAG,MAAMD,OAAO,CAACziC,OAAvC,MAAoD,IAApD,IAA4D0iC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACvjB,kBAAhD,MAAwE,IAAxE,IAAgFwjB,sBAAsB,KAAK,KAAK,CAAhH,GAAoH,KAAK,CAAzH,GAA6HA,sBAAsB,CAACntC,IAAvB,CAA4BktC,qBAA5B,CAA7O,CAAJ,EAAsS;AACpSD,QAAAA,OAAO,CAACrjC,MAAR,CAAe69B,GAAf,CAAmB,wCAAnB;;AAEAwF,QAAAA,OAAO,CAACb,aAAR,GAAwBY,QAAxB;AACAC,QAAAA,OAAO,CAAC/zC,YAAR,GAAuB8zC,QAAvB;AACA;AACD;;AAED,UAAI,CAACC,OAAO,CAACpyC,aAAR,CAAsBiX,QAAtB,CAA+Bi7B,OAA/B,CAAL,EAA8C;AAC5CE,QAAAA,OAAO,CAACrjC,MAAR,CAAe69B,GAAf,CAAmB,6BAA6BnjC,MAA7B,CAAoCyoC,OAApC,EAA6C,IAA7C,IAAqD,qBAAqBzoC,MAArB,CAA4B2oC,OAAO,CAACpyC,aAAR,CAAsBkhB,IAAtB,CAA2B,IAA3B,CAA5B,EAA8D,GAA9D,CAAxE;;AAEAkxB,QAAAA,OAAO,CAACb,aAAR,GAAwBY,QAAxB;AACAC,QAAAA,OAAO,CAAC/zC,YAAR,GAAuB8zC,QAAvB;AACA;AACD;;AAEDC,MAAAA,OAAO,CAACb,aAAR,GAAwBW,OAAxB;;AAEAE,MAAAA,OAAO,CAAC3D,eAAR,CAAwB,cAAxB,EAAwC,iBAAxC;AACD,KAxBuB,CAAjB,EAAP;AAyBD;;AAED8D,EAAAA,uBAAuB,CAACC,UAAD,EAAaC,WAAb,EAA0B;AAC/C,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAO12C,iBAAiB,CAAC,aAAa;AACpC,UAAI22C,qBAAJ,EAA2BC,sBAA3B;;AAEA,UAAIxwC,WAAW,CAACowC,UAAD,CAAX,IAA2BA,UAAU,KAAKE,OAAO,CAACG,gBAAtD,EAAwE;;AAExE,UAAI,EAAE,MAAM,CAACF,qBAAqB,GAAG,MAAMD,OAAO,CAAC/iC,OAAvC,MAAoD,IAApD,IAA4DgjC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACxrB,qBAAhD,MAA2E,IAA3E,IAAmFyrB,sBAAsB,KAAK,KAAK,CAAnH,GAAuH,KAAK,CAA5H,GAAgIA,sBAAsB,CAACztC,IAAvB,CAA4BwtC,qBAA5B,CAAhP,CAAJ,EAAyS;AACvSD,QAAAA,OAAO,CAAC3jC,MAAR,CAAe69B,GAAf,CAAmB,2CAAnB;;AAEA8F,QAAAA,OAAO,CAACG,gBAAR,GAA2BJ,WAA3B;AACAC,QAAAA,OAAO,CAACp0C,eAAR,GAA0Bm0C,WAA1B;AACA;AACD;;AAED,UAAI,CAACC,OAAO,CAACzyC,iBAAR,CAA0BgX,QAA1B,CAAmCu7B,UAAnC,CAAL,EAAqD;AACnDE,QAAAA,OAAO,CAAC3jC,MAAR,CAAe69B,GAAf,CAAmB,gCAAgCnjC,MAAhC,CAAuC+oC,UAAvC,EAAmD,IAAnD,IAA2D,qBAAqB/oC,MAArB,CAA4BipC,OAAO,CAACzyC,iBAAR,CAA0BihB,IAA1B,CAA+B,IAA/B,CAA5B,EAAkE,GAAlE,CAA9E;;AAEAwxB,QAAAA,OAAO,CAACG,gBAAR,GAA2BJ,WAA3B;AACAC,QAAAA,OAAO,CAACp0C,eAAR,GAA0Bm0C,WAA1B;AACA;AACD;;AAEDC,MAAAA,OAAO,CAACG,gBAAR,GAA2BL,UAA3B;;AAEAE,MAAAA,OAAO,CAACjE,eAAR,CAAwB,iBAAxB,EAA2C,oBAA3C;AACD,KAxBuB,CAAjB,EAAP;AAyBD;;AAEDqE,EAAAA,aAAa,GAAG;AACd,SAAK/jC,MAAL,CAAY49B,MAAZ,GAAqB,CAAC,KAAKxsC,KAA3B;AACD;;AAEDs4B,EAAAA,cAAc,GAAG;AACf,QAAIsa,OAAO,GAAG,IAAd;;AAEA,WAAO/2C,iBAAiB,CAAC,aAAa;AACpC+2C,MAAAA,OAAO,CAAC71C,MAAR,GAAiB+V,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAAC8+B,GAAL,CAASgB,OAAO,CAAC71C,MAAjB,EAAyB,GAAzB,CAAZ,CAAjB;;AAEA61C,MAAAA,OAAO,CAACtE,eAAR,CAAwB,QAAxB,EAAkC,WAAlC;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEDlY,EAAAA,gBAAgB,GAAG;AACjB,SAAK31B,WAAL,GAAmB,KAAKD,QAAL,KAAkBxH,QAAQ,CAACgW,KAA9C;AACA,SAAKtO,WAAL,GAAmB,KAAKF,QAAL,KAAkBxH,QAAQ,CAACirB,KAA9C;AACD;;AAED4uB,EAAAA,iBAAiB,GAAG;AAClB,SAAKjyC,OAAL,GAAe,KAAKD,SAAL,KAAmBtH,SAAS,CAAC2V,KAA5C;AACA,SAAKnO,OAAL,GAAe,KAAKF,SAAL,KAAmBtH,SAAS,CAAC4qB,KAA5C;AACD;;AAED6uB,EAAAA,gBAAgB,CAACnU,CAAD,EAAIoU,YAAJ,EAAkB;AAChC,QAAI,CAAC,KAAKzxC,SAAL,CAAewV,QAAf,CAAwB,KAAKzV,QAA7B,CAAL,EAA6C;AAC3C,WAAKuN,MAAL,CAAY69B,GAAZ,CAAgB,yBAAyBnjC,MAAzB,CAAgC,KAAKjI,QAArC,EAA+C,IAA/C,IAAuD,qBAAqBiI,MAArB,CAA4B,KAAKhI,SAAL,CAAeyf,IAAf,CAAoB,IAApB,CAA5B,EAAuD,GAAvD,CAAvE;AACA,WAAK1f,QAAL,GAAgB0xC,YAAhB;AACA;AACD;;AAED,SAAKvxC,IAAL,GAAY,KAAKD,YAAL,CAAkB,KAAKF,QAAvB,CAAZ;AACD;;AAED2xC,EAAAA,oBAAoB,GAAG;AACrBr+C,IAAAA,MAAM,CAAC0qB,MAAP,CAAc,KAAK9d,YAAnB,EAAiC;AAC/BpF,MAAAA;AAD+B,KAAjC;AAGA,SAAKmF,SAAL,GAAiB3M,MAAM,CAACgF,IAAP,CAAY,KAAK4H,YAAjB,CAAjB;AACA,SAAKC,IAAL,GAAY,KAAKD,YAAL,CAAkB,KAAKF,QAAvB,CAAZ;AACD;;AAEDme,EAAAA,OAAO,CAACjc,KAAD,EAAQ;AACb,SAAKqL,MAAL,CAAYC,IAAZ,CAAiBtL,KAAK,CAACI,MAAvB;AACD;AACD;AACF;AACA;AACA;AACA;;AAEE;;;AAGAsvC,EAAAA,WAAW,GAAG;AACZ,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOr3C,iBAAiB,CAAC,aAAa;AACpC,aAAOq3C,OAAO,CAAC5kC,QAAf;AACD,KAFuB,CAAjB,EAAP;AAGD;AACD;;;AAGAc,EAAAA,UAAU,GAAG;AACX,QAAI+jC,OAAO,GAAG,IAAd;;AAEA,WAAOt3C,iBAAiB,CAAC,aAAa;AACpC,aAAOs3C,OAAO,CAAC3jC,OAAf;AACD,KAFuB,CAAjB,EAAP;AAGD;AACD;;;AAGApT,EAAAA,IAAI,GAAG;AACL,QAAIg3C,OAAO,GAAG,IAAd;;AAEA,WAAOv3C,iBAAiB,CAAC,aAAa;AACpC,UAAIw3C,qBAAJ;;AAEA,aAAO,CAACA,qBAAqB,GAAG,MAAMD,OAAO,CAAC5jC,OAAvC,MAAoD,IAApD,IAA4D6jC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACj3C,IAAtB,EAA/G;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGAC,EAAAA,KAAK,GAAG;AACN,QAAIi3C,OAAO,GAAG,IAAd;;AAEA,WAAOz3C,iBAAiB,CAAC,aAAa;AACpC,UAAI03C,qBAAJ;;AAEA,aAAO,CAACA,qBAAqB,GAAG,MAAMD,OAAO,CAAC9jC,OAAvC,MAAoD,IAApD,IAA4D+jC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACl3C,KAAtB,EAA/G;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGAqT,EAAAA,OAAO,CAACE,IAAD,EAAO;AACZ,QAAI4jC,OAAO,GAAG,IAAd;;AAEA,WAAO33C,iBAAiB,CAAC,aAAa;AACpC,UAAI43C,qBAAJ,EAA2BC,sBAA3B;;AAEA,aAAO,CAACD,qBAAqB,GAAG,CAACC,sBAAsB,GAAG,MAAMF,OAAO,CAAChkC,OAAxC,MAAqD,IAArD,IAA6DkkC,sBAAsB,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0GA,sBAAsB,CAAChkC,OAAvB,CAA+BE,IAA/B,CAAnI,MAA6K,IAA7K,IAAqL6jC,qBAAqB,KAAK,KAAK,CAApN,GAAwNA,qBAAxN,GAAgP,KAAvP;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGAv1B,EAAAA,WAAW,GAAG;AACZ,WAAOriB,iBAAiB,CAAC,aAAa;AACpC,aAAOqiB,WAAW,EAAlB;AACD,KAFuB,CAAjB,EAAP;AAGD;AACD;;;AAGAy1B,EAAAA,gBAAgB,GAAG;AACjB,WAAO93C,iBAAiB,CAAC,aAAa;AACpC,aAAOqiB,WAAW,CAAC,IAAD,CAAlB;AACD,KAFuB,CAAjB,EAAP;AAGD;AACD;;;AAGAyQ,EAAAA,kBAAkB,GAAG;AACnB,QAAIilB,OAAO,GAAG,IAAd;;AAEA,WAAO/3C,iBAAiB,CAAC,aAAa;AACpC,UAAIg4C,qBAAJ,EAA2BC,sBAA3B,EAAmDC,sBAAnD;;AAEA,aAAO,CAACF,qBAAqB,GAAG,CAACC,sBAAsB,GAAG,MAAMF,OAAO,CAACpkC,OAAxC,MAAqD,IAArD,IAA6DskC,sBAAsB,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0G,CAACC,sBAAsB,GAAGD,sBAAsB,CAACnlB,kBAAjD,MAAyE,IAAzE,IAAiFolB,sBAAsB,KAAK,KAAK,CAAjH,GAAqH,KAAK,CAA1H,GAA8HA,sBAAsB,CAAC/uC,IAAvB,CAA4B8uC,sBAA5B,CAAjQ,MAA0T,IAA1T,IAAkUD,qBAAqB,KAAK,KAAK,CAAjW,GAAqWA,qBAArW,GAA6X,KAApY;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGA7sB,EAAAA,qBAAqB,GAAG;AACtB,QAAIgtB,OAAO,GAAG,IAAd;;AAEA,WAAOn4C,iBAAiB,CAAC,aAAa;AACpC,UAAIo4C,qBAAJ,EAA2BC,sBAA3B,EAAmDC,sBAAnD;;AAEA,aAAO,CAACF,qBAAqB,GAAG,CAACC,sBAAsB,GAAG,MAAMF,OAAO,CAACxkC,OAAxC,MAAqD,IAArD,IAA6D0kC,sBAAsB,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0G,CAACC,sBAAsB,GAAGD,sBAAsB,CAACltB,qBAAjD,MAA4E,IAA5E,IAAoFmtB,sBAAsB,KAAK,KAAK,CAApH,GAAwH,KAAK,CAA7H,GAAiIA,sBAAsB,CAACnvC,IAAvB,CAA4BkvC,sBAA5B,CAApQ,MAA6T,IAA7T,IAAqUD,qBAAqB,KAAK,KAAK,CAApW,GAAwWA,qBAAxW,GAAgY,KAAvY;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGA5sB,EAAAA,gBAAgB,GAAG;AACjB,QAAI+sB,OAAO,GAAG,IAAd;;AAEA,WAAOv4C,iBAAiB,CAAC,aAAa;AACpC,UAAIw4C,qBAAJ,EAA2BC,sBAA3B,EAAmDC,sBAAnD;;AAEA,aAAOH,OAAO,CAAC32C,UAAR,CAAmBogC,WAAnB,KAAmC,CAACwW,qBAAqB,GAAG,CAACC,sBAAsB,GAAG,MAAMF,OAAO,CAAC5kC,OAAxC,MAAqD,IAArD,IAA6D8kC,sBAAsB,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0G,CAACC,sBAAsB,GAAGD,sBAAsB,CAACjtB,gBAAjD,MAAuE,IAAvE,IAA+EktB,sBAAsB,KAAK,KAAK,CAA/G,GAAmH,KAAK,CAAxH,GAA4HA,sBAAsB,CAACvvC,IAAvB,CAA4BsvC,sBAA5B,CAA/P,MAAwT,IAAxT,IAAgUD,qBAAqB,KAAK,KAAK,CAA/V,GAAmWA,qBAAnW,GAA2X,KAA9Z,CAAP;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGA32C,EAAAA,eAAe,CAACgJ,OAAD,EAAU;AACvB,QAAI8tC,OAAO,GAAG,IAAd;;AAEA,WAAO34C,iBAAiB,CAAC,aAAa;AACpC,UAAI44C,qBAAJ,EAA2BC,sBAA3B;;AAEA,UAAI,CAACF,OAAO,CAAC9zC,WAAb,EAA0B,MAAM04B,KAAK,CAAC,kDAAD,CAAX;AAC1B,UAAIob,OAAO,CAAC/2C,UAAR,CAAmBogC,WAAvB,EAAoC,OAAO2W,OAAO,CAAC/2C,UAAR,CAAmBC,eAAnB,CAAmCgJ,OAAnC,CAAP;;AAEpC,UAAI,MAAM,CAAC+tC,qBAAqB,GAAG,MAAMD,OAAO,CAAChlC,OAAvC,MAAoD,IAApD,IAA4DilC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACptB,gBAAhD,MAAsE,IAAtE,IAA8EqtB,sBAAsB,KAAK,KAAK,CAA9G,GAAkH,KAAK,CAAvH,GAA2HA,sBAAsB,CAAC1vC,IAAvB,CAA4ByvC,qBAA5B,CAA7O,EAAiS;AAC/R,YAAIE,sBAAJ,EAA4BC,sBAA5B;;AAEA,eAAO,CAACD,sBAAsB,GAAG,MAAMH,OAAO,CAAChlC,OAAxC,MAAqD,IAArD,IAA6DmlC,sBAAsB,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0G,CAACC,sBAAsB,GAAGD,sBAAsB,CAACj3C,eAAjD,MAAsE,IAAtE,IAA8Ek3C,sBAAsB,KAAK,KAAK,CAA9G,GAAkH,KAAK,CAAvH,GAA2HA,sBAAsB,CAAC5vC,IAAvB,CAA4B2vC,sBAA5B,EAAoDjuC,OAApD,CAA5O;AACD;;AAED,YAAM0yB,KAAK,CAAC,kCAAD,CAAX;AACD,KAbuB,CAAjB,EAAP;AAcD;AACD;;;AAGAz7B,EAAAA,cAAc,GAAG;AACf,QAAIk3C,OAAO,GAAG,IAAd;;AAEA,WAAOh5C,iBAAiB,CAAC,aAAa;AACpC,UAAIi5C,qBAAJ,EAA2BC,sBAA3B;;AAEA,UAAIF,OAAO,CAACp3C,UAAR,CAAmBogC,WAAvB,EAAoC,OAAOgX,OAAO,CAACp3C,UAAR,CAAmBE,cAAnB,EAAP;AACpC,aAAO,CAACm3C,qBAAqB,GAAG,MAAMD,OAAO,CAACrlC,OAAvC,MAAoD,IAApD,IAA4DslC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACn3C,cAAhD,MAAoE,IAApE,IAA4Eo3C,sBAAsB,KAAK,KAAK,CAA5G,GAAgH,KAAK,CAArH,GAAyHA,sBAAsB,CAAC/vC,IAAvB,CAA4B8vC,qBAA5B,CAAxO;AACD,KALuB,CAAjB,EAAP;AAMD;AACD;;;AAGAzZ,EAAAA,SAAS,GAAG;AACV,QAAI2Z,OAAO,GAAG,IAAd;;AAEA,WAAOn5C,iBAAiB,CAAC,aAAa;AACpC,UAAIo5C,qBAAJ,EAA2BC,sBAA3B,EAAmDC,sBAAnD;;AAEA,aAAO,CAACF,qBAAqB,GAAG,CAACC,sBAAsB,GAAG,MAAMF,OAAO,CAACxlC,OAAxC,MAAqD,IAArD,IAA6D0lC,sBAAsB,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0G,CAACC,sBAAsB,GAAGD,sBAAsB,CAAC7Z,SAAjD,MAAgE,IAAhE,IAAwE8Z,sBAAsB,KAAK,KAAK,CAAxG,GAA4G,KAAK,CAAjH,GAAqHA,sBAAsB,CAACnwC,IAAvB,CAA4BkwC,sBAA5B,CAAxP,MAAiT,IAAjT,IAAyTD,qBAAqB,KAAK,KAAK,CAAxV,GAA4VA,qBAA5V,GAAoX,KAA3X;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGAx2C,EAAAA,QAAQ,GAAG;AACT,QAAI22C,OAAO,GAAG,IAAd;;AAEA,WAAOv5C,iBAAiB,CAAC,aAAa;AACpC,UAAIw5C,qBAAJ,EAA2BC,sBAA3B;;AAEA,UAAI,CAACF,OAAO,CAAC10C,WAAb,EAA0B,MAAM04B,KAAK,CAAC,gDAAD,CAAX;AAC1B,UAAI,EAAE,MAAMgc,OAAO,CAAC/Z,SAAR,EAAR,CAAJ,EAAkC,MAAMjC,KAAK,CAAC,0CAAD,CAAX;AAClC,aAAO,CAACic,qBAAqB,GAAG,MAAMD,OAAO,CAAC5lC,OAAvC,MAAoD,IAApD,IAA4D6lC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAAC52C,QAAhD,MAA8D,IAA9D,IAAsE62C,sBAAsB,KAAK,KAAK,CAAtG,GAA0G,KAAK,CAA/G,GAAmHA,sBAAsB,CAACtwC,IAAvB,CAA4BqwC,qBAA5B,CAAlO;AACD,KANuB,CAAjB,EAAP;AAOD;AACD;;;AAGA32C,EAAAA,OAAO,GAAG;AACR,QAAI62C,OAAO,GAAG,IAAd;;AAEA,WAAO15C,iBAAiB,CAAC,aAAa;AACpC,UAAI25C,qBAAJ,EAA2BC,sBAA3B;;AAEA,aAAO,CAACD,qBAAqB,GAAG,MAAMD,OAAO,CAAC/lC,OAAvC,MAAoD,IAApD,IAA4DgmC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAAC92C,OAAhD,MAA6D,IAA7D,IAAqE+2C,sBAAsB,KAAK,KAAK,CAArG,GAAyG,KAAK,CAA9G,GAAkHA,sBAAsB,CAACzwC,IAAvB,CAA4BwwC,qBAA5B,CAAjO;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGA3mB,EAAAA,gBAAgB,GAAG;AACjB,QAAI6mB,OAAO,GAAG,IAAd;;AAEA,WAAO75C,iBAAiB,CAAC,aAAa;AACpC,UAAI85C,qBAAJ;;AAEA,aAAO,CAAC1zC,WAAW,CAAC,CAAC0zC,qBAAqB,GAAG,MAAMD,OAAO,CAAClmC,OAAvC,MAAoD,IAApD,IAA4DmmC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACllB,oBAA/H,CAAnB;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGAA,EAAAA,oBAAoB,CAAC/D,OAAD,EAAU;AAC5B,QAAIkpB,OAAO,GAAG,IAAd;;AAEA,WAAO/5C,iBAAiB,CAAC,aAAa;AACpC,UAAIg6C,qBAAJ,EAA2BC,sBAA3B;;AAEA,OAACD,qBAAqB,GAAG,MAAMD,OAAO,CAACpmC,OAAvC,MAAoD,IAApD,IAA4DqmC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACplB,oBAAhD,MAA0E,IAA1E,IAAkFqlB,sBAAsB,KAAK,KAAK,CAAlH,GAAsH,KAAK,CAA3H,GAA+HA,sBAAsB,CAAC9wC,IAAvB,CAA4B6wC,qBAA5B,EAAmDnpB,OAAnD,CAAvO;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGAkC,EAAAA,eAAe,GAAG;AAChB,QAAImnB,OAAO,GAAG,IAAd;;AAEA,WAAOl6C,iBAAiB,CAAC,aAAa;AACpC,UAAIm6C,qBAAJ;;AAEA,aAAO,CAAC/zC,WAAW,CAAC,CAAC+zC,qBAAqB,GAAG,MAAMD,OAAO,CAACvmC,OAAvC,MAAoD,IAApD,IAA4DwmC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACxpB,mBAA/H,CAAnB;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGAA,EAAAA,mBAAmB,CAACE,OAAD,EAAU;AAC3B,QAAIupB,OAAO,GAAG,IAAd;;AAEA,WAAOp6C,iBAAiB,CAAC,aAAa;AACpC,UAAIq6C,qBAAJ,EAA2BC,sBAA3B;;AAEA,OAACD,qBAAqB,GAAG,MAAMD,OAAO,CAACzmC,OAAvC,MAAoD,IAApD,IAA4D0mC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAAC1pB,mBAAhD,MAAyE,IAAzE,IAAiF2pB,sBAAsB,KAAK,KAAK,CAAjH,GAAqH,KAAK,CAA1H,GAA8HA,sBAAsB,CAACnxC,IAAvB,CAA4BkxC,qBAA5B,EAAmDxpB,OAAnD,CAAtO;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGA3b,EAAAA,yBAAyB,GAAG;AAC1B,QAAIqlC,OAAO,GAAG,IAAd;;AAEA,WAAOv6C,iBAAiB,CAAC,aAAa;AACpC,UAAIw6C,qBAAJ;;AAEA,aAAO,CAACp0C,WAAW,CAAC,CAACo0C,qBAAqB,GAAG,MAAMD,OAAO,CAAC5mC,OAAvC,MAAoD,IAApD,IAA4D6mC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACllC,sBAA/H,CAAnB;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGAA,EAAAA,sBAAsB,CAAC2b,SAAD,EAAY;AAChC,QAAIwpB,OAAO,GAAG,IAAd;;AAEA,WAAOz6C,iBAAiB,CAAC,aAAa;AACpC,UAAI06C,qBAAJ,EAA2BC,sBAA3B;;AAEA,OAACD,qBAAqB,GAAG,MAAMD,OAAO,CAAC9mC,OAAvC,MAAoD,IAApD,IAA4D+mC,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACplC,sBAAhD,MAA4E,IAA5E,IAAoFqlC,sBAAsB,KAAK,KAAK,CAApH,GAAwH,KAAK,CAA7H,GAAiIA,sBAAsB,CAACxxC,IAAvB,CAA4BuxC,qBAA5B,EAAmDzpB,SAAnD,CAAzO;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;;;AAGA2pB,EAAAA,cAAc,CAACp1C,QAAD,EAAWq1C,WAAX,EAAwB;AACpC,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAO96C,iBAAiB,CAAC,aAAa;AACpC,UAAI+6C,qBAAJ;;AAEA,UAAIr1C,YAAY,GAAGpH,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKw8C,OAAO,CAACp1C,YAAb,CAAd,EAA0C,EAA1C,EAA8C;AAC5E,SAACF,QAAD,GAAYlH,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK,CAACy8C,qBAAqB,GAAGD,OAAO,CAACp1C,YAAR,CAAqBF,QAArB,CAAzB,MAA6D,IAA7D,IAAqEu1C,qBAAqB,KAAK,KAAK,CAApG,GAAwGA,qBAAxG,GAAgI,EAArI,CAAd,EAAwJF,WAAxJ;AADmD,OAA9C,CAAhC;;AAIAC,MAAAA,OAAO,CAACp1C,YAAR,GAAuBA,YAAvB;AACD,KARuB,CAAjB,EAAP;AASD;;AAEDsE,EAAAA,iBAAiB,GAAG;AAClB,SAAK4rC,cAAL;AACA,SAAKE,mBAAL;AACA,SAAKrZ,cAAL;AACA,SAAKuZ,aAAL;AACA,SAAKc,aAAL;AACA,SAAKrB,iBAAL;AACA,SAAK0B,oBAAL;AACA,SAAKF,gBAAL,CAAsB,KAAKzxC,QAA3B,EAAqC1L,YAAY,CAAC0L,QAAlD;AACA,SAAKyK,QAAL,CAAchB,GAAd,CAAkB8R,cAAc,CAAC9b,QAAQ,IAAI;AAC3C,WAAKA,QAAL,GAAgBA,QAAhB;AACD,KAF+B,CAAhC;AAGA,SAAKgL,QAAL,CAAchB,GAAd,CAAkBiS,kBAAkB,CAAChc,OAAO,IAAI;AAC9C,WAAKA,OAAL,GAAeA,OAAf;AACD,KAFmC,CAApC;AAGD;;AAED0D,EAAAA,iBAAiB,GAAG;AAClBc,IAAAA,QAAQ,CAACC,MAAT,CAAgB,IAAhB,EAAsB,KAAKqxC,cAAL,EAAtB;AACD;;AAED/wC,EAAAA,oBAAoB,GAAG;AACrB,QAAIgxC,iBAAJ;;AAEA,KAACA,iBAAiB,GAAG,KAAKr5C,UAA1B,MAA0C,IAA1C,IAAkDq5C,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAACtkB,OAAlB,EAA1F;AACA,SAAK1mB,QAAL,CAAcd,KAAd;AACD;;AAEDwmC,EAAAA,YAAY,GAAG;AACb,QAAIuF,OAAO,GAAG,IAAd;;AAEA,WAAOl7C,iBAAiB,CAAC,aAAa;AACpC,UAAI,CAACk7C,OAAO,CAACj2C,QAAT,IAAqB,CAACyc,eAAe,EAAzC,EAA6C;;AAE7C,UAAI;AACF,YAAIw5B,OAAO,CAACz2C,kBAAZ,EAAgC;AAC9B,gBAAM+G,MAAM,CAACmW,MAAP,CAAcC,WAAd,CAA0BC,IAA1B,CAA+B,WAA/B,CAAN;AACD,SAFD,MAEO;AACL,gBAAMrW,MAAM,CAACmW,MAAP,CAAcC,WAAd,CAA0Bu5B,MAA1B,EAAN;AACD;AACF,OAND,CAME,OAAO/6C,GAAP,EAAY;AACZ86C,QAAAA,OAAO,CAACj0B,OAAR,CAAgB9K,IAAhB,CAAqB/b,GAArB;AACD;AACF,KAZuB,CAAjB,EAAP;AAaD;;AAED46C,EAAAA,cAAc,GAAG;AACf,QAAIxxC,KAAK,GAAG,EAAZ;AACA,QAAIlB,KAAK,GAAGxP,MAAM,CAACgF,IAAP,CAAYhE,YAAZ,CAAZ;;AAEA,SAAK,IAAI0E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8J,KAAK,CAAC5J,MAA1B,EAAkCF,CAAC,IAAI,CAAvC,EAA0C;AACxCgL,MAAAA,KAAK,CAAClB,KAAK,CAAC9J,CAAD,CAAN,CAAL,GAAkB,KAAK8J,KAAK,CAAC9J,CAAD,CAAV,CAAlB;AACD;;AAED,WAAOgL,KAAP;AACD;;AAED4xC,EAAAA,eAAe,GAAG;AAChB,QAAI,CAACtiC,KAAD,EAAQnC,MAAR,IAAkB,kBAAkB3C,IAAlB,CAAuB,KAAKtP,WAA5B,IAA2C,KAAKA,WAAL,CAAiBsW,KAAjB,CAAuB,GAAvB,CAA3C,GAAyE,CAAC,EAAD,EAAK,CAAL,CAA/F;AACA,WAAO,MAAMtU,MAAM,CAACoS,KAAD,CAAZ,GAAsBpS,MAAM,CAACiQ,MAAD,CAAnC;AACD;AACD;AACF;AACA;;;AAGE8B,EAAAA,YAAY,GAAG;AACb,QAAI4iC,OAAO,GAAG,IAAd;;AAEA,WAAOr7C,iBAAiB,CAAC,aAAa;AACpC,aAAOq7C,OAAO,CAAC7iC,SAAf;AACD,KAFuB,CAAjB,EAAP;AAGD;AACD;;;AAGA8iC,EAAAA,WAAW,CAAClJ,MAAD,EAASn5C,KAAT,EAAgB;AACzB,QAAIsiD,OAAO,GAAG,IAAd;;AAEA,WAAOv7C,iBAAiB,CAAC,aAAa;AACpC,aAAO,CAAC,MAAMu7C,OAAO,CAAC5nC,OAAf,EAAwBy+B,MAAxB,EAAgCn5C,KAAhC,CAAP;AACD,KAFuB,CAAjB,EAAP;AAGD;;AAEDuiD,EAAAA,iBAAiB,GAAG;AAClB,WAAOpiD,qBAAqB,CAAC,IAAD,EAAO,aAAP,CAA5B;AACD;;AAEDqiD,EAAAA,KAAK,GAAG;AACN,QAAIC,UAAJ;;AAEA,QAAI1/B,EAAE,GAAG,CAAC0/B,UAAU,GAAG,KAAKxpC,IAAnB,MAA6B,IAA7B,IAAqCwpC,UAAU,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,UAAU,CAAC1/B,EAA1F;AACA,QAAIpV,QAAQ,CAACoV,EAAD,CAAR,IAAgBA,EAAE,CAACtd,MAAH,GAAY,CAAhC,EAAmC,OAAOsd,EAAP;AACnC62B,IAAAA,SAAS,IAAI,CAAb;AACA,WAAO,aAAaplC,MAAb,CAAoBolC,SAApB,CAAP;AACD;;AAED3+B,EAAAA,MAAM,GAAG;AACP,QAAIyB,KAAK,GAAG,GAAGlI,MAAH,CAAU,KAAK7I,WAAL,GAAmB,cAAnB,GAAoC,cAA9C,IAAgE,GAAG6I,MAAH,CAAU,CAACrH,WAAW,CAAC,KAAKlD,UAAN,CAAZ,GAAgC,MAAMuK,MAAN,CAAa,KAAKvK,UAAlB,CAAhC,GAAgE,EAA1E,CAA5E;AACA,QAAIy4C,eAAe,GAAG,CAACp7B,MAAD,IAAW,CAAC,KAAK1b,WAAjB,IAAgC,KAAKU,WAAL,IAAoB,CAAC,KAAKd,kBAAhF;;AAEA,QAAI,CAACk3C,eAAL,EAAsB;AACpB,WAAKp3C,QAAL,GAAgB,IAAhB;AACD;;AAED,QAAIq3C,MAAM,GAAGD,eAAe,IAAI,KAAKH,iBAAL,EAAnB,IAA+C,KAAK32C,WAApD,IAAmE,CAAC,KAAK9B,MAAzE,IAAmF,CAAC,KAAKyB,gBAAtG;AACA,QAAIq3C,gBAAgB,GAAG,CAAC,KAAKt3C,QAAN,IAAkBo3C,eAAlB,IAAqC,KAAK92C,WAAjE;AACA,WAAO,CAAC,GAAGpL,OAAO,CAAC0a,CAAZ,EAAe1a,OAAO,CAACgc,IAAvB,EAA6B;AAClCuG,MAAAA,EAAE,EAAE,KAAKy/B,KAAL,EAD8B;AAElCK,MAAAA,IAAI,EAAEF,MAF4B;AAGlCG,MAAAA,MAAM,EAAE,KAAK92C,QAHqB;AAIlC+2C,MAAAA,KAAK,EAAE,KAAK92C,OAJsB;AAKlCjE,MAAAA,IAAI,EAAE,KAAKmE,MALuB;AAMlC/D,MAAAA,KAAK,EAAE,KAAKuD,WANsB;AAOlC+a,MAAAA,KAAK,EAAE,KAAK9a,WAPsB;AAQlClC,MAAAA,GAAG,EAAE,KAAK0C,WARwB;AASlCzD,MAAAA,UAAU,EAAE,KAAK6C;AATiB,KAA7B,EAUJ,CAAC,GAAGhL,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvB,oBAAcwB,KADS;AAEvB,qBAAe,CAAC,KAAK9R,KAAN,GAAc,MAAd,GAAuB,OAFf;AAGvB,mBAAa,CAAC,KAAKC,aAAN,GAAsB,MAAtB,GAA+B,OAHrB;AAIvB4V,MAAAA,KAAK,EAAE;AACLrM,QAAAA,MAAM,EAAE,IADH;AAELyuC,QAAAA,IAAI,EAAEF,MAFD;AAGLv6C,QAAAA,KAAK,EAAE,KAAKuD,WAHP;AAIL+a,QAAAA,KAAK,EAAE,KAAK9a,WAJP;AAKLjD,QAAAA,UAAU,EAAE,KAAK6C;AALZ,OAJgB;AAWvB0R,MAAAA,KAAK,EAAE;AACL8lC,QAAAA,aAAa,EAAE,KAAKp3C,WAAL,GAAmB,GAAG4I,MAAH,CAAU,KAAK2tC,eAAL,EAAV,EAAkC,GAAlC,CAAnB,GAA4D/6C;AADtE,OAXgB;AAcvBiH,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,SAAC,GAAG9N,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3B,eAAKiG,SAAL,GAAiBjR,EAAjB;AACD,SAFD;AAGD;AAlBsB,KAAtB,EAmBAs0C,gBAAgB,IAAI,CAAC,GAAGpiD,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3CuF,MAAAA,KAAK,EAAE;AADoC,KAAtB,CAnBpB,EAqBC,CAAC,GAAGjgB,OAAO,CAAC0a,CAAZ,EAAezK,QAAQ,CAACpM,QAAxB,EAAkC;AACpCkM,MAAAA,KAAK,EAAE,KAAKwxC,cAAL;AAD6B,KAAlC,EAED,CAAC,GAAGvhD,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAFC,CArBD,CAVI,CAAP;AAkCD;;AAEO,MAAJjC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,mBAAa,CAAC,mBAAD,CADR;AAEL,gBAAU,CAAC,gBAAD,CAFL;AAGL,kBAAY,CAAC,kBAAD,CAHP;AAIL,qBAAe,CAAC,qBAAD,CAJV;AAKL,uBAAiB,CAAC,uBAAD,CALZ;AAML,eAAS,CAAC,eAAD,CANJ;AAOL,sBAAgB,CAAC,sBAAD,CAPX;AAQL,yBAAmB,CAAC,yBAAD,CARd;AASL,eAAS,CAAC,eAAD,CATJ;AAUL,gBAAU,CAAC,gBAAD,CAVL;AAWL,kBAAY,CAAC,kBAAD,CAXP;AAYL,qBAAe,CAAC,kBAAD,CAZV;AAaL,qBAAe,CAAC,kBAAD,CAbV;AAcL,mBAAa,CAAC,mBAAD,CAdR;AAeL,kBAAY,CAAC,kBAAD,CAfP;AAgBL,sBAAgB,CAAC,sBAAD;AAhBX,KAAP;AAkBD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOy8B,SAAP;AACD;;AAhyBoC,CAAvC;AAmyBA,IAAIsJ,SAAS,GAAG,8WAAhB;AACA,IAAIC,MAAM,GAAG,cAAc30C,WAAd,CAA0B;AACrCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK2nC,QAAL,GAAgB,CAAC,GAAG3iD,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,UAA/B,EAA2C,CAA3C,CAAhB;AACA,SAAK6hC,UAAL,GAAkB,CAAC,GAAG5iD,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,YAA/B,EAA6C,CAA7C,CAAlB;AACA,SAAK8hC,UAAL,GAAkB,CAAC,GAAG7iD,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,YAA/B,EAA6C,CAA7C,CAAlB;AACA,SAAK+hC,QAAL,GAAgB,IAAhB;AACA,SAAKlM,QAAL,GAAgB,KAAhB;AACA,SAAKnjC,SAAL,GAAiB,KAAjB;AACA;AACJ;AACA;;AAEI,SAAKsvC,GAAL,GAAW,OAAX;AACA;;AAEA,SAAK33C,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKT,eAAL,GAAuB,KAAvB;AACA;;AAEA,SAAKpD,WAAL,GAAmB,CAAnB;AACA1H,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,YAAD,EAAe,eAAf,EAAgC,iBAAhC,EAAmD,aAAnD,EAAkE,aAAlE,CAAP,CAAjB;AACD;;AAED8iD,EAAAA,qBAAqB,GAAG;AACtB,QAAIC,iBAAJ;;AAEA,SAAKxvC,SAAL,GAAiB,KAAjB;AACA,KAACwvC,iBAAiB,GAAG,KAAKnkB,UAA1B,MAA0C,IAA1C,IAAkDmkB,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAACrmB,UAAlB,EAA1F;AACD;;AAEDrsB,EAAAA,iBAAiB,GAAG;AAClB,SAAKuuB,UAAL,GAAkB,IAAI5C,UAAJ,CAAe,KAAKzjB,IAApB,EAA0B,CAAC,UAAD,EAAa,KAAb,CAA1B,EAA+C3K,EAAE,IAAI;AACrE,UAAI0b,GAAG,GAAG1b,EAAE,CAACixB,YAAH,CAAgB,UAAhB,CAAV;AACAjxB,MAAAA,EAAE,CAACkxB,eAAH,CAAmB,KAAnB;;AAEA,UAAI,CAACvyB,MAAM,CAAC+c,GAAD,CAAX,EAAkB;AAChB1b,QAAAA,EAAE,CAAC+a,YAAH,CAAgB,KAAhB,EAAuBW,GAAvB;AACD;AACF,KAPiB,CAAlB;AAQA,SAAKlL,eAAL;AACA,SAAKixB,cAAL;AACD;;AAED/+B,EAAAA,oBAAoB,GAAG;AACrB,SAAKsuB,UAAL,CAAgB5B,OAAhB;AACD;;AAEDgmB,EAAAA,kBAAkB,GAAG;AACnB,KAAC,KAAKJ,QAAN,IAAkB,KAAKlM,QAAvB,GAAkC,KAAKgM,UAAL,CAAgBlgC,IAAhB,EAAlC,GAA2D,KAAKmgC,UAAL,CAAgBngC,IAAhB,EAA3D;AACD;;AAEDpE,EAAAA,eAAe,GAAG;AAChB,SAAKwkC,QAAL,GAAgB,CAAC,KAAK13C,WAAtB;AACA,SAAK83C,kBAAL;AACD;;AAED3T,EAAAA,cAAc,GAAG;AACf,SAAKqH,QAAL,GAAgB,CAAC,KAAKjsC,eAAN,IAAyB,KAAKpD,WAAL,IAAoB,GAA7D;AACA,SAAK27C,kBAAL;AACD;;AAEDC,EAAAA,YAAY,GAAG;AACb,SAAKR,QAAL,CAAcjgC,IAAd;AACA,SAAKjP,SAAL,GAAiB,IAAjB;AACD;;AAEDgH,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLyO,QAAAA,MAAM,EAAE,IADH;AAELzS,QAAAA,MAAM,EAAE,KAAK6mC,QAFR;AAGLrgC,QAAAA,MAAM,EAAE,KAAKm0B,QAAL,IAAiB,KAAKnjC;AAHzB;AADoB,KAAtB,EAMJ,CAAC,GAAGzT,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvBuF,MAAAA,KAAK,EAAE,MADgB;AAEvB,kBAAY,KAAKtW,aAFM;AAGvBy5C,MAAAA,GAAG,EAAE,CAACz2C,WAAW,CAAC,KAAKlD,UAAN,CAAZ,GAAgC,GAAGuK,MAAH,CAAU,KAAKvK,UAAf,EAA2B,SAA3B,CAAhC,GAAwE,cAHtD;AAIvBiT,MAAAA,KAAK,EAAE;AACL2mC,QAAAA,SAAS,EAAE,KAAKN;AADX,OAJgB;AAOvB94B,MAAAA,MAAM,EAAE,KAAKk5B,YAAL,CAAkB/mC,IAAlB,CAAuB,IAAvB;AAPe,KAAtB,CANI,CAAP;AAeD;;AAEO,MAAJ3D,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,uBAAiB,CAAC,uBAAD,CADZ;AAEL,qBAAe,CAAC,iBAAD,CAFV;AAGL,qBAAe,CAAC,gBAAD,CAHV;AAIL,yBAAmB,CAAC,gBAAD;AAJd,KAAP;AAMD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAO+lC,SAAP;AACD;;AA3GoC,CAAvC;AA8GA,IAAIa,QAAQ,GAAG,u/BAAf;AACA,IAAIC,KAAK,GAAG,cAAcx1C,WAAd,CAA0B;AACpCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;;AAEA,SAAK5P,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKL,gBAAL,GAAwB,KAAxB;AACAlL,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,aAAD,EAAgB,kBAAhB,CAAP,CAAjB;AACD;;AAEDua,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLujC,QAAAA,KAAK,EAAE,IADF;AAELvqB,QAAAA,QAAQ,EAAE,CAACtsB,WAAW,CAAC,KAAKssB,QAAN,CAFjB;AAGLwqB,QAAAA,UAAU,EAAE,KAAKxqB,QAAL,KAAkB,IAHzB;AAILyqB,QAAAA,YAAY,EAAE,KAAKzqB,QAAL,KAAkB,MAJ3B;AAKLhd,QAAAA,MAAM,EAAE,CAAC,KAAK7Q,WALT;AAMLqX,QAAAA,MAAM,EAAE,KAAK1X;AANR;AADoB,KAAtB,CAAP;AAUD;;AAEe,aAAL2R,KAAK,GAAG;AACjB,WAAO4mC,QAAP;AACD;;AAhCmC,CAAtC;;AAoCA,IAAIK,QAAQ,GAAGnkD,KAAK,IAAIge,IAAI,CAAComC,KAAL,CAAWpkD,KAAK,GAAG,EAAR,GAAa,EAAb,GAAkB,EAA7B,CAAxB;;AAEA,IAAIqkD,UAAU,GAAGrkD,KAAK,IAAIge,IAAI,CAAComC,KAAL,CAAWpkD,KAAK,GAAG,EAAR,GAAa,EAAxB,CAA1B;;AAEA,IAAIskD,UAAU,GAAGtkD,KAAK,IAAIge,IAAI,CAAComC,KAAL,CAAWpkD,KAAK,GAAG,EAAnB,CAA1B;;AAEA,IAAIukD,UAAU,GAAG,SAASA,UAAT,GAAsB;AACrC,MAAIt9B,OAAO,GAAGzhB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAlF;AACA,MAAIwhB,eAAe,GAAGxhB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAA1F,CAFqC,CAIrC;;AACA,MAAIg/C,MAAM,GAAGxkD,KAAK,IAAI,IAAIwU,MAAJ,CAAWxU,KAAX,EAAkBiV,KAAlB,CAAwB,CAAC,CAAzB,CAAtB;;AAEA,MAAIwvC,KAAK,GAAGN,QAAQ,CAACl9B,OAAD,CAApB;AACA,MAAIy9B,IAAI,GAAGL,UAAU,CAACp9B,OAAD,CAArB;AACA,MAAI09B,IAAI,GAAGL,UAAU,CAACr9B,OAAD,CAArB;AACA,SAAO,GAAGzS,MAAH,CAAUwS,eAAe,IAAIy9B,KAAK,GAAG,CAA3B,GAA+B,GAAGjwC,MAAH,CAAUiwC,KAAV,EAAiB,GAAjB,CAA/B,GAAuD,EAAjE,EAAqEjwC,MAArE,CAA4EgwC,MAAM,CAACE,IAAD,CAAlF,EAA0F,GAA1F,EAA+FlwC,MAA/F,CAAsGgwC,MAAM,CAACG,IAAD,CAA5G,CAAP;AACD,CAXD;;AAaA,IAAIC,kBAAkB,GAAG,uxDAAzB;AACA,IAAIC,eAAe,GAAG,cAAct2C,WAAd,CAA0B;AAC9CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKkG,gBAAL,GAAwB,IAAI5L,QAAJ,EAAxB;AACA,SAAKgvC,SAAL,GAAiB,EAAjB;AACA,SAAKC,OAAL,GAAe,CAAf;AACA;AACJ;AACA;AACA;;AAEI,SAAK/9B,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKnL,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAK9T,WAAL,GAAmB,CAAnB;AACA;;AAEA,SAAKH,QAAL,GAAgB,CAAC,CAAjB;AACA;AACJ;AACA;;AAEI,SAAKo9C,UAAL,GAAkB,KAAlB;AACA;;AAEA,SAAK35C,SAAL,GAAiB,KAAjB;AACA;;AAEA,SAAKxD,QAAL,GAAgB,CAAhB;AACA;;AAEA,SAAK6E,IAAL,GAAY,EAAZ;AACArM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,MAAD,EAAS,aAAT,EAAwB,UAAxB,EAAoC,WAApC,EAAiD,UAAjD,CAAP,CAAjB;AACD;;AAEDukD,EAAAA,kBAAkB,GAAG;AACnB,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAOn+C,iBAAiB,CAAC,aAAa;AACpCm+C,MAAAA,OAAO,CAACxjC,gBAAR,CAAyBxL,KAAzB;;AAEA,UAAIgvC,OAAO,CAACF,UAAZ,EAAwB;AACxB,UAAI5wC,MAAM,GAAG,MAAMtT,UAAU,CAACokD,OAAD,CAA7B;;AAEA,UAAIvS,SAAS,GAAGlkC,KAAK,IAAI;AACvB,YAAIA,KAAK,CAAC7I,GAAN,KAAc,WAAd,IAA6B6I,KAAK,CAAC7I,GAAN,KAAc,YAA/C,EAA6D;AAC7D6I,QAAAA,KAAK,CAACmkC,cAAN;AACA,YAAIuS,WAAW,GAAG12C,KAAK,CAAC7I,GAAN,KAAc,WAAhC;AACA,YAAIw/C,MAAM,GAAGD,WAAW,GAAGnnC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYinC,OAAO,CAACn9C,WAAR,GAAsB,CAAlC,CAAH,GAA0CiW,IAAI,CAAC8+B,GAAL,CAASoI,OAAO,CAACt9C,QAAjB,EAA2Bs9C,OAAO,CAACn9C,WAAR,GAAsB,CAAjD,CAAlE;;AAEAm9C,QAAAA,OAAO,CAAC9lC,QAAR,CAAiB,aAAjB,EAAgCgmC,MAAhC;AACD,OAPD;;AASAF,MAAAA,OAAO,CAACxjC,gBAAR,CAAyB1L,GAAzB,CAA6BvE,MAAM,CAAC2C,MAAD,EAAS,SAAT,EAAoBu+B,SAApB,CAAnC;AACD,KAhBuB,CAAjB,EAAP;AAiBD;;AAEDlP,EAAAA,gBAAgB,GAAG;AACjB;AACA,SAAKshB,OAAL,GAAe/mC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,KAAKrW,QAAjB,CAAf;AACD;;AAEDmJ,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACA,SAAK8jD,SAAL,GAAiBP,UAAU,CAAC,KAAKx8C,WAAN,EAAmB,KAAKif,eAAxB,CAA3B;AACA,SAAKi+B,kBAAL;AACD;;AAEDj0C,EAAAA,oBAAoB,GAAG;AACrB,SAAK0Q,gBAAL,CAAsBxL,KAAtB;AACD;;AAEDmvC,EAAAA,kBAAkB,CAACrlD,KAAD,EAAQ;AACxB,QAAIslD,WAAW,GAAG,KAAKhpC,OAAL,CAAa8B,UAAb,CAAwBC,aAAxB,CAAsC,UAAtC,EAAkDpL,qBAAlD,EAAlB;AACA,QAAIsyC,MAAM,GAAG,KAAKC,MAAL,CAAYvyC,qBAAZ,EAAb;AACA,QAAIwyC,UAAU,GAAGjoC,UAAU,CAACjL,MAAM,CAACkL,gBAAP,CAAwB,KAAK+nC,MAA7B,EAAqCE,gBAArC,CAAsD,yBAAtD,CAAD,CAA3B;AACA,QAAIC,SAAS,GAAGL,WAAW,CAACzlC,KAAZ,GAAoB,CAApB,GAAwB4lC,UAAU,GAAG,CAArD;AACA,QAAIG,UAAU,GAAGL,MAAM,CAAC1lC,KAAP,GAAeylC,WAAW,CAACzlC,KAAZ,GAAoB,CAAnC,GAAuC4lC,UAAU,GAAG,CAArE;AACA,QAAII,IAAI,GAAG7nC,IAAI,CAACC,GAAL,CAAS0nC,SAAT,EAAoB3nC,IAAI,CAAC8+B,GAAL,CAAS98C,KAAT,EAAgB4lD,UAAhB,CAApB,CAAX;AACA,SAAKtpC,OAAL,CAAaY,KAAb,GAAqB,sBAAsB1I,MAAtB,CAA6BqxC,IAA7B,EAAmC,IAAnC,CAArB;AACD;;AAEDC,EAAAA,MAAM,CAACr3C,KAAD,EAAQ;AACZ,SAAK2Q,QAAL,CAAc,aAAd,EAA6B3Q,KAAK,CAACI,MAAnC;AACD;;AAEDu0B,EAAAA,SAAS,CAAC30B,KAAD,EAAQ;AACf,QAAI,KAAK7G,QAAL,GAAgB,CAAhB,IAAqB,KAAK0U,OAAL,CAAaG,MAAtC,EAA8C;;AAE9C,QAAIhO,KAAK,CAACqM,IAAN,KAAe,YAAnB,EAAiC;AAC/B,WAAKirC,cAAL,GAAsBpjC,IAAtB;AACA,WAAKrG,OAAL,CAAa2G,MAAb,GAAsB,KAAtB;AACA;AACD;;AAED,QAAI+iC,IAAI,GAAG,KAAK/sC,IAAL,CAAUhG,qBAAV,EAAX;AACA,QAAIgzC,OAAO,GAAGjoC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAAC8+B,GAAL,CAAS,GAAT,EAAc,MAAMkJ,IAAI,CAACnmC,KAAX,IAAoBpR,KAAK,CAACy3C,KAAN,GAAcF,IAAI,CAAC7yC,IAAvC,CAAd,CAAZ,CAAd;AACA,SAAK2xC,SAAL,GAAiBP,UAAU,CAAC,KAAK38C,QAAL,GAAgB,GAAhB,GAAsBq+C,OAAvB,EAAgC,KAAKj/B,eAArC,CAA3B;AACA,SAAKq+B,kBAAL,CAAwBY,OAAO,GAAG,GAAV,GAAgBD,IAAI,CAACnmC,KAA7C;;AAEA,QAAI,CAAC,KAAKvD,OAAL,CAAa2G,MAAlB,EAA0B;AACxB,WAAK8iC,cAAL,GAAsBxjC,KAAtB;AACA,WAAKjG,OAAL,CAAa2G,MAAb,GAAsB,IAAtB;AACD;AACF;;AAED8iC,EAAAA,cAAc,GAAG;AACf,WAAO,KAAKP,MAAL,CAAYpnC,UAAZ,CAAuBC,aAAvB,CAAqC,OAArC,CAAP;AACD;;AAEDpD,EAAAA,MAAM,GAAG;AACP,QAAIkrC,eAAe,GAAG,KAAKz5C,IAAL,CAAUhF,aAAV,CAAwBoN,OAAxB,CAAgC,eAAhC,EAAiDyvC,UAAU,CAAC,KAAKx8C,WAAN,CAA3D,EAA+E+M,OAA/E,CAAuF,YAAvF,EAAqGyvC,UAAU,CAAC,KAAKQ,OAAN,CAA/G,CAAtB;AACA,WAAO,CAAC,GAAGvkD,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE,UADoB;AAE3B6C,MAAAA,YAAY,EAAE,KAAK8f,SAAL,CAAexmB,IAAf,CAAoB,IAApB,CAFa;AAG3B2G,MAAAA,YAAY,EAAE,KAAK6f,SAAL,CAAexmB,IAAf,CAAoB,IAApB,CAHa;AAI3BwpC,MAAAA,WAAW,EAAE,KAAKhjB,SAAL,CAAexmB,IAAf,CAAoB,IAApB,CAJc;AAK3BypC,MAAAA,WAAW,EAAE,MAAM;AACjB,aAAKN,cAAL,GAAsBxjC,KAAtB;AACD,OAP0B;AAQ3BM,MAAAA,UAAU,EAAE,MAAM;AAChB,aAAKkjC,cAAL,GAAsBpjC,IAAtB;AACD;AAV0B,KAAtB,EAWJ,CAAC,GAAGniB,OAAO,CAAC0a,CAAZ,EAAe,WAAf,EAA4B;AAC7BorC,MAAAA,IAAI,EAAE,IADuB;AAE7BroC,MAAAA,GAAG,EAAE,KAAK8mC,OAFmB;AAG7B/kD,MAAAA,KAAK,EAAE,KAAK+H,WAHiB;AAI7B2U,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUjF,QAJY;AAK7B8+C,MAAAA,SAAS,EAAEJ,eALkB;AAM7BK,MAAAA,eAAe,EAAE,KAAKV,MAAL,CAAYlpC,IAAZ,CAAiB,IAAjB,CANY;AAO7BvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKk3C,MAAL,GAAcl3C,EAAd;AACD;AAT4B,KAA5B,CAXI,EAqBH,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,UAAf,EAA2B;AAC7BuF,MAAAA,KAAK,EAAE;AACLgmC,QAAAA,OAAO,EAAE,KAAKp7C;AADT,OADsB;AAI7B;AACAyxC,MAAAA,GAAG,EAAE,CALwB;AAM7B7+B,MAAAA,GAAG,EAAE,KAAK8mC,OANmB;AAO7B/kD,MAAAA,KAAK,EAAE,KAAK6H,QAPiB;AAQ7B,oBAAc,KAAK6E,IAAL,CAAU7E,QARK;AAS7B,uBAAiB,GATY;AAU7B,uBAAiB,KAAKk9C,OAVO;AAW7B,uBAAiB,KAAKl9C,QAXO;AAY7B,wBAAkB,GAAG2M,MAAH,CAAU,CAAC,KAAKuwC,OAAL,GAAe,CAAf,GAAmB,KAAKl9C,QAAL,GAAgB,KAAKk9C,OAAxC,GAAkD,CAAnD,EAAsD2B,OAAtD,CAA8D,CAA9D,CAAV,EAA4E,GAA5E;AAZW,KAA3B,EAaD,YAbC,CArBG,EAkCW,CAAC,GAAGlmD,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC7CuB,MAAAA,MAAM,EAAE,KAAKZ,WADgC;AAE7CxN,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKgO,OAAL,GAAehO,EAAf;AACD;AAJ4C,KAA7B,EAKf,KAAKw2C,SALU,CAlCX,CAAP;AAwCD;;AAEO,MAAJ7rC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,oBAAc,CAAC,oBAAD,CADT;AAEL,kBAAY,CAAC,kBAAD;AAFP,KAAP;AAID;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAO0nC,kBAAP;AACD;;AAjL6C,CAAhD;AAoLA,IAAI+B,WAAW,GAAG,6gDAAlB;AACA,IAAIC,SAAS,GAAG,CAAhB;AACA,IAAIC,QAAQ,GAAG,cAAct4C,WAAd,CAA0B;AACvCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKxE,QAAL,GAAgB,IAAIlB,QAAJ,EAAhB;AACA,SAAKgxC,UAAL,GAAkB,CAAlB;AACA;AACJ;AACA;AACA;;AAEI,SAAKphC,GAAL,GAAW,aAAX;AACA;AACJ;AACA;;AAEI,SAAKzC,MAAL,GAAc,KAAd;AACA;;AAEA,SAAKjX,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKL,WAAL,GAAmB,KAAnB;AACAtL,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAke,IAAAA,8BAA8B,CAAC,IAAD,CAA9B;AACA7d,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,UAAD,EAAa,aAAb,CAAP,CAAjB;AACD;;AAEDqvC,EAAAA,cAAc,GAAG;AACf,SAAK3wB,QAAL,CAAc,kBAAd,EAAkC,KAAK6D,MAAvC;AACA,QAAI9V,WAAW,CAAC,KAAK8iC,UAAN,CAAf,EAAkC;AAClC,SAAKA,UAAL,CAAgBxsB,QAAhB,GAA2B,KAAKR,MAAhC;AACD;;AAEDlS,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACA4lD,IAAAA,SAAS,IAAI,CAAb;AACA,SAAK7jC,EAAL,GAAU,eAAevO,MAAf,CAAsBoyC,SAAtB,CAAV;AACD;;AAED51C,EAAAA,oBAAoB,GAAG;AACrB,SAAKgG,QAAL,CAAcd,KAAd;AACD;AACD;AACF;AACA;;;AAGE6wC,EAAAA,aAAa,CAAC9W,UAAD,EAAa;AACxB,QAAI+W,OAAO,GAAG,IAAd;;AAEA,WAAOjgD,iBAAiB,CAAC,aAAa;AACpCigD,MAAAA,OAAO,CAAC/W,UAAR,GAAqBA,UAArB;AACA+W,MAAAA,OAAO,CAAC/W,UAAR,CAAmBnsB,IAAnB,GAA0BkjC,OAAO,CAACjkC,EAAlC;;AAEAikC,MAAAA,OAAO,CAAChwC,QAAR,CAAiBd,KAAjB;;AAEA8wC,MAAAA,OAAO,CAAChwC,QAAR,CAAiBhB,GAAjB,CAAqBvE,MAAM,CAACu1C,OAAO,CAAC/W,UAAT,EAAqB,OAArB,EAA8B,MAAM;AAC7D+W,QAAAA,OAAO,CAAC/jC,MAAR,GAAiB,CAAC+jC,OAAO,CAAC/jC,MAA1B;AACD,OAF0B,CAA3B;;AAIA+jC,MAAAA,OAAO,CAAChwC,QAAR,CAAiBhB,GAAjB,CAAqBvE,MAAM,CAACu1C,OAAO,CAAC/W,UAAT,EAAqB,SAArB,EAAgCxhC,KAAK,IAAI;AAClE,YAAIA,KAAK,CAAC7I,GAAN,KAAc,OAAlB,EAA2B,OADuC,CAC/B;;AAEnC,YAAI,CAACohD,OAAO,CAAC/jC,MAAb,EAAqB+jC,OAAO,CAACljC,IAAR,CAAaqsB,SAAb;AACtB,OAJ0B,CAA3B;AAKD,KAfuB,CAAjB,EAAP;AAgBD;;AAED9pB,EAAAA,WAAW,GAAG;AACZ,QAAI,KAAK1a,WAAT,EAAsB;AACpB,aAAO;AACLyH,QAAAA,KAAK,EAAE,GADF;AAELE,QAAAA,MAAM,EAAE;AAFH,OAAP;AAID,KANW,CAMV;;;AAGF,QAAIgT,GAAG,GAAG,KAAKZ,GAAL,CAAS3D,KAAT,CAAe,WAAf,EAA4BtM,GAA5B,CAAgC8Q,CAAC,IAAIA,CAAC,CAAC7P,WAAF,EAArC,CAAV;AACA,WAAO;AACL,OAAC4P,GAAG,CAACtE,QAAJ,CAAa,KAAb,IAAsB,KAAtB,GAA8B,QAA/B,GAA0C,8BADrC;AAEL,OAACsE,GAAG,CAACtE,QAAJ,CAAa,MAAb,IAAuB,MAAvB,GAAgC,OAAjC,GAA2C;AAFtC,KAAP;AAID;;AAEDnS,EAAAA,MAAM,CAACpB,KAAD,EAAQ;AACZ,QAAIw4C,aAAJ;;AAEA,QAAI,CAAC,CAACA,aAAa,GAAGx4C,KAAK,CAACI,MAAvB,MAAmC,IAAnC,IAA2Co4C,aAAa,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,aAAa,CAACpjC,UAA9F,MAA8G,KAAKd,EAAvH,EAA2H;AAC3H,SAAKE,MAAL,GAAc,IAAd;AACD;;AAED0uB,EAAAA,OAAO,CAACljC,KAAD,EAAQ;AACb,QAAIy4C,cAAJ;;AAEA,QAAI,CAAC,CAACA,cAAc,GAAGz4C,KAAK,CAACI,MAAxB,MAAoC,IAApC,IAA4Cq4C,cAAc,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,cAAc,CAACrjC,UAAjG,MAAiH,KAAKd,EAA1H,EAA8H;AAC9H,SAAKE,MAAL,GAAc,KAAd;AACD;;AAEDkkC,EAAAA,cAAc,CAAC14C,KAAD,EAAQ;AACpB,SAAKq4C,UAAL,GAAkBr4C,KAAK,CAACI,MAAxB;AACD;;AAEDoM,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BgC,MAAAA,KAAK,EAAE7X,aAAa,CAAC,EAAD,EAAK,KAAKghB,WAAL,EAAL,CADO;AAE3B5F,MAAAA,KAAK,EAAE;AACL3X,QAAAA,QAAQ,EAAE,IADL;AAELma,QAAAA,MAAM,EAAE,KAAKA,MAFR;AAGL6/B,QAAAA,MAAM,EAAE,KAAK92C;AAHR;AAFoB,KAAtB,EAOJ,CAAC,GAAGxL,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvBuF,MAAAA,KAAK,EAAE,WADgB;AAEvBvD,MAAAA,KAAK,EAAE;AACLQ,QAAAA,MAAM,EAAE,GAAGlJ,MAAH,CAAU,KAAKsyC,UAAf,EAA2B,IAA3B;AADH;AAFgB,KAAtB,EAKA,CAAC,GAAGtmD,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC3B2I,MAAAA,UAAU,EAAE,KAAKd,EADU;AAE3BE,MAAAA,MAAM,EAAE,KAAKA,MAFc;AAG3BgtB,MAAAA,UAAU,EAAE,KAAKA,UAHU;AAI3BmX,MAAAA,QAAQ,EAAE,KAAKv3C,MAAL,CAAY+M,IAAZ,CAAiB,IAAjB,CAJiB;AAK3ByqC,MAAAA,SAAS,EAAE,KAAK1V,OAAL,CAAa/0B,IAAb,CAAkB,IAAlB,CALgB;AAM3B0qC,MAAAA,oBAAoB,EAAE,KAAKH,cAAL,CAAoBvqC,IAApB,CAAyB,IAAzB,CANK;AAO3BvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKwV,IAAL,GAAYxV,EAAZ;AACD;AAT0B,KAA1B,EAUA,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAVA,CALA,CAPI,CAAP;AAuBD;;AAEO,MAAJjC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,gBAAU,CAAC,gBAAD;AADL,KAAP;AAGD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOypC,WAAP;AACD;;AAhJsC,CAAzC;AAmJA,IAAIY,kBAAkB,GAAG,2JAAzB;AACA,IAAIC,SAAS,GAAG,CAAhB;AACA,IAAIC,eAAe,GAAG,cAAcl5C,WAAd,CAA0B;AAC9CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;AACJ;AACA;;AAEI,SAAKksC,IAAL,GAAY,UAAZ;AACA;AACJ;AACA;;AAEI,SAAK9rC,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAK6H,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAK/W,IAAL,GAAY,EAAZ;AACArM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,MAAD,CAAP,CAAjB;AACD;;AAEDinD,EAAAA,kBAAkB,GAAG;AACnB,QAAI,CAACx6C,WAAW,CAAC,KAAKy6C,UAAN,CAAhB,EAAmC;AACjC,WAAKA,UAAL,CAAgBb,aAAhB,CAA8B,KAAK9tC,IAAnC;AACD;AACF;;AAEDlI,EAAAA,iBAAiB,GAAG;AAClBy2C,IAAAA,SAAS,IAAI,CAAb;AACA,SAAKzkC,EAAL,GAAU,uBAAuBvO,MAAvB,CAA8BgzC,SAA9B,CAAV;AACApnD,IAAAA,sBAAsB,CAAC,IAAD,EAAO,aAAP,EAAsB6gC,IAAI,IAAI;AAClD,OAAC,KAAK2mB,UAAN,IAAoB3mB,IAApB;AACD,KAFqB,CAAtB;AAGD;AACD;AACF;AACA;;;AAGE7e,EAAAA,YAAY,GAAG;AACb,QAAIylC,OAAO,GAAG,IAAd;;AAEA,WAAO9gD,iBAAiB,CAAC,aAAa;AACpC,UAAI+gD,eAAJ;;AAEA,OAACA,eAAe,GAAGD,OAAO,CAACE,OAA3B,MAAwC,IAAxC,IAAgDD,eAAe,KAAK,KAAK,CAAzE,GAA6E,KAAK,CAAlF,GAAsFA,eAAe,CAAC1lC,YAAhB,EAAtF;AACD,KAJuB,CAAjB,EAAP;AAKD;AACD;AACF;AACA;;;AAGEI,EAAAA,WAAW,GAAG;AACZ,QAAIwlC,OAAO,GAAG,IAAd;;AAEA,WAAOjhD,iBAAiB,CAAC,aAAa;AACpC,UAAIkhD,eAAJ;;AAEA,OAACA,eAAe,GAAGD,OAAO,CAACD,OAA3B,MAAwC,IAAxC,IAAgDE,eAAe,KAAK,KAAK,CAAzE,GAA6E,KAAK,CAAlF,GAAsFA,eAAe,CAACzlC,WAAhB,EAAtF;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEDvH,EAAAA,MAAM,GAAG;AACP,QAAIitC,WAAW,GAAG,CAAC/6C,WAAW,CAAC,KAAK2W,IAAN,CAA9B;AACA,WAAO,CAAC,GAAGtjB,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACL0nC,QAAAA,eAAe,EAAE,IADZ;AAEL1rC,QAAAA,MAAM,EAAE,CAACyrC,WAFJ;AAGLjlC,QAAAA,MAAM,EAAEilC,WAAW,IAAI,KAAKzkC;AAHvB;AADoB,KAAtB,EAMJ,CAAC,GAAGjjB,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC9B2I,MAAAA,UAAU,EAAE,KAAKd,EADa;AAE9Be,MAAAA,IAAI,EAAE,KAAKA,IAFmB;AAG9BrH,MAAAA,MAAM,EAAE,CAACyrC,WAHqB;AAI9BzkC,MAAAA,QAAQ,EAAE,KAAKA,QAJe;AAK9B/G,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAU5D,QALa;AAM9BuF,MAAAA,GAAG,EAAE05C,OAAO,IAAI;AACd,aAAKA,OAAL,GAAeA,OAAf;AACD;AAR6B,KAA7B,EASA,CAAC,GAAGvnD,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC3B1L,MAAAA,IAAI,EAAE,KAAKk4C,IADgB;AAE3B7qC,MAAAA,OAAO,EAAE,KAAKnS;AAFa,KAA1B,CATA,EAYC,CAAC,GAAGlK,OAAO,CAAC0a,CAAZ,EAAe,YAAf,EAA6B;AAC/BuB,MAAAA,MAAM,EAAE,KAAKgH,QADkB;AAE/B3G,MAAAA,QAAQ,EAAE,KAAKlB,eAFgB;AAG/BmB,MAAAA,SAAS,EAAE,KAAKC;AAHe,KAA7B,EAID,KAAKtQ,IAAL,CAAU5D,QAJT,CAZD,CANI,CAAP;AAuBD;;AAEO,MAAJmQ,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEkB,aAARgE,QAAQ,GAAG;AACpB,WAAO;AACL,oBAAc,CAAC,oBAAD;AADT,KAAP;AAGD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOqqC,kBAAP;AACD;;AA9G6C,CAAhD;AAiHA,IAAIa,WAAW,GAAG,suBAAlB;AACA,IAAIC,QAAQ,GAAG,cAAc95C,WAAd,CAA0B;AACvCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKiB,MAAL,GAAc,KAAd;AACA;AACJ;AACA;;AAEI,SAAK6rC,MAAL,GAAc,OAAd;AACA;;AAEA,SAAK19C,KAAL,GAAa,KAAb;AACAvK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,OAAD,CAAP,CAAjB;AACD;;AAED6nD,EAAAA,aAAa,GAAG;AACd,QAAI,CAAC,KAAK39C,KAAV,EAAiB;AACf,WAAK6R,MAAL,GAAc,KAAd;AACD,KAFD,MAEO;AACLnK,MAAAA,UAAU,CAAC,MAAM;AACf,aAAKmK,MAAL,GAAc,IAAd;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;AACF;;AAEDxB,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACL+nC,QAAAA,QAAQ,EAAE,IADL;AAEL/rC,QAAAA,MAAM,EAAE,KAAKA,MAFR;AAGLgsC,QAAAA,KAAK,EAAE,KAAKH,MAAL,KAAgB;AAHlB;AADoB,KAAtB,EAMJ,CAAC,GAAG9nD,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvBuF,MAAAA,KAAK,EAAE;AADgB,KAAtB,CANI,CAAP;AASD;;AAEkB,aAARxD,QAAQ,GAAG;AACpB,WAAO;AACL,eAAS,CAAC,eAAD;AADJ,KAAP;AAGD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOkrC,WAAP;AACD;;AAlDsC,CAAzC;AAqDA,IAAIM,SAAS,GAAG,u8GAAhB;AACA,IAAIC,MAAM,GAAG,cAAcp6C,WAAd,CAA0B;AACrCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKotC,aAAL,GAAqB,CAAC,GAAGpoD,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,eAA/B,EAAgD,CAAhD,CAArB;AACA,SAAKC,OAAL,GAAe,CAAC,GAAGhhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAKE,MAAL,GAAc,CAAC,GAAGjhB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,QAA/B,EAAyC,CAAzC,CAAd;AACA;AACJ;AACA;;AAEI,SAAK+kC,IAAL,GAAY,CAAZ;AACA;AACJ;AACA;;AAEI,SAAKxJ,GAAL,GAAW,CAAX;AACA;AACJ;AACA;;AAEI,SAAK7+B,GAAL,GAAW,EAAX;AACA;AACJ;AACA;;AAEI,SAAKje,KAAL,GAAa,CAAb;AACAK,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAEDwoD,EAAAA,aAAa,GAAG;AACd,WAAO,GAAGr0C,MAAH,CAAU,KAAKxU,KAAL,GAAa,KAAKie,GAAlB,GAAwB,GAAlC,EAAuC,GAAvC,CAAP;AACD;;AAEDm3B,EAAAA,aAAa,CAAC3mC,KAAD,EAAQ;AACnB,QAAIq6C,aAAJ;;AAEA,QAAI9oD,KAAK,GAAGwd,UAAU,CAAC,CAACsrC,aAAa,GAAGr6C,KAAK,CAACnJ,MAAvB,MAAmC,IAAnC,IAA2CwjD,aAAa,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,aAAa,CAAC9oD,KAA9F,CAAtB;AACA,SAAK4oD,aAAL,CAAmB1lC,IAAnB,CAAwBljB,KAAxB;AACD;;AAED+oD,EAAAA,gBAAgB,CAACt6C,KAAD,EAAQ;AACtB,QAAIvB,KAAK,GAAGuB,KAAK,CAACnJ,MAAlB;AACA,QAAIy9C,KAAK,GAAGt0C,KAAK,CAACu6C,cAAN,CAAqB,CAArB,CAAZ;AACA,QAAIlM,GAAG,GAAGt/B,UAAU,CAACtQ,KAAK,CAACqyB,YAAN,CAAmB,KAAnB,CAAD,CAApB;AACA,QAAIthB,GAAG,GAAGT,UAAU,CAACtQ,KAAK,CAACqyB,YAAN,CAAmB,KAAnB,CAAD,CAApB;AACA,QAAI+mB,IAAI,GAAG9oC,UAAU,CAACtQ,KAAK,CAACqyB,YAAN,CAAmB,MAAnB,CAAD,CAArB;AACA,QAAI0pB,KAAK,GAAGhrC,GAAG,GAAG6+B,GAAlB,CANsB,CAMC;;AAEvB,QAAImJ,OAAJ;AACA,QAAIiD,UAAU,GAAGh8C,KAAK,CAAC+F,qBAAN,EAAjB;AACA,QAAIk2C,gBAAgB,GAAG3rC,UAAU,CAACjL,MAAM,CAACkL,gBAAP,CAAwB,KAAKxE,IAA7B,EAAmCysC,gBAAnC,CAAoD,yBAApD,CAAD,CAAjC;AACA,QAAID,UAAU,GAAG,MAAMyD,UAAU,CAACrpC,KAAjB,IAA0BspC,gBAAgB,GAAG,CAA7C,IAAkD,GAAnE;AACAlD,IAAAA,OAAO,GAAG,MAAMiD,UAAU,CAACrpC,KAAjB,IAA0BkjC,KAAK,CAACqG,OAAN,GAAgBF,UAAU,CAAC/1C,IAArD,CAAV,CAZsB,CAYgD;;AAEtE8yC,IAAAA,OAAO,GAAGjoC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAAC8+B,GAAL,CAASmJ,OAAT,EAAkB,GAAlB,CAAZ,CAAV,CAdsB,CAcyB;;AAE/C,QAAIA,OAAO,GAAG,EAAd,EAAkB;AAChBA,MAAAA,OAAO,IAAI,CAAC,MAAMA,OAAO,GAAG,CAAjB,IAAsBR,UAAjC;AACD,KAFD,MAEO,IAAIQ,OAAO,GAAG,EAAd,EAAkB;AACvBA,MAAAA,OAAO,IAAI,CAACA,OAAO,GAAG,EAAX,IAAiB,CAAjB,GAAqBR,UAAhC;AACD;;AAED,QAAI3oC,QAAQ,GAAGmsC,KAAK,IAAIhD,OAAO,GAAG,GAAd,CAApB;;AAEA,QAAIK,IAAI,IAAI,CAAZ,EAAe;AACb,aAAOxJ,GAAG,GAAG9+B,IAAI,CAACqrC,KAAL,CAAWvsC,QAAQ,GAAGwpC,IAAtB,IAA8BA,IAA3C;AACD;AACD;AACJ;AACA;AACA;;;AAGI,WAAOxJ,GAAG,GAAGt/B,UAAU,CAACV,QAAQ,CAAC4pC,OAAT,CAAiB,CAAjB,CAAD,CAAvB;AACD;AACD;AACF;AACA;AACA;AACA;AACA;;;AAGE4C,EAAAA,OAAO,CAAC76C,KAAD,EAAQ;AACb,QAAIvB,KAAK,GAAGuB,KAAK,CAACnJ,MAAlB;AACA,QAAI4H,KAAK,CAAC3D,QAAV,EAAoB;AACpBkF,IAAAA,KAAK,CAACmkC,cAAN;AACA,SAAK5yC,KAAL,GAAa,KAAK+oD,gBAAL,CAAsBt6C,KAAtB,CAAb;AACA,SAAKm6C,aAAL,CAAmB1lC,IAAnB,CAAwB,KAAKljB,KAA7B;AACAkN,IAAAA,KAAK,CAAC6B,aAAN,CAAoB,IAAIwD,MAAM,CAACg3C,KAAX,CAAiB96C,KAAK,CAACqM,IAAN,KAAe,UAAf,GAA4B,QAA5B,GAAuC,OAAxD,EAAiE;AACnFnM,MAAAA,OAAO,EAAE;AAD0E,KAAjE,CAApB;AAGD;;AAEDsM,EAAAA,MAAM,GAAG;AACP,QAAIuuC,eAAJ;;AAEA,WAAO,CAAC,GAAGhpD,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE,QADoB;AAE3BvD,MAAAA,KAAK,EAAE;AACL,sBAAc,KAAK2rC,aAAL;AADT;AAFoB,KAAtB,EAKJ,CAAC,GAAGroD,OAAO,CAAC0a,CAAZ,EAAe,OAAf,EAAwB;AACzBJ,MAAAA,IAAI,EAAE,OADmB;AAEzBwrC,MAAAA,IAAI,EAAE,KAAKA,IAFc;AAGzBxJ,MAAAA,GAAG,EAAE,KAAKA,GAHe;AAIzB7+B,MAAAA,GAAG,EAAE,KAAKA,GAJe;AAKzBje,MAAAA,KAAK,EAAE,KAAKA,KALa;AAMzBypD,MAAAA,YAAY,EAAE,KANW;AAOzB,oBAAc,KAAK/sC,KAPM;AAQzB,uBAAiB,KAAKogC,GARG;AASzB,uBAAiB,KAAK7+B,GATG;AAUzB,uBAAiB,KAAKje,KAVG;AAWzB,wBAAkB,CAACwpD,eAAe,GAAG,KAAKjD,SAAxB,MAAuC,IAAvC,IAA+CiD,eAAe,KAAK,KAAK,CAAxE,GAA4EA,eAA5E,GAA8F,KAAKX,aAAL,EAXvF;AAYzB,0BAAoB,YAZK;AAazBa,MAAAA,OAAO,EAAE,KAAKtU,aAAL,CAAmBx4B,IAAnB,CAAwB,IAAxB,CAbgB;AAczBwG,MAAAA,OAAO,EAAE,MAAM;AACb,aAAK5B,OAAL,CAAa0B,IAAb;AACD,OAhBwB;AAiBzBG,MAAAA,MAAM,EAAE,MAAM;AACZ,aAAK5B,MAAL,CAAYyB,IAAZ;AACD,OAnBwB;AAoBzBN,MAAAA,YAAY,EAAE,KAAK0mC,OAAL,CAAa1sC,IAAb,CAAkB,IAAlB,CApBW;AAqBzBypC,MAAAA,WAAW,EAAE,KAAKiD,OAAL,CAAa1sC,IAAb,CAAkB,IAAlB,CArBY;AAsBzBiG,MAAAA,UAAU,EAAE,KAAKymC,OAAL,CAAa1sC,IAAb,CAAkB,IAAlB;AAtBa,KAAxB,CALI,CAAP;AA6BD;;AAEO,MAAJ3D,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEe,aAALiE,KAAK,GAAG;AACjB,WAAOwrC,SAAP;AACD;;AA1IoC,CAAvC;AA6IA,IAAIiB,UAAU,GAAG,6jCAAjB;AACA,IAAIC,OAAO,GAAG,cAAcr7C,WAAd,CAA0B;AACtCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK4nC,UAAL,GAAkB,CAAC,GAAG5iD,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,YAA/B,EAA6C,CAA7C,CAAlB;AACA,SAAK8hC,UAAL,GAAkB,CAAC,GAAG7iD,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,YAA/B,EAA6C,CAA7C,CAAlB;AACA,SAAKsoC,SAAL,GAAiB,CAACxlD,QAAQ,CAACylD,OAAV,CAAjB;AACA,SAAKxG,QAAL,GAAgB,IAAhB;AACA,SAAKlM,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKxrC,WAAL,GAAmB,KAAnB;AACA;AACJ;AACA;;AAEI,SAAKm+C,oBAAL,GAA4B,KAA5B;AACA;;AAEA,SAAKl/C,aAAL,GAAqB,KAArB;AACA;;AAEA,SAAKQ,SAAL,GAAiB,KAAjB;AACAhL,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,aAAD,EAAgB,WAAhB,EAA6B,eAA7B,EAA8C,iBAA9C,CAAP,CAAjB;AACD;;AAEDspD,EAAAA,iBAAiB,GAAG;AAClB,SAAK1G,QAAL,GAAgB,CAAC,KAAK13C,WAAtB;AACA,SAAKq+C,iBAAL;AACD;;AAEDla,EAAAA,cAAc,GAAG;AACf,SAAKqH,QAAL,GAAgB,KAAK/rC,SAAL,IAAkB,KAAK0+C,oBAAL,IAA6B,CAAC,KAAKl/C,aAArE;AACA,SAAKo/C,iBAAL;AACD;;AAEDA,EAAAA,iBAAiB,GAAG;AAClB,KAAC,KAAK3G,QAAN,IAAkB,KAAKlM,QAAvB,GAAkC,KAAKgM,UAAL,CAAgBlgC,IAAhB,EAAlC,GAA2D,KAAKmgC,UAAL,CAAgBngC,IAAhB,EAA3D;AACD;;AAEDjI,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLypC,QAAAA,OAAO,EAAE,IADJ;AAELztC,QAAAA,MAAM,EAAE,KAAK6mC,QAAL,IAAiB,KAAKuG,SAAL,CAAe7nC,QAAf,CAAwB,KAAKhY,eAA7B,CAFpB;AAGLiZ,QAAAA,MAAM,EAAE,KAAKm0B;AAHR;AADoB,KAAtB,EAMJ,CAAC,GAAG52C,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AACvBuF,MAAAA,KAAK,EAAE;AACL0pC,QAAAA,IAAI,EAAE,IADD;AAELlnC,QAAAA,MAAM,EAAE,KAAKm0B;AAFR;AADgB,KAAtB,EAKA,YALA,CANI,CAAP;AAYD;;AAEkB,aAARn6B,QAAQ,GAAG;AACpB,WAAO;AACL,qBAAe,CAAC,mBAAD,CADV;AAEL,mBAAa,CAAC,gBAAD,CAFR;AAGL,uBAAiB,CAAC,gBAAD;AAHZ,KAAP;AAKD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOysC,UAAP;AACD;;AArEqC,CAAxC;AAwEA,IAAIS,SAAS,GAAG,CAAhB;AACA,IAAIC,OAAO,GAAG,cAAc97C,WAAd,CAA0B;AACtCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAK8uC,aAAL,GAAqB,CAAC,GAAG9pD,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,eAA/B,EAAgD,CAAhD,CAArB;AACA,SAAKgpC,cAAL,GAAsB,CAAC,GAAG/pD,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,gBAA/B,EAAiD,CAAjD,CAAtB;AACA;AACJ;AACA;;AAEI,SAAK0xB,gBAAL,GAAwB,OAAxB;AACA;AACJ;AACA;;AAEI,SAAKhwB,MAAL,GAAc,KAAd;AACA5iB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAED0Q,EAAAA,iBAAiB,GAAG;AAClB,SAAKyxC,KAAL;AACD;AACD;AACF;AACA;;;AAGEgI,EAAAA,aAAa,GAAG;AACd,QAAIC,OAAO,GAAG,IAAd;;AAEA,WAAO1jD,iBAAiB,CAAC,aAAa;AACpC,aAAO0jD,OAAO,CAACxa,UAAf;AACD,KAFuB,CAAjB,EAAP;AAGD;AACD;AACF;AACA;;;AAGEgB,EAAAA,OAAO,GAAG;AACR,QAAIyZ,OAAO,GAAG,IAAd;;AAEA,WAAO3jD,iBAAiB,CAAC,aAAa;AACpC,aAAO2jD,OAAO,CAAC5mC,IAAf;AACD,KAFuB,CAAjB,EAAP;AAGD;AACD;AACF;AACA;;;AAGEotB,EAAAA,mBAAmB,GAAG;AACpB,QAAIyZ,OAAO,GAAG,IAAd;;AAEA,WAAO5jD,iBAAiB,CAAC,aAAa;AACpC,UAAI6jD,qBAAJ,EAA2BC,kBAA3B;;AAEA,aAAO,CAACD,qBAAqB,GAAG,CAACC,kBAAkB,GAAGF,OAAO,CAAC1a,UAA9B,MAA8C,IAA9C,IAAsD4a,kBAAkB,KAAK,KAAK,CAAlF,GAAsF,KAAK,CAA3F,GAA+FA,kBAAkB,CAAC/W,SAAnB,EAAxH,MAA4J,IAA5J,IAAoK8W,qBAAqB,KAAK,KAAK,CAAnM,GAAuMA,qBAAvM,GAA+N,CAAtO;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEDE,EAAAA,uBAAuB,GAAG;AACxB,QAAIC,iBAAJ;;AAEA,QAAIz8C,EAAE,GAAG,CAACy8C,iBAAiB,GAAG,KAAK9a,UAA1B,MAA0C,IAA1C,IAAkD8a,iBAAiB,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAAC3sC,UAAlB,CAA6BC,aAA7B,CAA2C,mBAA3C,CAAnG;AACA,WAAO/P,EAAE,GAAGkP,UAAU,CAACjL,MAAM,CAACkL,gBAAP,CAAwBnP,EAAxB,EAA4BoP,MAA7B,CAAb,GAAoD,CAA7D;AACD;;AAEDstC,EAAAA,UAAU,GAAG;AACX,SAAK/nC,MAAL,GAAc,IAAd;AACA,SAAKqnC,aAAL,CAAmBpnC,IAAnB,CAAwB,KAAKjK,IAA7B;AACD;;AAEDgyC,EAAAA,WAAW,GAAG;AACZ,SAAKhoC,MAAL,GAAc,KAAd;AACA,SAAKsnC,cAAL,CAAoBrnC,IAApB,CAAyB,KAAKjK,IAA9B;AACD;;AAEDupC,EAAAA,KAAK,GAAG;AACN4H,IAAAA,SAAS,IAAI,CAAb;AACA,SAAKrnC,EAAL,GAAU,cAAcvO,MAAd,CAAqB41C,SAArB,CAAV;AACD;;AAEDc,EAAAA,eAAe,GAAG;AAChB,WAAO,GAAG12C,MAAH,CAAU,KAAKuO,EAAf,EAAmB,aAAnB,CAAP;AACD;;AAED9H,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB,IAAtB,EAA4B,CAAC,GAAG1a,OAAO,CAAC0a,CAAZ,EAAe,cAAf,EAA+B;AAChE2I,MAAAA,UAAU,EAAE,KAAKqnC,eAAL,EADoD;AAEhEpnC,MAAAA,IAAI,EAAE,KAAKA,IAFqD;AAGhEpH,MAAAA,KAAK,EAAE,KAAKA,KAHoD;AAIhEge,MAAAA,IAAI,EAAE,KAAKA,IAJqD;AAKhEjX,MAAAA,QAAQ,EAAE,KAAKR,MALiD;AAMhE5U,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,SAAC,GAAG9N,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3B,eAAK22B,UAAL,GAAkB3hC,EAAlB;AACD,SAFD;AAGD;AAV+D,KAA/B,CAA5B,EAWH,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AAC5B2I,MAAAA,UAAU,EAAE,KAAKd,EADW;AAE5BktB,MAAAA,UAAU,EAAE,KAAKA,UAFW;AAG5BhtB,MAAAA,MAAM,EAAE,KAAKA,MAHe;AAI5BgwB,MAAAA,gBAAgB,EAAE,KAAKA,gBAJK;AAK5BmU,MAAAA,QAAQ,EAAE,KAAK4D,UAAL,CAAgBpuC,IAAhB,CAAqB,IAArB,CALkB;AAM5ByqC,MAAAA,SAAS,EAAE,KAAK4D,WAAL,CAAiBruC,IAAjB,CAAsB,IAAtB,CANiB;AAO5BvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,SAAC,GAAG9N,OAAO,CAAC8Y,SAAZ,EAAuB,MAAM;AAC3B,eAAKwK,IAAL,GAAYxV,EAAZ;AACD,SAFD;AAGD,OAX2B;AAY5B4O,MAAAA,KAAK,EAAE;AACL7J,QAAAA,GAAG,EAAE,GAAGmB,MAAH,CAAU,KAAKs2C,uBAAL,KAAiC,CAA3C,EAA8C,IAA9C;AADA;AAZqB,KAA1B,EAeD,CAAC,GAAGtqD,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAfC,CAXG,CAAP;AA2BD;;AAEO,MAAJjC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AA1HqC,CAAxC;AA6HA,IAAIkyC,OAAO,GAAG,6IAAd;AACA,IAAIC,IAAI,GAAG,cAAc78C,WAAd,CAA0B;AACnCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;AACJ;AACA;;AAEI,SAAKyL,OAAL,GAAe,CAAf;AACA;AACJ;AACA;AACA;;AAEI,SAAKD,eAAL,GAAuB,KAAvB;AACA3mB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAED4a,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE,MADoB;AAE3B,oBAAc,KAAK/D;AAFQ,KAAtB,EAGJ6nC,UAAU,CAACvmC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,KAAKgJ,OAAjB,CAAD,EAA4B,KAAKD,eAAjC,CAHN,CAAP;AAID;;AAEe,aAAL9J,KAAK,GAAG;AACjB,WAAOiuC,OAAP;AACD;;AA9BkC,CAArC;AAiCA,IAAIE,eAAe,GAAG,0HAAtB;AACA,IAAIC,YAAY,GAAG,cAAc/8C,WAAd,CAA0B;AAC3CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;AACJ;AACA;;AAEI,SAAK+vC,SAAL,GAAiB,GAAjB;AACA;AACJ;AACA;AACA;;AAEI,SAAKvkC,eAAL,GAAuB,KAAvB;AACA3mB,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AAED4a,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AADoB,KAAtB,EAEJ,CAAC,GAAGjgB,OAAO,CAAC0a,CAAZ,EAAe,iBAAf,EAAkC;AACnC8L,MAAAA,eAAe,EAAE,KAAKA;AADa,KAAlC,CAFI,EAIH,CAAC,GAAGxmB,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB;AACzBuF,MAAAA,KAAK,EAAE;AADkB,KAAvB,EAED,KAAK8qC,SAFJ,CAJG,EAMa,CAAC,GAAG/qD,OAAO,CAAC0a,CAAZ,EAAe,aAAf,EAA8B;AAChD8L,MAAAA,eAAe,EAAE,KAAKA;AAD0B,KAA9B,CANb,CAAP;AASD;;AAEe,aAAL9J,KAAK,GAAG;AACjB,WAAOmuC,eAAP;AACD;;AAnC0C,CAA7C;AAsCA,IAAIG,UAAU,GAAG,o2BAAjB;AACA,IAAIC,cAAc,GAAG,CAArB;AACA,IAAIC,OAAO,GAAG,cAAcn9C,WAAd,CAA0B;AACtCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B,EALY,CAKqB;;AAEjC,SAAKvH,SAAL,GAAiB,KAAjB;AACA;AACJ;AACA;;AAEI,SAAKwI,MAAL,GAAc,KAAd;AACA;AACJ;AACA;;AAEI,SAAKwG,MAAL,GAAc,KAAd;AACA;AACJ;AACA;;AAEI,SAAKnG,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAK7Q,OAAL,GAAe,KAAf;AACA;;AAEA,SAAKD,QAAL,GAAgB,KAAhB;AACA3L,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,SAAD,EAAY,UAAZ,CAAP,CAAjB;AACD;;AAEDwb,EAAAA,gBAAgB,GAAG;AACjB,SAAKjI,SAAL,GAAiB,IAAjB;AACD;;AAED03C,EAAAA,KAAK,GAAG;AACN;AACA,QAAI5oC,EAAE,GAAG,KAAK9J,IAAL,CAAU8J,EAAnB;AACA,QAAIpV,QAAQ,CAACoV,EAAD,CAAR,IAAgBA,EAAE,CAACtd,MAAH,GAAY,CAAhC,EAAmC,OAAOsd,EAAP;AACnC0oC,IAAAA,cAAc,IAAI,CAAlB;AACA,WAAO,cAAcj3C,MAAd,CAAqBi3C,cAArB,CAAP;AACD;;AAEDxwC,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3B6H,MAAAA,EAAE,EAAE,KAAK4oC,KAAL,EADuB;AAE3Bhe,MAAAA,IAAI,EAAE,SAFqB;AAG3B,qBAAe,CAAC,KAAK1qB,MAAN,IAAgB,KAAKhX,OAArB,IAAgC,KAAKD,QAArC,GAAgD,MAAhD,GAAyD,OAH7C;AAI3ByU,MAAAA,KAAK,EAAE;AACLnE,QAAAA,OAAO,EAAE,IADJ;AAELG,QAAAA,MAAM,EAAE,CAAC,KAAKxI,SAAN,IAAmB,KAAKwI,MAF3B;AAGLmvC,QAAAA,KAAK,EAAE,KAAK9uC,QAAL,KAAkB,KAHpB;AAIL+uC,QAAAA,QAAQ,EAAE,KAAK/uC,QAAL,KAAkB,QAJvB;AAKLgvC,QAAAA,QAAQ,EAAE,KAAK/uC,SAAL,KAAmB,MALxB;AAMLgvC,QAAAA,SAAS,EAAE,KAAKhvC,SAAL,KAAmB;AANzB;AAJoB,KAAtB,EAYJ,CAAC,GAAGvc,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAZI,CAAP;AAaD;;AAEO,MAAJjC,IAAI,GAAG;AACT,WAAO,IAAP;AACD;;AAEe,aAALiE,KAAK,GAAG;AACjB,WAAOsuC,UAAP;AACD;;AApEqC,CAAxC;AAuEA,IAAIQ,KAAK,GAAG,qJAAZ;AACA,IAAIC,EAAE,GAAG,cAAc19C,WAAd,CAA0B;AACjCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA;;AAEA,SAAK5P,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKU,WAAL,GAAmB,KAAnB;AACA;;AAEA,SAAKd,kBAAL,GAA0B,KAA1B;AACAnL,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,aAAD,EAAgB,aAAhB,EAA+B,oBAA/B,CAAP,CAAjB;AACD;;AAEDua,EAAAA,MAAM,GAAG;AACP,QAAIynC,eAAe,GAAG,CAACp7B,MAAD,IAAW,CAAC,KAAK1b,WAAjB,IAAgC,KAAKU,WAAL,IAAoB,CAAC,KAAKd,kBAAhF;AACA,WAAO,CAAC,GAAGhL,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE;AACLyrC,QAAAA,EAAE,EAAE,IADC;AAELzvC,QAAAA,MAAM,EAAE,CAACimC,eAFJ;AAGLh8B,QAAAA,KAAK,EAAE,KAAK9a;AAHP;AADoB,KAAtB,EAMJ82C,eAAe,IAAI,CAAC,GAAGliD,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CANf,CAAP;AAOD;;AAEe,aAALgC,KAAK,GAAG;AACjB,WAAO8uC,KAAP;AACD;;AAjCgC,CAAnC;AAoCA,IAAI78B,KAAK,GAAG,cAAc5gB,WAAd,CAA0B;AACpCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;AACA;AACJ;AACA;;;AAGI,SAAKC,UAAL,GAAkB,KAAlB;AACA;AACJ;AACA;;AAEI,SAAKme,oBAAL,GAA4B,KAA5B;AACA;;AAEA,SAAKle,OAAL,GAAe,UAAf;AACAha,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA2Z,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;;AAEDitB,EAAAA,iBAAiB,CAACx4B,KAAD,EAAQ;AACvB,QAAI,KAAK2L,UAAT,EAAqB3L,KAAK,CAACiL,wBAAN;AACtB;;AAEDD,EAAAA,oBAAoB,CAAChL,KAAD,EAAQ;AAC1B,QAAI,KAAK2L,UAAT,EAAqB3L,KAAK,CAACiL,wBAAN;AACtB;AACD;;;AAGAY,EAAAA,UAAU,GAAG;AACX,QAAI6xC,OAAO,GAAG,IAAd;;AAEA,WAAOplD,iBAAiB,CAAC,aAAa;AACpC,UAAIqlD,oBAAJ;;AAEA,aAAO,CAACA,oBAAoB,GAAGD,OAAO,CAACxxC,YAAhC,MAAkD,IAAlD,IAA0DyxC,oBAAoB,KAAK,KAAK,CAAxF,GAA4F,KAAK,CAAjG,GAAqGA,oBAAoB,CAAC9xC,UAArB,EAA5G;AACD,KAJuB,CAAjB,EAAP;AAKD;;AAEDW,EAAAA,MAAM,GAAG;AACP,WAAQ;AACN,OAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,SAAf,EAA0B;AACxBC,QAAAA,SAAS,EAAE,IADa;AAExBf,QAAAA,UAAU,EAAE,KAAKA,UAFO;AAGxBgB,QAAAA,WAAW,EAAE,KAAKA,WAHM;AAIxB8T,QAAAA,MAAM,EAAE,KAAKA,MAJW;AAKxB7U,QAAAA,OAAO,EAAE,KAAKA,OALU;AAMxB+d,QAAAA,YAAY,EAAE,KAAKA,YANK;AAOxBC,QAAAA,OAAO,EAAE,KAAKA,OAPU;AAQxBC,QAAAA,UAAU,EAAE,KAAKA,UARO;AASxBjd,QAAAA,qBAAqB,EAAE,KAAKA,qBATJ;AAUxBkd,QAAAA,oBAAoB,EAAE,KAAKA,oBAVH;AAWxBtuB,QAAAA,UAAU,EAAE,KAAKA,UAXO;AAYxByB,QAAAA,QAAQ,EAAExH,QAAQ,CAACirB,KAZK;AAaxB9gB,QAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,eAAKqM,YAAL,GAAoBrM,EAApB;AACD;AAfuB,OAA1B,EAgBG,CAAC,GAAG9N,OAAO,CAAC0a,CAAZ,EAAe,MAAf,EAAuB,IAAvB,CAhBH;AADF;AAmBD;;AA/DmC,CAAtC;AAkEA;AACA;AACA;;AAEA,IAAImxC,UAAJ;;AAEA,CAAC,UAAUA,UAAV,EAAsB;AACrBA,EAAAA,UAAU,CAAC,MAAD,CAAV,GAAqB,MAArB;AACAA,EAAAA,UAAU,CAAC,OAAD,CAAV,GAAsB,OAAtB;AACAA,EAAAA,UAAU,CAAC,SAAD,CAAV,GAAwB,SAAxB;AACAA,EAAAA,UAAU,CAAC,QAAD,CAAV,GAAuB,QAAvB;AACAA,EAAAA,UAAU,CAAC,YAAD,CAAV,GAA2B,YAA3B;AACAA,EAAAA,UAAU,CAAC,cAAD,CAAV,GAA6B,cAA7B;AACAA,EAAAA,UAAU,CAAC,gBAAD,CAAV,GAA+B,gBAA/B;AACAA,EAAAA,UAAU,CAAC,kBAAD,CAAV,GAAiC,kBAAjC;AACAA,EAAAA,UAAU,CAAC,WAAD,CAAV,GAA0B,WAA1B;AACAA,EAAAA,UAAU,CAAC,UAAD,CAAV,GAAyB,UAAzB;AACAA,EAAAA,UAAU,CAAC,OAAD,CAAV,GAAsB,OAAtB;AACAA,EAAAA,UAAU,CAAC,oBAAD,CAAV,GAAmC,oBAAnC;AACAA,EAAAA,UAAU,CAAC,QAAD,CAAV,GAAuB,QAAvB;AACAA,EAAAA,UAAU,CAAC,aAAD,CAAV,GAA4B,aAA5B;AACAA,EAAAA,UAAU,CAAC,WAAD,CAAV,GAA0B,WAA1B;AACAA,EAAAA,UAAU,CAAC,iBAAD,CAAV,GAAgC,iBAAhC;AACAA,EAAAA,UAAU,CAAC,SAAD,CAAV,GAAwB,SAAxB;AACAA,EAAAA,UAAU,CAAC,OAAD,CAAV,GAAsB,OAAtB;AACD,CAnBD,EAmBGA,UAAU,KAAKA,UAAU,GAAG,EAAlB,CAnBb;;AAqBA,IAAIC,QAAQ,GAAG,oLAAf;AACA,IAAIC,gBAAgB,GAAG,IAAIn8C,GAAJ,EAAvB;AACA,IAAIo8C,KAAK,GAAG,cAAcj+C,WAAd,CAA0B;AACpCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKuS,WAAL,GAAmB,CAAC,GAAGvtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,aAA/B,EAA8C,CAA9C,CAAnB;AACA,SAAKyM,OAAL,GAAe,CAAC,GAAGxtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,SAA/B,EAA0C,CAA1C,CAAf;AACA,SAAK0M,oBAAL,GAA4B,EAA5B;AACA,SAAKhmB,MAAL,GAAc,EAAd;AACA,SAAKgM,SAAL,GAAiB,KAAjB;AACA,SAAKia,aAAL,GAAqB;AACnBpkB,MAAAA,MAAM,EAAE,IADW;AAEnBC,MAAAA,OAAO,EAAE,KAFU;AAGnBkB,MAAAA,OAAO,EAAE,KAHU;AAInBlD,MAAAA,WAAW,EAAE,CAJM;AAKnBF,MAAAA,QAAQ,EAAE,CALS;AAMnBsD,MAAAA,eAAe,EAAE,KANE;AAOnBshD,MAAAA,WAAW,EAAE;AAPM,KAArB;AASA,SAAKr+B,QAAL,GAAgB,EAAhB;AACA,SAAKnkB,UAAL,GAAkB,EAAlB;AACA;AACJ;AACA;;AAEI,SAAKyiD,MAAL,GAAc,IAAd;AACA;AACJ;AACA;;AAEI,SAAKC,QAAL,GAAgB,IAAhB;AACA;AACJ;AACA;;AAEI,SAAKC,iBAAL,GAAyB,KAAzB;AACA;AACJ;AACA;;AAEI,SAAKC,OAAL,GAAe,IAAf;AACA;;AAEA,SAAKtgD,QAAL,GAAgB,IAAhB;AACA;;AAEA,SAAKd,WAAL,GAAmB,MAAnB;AACA;;AAEA,SAAKd,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKW,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKhC,IAAL,GAAY,KAAZ;AACA;;AAEA,SAAKwB,KAAL,GAAa,KAAb;AACA;;AAEA,SAAKwB,WAAL,GAAmB,KAAnB;AACAjM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA2Z,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACA0T,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;;AAEDgB,EAAAA,eAAe,GAAG;AAChB,SAAKiT,iBAAL;;AAEA,QAAI,CAAC,KAAKhT,OAAV,EAAmB;AACjB,WAAKP,QAAL,GAAgB,EAAhB;AACA;AACD;;AAED,SAAKA,QAAL,GAAgB,GAAG5Z,MAAH,CAAU,KAAKoa,SAAL,EAAV,EAA4B,SAA5B,EAAuCpa,MAAvC,CAA8C,KAAKma,OAAnD,CAAhB;AACA,SAAKm+B,mBAAL,GAA2Bv5C,eAAe,EAA1C;AACA,SAAKwb,qBAAL,GAA6Bxb,eAAe,EAA5C;AACA,SAAKsb,cAAL,GAAsB,KAAKC,YAAL,EAAtB;AACD;;AAEDG,EAAAA,oBAAoB,GAAG;AACrB,SAAK7P,QAAL,CAAc,eAAd,EAA+B,KAAK8P,MAApC;AACD;;AAEDne,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgB1G,wBAAwB,CAAC,IAAD,CAAxC;AACA,SAAK0G,QAAL,CAAc,UAAd,EAA0Blb,QAAQ,CAACirB,KAAnC;AACA,SAAKT,eAAL;AACA,SAAKU,YAAL,GAAoB,KAAKtkB,KAAzB;AACA,SAAKmjB,oBAAL,GAA4B5oB,aAAa,CAAC,EAAD,EAAK,KAAK6oB,aAAV,CAAzC;AACD;;AAEDld,EAAAA,oBAAoB,GAAG;AACrB,SAAK2wB,iBAAL;AACA,SAAKorB,kBAAL,GAA0B3lD,SAA1B;AACD;;AAEDwnB,EAAAA,SAAS,GAAG;AACV,WAAO,0BAAP;AACD;;AAEDS,EAAAA,iBAAiB,GAAG;AAClB,WAAO,CAAC,KAAKT,SAAL,EAAD,EAAmB,wBAAnB,EAA6C,wBAA7C,EAAuE,8BAAvE,CAAP;AACD;;AAEDI,EAAAA,aAAa,CAACM,OAAD,EAAU7oB,GAAV,EAAe;AAC1B,WAAO,KAAK8oB,KAAL,CAAWC,WAAX,CAAuB;AAC5B2pB,MAAAA,MAAM,EAAE7pB,OADoB;AAE5BtvB,MAAAA,KAAK,EAAEyG;AAFqB,KAAvB,CAAP;AAID;;AAEDipB,EAAAA,WAAW,GAAG;AACZ,WAAO;AACLg9B,MAAAA,MAAM,EAAE,KAAKA,MADR;AAEL98B,MAAAA,KAAK,EAAE,KAAKA,KAFP;AAGL+8B,MAAAA,QAAQ,EAAE,KAAKA,QAHV;AAILtgD,MAAAA,SAAS,EAAE,KAJN;AAKL2gD,MAAAA,WAAW,EAAE,KALR;AAMLriD,MAAAA,QAAQ,EAAE,KAAKA,QANV;AAOLG,MAAAA,KAAK,EAAE,KAAKskB,YAPP;AAQL9iB,MAAAA,WAAW,EAAE,KAAKA,WARb;AASL2gD,MAAAA,GAAG,EAAE,CAAC,KAAKJ;AATN,KAAP;AAWD;;AAED/9B,EAAAA,YAAY,GAAG;AACb,QAAIo+B,OAAO,GAAG,IAAd;;AAEA,WAAOnmD,iBAAiB,CAAC,aAAa;AACpC,UAAIwlD,gBAAgB,CAACz/C,GAAjB,CAAqBogD,OAAO,CAACv+B,OAA7B,CAAJ,EAA2C,OAAO49B,gBAAgB,CAAChsD,GAAjB,CAAqB2sD,OAAO,CAACv+B,OAA7B,CAAP;AAC3C,aAAOpc,MAAM,CAACwd,KAAP,CAAa,yCAAyCvb,MAAzC,CAAgD04C,OAAO,CAAC9+B,QAAxD,CAAb,EAAgFtnB,IAAhF,CAAqFkpB,QAAQ,IAAIA,QAAQ,CAACvG,IAAT,EAAjG,EAAkH3iB,IAAlH,CAAuHmkB,IAAI,IAAI;AACpI,YAAIkiC,aAAa,GAAG,gCAApB;AACA,YAAIC,WAAW,GAAGniC,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACoiC,aAAL,CAAmB5hC,KAAnB,CAAyB0hC,aAAzB,EAAwC,CAAxC,CAA9D;AACA,YAAIj+B,MAAM,GAAG,gCAAgC1a,MAAhC,CAAuC44C,WAAvC,EAAoD,gBAApD,CAAb;AACA,YAAI1mD,IAAI,GAAG;AACTwoB,UAAAA,MADS;AAETrP,UAAAA,KAAK,EAAEoL,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACpL,KAF/C;AAGTnC,UAAAA,MAAM,EAAEuN,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACvN;AAHhD,SAAX;AAKA6uC,QAAAA,gBAAgB,CAACz7C,GAAjB,CAAqBo8C,OAAO,CAACv+B,OAA7B,EAAsCjoB,IAAtC;AACA,eAAOA,IAAP;AACD,OAXM,CAAP;AAYD,KAduB,CAAjB,EAAP;AAeD;;AAED4mD,EAAAA,YAAY,CAAC18B,IAAD,EAAO;AACjB,QAAI,KAAK1C,aAAL,CAAmBnmB,WAAnB,KAAmC6oB,IAAvC,EAA6C;AAC7C,SAAKxR,QAAL,CAAc,aAAd,EAA6BwR,IAA7B,EAFiB,CAEmB;;AAEpC,QAAI5S,IAAI,CAACuvC,GAAL,CAAS,KAAKr/B,aAAL,CAAmBnmB,WAAnB,GAAiC6oB,IAA1C,IAAkD,GAAtD,EAA2D;AACzD,WAAK1C,aAAL,CAAmBjjB,OAAnB,GAA6B,IAA7B;AACA,WAAKmU,QAAL,CAAc,SAAd,EAAyB,IAAzB;;AAEA,UAAI,KAAK8O,aAAL,CAAmBnkB,OAAnB,IAA8B,KAAKmkB,aAAL,CAAmBrmB,QAAnB,GAA8B+oB,IAAhE,EAAsE;AACpE,aAAKxR,QAAL,CAAc,WAAd,EAA2B,IAA3B;AACD,OANwD,CAMvD;;;AAGF7M,MAAAA,MAAM,CAACC,YAAP,CAAoB,KAAKu6C,kBAAzB;;AAEA,UAAI,CAAC,KAAK7+B,aAAL,CAAmBpkB,MAAxB,EAAgC;AAC9B,aAAKokB,aAAL,CAAmBu+B,WAAnB,GAAiC,IAAjC;AACD;;AAED,WAAKz9B,aAAL,CAAmB,KAAKd,aAAL,CAAmB/iB,eAAnB,GAAqC;AACxD;AADmB,QAEjB;AACF;AAHA;AAKD;;AAED,SAAK+iB,aAAL,CAAmBnmB,WAAnB,GAAiC6oB,IAAjC;AACD;;AAED+Q,EAAAA,iBAAiB,GAAG;AAClB,QAAIn0B,QAAQ,CAAC,KAAKg1B,OAAN,CAAZ,EAA4BjwB,MAAM,CAACkwB,oBAAP,CAA4B,KAAKD,OAAjC;AAC7B;;AAEDE,EAAAA,kBAAkB,GAAG;AACnB,SAAK1T,aAAL,CAAmB;AACnB;AADA;AAGA,SAAKwT,OAAL,GAAejwB,MAAM,CAAC+rB,qBAAP,CAA6B,MAAM;AAChD,WAAKoE,kBAAL;AACD,KAFc,CAAf;AAGD;;AAEDW,EAAAA,QAAQ,GAAG;AACT,QAAI,CAAC,KAAKnV,aAAL,CAAmBjjB,OAAxB,EAAiC;AACjC,SAAKmU,QAAL,CAAc,SAAd,EAAyB,KAAzB;AACA,SAAK8O,aAAL,CAAmBjjB,OAAnB,GAA6B,KAA7B;;AAEA,QAAI,KAAKijB,aAAL,CAAmBu+B,WAAvB,EAAoC;AAClCl6C,MAAAA,MAAM,CAACD,UAAP,CAAkB,MAAM;AACtB,aAAK0c,aAAL,CAAmB;AACnB;AADA;AAGD,OAJD,EAIG,GAJH;AAKD;AACF;;AAEDw+B,EAAAA,aAAa,CAACrU,MAAD,EAAS1yC,GAAT,EAAc;AACzB,QAAIgnD,qBAAJ,EAA2BC,sBAA3B;;AAEA,YAAQvU,MAAR;AACE,WAAK;AACL;AADA;AAGE,YAAI,CAAC,KAAKjrB,aAAL,CAAmBjjB,OAAxB,EAAiC,KAAKqiD,YAAL,CAAkB7mD,GAAlB;AACjC;;AAEF,WAAK;AACL;AADA;AAGE,SAACgnD,qBAAqB,GAAG,KAAKX,mBAA9B,MAAuD,IAAvD,IAA+DW,qBAAqB,KAAK,KAAK,CAA9F,GAAkG,KAAK,CAAvG,GAA2GA,qBAAqB,CAACpnD,OAAtB,CAA8BI,GAA9B,CAA3G;AACA;;AAEF,WAAK;AACL;AADA;AAGE,SAACinD,sBAAsB,GAAG,KAAK3+B,qBAA/B,MAA0D,IAA1D,IAAkE2+B,sBAAsB,KAAK,KAAK,CAAlG,GAAsG,KAAK,CAA3G,GAA+GA,sBAAsB,CAACrnD,OAAvB,CAA+BI,GAA/B,CAA/G;AACA;AAjBJ;AAmBD;;AAED6mB,EAAAA,QAAQ,GAAG;AACT,QAAIqgC,sBAAJ,EAA4BC,sBAA5B;;AAEA,QAAI,KAAK35C,SAAT,EAAoB;AACpB,SAAK84C,kBAAL,GAA0B3lD,SAA1B;AACA,SAAK8mB,aAAL,GAAqB7oB,aAAa,CAAC,EAAD,EAAK,KAAK4oB,oBAAV,CAAlC;AACA,SAAK7O,QAAL,CAAc,YAAd,EAA4B,KAAKgP,QAAjC;AACA,SAAKhP,QAAL,CAAc,WAAd,EAA2B7a,SAAS,CAAC4qB,KAArC;AACA,SAAKH,aAAL,CAAmB;AACnB;AADA;AAGA,SAAKA,aAAL,CAAmB;AACnB;AADA;AAGAnoB,IAAAA,OAAO,CAAC0pB,GAAR,CAAY,CAAC,KAAK1B,cAAN,EAAsB,CAAC8+B,sBAAsB,GAAG,KAAKb,mBAA/B,MAAwD,IAAxD,IAAgEa,sBAAsB,KAAK,KAAK,CAAhG,GAAoG,KAAK,CAAzG,GAA6GA,sBAAsB,CAAC1+C,OAA1J,EAAmK,CAAC2+C,sBAAsB,GAAG,KAAK7+B,qBAA/B,MAA0D,IAA1D,IAAkE6+B,sBAAsB,KAAK,KAAK,CAAlG,GAAsG,KAAK,CAA3G,GAA+GA,sBAAsB,CAAC3+C,OAAzS,CAAZ,EAA+TnI,IAA/T,CAAqU+mD,MAAD,IAAY;AAC9U,UAAIC,WAAJ,EAAiBC,YAAjB,EAA+BC,aAA/B;;AAEA,UAAI,CAACtnD,IAAD,EAAOkB,QAAP,EAAiBqC,UAAjB,IAA+B4jD,MAAnC;AACA,WAAKnrB,kBAAL;AACA,WAAKtjB,QAAL,CAAc,aAAd,EAA6B,GAAG5K,MAAH,CAAU,CAACs5C,WAAW,GAAGpnD,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACmZ,KAAhE,MAA2E,IAA3E,IAAmFiuC,WAAW,KAAK,KAAK,CAAxG,GAA4GA,WAA5G,GAA0H,EAApI,EAAwI,GAAxI,EAA6It5C,MAA7I,CAAoJ,CAACu5C,YAAY,GAAGrnD,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACgX,MAAjE,MAA6E,IAA7E,IAAqFqwC,YAAY,KAAK,KAAK,CAA3G,GAA+GA,YAA/G,GAA8H,CAAlR,CAA7B;AACA,WAAK3uC,QAAL,CAAc,eAAd,EAA+B,CAAC4uC,aAAa,GAAG,KAAK9+B,MAAtB,MAAkC,IAAlC,IAA0C8+B,aAAa,KAAK,KAAK,CAAjE,GAAqEA,aAArE,GAAqFtnD,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACwoB,MAArK;AACA,WAAK9P,QAAL,CAAc,UAAd,EAA0BxX,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2CA,QAA3C,GAAsD,CAAC,CAAjF;AACA,WAAKwX,QAAL,CAAc,YAAd,EAA4BnV,UAA5B;AACA,WAAKmV,QAAL,CAAc,eAAd,EAA+B,IAA/B;AACD,KAVD;AAWA,SAAKnL,SAAL,GAAiB,IAAjB;AACD;;AAEDg6C,EAAAA,YAAY,CAACx/C,KAAD,EAAQy/C,OAAR,EAAiB;AAC3B,YAAQz/C,KAAR;AACE,WAAK;AACL;AADA;AAGE5O,QAAAA,MAAM,CAAC0X,MAAP,CAAc80C,UAAd,EAA0B1mD,OAA1B,CAAkCwR,CAAC,IAAI;AACrC,eAAK6X,aAAL,CAAmB;AACnB;AADA,YAEE7X,CAFF;AAGD,SAJD;AAKA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKmW,QAAL;AACA;;AAEF,WAAK;AACL;AADA;AAGE;AACA,aAAKA,QAAL;AACA,aAAKY,aAAL,CAAmBpkB,MAAnB,GAA4B,KAA5B;AACA,aAAKsV,QAAL,CAAc,QAAd,EAAwB,KAAxB;AACA;;AAEF,WAAK;AACL;AADA;AAGE,YAAI,CAAC,KAAK8O,aAAL,CAAmBnkB,OAAxB,EAAiC;AAC/B,eAAKqV,QAAL,CAAc,SAAd,EAAyB,IAAzB;AACA,eAAK8O,aAAL,CAAmBnkB,OAAnB,GAA6B,IAA7B;AACA,eAAKmkB,aAAL,CAAmB/iB,eAAnB,GAAqC,IAArC;AACA,eAAK4hD,kBAAL,GAA0Bx6C,MAAM,CAACD,UAAP,CAAkB,MAAM;AAChD,iBAAK4b,aAAL,CAAmBu+B,WAAnB,GAAiC,KAAjC;AACA,iBAAKM,kBAAL,GAA0B3lD,SAA1B;AACD,WAHyB,EAGvB,IAHuB,CAA1B;AAID;;AAED,aAAKgY,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACA,aAAKikB,QAAL;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKnV,aAAL,CAAmBpkB,MAAnB,GAA4B,IAA5B;AACA,aAAKokB,aAAL,CAAmBnkB,OAAnB,GAA6B,KAA7B;AACA,aAAKqV,QAAL,CAAc,QAAd,EAAwB,IAAxB;AACA,aAAKA,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAK8O,aAAL,CAAmBrmB,QAAnB,GAA8BqmD,OAAO,CAACjnC,OAAtC;AACA,aAAK7H,QAAL,CAAc,UAAd,EAA0B8uC,OAAO,CAACjnC,OAAlC;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAK7H,QAAL,CAAc,WAAd,EAA2B,IAA3B,EAHF,CAGoC;;AAElC,YAAI,KAAK8O,aAAL,CAAmBpkB,MAAvB,EAA+B;AAC7B,eAAKokB,aAAL,CAAmBpkB,MAAnB,GAA4B,KAA5B;AACA,eAAKsV,QAAL,CAAc,QAAd,EAAwB,KAAxB;AACA,eAAKA,QAAL,CAAc,iBAAd,EAAiC,IAAjC;AACD;;AAED;;AAEF,WAAK;AACL;AADA;AAGE,aAAKA,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACA,YAAI,KAAK8O,aAAL,CAAmBpkB,MAAvB,EAA+B,KAAKu5B,QAAL;AAC/B;;AAEF,WAAK;AACL;AADA;AAGE,YAAI6qB,OAAO,CAACjmD,MAAR,GAAiB,CAArB,EAAwB;AACtB,cAAIkmD,SAAS,GAAGnwC,IAAI,CAAC6S,KAAL,CAAWq9B,OAAO,CAACjmD,MAAR,GAAiB,GAA5B,CAAhB;AACA,eAAKmX,QAAL,CAAc,OAAd,EAAuB,KAAvB;;AAEA,cAAI,KAAKnX,MAAL,KAAgBkmD,SAApB,EAA+B;AAC7B,iBAAKlmD,MAAL,GAAckmD,SAAd;AACA,iBAAK/uC,QAAL,CAAc,QAAd,EAAwB,KAAKnX,MAA7B;AACD;AACF,SARD,MAQO;AACL,eAAKmX,QAAL,CAAc,OAAd,EAAuB,IAAvB;AACD;;AAED;;AAEF,WAAK;AACL;AADA;AAGE,aAAKA,QAAL,CAAc,UAAd,EAA0B8uC,OAAO,CAACtmD,QAAlC;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKwX,QAAL,CAAc,cAAd,EAA8B8uC,OAAO,CAAC9kD,YAAtC;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAKgW,QAAL,CAAc,oBAAd,EAAoC8uC,OAAO,CAACvlD,UAA5C;AACA;;AAEF,WAAK;AACL;AADA;AAGE,YAAI,KAAKW,IAAT,EAAe;AACb,eAAK0lB,aAAL,CAAmB;AACnB;AADA,YAEE,CAFF;AAGA1c,UAAAA,UAAU,CAAC,MAAM;AACf,iBAAK0c,aAAL,CAAmB;AACnB;AADA;AAGD,WAJS,EAIP,GAJO,CAAV;AAKD,SATD,MASO;AACL,eAAK5P,QAAL,CAAc,eAAd,EAA+B,IAA/B;AACD;;AAED;;AAEF,WAAK;AACL;AADA;AAGE,aAAK4O,OAAL,CAAa9K,IAAb,CAAkBgrC,OAAlB;AACA;AAxIJ;AA0ID;;AAEDh+B,EAAAA,gBAAgB,GAAG;AACjB,SAAKjc,SAAL,GAAiB,KAAjB;AACA,SAAK8Z,WAAL,CAAiB7K,IAAjB;AACA,SAAK9D,QAAL,CAAc,UAAd,EAA0Blb,QAAQ,CAACirB,KAAnC;AACD;;AAEDgB,EAAAA,cAAc,CAAC1hB,KAAD,EAAQ;AACpB,QAAIwxB,OAAO,GAAGxxB,KAAK,CAACI,MAApB;AACA,QAAI,CAAC1B,WAAW,CAAC8yB,OAAO,CAACxxB,KAAT,CAAhB,EAAiC,KAAKw/C,YAAL,CAAkBhuB,OAAO,CAACxxB,KAA1B,EAAiCwxB,OAAO,CAAChV,IAAzC;AACjC,QAAI,CAAC9d,WAAW,CAAC8yB,OAAO,CAACkZ,MAAT,CAAhB,EAAkC,KAAKqU,aAAL,CAAmBvtB,OAAO,CAACkZ,MAA3B,EAAmClZ,OAAO,CAACjgC,KAA3C;AACnC;;AAEDouD,EAAAA,cAAc,GAAG;AACf,QAAI,CAACC,EAAD,EAAKC,EAAL,IAAW,KAAK7iD,WAAL,CAAiBsW,KAAjB,CAAuB,GAAvB,EAA4BtM,GAA5B,CAAgCgC,CAAC,IAAI0jB,QAAQ,CAAC1jB,CAAD,EAAI,EAAJ,CAA7C,CAAf;AACA,QAAIiG,MAAM,GAAG,GAAb;AACA,QAAI6wC,OAAO,GAAG,MAAMF,EAAN,GAAWC,EAAzB;AACA,QAAIE,MAAM,GAAG,CAAC9wC,MAAM,GAAG6wC,OAAV,KAAsB7wC,MAAM,GAAG,EAA/B,CAAb;AACA,WAAO;AACLslC,MAAAA,aAAa,EAAE,GAAGxuC,MAAH,CAAUkJ,MAAV,EAAkB,GAAlB,CADV;AAEL8C,MAAAA,SAAS,EAAE,eAAehM,MAAf,CAAsBg6C,MAAM,GAAG,IAA/B,EAAqC,IAArC;AAFN,KAAP;AAID;AACD;;;AAGAl0C,EAAAA,UAAU,GAAG;AACX,QAAIm0C,OAAO,GAAG,IAAd;;AAEA,WAAO1nD,iBAAiB,CAAC,aAAa;AACpC,UAAImqB,YAAY,GAAG,8BAAnB;AACA,UAAIw9B,SAAS,GAAG,kCAAhB;AACA,aAAO;AACLv9B,QAAAA,iBAAiB,EAAE,YAAY;AAC7B,cAAIw9B,mBAAmB,GAAG5nD,iBAAiB,CAAC,aAAa;AACvD,mBAAO0nD,OAAO,CAACl/B,KAAf;AACD,WAF0C,CAA3C;;AAIA,mBAAS4B,iBAAT,GAA6B;AAC3B,mBAAOw9B,mBAAmB,CAACvpD,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;AACD;;AAED,iBAAO2rB,iBAAP;AACD,SAVkB,EADd;AAYL7pB,QAAAA,IAAI,EAAE,YAAY;AAChB,cAAIsnD,MAAM,GAAG7nD,iBAAiB,CAAC,aAAa;AAC1C0nD,YAAAA,OAAO,CAACz/B,aAAR,CAAsB;AACtB;AADA;AAGD,WAJ6B,CAA9B;;AAMA,mBAAS1nB,IAAT,GAAgB;AACd,mBAAOsnD,MAAM,CAACxpD,KAAP,CAAa,IAAb,EAAmBI,SAAnB,CAAP;AACD;;AAED,iBAAO8B,IAAP;AACD,SAZK,EAZD;AAyBLC,QAAAA,KAAK,EAAE,YAAY;AACjB,cAAIsnD,OAAO,GAAG9nD,iBAAiB,CAAC,aAAa;AAC3C0nD,YAAAA,OAAO,CAACz/B,aAAR,CAAsB;AACtB;AADA;AAGD,WAJ8B,CAA/B;;AAMA,mBAASznB,KAAT,GAAiB;AACf,mBAAOsnD,OAAO,CAACzpD,KAAR,CAAc,IAAd,EAAoBI,SAApB,CAAP;AACD;;AAED,iBAAO+B,KAAP;AACD,SAZM,EAzBF;AAsCLqT,QAAAA,OAAO,EAAE,YAAY;AACnB,cAAIk0C,SAAS,GAAG/nD,iBAAiB,CAAC,WAAW+T,IAAX,EAAiB;AACjD,mBAAOnN,QAAQ,CAACmN,IAAD,CAAR,IAAkB,CAAC4zC,SAAS,CAAC3zC,IAAV,CAAeD,IAAf,CAAnB,IAA2CoW,YAAY,CAACnW,IAAb,CAAkBD,IAAlB,CAAlD;AACD,WAFgC,CAAjC;;AAIA,mBAASF,OAAT,CAAiBm0C,IAAjB,EAAuB;AACrB,mBAAOD,SAAS,CAAC1pD,KAAV,CAAgB,IAAhB,EAAsBI,SAAtB,CAAP;AACD;;AAED,iBAAOoV,OAAP;AACD,SAVQ,EAtCJ;AAiDL6W,QAAAA,cAAc,EAAE,YAAY;AAC1B,cAAIu9B,gBAAgB,GAAGjoD,iBAAiB,CAAC,WAAW6pB,IAAX,EAAiB;AACxD69B,YAAAA,OAAO,CAACz/B,aAAR,CAAsB;AACtB;AADA,cAEE4B,IAFF;AAGD,WAJuC,CAAxC;;AAMA,mBAASa,cAAT,CAAwBw9B,IAAxB,EAA8B;AAC5B,mBAAOD,gBAAgB,CAAC5pD,KAAjB,CAAuB,IAAvB,EAA6BI,SAA7B,CAAP;AACD;;AAED,iBAAOisB,cAAP;AACD,SAZe,EAjDX;AA8DLG,QAAAA,QAAQ,EAAE,YAAY;AACpB,cAAIs9B,UAAU,GAAGnoD,iBAAiB,CAAC,WAAW+D,KAAX,EAAkB;AACnD,gBAAI,CAACA,KAAL,EAAY2jD,OAAO,CAACxmD,MAAR,GAAiBwmD,OAAO,CAACxmD,MAAR,GAAiB,CAAjB,GAAqBwmD,OAAO,CAACxmD,MAA7B,GAAsC,EAAvD;;AAEZwmD,YAAAA,OAAO,CAACz/B,aAAR,CAAsB;AACtB;AADA,cAEElkB,KAAK,GAAG,CAAH,GAAO2jD,OAAO,CAACxmD,MAAR,GAAiB,GAF/B;AAGD,WANiC,CAAlC;;AAQA,mBAAS2pB,QAAT,CAAkBu9B,IAAlB,EAAwB;AACtB,mBAAOD,UAAU,CAAC9pD,KAAX,CAAiB,IAAjB,EAAuBI,SAAvB,CAAP;AACD;;AAED,iBAAOosB,QAAP;AACD,SAdS,EA9DL;AA6ELG,QAAAA,SAAS,EAAE,YAAY;AACrB,cAAIq9B,WAAW,GAAGroD,iBAAiB,CAAC,WAAWkB,MAAX,EAAmB;AACrD,gBAAI,CAACwmD,OAAO,CAAC3jD,KAAb,EAAoB;AAClB2jD,cAAAA,OAAO,CAACz/B,aAAR,CAAsB;AACtB;AADA,gBAEE/mB,MAAM,GAAG,GAFX;AAGD,aAJD,MAIO;AACL;AACAwmD,cAAAA,OAAO,CAACrvC,QAAR,CAAiB,QAAjB,EAA2BnX,MAA3B;AACD;AACF,WATkC,CAAnC;;AAWA,mBAAS8pB,SAAT,CAAmBs9B,IAAnB,EAAyB;AACvB,mBAAOD,WAAW,CAAChqD,KAAZ,CAAkB,IAAlB,EAAwBI,SAAxB,CAAP;AACD;;AAED,iBAAOusB,SAAP;AACD,SAjBU,EA7EN;AA+FL;AACA8H,QAAAA,kBAAkB,EAAE,YAAY;AAC9B,cAAIy1B,oBAAoB,GAAGvoD,iBAAiB,CAAC,aAAa;AACxD,mBAAO,KAAP;AACD,WAF2C,CAA5C;;AAIA,mBAAS8yB,kBAAT,GAA8B;AAC5B,mBAAOy1B,oBAAoB,CAAClqD,KAArB,CAA2B,IAA3B,EAAiCI,SAAjC,CAAP;AACD;;AAED,iBAAOq0B,kBAAP;AACD,SAVmB,EAhGf;AA2GLuM,QAAAA,eAAe,EAAE,YAAY;AAC3B,cAAImpB,iBAAiB,GAAGxoD,iBAAiB,CAAC,WAAW6zB,IAAX,EAAiB;AACzD6zB,YAAAA,OAAO,CAACz/B,aAAR,CAAsB;AACtB;AADA,cAEE4L,IAFF;AAGD,WAJwC,CAAzC;;AAMA,mBAASwL,eAAT,CAAyBopB,IAAzB,EAA+B;AAC7B,mBAAOD,iBAAiB,CAACnqD,KAAlB,CAAwB,IAAxB,EAA8BI,SAA9B,CAAP;AACD;;AAED,iBAAO4gC,eAAP;AACD,SAZgB;AA3GZ,OAAP;AAyHD,KA5HuB,CAAjB,EAAP;AA6HD;;AAEDnrB,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,UAAf,EAA2B;AAChCuF,MAAAA,KAAK,EAAE;AACLgvC,QAAAA,YAAY,EAAE,CAAC,KAAKnkD;AADf,OADyB;AAIhC4R,MAAAA,KAAK,EAAE,KAAKkxC,cAAL,EAJyB;AAKhChgC,MAAAA,QAAQ,EAAE,KAAKA,QALiB;AAMhCnkB,MAAAA,UAAU,EAAE,KAAKA,UANe;AAOhC0oB,MAAAA,MAAM,EAAE,KAAK/D,SAAL,EAPwB;AAQhCpD,MAAAA,MAAM,EAAE,KAAKkE,WAAL,EARwB;AAShCkD,MAAAA,OAAO,EAAE5H,UATuB;AAUhC6H,MAAAA,cAAc,EAAE,KAAKxD,iBAAL,EAVgB;AAWhCyD,MAAAA,gBAAgB,EAAE,KAAK3C,cAAL,CAAoBvT,IAApB,CAAyB,IAAzB,CAXc;AAYhCmW,MAAAA,kBAAkB,EAAE,KAAK7C,gBAAL,CAAsBtT,IAAtB,CAA2B,IAA3B,CAZY;AAahCvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKihB,KAAL,GAAajhB,EAAb;AACD;AAf+B,KAA3B,CAAP;AAiBD;;AAEkB,aAAR2O,QAAQ,GAAG;AACpB,WAAO;AACL,iBAAW,CAAC,iBAAD,CADN;AAEL,gBAAU,CAAC,sBAAD;AAFL,KAAP;AAID;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOovC,QAAP;AACD;;AAtkBmC,CAAtC;AAykBA,IAAIoD,gBAAgB,GAAG,sgBAAvB;AACA,IAAIC,aAAa,GAAG,cAAcphD,WAAd,CAA0B;AAC5CjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKkG,gBAAL,GAAwB,IAAI5L,QAAJ,EAAxB;AACA,SAAK85C,SAAL,GAAiB,KAAjB;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,cAAL,GAAsB,KAAtB;AACA;AACJ;AACA;;AAEI,SAAKpa,aAAL,GAAqB,YAArB;AACA;AACJ;AACA;;AAEI,SAAKC,cAAL,GAAsB,aAAtB;AACA;AACJ;AACA;;AAEI,SAAKC,SAAL,GAAiB,aAAjB;AACA;AACJ;AACA;;AAEI,SAAKh6B,eAAL,GAAuB,KAAvB;AACA;AACJ;AACA;;AAEI,SAAKC,WAAL,GAAmB,KAAnB;AACA;AACJ;AACA;AACA;;AAEI,SAAKk0C,QAAL,GAAgB,GAAhB;AACA;AACJ;AACA;;AAEI,SAAK/K,UAAL,GAAkB,KAAlB;AACA;;AAEA,SAAKl6C,KAAL,GAAa,KAAb;AACA;;AAEA,SAAK7C,MAAL,GAAc,EAAd;AACA;;AAEA,SAAK+D,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKU,IAAL,GAAY,EAAZ;AACArM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAK,IAAAA,iBAAiB,CAAC,IAAD,EAAO,CAAC,QAAD,EAAW,OAAX,EAAoB,UAApB,EAAgC,MAAhC,CAAP,CAAjB;AACD;;AAEDukD,EAAAA,kBAAkB,GAAG;AACnB,QAAI+K,OAAO,GAAG,IAAd;;AAEA,WAAOjpD,iBAAiB,CAAC,aAAa;AACpCipD,MAAAA,OAAO,CAACtuC,gBAAR,CAAyBxL,KAAzB;;AAEA,UAAI85C,OAAO,CAAChL,UAAZ,EAAwB;AACxB,UAAI5wC,MAAM,GAAG,MAAMtT,UAAU,CAACkvD,OAAD,CAA7B;;AAEAA,MAAAA,OAAO,CAACtuC,gBAAR,CAAyB1L,GAAzB,CAA6BvE,MAAM,CAAC2C,MAAD,EAAS,SAAT,EAAoB3F,KAAK,IAAI;AAC9D,YAAIA,KAAK,CAAC7I,GAAN,KAAc,SAAd,IAA2B6I,KAAK,CAAC7I,GAAN,KAAc,WAA7C,EAA0D;AAC1D,YAAIqqD,SAAS,GAAGxhD,KAAK,CAAC7I,GAAN,KAAc,SAA9B;AACA,YAAIuoD,SAAS,GAAG8B,SAAS,GAAGjyC,IAAI,CAAC8+B,GAAL,CAAS,GAAT,EAAckT,OAAO,CAAC/nD,MAAR,GAAiB,CAA/B,CAAH,GAAuC+V,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY+xC,OAAO,CAAC/nD,MAAR,GAAiB,CAA7B,CAAhE;;AAEA+nD,QAAAA,OAAO,CAAC5wC,QAAR,CAAiB,QAAjB,EAA2B+b,QAAQ,CAAC,GAAG3mB,MAAH,CAAU25C,SAAV,CAAD,EAAuB,EAAvB,CAAnC;AACD,OANkC,CAAnC;AAOD,KAbuB,CAAjB,EAAP;AAcD;;AAED+B,EAAAA,oBAAoB,GAAG;AACrB,SAAKL,aAAL,GAAqB,KAAK/kD,KAAL,GAAa,CAAb,GAAiB,KAAK7C,MAA3C;;AAEA,QAAI,CAAC,KAAK6C,KAAN,IAAe,KAAK8kD,SAApB,IAAiC,KAAK3nD,MAAL,KAAgB,CAArD,EAAwD;AACtD,WAAKmX,QAAL,CAAc,QAAd,EAAwB,EAAxB;AACD;;AAED,SAAKwwC,SAAL,GAAiB,KAAK9kD,KAAtB;AACD;;AAEDiG,EAAAA,iBAAiB,GAAG;AAClB,SAAK6+C,SAAL,GAAiB,KAAK9kD,KAAtB;AACA,SAAKsU,QAAL,GAAgBpe,gBAAgB,CAAC,IAAD,CAAhC;AACA,SAAKikD,kBAAL;AACD;;AAEDj0C,EAAAA,oBAAoB,GAAG;AACrB,SAAK0Q,gBAAL,CAAsBxL,KAAtB;AACD;;AAEDi6C,EAAAA,YAAY,GAAG;AACb39C,IAAAA,YAAY,CAAC,KAAK49C,iBAAN,CAAZ;AACA,SAAKN,cAAL,GAAsB,IAAtB;AACD;;AAEDO,EAAAA,YAAY,GAAG;AACb,SAAKD,iBAAL,GAAyB99C,UAAU,CAAC,MAAM;AACxC,WAAKw9C,cAAL,GAAsB,KAAtB;AACD,KAFkC,EAEhC,GAFgC,CAAnC;AAGD;;AAEDtsB,EAAAA,cAAc,CAAC/0B,KAAD,EAAQ;AACpB,QAAI0/C,SAAS,GAAG1/C,KAAK,CAACI,MAAtB;AACA,SAAKghD,aAAL,GAAqB1B,SAArB;AACA,SAAK/uC,QAAL,CAAc,QAAd,EAAwB+uC,SAAxB;AACA,SAAK/uC,QAAL,CAAc,OAAd,EAAuB+uC,SAAS,KAAK,CAArC;AACD;;AAEDxb,EAAAA,SAAS,CAAClkC,KAAD,EAAQ;AACf,QAAIA,KAAK,CAAC7I,GAAN,KAAc,WAAd,IAA6B6I,KAAK,CAAC7I,GAAN,KAAc,YAA/C,EAA6D;AAC7D6I,IAAAA,KAAK,CAAC0C,eAAN;AACD;;AAED8J,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,KAAf,EAAsB;AAC3BuF,MAAAA,KAAK,EAAE,eADoB;AAE3B6C,MAAAA,YAAY,EAAE,KAAK6sC,YAAL,CAAkBvzC,IAAlB,CAAuB,IAAvB,CAFa;AAG3B2G,MAAAA,YAAY,EAAE,KAAK8sC,YAAL,CAAkBzzC,IAAlB,CAAuB,IAAvB;AAHa,KAAtB,EAIJ,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,iBAAf,EAAkC;AACnCrW,MAAAA,IAAI,EAAE,KAAKkrD,QADwB;AAEnCra,MAAAA,aAAa,EAAE,KAAKA,aAFe;AAGnCC,MAAAA,cAAc,EAAE,KAAKA,cAHc;AAInCC,MAAAA,SAAS,EAAE,KAAKA,SAJmB;AAKnClrC,MAAAA,KAAK,EAAE,KAAKA,KALuB;AAMnCkR,MAAAA,eAAe,EAAE,KAAKA,eANa;AAOnCoB,MAAAA,gBAAgB,EAAE,KAAKA,gBAPY;AAQnCnB,MAAAA,WAAW,EAAE,KAAKA,WARiB;AASnCy0C,MAAAA,SAAS,EAAE,KAAKH,YAAL,CAAkBvzC,IAAlB,CAAuB,IAAvB,CATwB;AAUnC2zC,MAAAA,QAAQ,EAAE,KAAKF,YAAL,CAAkBzzC,IAAlB,CAAuB,IAAvB;AAVyB,KAAlC,CAJI,EAeH,CAAC,GAAGpc,OAAO,CAAC0a,CAAZ,EAAe,WAAf,EAA4B;AAC9BuF,MAAAA,KAAK,EAAE;AACLhE,QAAAA,MAAM,EAAE,KAAKzQ,QADR;AAELiX,QAAAA,MAAM,EAAE,KAAK6sC;AAFR,OADuB;AAK9BxJ,MAAAA,IAAI,EAAE,CALwB;AAM9BroC,MAAAA,GAAG,EAAE,GANyB;AAO9Bje,MAAAA,KAAK,EAAE,KAAK6vD,aAPkB;AAQ9BnzC,MAAAA,KAAK,EAAE,KAAKhQ,IAAL,CAAUzE,MARa;AAS9B0qC,MAAAA,SAAS,EAAE,KAAKA,SAAL,CAAe/1B,IAAf,CAAoB,IAApB,CATmB;AAU9B0zC,MAAAA,SAAS,EAAE,KAAKH,YAAL,CAAkBvzC,IAAlB,CAAuB,IAAvB,CAVmB;AAW9B2zC,MAAAA,QAAQ,EAAE,KAAKF,YAAL,CAAkBzzC,IAAlB,CAAuB,IAAvB,CAXoB;AAY9B4pC,MAAAA,eAAe,EAAE,KAAKhjB,cAAL,CAAoB5mB,IAApB,CAAyB,IAAzB;AAZa,KAA5B,CAfG,CAAP;AA6BD;;AAEkB,aAARK,QAAQ,GAAG;AACpB,WAAO;AACL,oBAAc,CAAC,oBAAD,CADT;AAEL,eAAS,CAAC,sBAAD,CAFJ;AAGL,gBAAU,CAAC,sBAAD;AAHL,KAAP;AAKD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOwyC,gBAAP;AACD;;AAvK2C,CAA9C;;AA2KA,IAAIc,yBAAyB,GAAGx/B,OAAO,IAAI;AACzC,UAAQA,OAAR;AACE,SAAK;AACL;AADA;AAGE,aAAO5pB,SAAP;;AAEF,SAAK;AACL;AADA;AAGE,aAAO,MAAP;;AAEF,SAAK;AACL;AADA;AAGE,aAAO,MAAP;;AAEF,SAAK;AACL;AADA;AAGE,aAAO,MAAP;;AAEF,SAAK;AACL;AADA;AAGE,aAAO,MAAP;;AAEF,SAAK;AACL;AADA;AAGE,aAAO,MAAP;;AAEF,SAAK;AACL;AADA;AAGE,aAAO,OAAP;;AAEF,SAAK;AACL;AADA;AAGE,aAAO,OAAP;;AAEF,SAAK;AACL;AADA;AAGE,aAAO,OAAP;;AAEF;AACE,aAAOA,SAAP;AA/CJ;AAiDD,CAlDD;;AAoDA,IAAIqpD,UAAU,GAAG,wCAAjB;AACA,IAAIC,WAAW,GAAG,IAAItgD,GAAJ,EAAlB;AACA,IAAI05C,OAAO,GAAG,cAAcv7C,WAAd,CAA0B;AACtCjB,EAAAA,WAAW,GAAG;AACZ;;AAEA,SAAK6M,cAAL;;AAEA,KAAC,GAAG3Z,OAAO,CAACgb,YAAZ,EAA0B,IAA1B;AACA,SAAKuS,WAAL,GAAmB,CAAC,GAAGvtB,OAAO,CAAC+gB,WAAZ,EAAyB,IAAzB,EAA+B,aAA/B,EAA8C,CAA9C,CAAnB;AACA,SAAK0M,oBAAL,GAA4B,EAA5B;AACA,SAAKC,aAAL,GAAqB;AACnBpkB,MAAAA,MAAM,EAAE,IADW;AAEnBlC,MAAAA,QAAQ,EAAE,CAFS;AAGnBqD,MAAAA,OAAO,EAAE,KAHU;AAInBJ,MAAAA,aAAa,EAAE,KAJI;AAKnBM,MAAAA,eAAe,EAAE,KALE;AAMnBpD,MAAAA,WAAW,EAAE,CANM;AAOnB4oD,MAAAA,cAAc,EAAE,CAPG;AAQnBvnD,MAAAA,YAAY,EAAE,CARK;AASnBmH,MAAAA,KAAK,EAAE,CAAC;AATW,KAArB;AAWA,SAAK6d,QAAL,GAAgB,EAAhB;AACA,SAAKnkB,UAAL,GAAkB,EAAlB;AACA;AACJ;AACA;;AAEI,SAAK4iD,OAAL,GAAe,KAAf;AACA;AACJ;AACA;;AAEI,SAAK+D,qBAAL,GAA6B,IAA7B;AACA;;AAEA,SAAKrkD,QAAL,GAAgB,IAAhB;AACA;;AAEA,SAAK5B,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKW,QAAL,GAAgB,KAAhB;AACA;;AAEA,SAAKhC,IAAL,GAAY,KAAZ;AACA;;AAEA,SAAKwB,KAAL,GAAa,KAAb;AACA;;AAEA,SAAKwB,WAAL,GAAmB,KAAnB;AACAjM,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACA2Z,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACA0T,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;;AAEDgB,EAAAA,eAAe,GAAG;AAChB,QAAI,CAAC,KAAKC,OAAV,EAAmB;AACjB,WAAKP,QAAL,GAAgB,EAAhB;AACA;AACD;;AAED,SAAKA,QAAL,GAAgB,GAAG5Z,MAAH,CAAU,KAAKoa,SAAL,EAAV,EAA4B,SAA5B,EAAuCpa,MAAvC,CAA8C,KAAKma,OAAnD,CAAhB;AACA,SAAKkiC,cAAL,GAAsB,KAAKC,aAAL,EAAtB;AACD;;AAED7hC,EAAAA,oBAAoB,GAAG;AACrB,SAAK7P,QAAL,CAAc,eAAd,EAA+B,KAAK8P,MAApC;AACD;;AAEDne,EAAAA,iBAAiB,GAAG;AAClB,SAAKqO,QAAL,GAAgB1G,wBAAwB,CAAC,IAAD,CAAxC;AACA,SAAK0G,QAAL,CAAc,UAAd,EAA0Blb,QAAQ,CAACirB,KAAnC;AACA,SAAKT,eAAL;AACA,SAAKU,YAAL,GAAoB,KAAKtkB,KAAzB;AACA,SAAKmjB,oBAAL,GAA4B5oB,aAAa,CAAC,EAAD,EAAK,KAAK6oB,aAAV,CAAzC;AACD;AACD;;;AAGA5T,EAAAA,UAAU,GAAG;AACX,QAAIy2C,OAAO,GAAG,IAAd;;AAEA,WAAOhqD,iBAAiB,CAAC,aAAa;AACpC,UAAImqB,YAAY,GAAG,iHAAnB;AACA,aAAO;AACLC,QAAAA,iBAAiB,EAAE,YAAY;AAC7B,cAAI6/B,mBAAmB,GAAGjqD,iBAAiB,CAAC,aAAa;AACvD,mBAAOgqD,OAAO,CAACxhC,KAAf;AACD,WAF0C,CAA3C;;AAIA,mBAAS4B,iBAAT,GAA6B;AAC3B,mBAAO6/B,mBAAmB,CAAC5rD,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;AACD;;AAED,iBAAO2rB,iBAAP;AACD,SAVkB,EADd;AAYL7pB,QAAAA,IAAI,EAAE,YAAY;AAChB,cAAI2pD,MAAM,GAAGlqD,iBAAiB,CAAC,aAAa;AAC1CgqD,YAAAA,OAAO,CAAC/hC,aAAR,CAAsB;AACtB;AADA;AAGD,WAJ6B,CAA9B;;AAMA,mBAAS1nB,IAAT,GAAgB;AACd,mBAAO2pD,MAAM,CAAC7rD,KAAP,CAAa,IAAb,EAAmBI,SAAnB,CAAP;AACD;;AAED,iBAAO8B,IAAP;AACD,SAZK,EAZD;AAyBLC,QAAAA,KAAK,EAAE,YAAY;AACjB,cAAI2pD,OAAO,GAAGnqD,iBAAiB,CAAC,aAAa;AAC3CgqD,YAAAA,OAAO,CAAC/hC,aAAR,CAAsB;AACtB;AADA;AAGD,WAJ8B,CAA/B;;AAMA,mBAASznB,KAAT,GAAiB;AACf,mBAAO2pD,OAAO,CAAC9rD,KAAR,CAAc,IAAd,EAAoBI,SAApB,CAAP;AACD;;AAED,iBAAO+B,KAAP;AACD,SAZM,EAzBF;AAsCLqT,QAAAA,OAAO,EAAE,YAAY;AACnB,cAAIu2C,SAAS,GAAGpqD,iBAAiB,CAAC,WAAW+T,IAAX,EAAiB;AACjD,mBAAOnN,QAAQ,CAACmN,IAAD,CAAR,IAAkBoW,YAAY,CAACnW,IAAb,CAAkBD,IAAlB,CAAzB;AACD,WAFgC,CAAjC;;AAIA,mBAASF,OAAT,CAAiBw2C,IAAjB,EAAuB;AACrB,mBAAOD,SAAS,CAAC/rD,KAAV,CAAgB,IAAhB,EAAsBI,SAAtB,CAAP;AACD;;AAED,iBAAOoV,OAAP;AACD,SAVQ,EAtCJ;AAiDL6W,QAAAA,cAAc,EAAE,YAAY;AAC1B,cAAI4/B,gBAAgB,GAAGtqD,iBAAiB,CAAC,WAAW6pB,IAAX,EAAiB;AACxDmgC,YAAAA,OAAO,CAAC/hC,aAAR,CAAsB;AACtB;AADA,cAEE4B,IAFF;AAGD,WAJuC,CAAxC;;AAMA,mBAASa,cAAT,CAAwB6/B,IAAxB,EAA8B;AAC5B,mBAAOD,gBAAgB,CAACjsD,KAAjB,CAAuB,IAAvB,EAA6BI,SAA7B,CAAP;AACD;;AAED,iBAAOisB,cAAP;AACD,SAZe,EAjDX;AA8DLG,QAAAA,QAAQ,EAAE,YAAY;AACpB,cAAI2/B,UAAU,GAAGxqD,iBAAiB,CAAC,WAAW+D,KAAX,EAAkB;AACnDA,YAAAA,KAAK,GAAGimD,OAAO,CAAC/hC,aAAR,CAAsB;AAC9B;AADQ,aAAH,GAED+hC,OAAO,CAAC/hC,aAAR,CAAsB;AAC1B;AADI,aAFJ;AAKD,WANiC,CAAlC;;AAQA,mBAAS4C,QAAT,CAAkB4/B,IAAlB,EAAwB;AACtB,mBAAOD,UAAU,CAACnsD,KAAX,CAAiB,IAAjB,EAAuBI,SAAvB,CAAP;AACD;;AAED,iBAAOosB,QAAP;AACD,SAdS,EA9DL;AA6ELG,QAAAA,SAAS,EAAE,YAAY;AACrB,cAAI0/B,WAAW,GAAG1qD,iBAAiB,CAAC,WAAWkB,MAAX,EAAmB;AACrD8oD,YAAAA,OAAO,CAAC/hC,aAAR,CAAsB;AACtB;AADA,cAEE/mB,MAFF;AAGD,WAJkC,CAAnC;;AAMA,mBAAS8pB,SAAT,CAAmB2/B,IAAnB,EAAyB;AACvB,mBAAOD,WAAW,CAACrsD,KAAZ,CAAkB,IAAlB,EAAwBI,SAAxB,CAAP;AACD;;AAED,iBAAOusB,SAAP;AACD,SAZU,EA7EN;AA0FL8H,QAAAA,kBAAkB,EAAE,YAAY;AAC9B,cAAI83B,oBAAoB,GAAG5qD,iBAAiB,CAAC,aAAa;AACxD,mBAAO,IAAP;AACD,WAF2C,CAA5C;;AAIA,mBAAS8yB,kBAAT,GAA8B;AAC5B,mBAAO83B,oBAAoB,CAACvsD,KAArB,CAA2B,IAA3B,EAAiCI,SAAjC,CAAP;AACD;;AAED,iBAAOq0B,kBAAP;AACD,SAVmB,EA1Ff;AAqGLuM,QAAAA,eAAe,EAAE,YAAY;AAC3B,cAAIwrB,iBAAiB,GAAG7qD,iBAAiB,CAAC,WAAW6zB,IAAX,EAAiB;AACzDm2B,YAAAA,OAAO,CAAC/hC,aAAR,CAAsB;AACtB;AADA,cAEE4L,IAFF;AAGD,WAJwC,CAAzC;;AAMA,mBAASwL,eAAT,CAAyByrB,IAAzB,EAA+B;AAC7B,mBAAOD,iBAAiB,CAACxsD,KAAlB,CAAwB,IAAxB,EAA8BI,SAA9B,CAAP;AACD;;AAED,iBAAO4gC,eAAP;AACD,SAZgB;AArGZ,OAAP;AAmHD,KArHuB,CAAjB,EAAP;AAsHD;;AAEDxX,EAAAA,SAAS,GAAG;AACV,WAAO,CAAC,KAAKi+B,OAAN,GAAgB,kCAAhB,GAAqD,yBAA5D;AACD;;AAEDx9B,EAAAA,iBAAiB,GAAG;AAClB,WAAO,CAAC,KAAKT,SAAL,EAAD,EAAmB,wBAAnB,EAA6C,qCAA7C,EAAoF,gCAApF,EAAsH,qBAAtH,EAA6I,qBAA7I,CAAP;AACD;;AAEDI,EAAAA,aAAa,CAACM,OAAD,EAAU7oB,GAAV,EAAe;AAC1B,WAAO,KAAK8oB,KAAL,CAAWC,WAAX,CAAuB;AAC5B/gB,MAAAA,KAAK,EAAE,SADqB;AAE5B+V,MAAAA,IAAI,EAAE8K,OAFsB;AAG5BpoB,MAAAA,IAAI,EAAET,GAAG,GAAG,CAACA,GAAD,CAAH,GAAWW;AAHQ,KAAvB,CAAP;AAKD;;AAEDsoB,EAAAA,WAAW,GAAG;AACZ,WAAO;AACLoiC,MAAAA,WAAW,EAAE,CADR;AAELC,MAAAA,YAAY,EAAE,KAAKxlD,QAFd;AAGLylD,MAAAA,EAAE,EAAE,KAAKzlD,QAHJ;AAIL0lD,MAAAA,EAAE,EAAE,KAAKrB,qBAAL,GAA6B,CAA7B,GAAiC,CAJhC;AAKLtlD,MAAAA,QAAQ,EAAE,KAAKA,QAAL,GAAgB,CAAhB,GAAoB,CALzB;AAML4mD,MAAAA,SAAS,EAAE,CAAC,KAAK5mD,QAAN,GAAiB,CAAjB,GAAqB,CAN3B;AAOL6mD,MAAAA,cAAc,EAAE,KAAK7mD,QAAL,GAAgB,CAAhB,GAAoB,CAP/B;AAQLpD,MAAAA,IAAI,EAAE,KAAKknB,YAAL,GAAoB,CAApB,GAAwB,CARzB;AASL9iB,MAAAA,WAAW,EAAE,KAAKA,WAAL,GAAmB,CAAnB,GAAuB,CAT/B;AAUL3B,MAAAA,QAAQ,EAAE,KAAKA,QAAL,GAAgB,CAAhB,GAAoB;AAVzB,KAAP;AAYD;;AAEDulB,EAAAA,gBAAgB,GAAG;AACjB,SAAKnC,WAAL,CAAiB7K,IAAjB;AACA,SAAK9D,QAAL,CAAc,UAAd,EAA0Blb,QAAQ,CAACirB,KAAnC;AACD;;AAEDijC,EAAAA,aAAa,GAAG;AACd;AACA7/C,IAAAA,MAAM,CAACD,UAAP,CAAkB,MAAM,KAAKid,KAAL,CAAWC,WAAX,CAAuB;AAC7C/gB,MAAAA,KAAK,EAAE;AADsC,KAAvB,CAAxB,EAEI,GAFJ;AAGD;;AAEDqiD,EAAAA,aAAa,GAAG;AACd,QAAIuB,OAAO,GAAG,IAAd;;AAEA,WAAOtrD,iBAAiB,CAAC,aAAa;AACpC,UAAI2pD,WAAW,CAAC5jD,GAAZ,CAAgBulD,OAAO,CAAC1jC,OAAxB,CAAJ,EAAsC,OAAO+hC,WAAW,CAACnwD,GAAZ,CAAgB8xD,OAAO,CAAC1jC,OAAxB,CAAP;;AAEtC,UAAI2jC,SAAS,GAAGthC,OAAO,IAAI,0BAA0Bxc,MAA1B,CAAiC69C,OAAO,CAAC1jC,OAAzC,EAAkD,GAAlD,EAAuDna,MAAvD,CAA8Dwc,OAA9D,EAAuE,MAAvE,CAA3B;AACA;AACN;AACA;AACA;;;AAGM,aAAOjH,SAAS,CAACuoC,SAAS,CAAC,eAAD,CAAV,EAA6B,GAA7B,CAAT,CAA2C;AAA3C,OACN/oC,KADM,CACA,MAAMQ,SAAS,CAACuoC,SAAS,CAAC,WAAD,CAAV,EAAyB,GAAzB,CADf,EAC8C;AAD9C,OAEN/oC,KAFM,CAEA,MAAMQ,SAAS,CAACuoC,SAAS,CAAC,WAAD,CAAV,EAAyB,GAAzB,CAFf,EAE8C;AAF9C,OAGNxrD,IAHM,CAGDyrD,GAAG,IAAI;AACX,YAAIrjC,MAAM,GAAGqjC,GAAG,CAACvoC,GAAjB;AACA0mC,QAAAA,WAAW,CAAC5/C,GAAZ,CAAgBuhD,OAAO,CAAC1jC,OAAxB,EAAiCO,MAAjC;AACA,eAAOA,MAAP;AACD,OAPM,CAAP;AAQD,KAlBuB,CAAjB,EAAP;AAmBD;;AAEDsjC,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKtkC,aAAL,CAAmBrjB,aAAvB,EAAsC;AACtC,SAAKqjB,aAAL,GAAqB7oB,aAAa,CAAC,EAAD,EAAK,KAAK4oB,oBAAV,CAAlC;AACA,SAAK7O,QAAL,CAAc,YAAd,EAA4B,KAAKgP,QAAjC;AACA,SAAKhP,QAAL,CAAc,WAAd,EAA2B7a,SAAS,CAAC4qB,KAArC;AACA,SAAK0hC,cAAL,CAAoB/pD,IAApB,CAAyBooB,MAAM,IAAI;AACjC,UAAIujC,aAAJ;;AAEA,WAAKrzC,QAAL,CAAc,eAAd,EAA+B,CAACqzC,aAAa,GAAG,KAAKvjC,MAAtB,MAAkC,IAAlC,IAA0CujC,aAAa,KAAK,KAAK,CAAjE,GAAqEA,aAArE,GAAqFvjC,MAApH;AACA,WAAK9P,QAAL,CAAc,eAAd,EAA+B,IAA/B;AACD,KALD;AAMA,SAAK8O,aAAL,CAAmBrjB,aAAnB,GAAmC,IAAnC;AACD;;AAED6nD,EAAAA,mBAAmB,CAACniD,KAAD,EAAQ;AACzB;AACA;AACA,QAAI,KAAK2d,aAAL,CAAmBrjB,aAAnB,IAAoC0F,KAAK,KAAK,CAAC;AACnD;AADA,MAEE;AACE,aAAK2d,aAAL,CAAmBpkB,MAAnB,GAA4B,IAA5B;AACA,aAAKokB,aAAL,CAAmB/iB,eAAnB,GAAqC,KAArC;AACA,aAAKiU,QAAL,CAAc,WAAd,EAA2B,KAA3B;AACA,aAAKA,QAAL,CAAc,QAAd,EAAwB,IAAxB;AACA,aAAKA,QAAL,CAAc,iBAAd,EAAiC,KAAjC;AACA;AACD;;AAEH,QAAIuzC,SAAS,GAAGpiD,KAAK,KAAK;AAC1B;AADA;AAGA,QAAIqiD,WAAW,GAAGriD,KAAK,KAAK;AAC5B;AADA;AAGA,SAAK6O,QAAL,CAAc,WAAd,EAA2BwzC,WAA3B,EApByB,CAoBgB;;AAEzC,QAAI,KAAK1kC,aAAL,CAAmBpkB,MAAnB,KAA8B8oD,WAAW,IAAID,SAA7C,CAAJ,EAA6D;AAC3D,WAAKzkC,aAAL,CAAmBpkB,MAAnB,GAA4B,KAA5B;AACA,WAAKsV,QAAL,CAAc,QAAd,EAAwB,KAAxB;;AAEA,UAAI,CAAC,KAAK8O,aAAL,CAAmB/iB,eAAxB,EAAyC;AACvC,aAAKiU,QAAL,CAAc,iBAAd,EAAiC,IAAjC;AACA,aAAK8O,aAAL,CAAmB/iB,eAAnB,GAAqC,IAArC;AACD;AACF;;AAED,YAAQoF,KAAR;AACE,WAAK;AACL;AADA;AAGE,aAAKiiD,MAAL;AACA;;AAEF,WAAK;AACL;AADA;AAGE;AACA,aAAKA,MAAL;AACA,aAAKpzC,QAAL,CAAc,SAAd,EAAyB,IAAzB;AACA;;AAEF,WAAK;AACL;AADA;AAGE,aAAK8O,aAAL,CAAmBpkB,MAAnB,GAA4B,IAA5B;AACA,aAAKsV,QAAL,CAAc,QAAd,EAAwB,IAAxB;AACA;;AAEF,WAAK;AACL;AADA;AAGE,YAAI,KAAK9V,IAAT,EAAe;AACbiJ,UAAAA,MAAM,CAACD,UAAP,CAAkB,MAAM;AACtB,iBAAK0c,aAAL,CAAmB;AACnB;AADA;AAGD,WAJD,EAIG,GAJH;AAKD,SAND,MAMO;AACL,eAAK5P,QAAL,CAAc,eAAd,EAA+B,IAA/B;AACA,eAAK8O,aAAL,CAAmBpkB,MAAnB,GAA4B,IAA5B;AACA,eAAKsV,QAAL,CAAc,QAAd,EAAwB,IAAxB;AACD;;AAED;AArCJ;;AAwCA,SAAK8O,aAAL,CAAmB3d,KAAnB,GAA2BA,KAA3B;AACD;;AAEDsiD,EAAAA,eAAe,CAACjiC,IAAD,EAAO;AACpB,QAAI7oB,WAAW,GAAG6oB,IAAlB;;AAEA,QAAI,KAAK1C,aAAL,CAAmB3d,KAAnB,KAA6B;AACjC;AADA,MAEE;AACE,eAAO,KAAK2d,aAAL,CAAmBtmB,QAA1B;AACD;;AAEH,QAAI,KAAKsmB,aAAL,CAAmB3d,KAAnB,KAA6B;AACjC;AADA,MAEE;AACE,YAAIuiD,WAAW,GAAG,CAAC1qC,IAAI,CAAC2qC,GAAL,KAAa,GAAb,GAAmB,KAAK9kC,oBAAL,CAA0B0iC,cAA9C,IAAgE,KAAKziC,aAAL,CAAmB9kB,YAArG;AACA,YAAI0pD,WAAW,GAAG,CAAlB,EAAqB/qD,WAAW,IAAIiW,IAAI,CAAC8+B,GAAL,CAASgW,WAAT,EAAsB,CAAtB,CAAf;AACtB;;AAEH,WAAO/qD,WAAP;AACD;;AAEDulD,EAAAA,YAAY,CAAC18B,IAAD,EAAO;AACjB,QAAI7oB,WAAW,GAAG,KAAK8qD,eAAL,CAAqBjiC,IAArB,CAAlB;AACA,SAAKxR,QAAL,CAAc,aAAd,EAA6BrX,WAA7B,EAFiB,CAE0B;;AAE3C,QAAIiW,IAAI,CAACuvC,GAAL,CAAS,KAAKr/B,aAAL,CAAmBnmB,WAAnB,GAAiCA,WAA1C,IAAyD,GAA7D,EAAkE;AAChE,WAAKmmB,aAAL,CAAmBjjB,OAAnB,GAA6B,IAA7B;AACA,WAAKmU,QAAL,CAAc,SAAd,EAAyB,IAAzB;AACD;;AAED,SAAK8O,aAAL,CAAmBnmB,WAAnB,GAAiCA,WAAjC;AACD;;AAEDirD,EAAAA,gBAAgB,CAACnrD,QAAD,EAAW;AACzB,SAAKuX,QAAL,CAAc,UAAd,EAA0BvX,QAA1B;AACA;AACJ;AACA;AACA;AACA;;AAEI,QAAI,KAAKqmB,aAAL,CAAmBjjB,OAAnB,IAA8BpD,QAAQ,GAAG,KAAKqmB,aAAL,CAAmBnmB,WAAhE,EAA6E;AAC3EwK,MAAAA,MAAM,CAACD,UAAP,CAAkB,MAAM;AACtB,aAAK4b,aAAL,CAAmBjjB,OAAnB,GAA6B,KAA7B;AACA,aAAKmU,QAAL,CAAc,SAAd,EAAyB,KAAzB;AACD,OAHD,EAGG,KAAK8O,aAAL,CAAmBpkB,MAAnB,GAA4B,GAA5B,GAAkC,CAHrC;AAID;AACF;;AAEDqmB,EAAAA,cAAc,CAAC1hB,KAAD,EAAQ;AACpB,QAAIwxB,OAAO,GAAGxxB,KAAK,CAACI,MAApB;AACA,QAAI;AACFnI,MAAAA;AADE,QAEAu5B,OAFJ;AAGA,QAAI,CAACv5B,IAAL,EAAW;AACX,QAAI6G,QAAQ,CAAC7G,IAAI,CAACusD,SAAN,CAAZ,EAA8B,KAAK7zC,QAAL,CAAc,YAAd,EAA4B1Y,IAAI,CAACusD,SAAL,CAAetiC,KAA3C;;AAE9B,QAAInjB,QAAQ,CAAC9G,IAAI,CAACkB,QAAN,CAAZ,EAA6B;AAC3B,WAAKsmB,aAAL,CAAmBtmB,QAAnB,GAA8BlB,IAAI,CAACkB,QAAnC;AACA,WAAKwX,QAAL,CAAc,UAAd,EAA0B1Y,IAAI,CAACkB,QAA/B;AACD;;AAED,QAAIqG,OAAO,CAACvH,IAAI,CAACwsD,sBAAN,CAAX,EAA0C;AACxC,WAAK9zC,QAAL,CAAc,eAAd,EAA+B1Y,IAAI,CAACwsD,sBAApC;AACD;;AAED,QAAI1lD,QAAQ,CAAC9G,IAAI,CAAC0C,YAAN,CAAZ,EAAiC;AAC/B,WAAK8kB,aAAL,CAAmB9kB,YAAnB,GAAkC1C,IAAI,CAAC0C,YAAvC;AACA,WAAKgW,QAAL,CAAc,cAAd,EAA8B1Y,IAAI,CAAC0C,YAAnC;AACD;;AAED,QAAIoE,QAAQ,CAAC9G,IAAI,CAACqB,WAAN,CAAZ,EAAgC,KAAKulD,YAAL,CAAkB5mD,IAAI,CAACqB,WAAvB;;AAEhC,QAAIyF,QAAQ,CAAC9G,IAAI,CAACysD,sBAAN,CAAZ,EAA2C;AACzC,WAAKjlC,aAAL,CAAmByiC,cAAnB,GAAoCjqD,IAAI,CAACysD,sBAAzC;AACD;;AAED,QAAI3lD,QAAQ,CAAC9G,IAAI,CAAC0sD,mBAAN,CAAZ,EAAwC;AACtC,WAAKJ,gBAAL,CAAsBtsD,IAAI,CAAC0sD,mBAAL,GAA2B,KAAKllC,aAAL,CAAmBtmB,QAApE;AACD;;AAED,QAAI4F,QAAQ,CAAC9G,IAAI,CAACuB,MAAN,CAAZ,EAA2B,KAAKmX,QAAL,CAAc,QAAd,EAAwB1Y,IAAI,CAACuB,MAA7B;AAC3B,QAAI4F,SAAS,CAACnH,IAAI,CAACoE,KAAN,CAAb,EAA2B,KAAKsU,QAAL,CAAc,OAAd,EAAuB1Y,IAAI,CAACoE,KAA5B;;AAE3B,QAAImD,OAAO,CAACvH,IAAI,CAAC2sD,sBAAN,CAAX,EAA0C;AACxC,WAAKj0C,QAAL,CAAc,mBAAd,EAAmC1Y,IAAI,CAAC2sD,sBAAL,CAA4B59C,GAA5B,CAAgCsb,CAAC,IAAIy/B,yBAAyB,CAACz/B,CAAD,CAA9D,CAAnC;AACD;;AAED,QAAIpjB,QAAQ,CAACjH,IAAI,CAAC2C,eAAN,CAAZ,EAAoC;AAClC,WAAK+V,QAAL,CAAc,iBAAd,EAAiCoxC,yBAAyB,CAAC9pD,IAAI,CAAC2C,eAAN,CAA1D;AACD;;AAED,QAAImE,QAAQ,CAAC9G,IAAI,CAAC4sD,WAAN,CAAZ,EAAgC,KAAKZ,mBAAL,CAAyBhsD,IAAI,CAAC4sD,WAA9B;AACjC;;AAEDr4C,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,GAAGza,OAAO,CAAC0a,CAAZ,EAAe,UAAf,EAA2B;AAChCkT,MAAAA,QAAQ,EAAE,KAAKA,QADiB;AAEhCnkB,MAAAA,UAAU,EAAE,KAAKA,UAFe;AAGhC0oB,MAAAA,MAAM,EAAE,KAAK/D,SAAL,EAHwB;AAIhCpD,MAAAA,MAAM,EAAE,KAAKkE,WAAL,EAJwB;AAKhCkD,MAAAA,OAAO,EAAE5H,UALuB;AAMhC6H,MAAAA,cAAc,EAAE,KAAKxD,iBAAL,EANgB;AAOhCkkC,MAAAA,eAAe,EAAE,KAAKnB,aAAL,CAAmBx1C,IAAnB,CAAwB,IAAxB,CAPe;AAQhCkW,MAAAA,gBAAgB,EAAE,KAAK3C,cAAL,CAAoBvT,IAApB,CAAyB,IAAzB,CARc;AAShCmW,MAAAA,kBAAkB,EAAE,KAAK7C,gBAAL,CAAsBtT,IAAtB,CAA2B,IAA3B,CATY;AAUhCvO,MAAAA,GAAG,EAAEC,EAAE,IAAI;AACT,aAAKihB,KAAL,GAAajhB,EAAb;AACD;AAZ+B,KAA3B,CAAP;AAcD;;AAEkB,aAAR2O,QAAQ,GAAG;AACpB,WAAO;AACL,iBAAW,CAAC,iBAAD,CADN;AAEL,iBAAW,CAAC,iBAAD,CAFN;AAGL,gBAAU,CAAC,sBAAD;AAHL,KAAP;AAKD;;AAEe,aAALC,KAAK,GAAG;AACjB,WAAOuzC,UAAP;AACD;;AA9dqC,CAAxC;AAieA,IAAIxsD,OAAO,GAAG,aAAa,CAAC,GAAGzD,OAAO,CAACgzD,kBAAZ,EAAgCt5C,KAAhC,EAAuC,CAAC,CAAD,EAAI,UAAJ,EAAgB;AAChF,gBAAc,CAAC,CAAD,EAAI,aAAJ,CADkE;AAEhF,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAFiE;AAGhF,aAAW,CAAC,CAAD,CAHqE;AAIhF,2BAAyB,CAAC,CAAD,EAAI,yBAAJ,CAJuD;AAKhF,gBAAc,CAAC,CAAD,EAAI,aAAJ;AALkE,CAAhB,CAAvC,CAA3B;AAOAna,OAAO,CAACkE,OAAR,GAAkBA,OAAlB;AACA,IAAID,gBAAgB,GAAG,aAAa,CAAC,GAAGxD,OAAO,CAACgzD,kBAAZ,EAAgCj4C,cAAhC,EAAgD,CAAC,CAAD,EAAI,oBAAJ,EAA0B;AAC5G,cAAY,CAAC,CAAD,EAAI,WAAJ,CADgG;AAE5G,cAAY,CAAC,CAAD,EAAI,WAAJ,CAFgG;AAG5G,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAHyF;AAI5G,sBAAoB,CAAC,CAAD,EAAI,mBAAJ,CAJwF;AAK5G,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAL6F;AAM5G,WAAS,CAAC,CAAD,CANmG;AAO5G,UAAQ,CAAC,CAAD,CAPoG;AAQ5G,UAAQ,CAAC,EAAD,CARoG;AAS5G,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAT2F;AAU5G,gBAAc,CAAC,EAAD,CAV8F;AAW5G,wBAAsB,CAAC,CAAD,EAAI,uBAAJ,CAXsF;AAY5G,gCAA8B,CAAC,EAAD;AAZ8E,CAA1B,CAAhD,CAApC;AAcAxb,OAAO,CAACiE,gBAAR,GAA2BA,gBAA3B;AACA,IAAID,UAAU,GAAG,aAAa,CAAC,GAAGvD,OAAO,CAACgzD,kBAAZ,EAAgC/0C,QAAhC,EAA0C,CAAC,CAAD,EAAI,aAAJ,EAAmB;AACzF,YAAU,CAAC,CAAD,CAD+E;AAEzF,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAFqE;AAGzF,iBAAe,CAAC,CAAD,EAAI,eAAJ,CAH0E;AAIzF,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAJsE;AAKzF,gBAAc,CAAC,EAAD,CAL2E;AAMzF,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CANqE;AAOzF,wBAAsB,CAAC,CAAD,EAAI,uBAAJ,CAPmE;AAQzF,eAAa,CAAC,EAAD,CAR4E;AASzF,SAAO,CAAC,EAAD,CATkF;AAUzF,cAAY,CAAC,EAAD;AAV6E,CAAnB,CAA1C,CAA9B;AAYA1e,OAAO,CAACgE,UAAR,GAAqBA,UAArB;AACA,IAAID,aAAa,GAAG,aAAa,CAAC,GAAGtD,OAAO,CAACgzD,kBAAZ,EAAgCzyC,WAAhC,EAA6C,CAAC,CAAD,EAAI,kBAAJ,EAAwB;AACpG,iBAAe,CAAC,CAAD,EAAI,eAAJ,CADqF;AAEpG,YAAU,CAAC,CAAD,CAF0F;AAGpG,iBAAe,CAAC,CAAD,EAAI,eAAJ,CAHqF;AAIpG,cAAY,CAAC,CAAD,EAAI,WAAJ;AAJwF,CAAxB,CAA7C,CAAjC;AAMAhhB,OAAO,CAAC+D,aAAR,GAAwBA,aAAxB;AACA,IAAID,SAAS,GAAG,aAAa,CAAC,GAAGrD,OAAO,CAACgzD,kBAAZ,EAAgCnyC,OAAhC,EAAyC,CAAC,CAAD,EAAI,YAAJ,EAAkB;AACtF,UAAQ,CAAC,CAAD,CAD8E;AAEtF,gBAAc,CAAC,CAAD,CAFwE;AAGtF,YAAU,CAAC,CAAD,CAH4E;AAItF,WAAS,CAAC,CAAD,CAJ6E;AAKtF,UAAQ,CAAC,CAAD,CAL8E;AAMtF,cAAY,CAAC,CAAD,CAN0E;AAOtF,aAAW,CAAC,CAAD,CAP2E;AAQtF,aAAW,CAAC,CAAD,EAAI,UAAJ,CAR2E;AAStF,iBAAe,CAAC,EAAD,CATuE;AAUtF,sBAAoB,CAAC,EAAD;AAVkE,CAAlB,CAAzC,CAA7B;AAYAthB,OAAO,CAAC8D,SAAR,GAAoBA,SAApB;AACA,IAAID,cAAc,GAAG,aAAa,CAAC,GAAGpD,OAAO,CAACgzD,kBAAZ,EAAgCxvC,cAAhC,EAAgD,CAAC,CAAD,EAAI,kBAAJ,EAAwB;AACxG,WAAS,CAAC,CAAD;AAD+F,CAAxB,CAAhD,CAAlC;AAGAjkB,OAAO,CAAC6D,cAAR,GAAyBA,cAAzB;AACA,IAAID,eAAe,GAAG,aAAa,CAAC,GAAGnD,OAAO,CAACgzD,kBAAZ,EAAgClvC,aAAhC,EAA+C,CAAC,CAAD,EAAI,mBAAJ,CAA/C,CAAnC;AACAvkB,OAAO,CAAC4D,eAAR,GAA0BA,eAA1B;AACA,IAAID,UAAU,GAAG,aAAa,CAAC,GAAGlD,OAAO,CAACgzD,kBAAZ,EAAgCpuC,QAAhC,EAA0C,CAAC,CAAD,EAAI,aAAJ,EAAmB;AACzF,YAAU,CAAC,CAAD,CAD+E;AAEzF,eAAa,CAAC,CAAD,EAAI,YAAJ,CAF4E;AAGzF,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAH2E;AAIzF,eAAa,CAAC,CAAD,CAJ4E;AAKzF,WAAS,CAAC,CAAD,CALgF;AAMzF,aAAW,CAAC,CAAD,CAN8E;AAOzF,SAAO,CAAC,GAAD,CAPkF;AAQzF,oBAAkB,CAAC,CAAD,EAAI,iBAAJ,CARuE;AASzF,0BAAwB,CAAC,CAAD,EAAI,yBAAJ,CATiE;AAUzF,oBAAkB,CAAC,CAAD,EAAI,kBAAJ,CAVuE;AAWzF,sBAAoB,CAAC,CAAD,EAAI,qBAAJ,CAXqE;AAYzF,iBAAe,CAAC,CAAD,EAAI,eAAJ,CAZ0E;AAazF,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAbqE;AAczF,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAdwE;AAezF,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAfqE;AAgBzF,YAAU,CAAC,CAAD,CAhB+E;AAiBzF,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAjBsE;AAkBzF,mBAAiB,CAAC,EAAD;AAlBwE,CAAnB,CAA1C,CAA9B;AAoBArlB,OAAO,CAAC2D,UAAR,GAAqBA,UAArB;AACA,IAAID,aAAa,GAAG,aAAa,CAAC,GAAGjD,OAAO,CAACgzD,kBAAZ,EAAgCzsC,WAAhC,EAA6C,CAAC,CAAD,EAAI,iBAAJ,EAAuB;AACnG,iBAAe,CAAC,CAAD,EAAI,cAAJ,CADoF;AAEnG,UAAQ,CAAC,EAAD,CAF2F;AAGnG,qBAAmB,CAAC,CAAD,EAAI,mBAAJ;AAHgF,CAAvB,CAA7C,CAAjC;AAKAhnB,OAAO,CAAC0D,aAAR,GAAwBA,aAAxB;AACA,IAAID,aAAa,GAAG,aAAa,CAAC,GAAGhD,OAAO,CAACgzD,kBAAZ,EAAgC1lC,WAAhC,EAA6C,CAAC,CAAD,EAAI,gBAAJ,EAAsB;AAClG,aAAW,CAAC,CAAD,EAAI,UAAJ,CADuF;AAElG,yBAAuB,CAAC,CAAD,EAAI,uBAAJ,CAF2E;AAGlG,qBAAmB,CAAC,CAAD,EAAI,oBAAJ,CAH+E;AAIlG,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAJ8E;AAKlG,WAAS,CAAC,CAAD,CALyF;AAMlG,iBAAe,CAAC,CAAD,CANmF;AAOlG,yBAAuB,CAAC,CAAD,EAAI,uBAAJ,CAP2E;AAQlG,mBAAiB,CAAC,CAAD,EAAI,iBAAJ,CARiF;AASlG,cAAY,CAAC,CAAD,CATsF;AAUlG,cAAY,CAAC,CAAD,CAVsF;AAWlG,cAAY,CAAC,CAAD,CAXsF;AAYlG,YAAU,CAAC,CAAD,CAZwF;AAalG,YAAU,CAAC,EAAD,CAbwF;AAclG,UAAQ,CAAC,CAAD,CAd0F;AAelG,WAAS,CAAC,CAAD,CAfyF;AAgBlG,iBAAe,CAAC,CAAD,CAhBmF;AAiBlG,cAAY,CAAC,EAAD,CAjBsF;AAkBlG,gBAAc,CAAC,EAAD;AAlBoF,CAAtB,CAA7C,CAAjC;AAoBA/tB,OAAO,CAACyD,aAAR,GAAwBA,aAAxB;AACA,IAAID,MAAM,GAAG,aAAa,CAAC,GAAG/C,OAAO,CAACgzD,kBAAZ,EAAgCvgC,IAAhC,EAAsC,CAAC,CAAD,EAAI,SAAJ,EAAe;AAC7E,SAAO,CAAC,CAAD,CADsE;AAE7E,aAAW,CAAC,CAAD,CAFkE;AAG7E,YAAU,CAAC,CAAD,EAAI,SAAJ,CAHmE;AAI7E,YAAU,CAAC,EAAD,CAJmE;AAK7E,cAAY,CAAC,CAAD,CALiE;AAM7E,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAN8D;AAO7E,aAAW,CAAC,CAAD,CAPkE;AAQ7E,YAAU,CAAC,CAAD,CARmE;AAS7E,kBAAgB,CAAC,CAAD,EAAI,eAAJ,CAT6D;AAU7E,aAAW,CAAC,CAAD,EAAI,UAAJ,CAVkE;AAW7E,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAX+D;AAY7E,2BAAyB,CAAC,CAAD,EAAI,yBAAJ,CAZoD;AAa7E,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAb+D;AAc7E,+BAA6B,CAAC,CAAD,EAAI,+BAAJ,CAdgD;AAe7E,kCAAgC,CAAC,CAAD,EAAI,kCAAJ,CAf6C;AAgB7E,wBAAsB,CAAC,CAAD,EAAI,uBAAJ,CAhBuD;AAiB7E,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAjByD;AAkB7E,iBAAe,CAAC,EAAD;AAlB8D,CAAf,EAmB7D,CAAC,CAAC,CAAD,EAAI,iBAAJ,EAAuB,iBAAvB,CAAD,CAnB6D,CAAtC,CAA1B;AAoBAlzB,OAAO,CAACwD,MAAR,GAAiBA,MAAjB;AACA,IAAID,oBAAoB,GAAG,aAAa,CAAC,GAAG9C,OAAO,CAACgzD,kBAAZ,EAAgC/6B,kBAAhC,EAAoD,CAAC,CAAD,EAAI,yBAAJ,EAA+B;AACzH,iBAAe,CAAC,CAAD,EAAI,eAAJ,CAD0G;AAEzH,wBAAsB,CAAC,CAAD,EAAI,sBAAJ,CAFmG;AAGzH,iBAAe,CAAC,CAAD,EAAI,eAAJ,CAH0G;AAIzH,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAJwG;AAKzH,cAAY,CAAC,CAAD,EAAI,WAAJ,CAL6G;AAMzH,sBAAoB,CAAC,EAAD;AANqG,CAA/B,CAApD,CAAxC;AAQA14B,OAAO,CAACuD,oBAAR,GAA+BA,oBAA/B;AACA,IAAID,iBAAiB,GAAG,aAAa,CAAC,GAAG7C,OAAO,CAACgzD,kBAAZ,EAAgCr6B,eAAhC,EAAiD,CAAC,CAAD,EAAI,qBAAJ,EAA2B;AAC/G,oBAAkB,CAAC,CAAD,EAAI,iBAAJ,CAD6F;AAE/G,0BAAwB,CAAC,CAAD,EAAI,yBAAJ,CAFuF;AAG/G,oBAAkB,CAAC,CAAD,EAAI,kBAAJ,CAH6F;AAI/G,sBAAoB,CAAC,CAAD,EAAI,qBAAJ,CAJ2F;AAK/G,WAAS,CAAC,CAAD,CALsG;AAM/G,cAAY,CAAC,CAAD,EAAI,WAAJ,CANmG;AAO/G,YAAU,CAAC,CAAD,EAAI,SAAJ,CAPqG;AAQ/G,iBAAe,CAAC,CAAD,EAAI,eAAJ,CARgG;AAS/G,iBAAe,CAAC,CAAD,EAAI,eAAJ;AATgG,CAA3B,CAAjD,CAArC;AAWAp5B,OAAO,CAACsD,iBAAR,GAA4BA,iBAA5B;AACA,IAAID,iBAAiB,GAAG,aAAa,CAAC,GAAG5C,OAAO,CAACgzD,kBAAZ,EAAgC55B,eAAhC,EAAiD,CAAC,CAAD,EAAI,qBAAJ,EAA2B;AAC/G,SAAO,CAAC,GAAD,CADwG;AAE/G,UAAQ,CAAC,EAAD,CAFuG;AAG/G,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAH8F;AAI/G,kBAAgB,CAAC,CAAD,EAAI,eAAJ,CAJ+F;AAK/G,mBAAiB,CAAC,EAAD,CAL8F;AAM/G,iBAAe,CAAC,CAAD,EAAI,eAAJ,CANgG;AAO/G,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAP4F;AAQ/G,uBAAqB,CAAC,EAAD,CAR0F;AAS/G,gBAAc,CAAC,EAAD,CATiG;AAU/G,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAV2F;AAW/G,iBAAe,CAAC,EAAD,CAXgG;AAY/G,uBAAqB,CAAC,CAAD,EAAI,qBAAJ,CAZ0F;AAa/G,wBAAsB,CAAC,CAAD,EAAI,uBAAJ,CAbyF;AAc/G,wBAAsB,CAAC,EAAD,CAdyF;AAe/G,2BAAyB,CAAC,EAAD,CAfsF;AAgB/G,qBAAmB,CAAC,EAAD,CAhB4F;AAiB/G,sBAAoB,CAAC,EAAD;AAjB2F,CAA3B,CAAjD,CAArC;AAmBA75B,OAAO,CAACqD,iBAAR,GAA4BA,iBAA5B;AACA,IAAID,WAAW,GAAG,aAAa,CAAC,GAAG3C,OAAO,CAACgzD,kBAAZ,EAAgCv3B,SAAhC,EAA2C,CAAC,CAAD,EAAI,eAAJ,EAAqB;AAC7F,mBAAiB,CAAC,CAAD,EAAI,kBAAJ,CAD4E;AAE7F,0BAAwB,CAAC,CAAD,EAAI,yBAAJ,CAFqE;AAG7F,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAH+E;AAI7F,cAAY,CAAC,CAAD,EAAI,WAAJ,CAJiF;AAK7F,eAAa,CAAC,CAAD,EAAI,YAAJ,CALgF;AAM7F,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAN+E;AAO7F,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAP+E;AAQ7F,qBAAmB,CAAC,CAAD,EAAI,mBAAJ;AAR0E,CAArB,CAA3C,CAA/B;AAUAl8B,OAAO,CAACoD,WAAR,GAAsBA,WAAtB;AACA,IAAID,OAAO,GAAG,aAAa,CAAC,GAAG1C,OAAO,CAACgzD,kBAAZ,EAAgC30B,KAAhC,EAAuC,CAAC,CAAD,EAAI,UAAJ,EAAgB;AAChF,cAAY,CAAC,CAAD,EAAI,WAAJ,CADoE;AAEhF,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAFkE;AAGhF,YAAU,CAAC,CAAD,CAHsE;AAIhF,YAAU,CAAC,CAAD,CAJsE;AAKhF,oBAAkB,CAAC,EAAD,CAL8D;AAMhF,aAAW,CAAC,EAAD,CANqE;AAOhF,mBAAiB,CAAC,EAAD,CAP+D;AAQhF,wBAAsB,CAAC,EAAD;AAR0D,CAAhB,EAS/D,CAAC,CAAC,CAAD,EAAI,SAAJ,EAAe,iBAAf,CAAD,CAT+D,CAAvC,CAA3B;AAUA9+B,OAAO,CAACmD,OAAR,GAAkBA,OAAlB;AACA,IAAID,SAAS,GAAG,aAAa,CAAC,GAAGzC,OAAO,CAACgzD,kBAAZ,EAAgC/yB,OAAhC,EAAyC,CAAC,CAAD,EAAI,aAAJ,EAAmB;AACvF,cAAY,CAAC,CAAD,CAD2E;AAEvF,UAAQ,CAAC,EAAD,CAF+E;AAGvF,qBAAmB,CAAC,CAAD,EAAI,mBAAJ;AAHoE,CAAnB,CAAzC,CAA7B;AAKA1gC,OAAO,CAACkD,SAAR,GAAoBA,SAApB;AACA,IAAID,MAAM,GAAG,aAAa,CAAC,GAAGxC,OAAO,CAACgzD,kBAAZ,EAAgC7yB,IAAhC,EAAsC,CAAC,CAAD,EAAI,SAAJ,EAAe;AAC7E,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAD+D;AAE7E,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAF8D;AAG7E,aAAW,CAAC,CAAD,CAHkE;AAI7E,YAAU,CAAC,CAAD,CAJmE;AAK7E,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAL+D;AAM7E,kBAAgB,CAAC,CAAD,EAAI,eAAJ,CAN6D;AAO7E,aAAW,CAAC,CAAD,EAAI,UAAJ,CAPkE;AAQ7E,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAR+D;AAS7E,2BAAyB,CAAC,CAAD,EAAI,yBAAJ,CAToD;AAU7E,cAAY,CAAC,CAAD,EAAI,WAAJ,CAViE;AAW7E,mBAAiB,CAAC,EAAD,CAX4D;AAY7E,cAAY,CAAC,CAAD,CAZiE;AAa7E,cAAY,CAAC,CAAD,CAbiE;AAc7E,cAAY,CAAC,CAAD,CAdiE;AAe7E,YAAU,CAAC,EAAD,CAfmE;AAgB7E,UAAQ,CAAC,CAAD,CAhBqE;AAiB7E,WAAS,CAAC,CAAD,CAjBoE;AAkB7E,iBAAe,CAAC,CAAD,CAlB8D;AAmB7E,eAAa,CAAC,CAAD,EAAI,YAAJ,CAnBgE;AAoB7E,YAAU,CAAC,CAAD,CApBmE;AAqB7E,iBAAe,CAAC,CAAD,EAAI,cAAJ,CArB8D;AAsB7E,YAAU,CAAC,CAAD,CAtBmE;AAuB7E,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAvB4D;AAwB7E,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAxB0D;AAyB7E,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAzByD;AA0B7E,0BAAwB,CAAC,CAAD,EAAI,yBAAJ,CA1BqD;AA2B7E,wBAAsB,CAAC,CAAD,EAAI,uBAAJ,CA3BuD;AA4B7E,kCAAgC,CAAC,CAAD,EAAI,kCAAJ,CA5B6C;AA6B7E,cAAY,CAAC,EAAD;AA7BiE,CAAf,EA8B7D,CAAC,CAAC,CAAD,EAAI,wBAAJ,EAA8B,mBAA9B,CAAD,EAAqD,CAAC,CAAD,EAAI,2BAAJ,EAAiC,sBAAjC,CAArD,CA9B6D,CAAtC,CAA1B;AA+BA5gC,OAAO,CAACiD,MAAR,GAAiBA,MAAjB;AACA,IAAID,mBAAmB,GAAG,aAAa,CAAC,GAAGvC,OAAO,CAACgzD,kBAAZ,EAAgCrrB,iBAAhC,EAAmD,CAAC,CAAD,EAAI,uBAAJ,EAA6B;AACrH,eAAa,CAAC,CAAD,EAAI,YAAJ,CADwG;AAErH,cAAY,CAAC,CAAD,EAAI,WAAJ,CAFyG;AAGrH,WAAS,CAAC,CAAD,CAH4G;AAIrH,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAJkG;AAKrH,sBAAoB,CAAC,CAAD,EAAI,mBAAJ,CALiG;AAMrH,iBAAe,CAAC,CAAD,EAAI,cAAJ,CANsG;AAOrH,UAAQ,CAAC,CAAD,CAP6G;AAQrH,wBAAsB,CAAC,CAAD,EAAI,sBAAJ,CAR+F;AASrH,UAAQ,CAAC,EAAD,CAT6G;AAUrH,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAVoG;AAWrH,sBAAoB,CAAC,EAAD;AAXiG,CAA7B,CAAnD,CAAvC;AAaApoC,OAAO,CAACgD,mBAAR,GAA8BA,mBAA9B;AACA,IAAID,KAAK,GAAG,aAAa,CAAC,GAAGtC,OAAO,CAACgzD,kBAAZ,EAAgChrB,GAAhC,EAAqC,CAAC,CAAD,EAAI,QAAJ,EAAc;AAC1E,aAAW,CAAC,CAAD,CAD+D;AAE1E,YAAU,CAAC,CAAD,EAAI,SAAJ,CAFgE;AAG1E,YAAU,CAAC,CAAD,CAHgE;AAI1E,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAJ2D;AAK1E,aAAW,CAAC,CAAD,CAL+D;AAM1E,YAAU,CAAC,CAAD,CANgE;AAO1E,kBAAgB,CAAC,CAAD,EAAI,eAAJ,CAP0D;AAQ1E,aAAW,CAAC,CAAD,EAAI,UAAJ,CAR+D;AAS1E,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAT4D;AAU1E,2BAAyB,CAAC,CAAD,EAAI,yBAAJ,CAViD;AAW1E,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAXyD;AAY1E,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAZ4D;AAa1E,iBAAe,CAAC,EAAD;AAb2D,CAAd,EAc3D,CAAC,CAAC,CAAD,EAAI,iBAAJ,EAAuB,iBAAvB,CAAD,EAA4C,CAAC,CAAD,EAAI,gBAAJ,EAAsB,aAAtB,CAA5C,CAd2D,CAArC,CAAzB;AAeAzoC,OAAO,CAAC+C,KAAR,GAAgBA,KAAhB;AACA,IAAID,MAAM,GAAG,aAAa,CAAC,GAAGrC,OAAO,CAACgzD,kBAAZ,EAAgC1mB,IAAhC,EAAsC,CAAC,CAAD,EAAI,SAAJ,EAAe;AAC7E,UAAQ,CAAC,CAAD,CADqE;AAE7E,SAAO,CAAC,CAAD,CAFsE;AAG7E,WAAS,CAAC,CAAD,CAHoE;AAI7E,aAAW,CAAC,CAAD,CAJkE;AAK7E,WAAS,CAAC,CAAD,CALoE;AAM7E,SAAO,CAAC,EAAD;AANsE,CAAf,CAAtC,CAA1B;AAQA/sC,OAAO,CAAC8C,MAAR,GAAiBA,MAAjB;AACA,IAAID,aAAa,GAAG,aAAa,CAAC,GAAGpC,OAAO,CAACgzD,kBAAZ,EAAgC5lB,WAAhC,EAA6C,CAAC,CAAD,EAAI,iBAAJ,EAAuB;AACnG,UAAQ,CAAC,CAAD,CAD2F;AAEnG,cAAY,CAAC,EAAD,CAFuF;AAGnG,WAAS,CAAC,CAAD;AAH0F,CAAvB,CAA7C,CAAjC;AAKA7tC,OAAO,CAAC6C,aAAR,GAAwBA,aAAxB;AACA,IAAID,eAAe,GAAG,aAAa,CAAC,GAAGnC,OAAO,CAACgzD,kBAAZ,EAAgCvlB,aAAhC,EAA+C,CAAC,CAAD,EAAI,mBAAJ,EAAyB;AACzG,YAAU,CAAC,CAAD,EAAI,SAAJ,CAD+F;AAEzG,UAAQ,CAAC,EAAD;AAFiG,CAAzB,CAA/C,CAAnC;AAIAluC,OAAO,CAAC4C,eAAR,GAA0BA,eAA1B;AACA,IAAID,eAAe,GAAG,aAAa,CAAC,GAAGlC,OAAO,CAACgzD,kBAAZ,EAAgCplB,aAAhC,EAA+C,CAAC,CAAD,EAAI,mBAAJ,EAAyB;AACzG,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CADwF;AAEzG,cAAY,CAAC,CAAD,EAAI,WAAJ;AAF6F,CAAzB,CAA/C,CAAnC;AAIAruC,OAAO,CAAC2C,eAAR,GAA0BA,eAA1B;AACA,IAAID,MAAM,GAAG,aAAa,CAAC,GAAGjC,OAAO,CAACgzD,kBAAZ,EAAgCpkB,IAAhC,EAAsC,CAAC,CAAD,EAAI,SAAJ,EAAe;AAC7E,YAAU,CAAC,IAAD,CADmE;AAE7E,gBAAc,CAAC,CAAD,CAF+D;AAG7E,gBAAc,CAAC,EAAD,CAH+D;AAI7E,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAJyD;AAK7E,oBAAkB,CAAC,EAAD,CAL2D;AAM7E,mBAAiB,CAAC,EAAD;AAN4D,CAAf,EAO7D,CAAC,CAAC,CAAD,EAAI,eAAJ,EAAqB,eAArB,CAAD,EAAwC,CAAC,CAAD,EAAI,gBAAJ,EAAsB,gBAAtB,CAAxC,EAAiF,CAAC,CAAD,EAAI,OAAJ,EAAa,eAAb,CAAjF,EAAgH,CAAC,CAAD,EAAI,SAAJ,EAAe,iBAAf,CAAhH,CAP6D,CAAtC,CAA1B;AAQArvC,OAAO,CAAC0C,MAAR,GAAiBA,MAAjB;AACA,IAAID,UAAU,GAAG,aAAa,CAAC,GAAGhC,OAAO,CAACgzD,kBAAZ,EAAgClgB,QAAhC,EAA0C,CAAC,CAAD,EAAI,cAAJ,EAAoB;AAC1F,gBAAc,CAAC,CAAD,CAD4E;AAE1F,YAAU,CAAC,CAAD,CAFgF;AAG1F,WAAS,CAAC,CAAD,CAHiF;AAI1F,UAAQ,CAAC,EAAD,CAJkF;AAK1F,cAAY,CAAC,CAAD,CAL8E;AAM1F,aAAW,CAAC,CAAD,CAN+E;AAO1F,UAAQ,CAAC,CAAD,CAPkF;AAQ1F,WAAS,CAAC,CAAD,CARiF;AAS1F,eAAa,CAAC,CAAD,EAAI,YAAJ,CAT6E;AAU1F,WAAS,CAAC,CAAD,CAViF;AAW1F,aAAW,CAAC,CAAD,EAAI,UAAJ,CAX+E;AAY1F,sBAAoB,CAAC,EAAD;AAZsE,CAApB,CAA1C,CAA9B;AAcAvzC,OAAO,CAACyC,UAAR,GAAqBA,UAArB;AACA,IAAID,WAAW,GAAG,aAAa,CAAC,GAAG/B,OAAO,CAACgzD,kBAAZ,EAAgCve,SAAhC,EAA2C,CAAC,CAAD,EAAI,eAAJ,EAAqB;AAC7F,WAAS,CAAC,CAAD,CADoF;AAE7F,WAAS,CAAC,CAAD,CAFoF;AAG7F,aAAW,CAAC,IAAD,CAHkF;AAI7F,WAAS,CAAC,CAAD,CAJoF;AAK7F,eAAa,CAAC,CAAD,EAAI,YAAJ,CALgF;AAM7F,WAAS,CAAC,CAAD;AANoF,CAArB,CAA3C,CAA/B;AAQAl1C,OAAO,CAACwC,WAAR,GAAsBA,WAAtB;AACA,IAAID,gBAAgB,GAAG,aAAa,CAAC,GAAG9B,OAAO,CAACgzD,kBAAZ,EAAgCre,cAAhC,EAAgD,CAAC,CAAD,EAAI,qBAAJ,EAA2B;AAC7G,WAAS,CAAC,IAAD;AADoG,CAA3B,EAEjF,CAAC,CAAC,CAAD,EAAI,SAAJ,EAAe,mBAAf,CAAD,CAFiF,CAAhD,CAApC;AAGAp1C,OAAO,CAACuC,gBAAR,GAA2BA,gBAA3B;AACA,IAAID,aAAa,GAAG,aAAa,CAAC,GAAG7B,OAAO,CAACgzD,kBAAZ,EAAgC/d,WAAhC,EAA6C,CAAC,CAAD,EAAI,iBAAJ,EAAuB;AACnG,mBAAiB,CAAC,CAAD,EAAI,iBAAJ,CADkF;AAEnG,oBAAkB,CAAC,CAAD,EAAI,kBAAJ,CAFiF;AAGnG,eAAa,CAAC,CAAD,EAAI,YAAJ,CAHsF;AAInG,WAAS,CAAC,CAAD,CAJ0F;AAKnG,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CALgF;AAMnG,sBAAoB,CAAC,CAAD,EAAI,mBAAJ,CAN+E;AAOnG,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAPoF;AAQnG,UAAQ,CAAC,CAAD,CAR2F;AASnG,YAAU,CAAC,CAAD,CATyF;AAUnG,WAAS,CAAC,CAAD,CAV0F;AAWnG,UAAQ,CAAC,EAAD;AAX2F,CAAvB,CAA7C,CAAjC;AAaA11C,OAAO,CAACsC,aAAR,GAAwBA,aAAxB;AACA,IAAID,YAAY,GAAG,aAAa,CAAC,GAAG5B,OAAO,CAACgzD,kBAAZ,EAAgCxd,UAAhC,EAA4C,CAAC,CAAD,EAAI,gBAAJ,EAAsB;AAChG,eAAa,CAAC,CAAD,EAAI,YAAJ,CADmF;AAEhG,cAAY,CAAC,CAAD,EAAI,WAAJ,CAFoF;AAGhG,WAAS,CAAC,CAAD,CAHuF;AAIhG,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAJ6E;AAKhG,sBAAoB,CAAC,CAAD,EAAI,mBAAJ,CAL4E;AAMhG,iBAAe,CAAC,CAAD,EAAI,cAAJ,CANiF;AAOhG,UAAQ,CAAC,CAAD,CAPwF;AAQhG,iBAAe,CAAC,CAAD,EAAI,gBAAJ,CARiF;AAShG,UAAQ,CAAC,EAAD,CATwF;AAUhG,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAV+E;AAWhG,eAAa,CAAC,EAAD;AAXmF,CAAtB,CAA5C,CAAhC;AAaAj2C,OAAO,CAACqC,YAAR,GAAuBA,YAAvB;AACA,IAAID,iBAAiB,GAAG,aAAa,CAAC,GAAG3B,OAAO,CAACgzD,kBAAZ,EAAgCrd,eAAhC,EAAiD,CAAC,CAAD,EAAI,qBAAJ,EAA2B;AAC/G,cAAY,CAAC,CAAD,EAAI,WAAJ,CADmG;AAE/G,eAAa,CAAC,CAAD,EAAI,YAAJ,CAFkG;AAG/G,WAAS,CAAC,CAAD,CAHsG;AAI/G,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAJ4F;AAK/G,sBAAoB,CAAC,CAAD,EAAI,mBAAJ,CAL2F;AAM/G,iBAAe,CAAC,CAAD,EAAI,cAAJ,CANgG;AAO/G,UAAQ,CAAC,CAAD,CAPuG;AAQ/G,YAAU,CAAC,CAAD,CARqG;AAS/G,UAAQ,CAAC,EAAD;AATuG,CAA3B,CAAjD,CAArC;AAWAp2C,OAAO,CAACoC,iBAAR,GAA4BA,iBAA5B;AACA,IAAID,QAAQ,GAAG,aAAa,CAAC,GAAG1B,OAAO,CAACgzD,kBAAZ,EAAgC3Z,MAAhC,EAAwC,CAAC,CAAD,EAAI,WAAJ,EAAiB;AACnF,YAAU,CAAC,EAAD,CADyE;AAEnF,WAAS,CAAC,GAAD,CAF0E;AAGnF,WAAS,CAAC,GAAD,CAH0E;AAInF,YAAU,CAAC,IAAD,CAJyE;AAKnF,aAAW,CAAC,IAAD,CALwE;AAMnF,cAAY,CAAC,IAAD,CANuE;AAOnF,gBAAc,CAAC,IAAD,EAAO,aAAP,CAPqE;AAQnF,qBAAmB,CAAC,IAAD,EAAO,kBAAP,CARgE;AASnF,gBAAc,CAAC,IAAD,EAAO,aAAP,CATqE;AAUnF,mBAAiB,CAAC,IAAD,EAAO,gBAAP,CAVkE;AAWnF,iBAAe,CAAC,IAAD,EAAO,cAAP,CAXoE;AAYnF,cAAY,CAAC,CAAD,CAZuE;AAanF,WAAS,CAAC,IAAD,CAb0E;AAcnF,mBAAiB,CAAC,IAAD,EAAO,gBAAP,CAdkE;AAenF,UAAQ,CAAC,CAAD,CAf2E;AAgBnF,WAAS,CAAC,IAAD,CAhB0E;AAiBnF,cAAY,CAAC,IAAD,CAjBuE;AAkBnF,kBAAgB,CAAC,IAAD,EAAO,eAAP,CAlBmE;AAmBnF,mBAAiB,CAAC,IAAD,CAnBkE;AAoBnF,qBAAmB,CAAC,IAAD,EAAO,kBAAP,CApBgE;AAqBnF,uBAAqB,CAAC,IAAD,CArB8D;AAsBnF,aAAW,CAAC,IAAD,CAtBwE;AAuBnF,WAAS,CAAC,CAAD,CAvB0E;AAwBnF,qBAAmB,CAAC,IAAD,EAAO,kBAAP,CAxBgE;AAyBnF,mBAAiB,CAAC,IAAD,EAAO,gBAAP,CAzBkE;AA0BnF,eAAa,CAAC,IAAD,CA1BsE;AA2BnF,cAAY,CAAC,CAAD,CA3BuE;AA4BnF,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CA5B+D;AA6BnF,sBAAoB,CAAC,IAAD,EAAO,oBAAP,CA7B+D;AA8BnF,YAAU,CAAC,IAAD,CA9ByE;AA+BnF,wBAAsB,CAAC,IAAD,EAAO,sBAAP,CA/B6D;AAgCnF,iBAAe,CAAC,IAAD,EAAO,cAAP,CAhCoE;AAiCnF,cAAY,CAAC,IAAD,EAAO,WAAP,CAjCuE;AAkCnF,iBAAe,CAAC,IAAD,EAAO,eAAP,CAlCoE;AAmCnF,iBAAe,CAAC,IAAD,EAAO,eAAP,CAnCoE;AAoCnF,eAAa,CAAC,IAAD,EAAO,YAAP,CApCsE;AAqCnF,aAAW,CAAC,IAAD,EAAO,UAAP,CArCwE;AAsCnF,aAAW,CAAC,IAAD,EAAO,UAAP,CAtCwE;AAuCnF,YAAU,CAAC,IAAD,EAAO,SAAP,CAvCyE;AAwCnF,cAAY,CAAC,IAAD,EAAO,WAAP,CAxCuE;AAyCnF,aAAW,CAAC,IAAD,EAAO,UAAP,CAzCwE;AA0CnF,iBAAe,CAAC,IAAD,EAAO,gBAAP,CA1CoE;AA2CnF,gBAAc,CAAC,EAAD,CA3CqE;AA4CnF,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CA5C+D;AA6CnF,wBAAsB,CAAC,CAAD,EAAI,uBAAJ,CA7C6D;AA8CnF,kCAAgC,CAAC,CAAD,EAAI,kCAAJ,CA9CmD;AA+CnF,iBAAe,CAAC,EAAD,CA/CoE;AAgDnF,uBAAqB,CAAC,CAAD,EAAI,qBAAJ,CAhD8D;AAiDnF,eAAa,CAAC,CAAD,CAjDsE;AAkDnF,iBAAe,CAAC,CAAD,CAlDoE;AAmDnF,cAAY,CAAC,IAAD,CAnDuE;AAoDnF,kBAAgB,CAAC,IAAD,CApDmE;AAqDnF,eAAa,CAAC,IAAD,CArDsE;AAsDnF,UAAQ,CAAC,IAAD,CAtD2E;AAuDnF,eAAa,CAAC,EAAD;AAvDsE,CAAjB,EAwDjE,CAAC,CAAC,CAAD,EAAI,SAAJ,EAAe,SAAf,CAAD,CAxDiE,CAAxC,CAA5B;AAyDA95C,OAAO,CAACmC,QAAR,GAAmBA,QAAnB;AACA,IAAID,QAAQ,GAAG,aAAa,CAAC,GAAGzB,OAAO,CAACgzD,kBAAZ,EAAgCtQ,MAAhC,EAAwC,CAAC,CAAD,EAAI,WAAJ,EAAiB;AACnF,SAAO,CAAC,CAAD,CAD4E;AAEnF,iBAAe,CAAC,CAAD,EAAI,eAAJ,CAFoE;AAGnF,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAHkE;AAInF,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAJqE;AAKnF,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CALgE;AAMnF,iBAAe,CAAC,CAAD,EAAI,cAAJ,CANoE;AAOnF,cAAY,CAAC,EAAD,CAPuE;AAQnF,cAAY,CAAC,EAAD,CARuE;AASnF,eAAa,CAAC,EAAD;AATsE,CAAjB,CAAxC,CAA5B;AAWAnjD,OAAO,CAACkC,QAAR,GAAmBA,QAAnB;AACA,IAAID,OAAO,GAAG,aAAa,CAAC,GAAGxB,OAAO,CAACgzD,kBAAZ,EAAgCzP,KAAhC,EAAuC,CAAC,CAAD,EAAI,UAAJ,EAAgB;AAChF,cAAY,CAAC,CAAD,CADoE;AAEhF,iBAAe,CAAC,CAAD,EAAI,eAAJ,CAFiE;AAGhF,sBAAoB,CAAC,CAAD,EAAI,oBAAJ;AAH4D,CAAhB,CAAvC,CAA3B;AAKAhkD,OAAO,CAACiC,OAAR,GAAkBA,OAAlB;AACA,IAAID,iBAAiB,GAAG,aAAa,CAAC,GAAGvB,OAAO,CAACgzD,kBAAZ,EAAgC3O,eAAhC,EAAiD,CAAC,CAAD,EAAI,qBAAJ,EAA2B;AAC/G,qBAAmB,CAAC,CAAD,EAAI,mBAAJ,CAD4F;AAE/G,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAFgG;AAG/G,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAHgG;AAI/G,cAAY,CAAC,CAAD,CAJmG;AAK/G,gBAAc,CAAC,CAAD,EAAI,aAAJ,CALiG;AAM/G,eAAa,CAAC,CAAD,CANkG;AAO/G,cAAY,CAAC,CAAD,CAPmG;AAQ/G,UAAQ,CAAC,EAAD,CARuG;AAS/G,eAAa,CAAC,EAAD,CATkG;AAU/G,aAAW,CAAC,EAAD;AAVoG,CAA3B,CAAjD,CAArC;AAYA9kD,OAAO,CAACgC,iBAAR,GAA4BA,iBAA5B;AACA,IAAID,UAAU,GAAG,aAAa,CAAC,GAAGtB,OAAO,CAACgzD,kBAAZ,EAAgC3M,QAAhC,EAA0C,CAAC,CAAD,EAAI,aAAJ,EAAmB;AACzF,SAAO,CAAC,GAAD,CADkF;AAEzF,YAAU,CAAC,IAAD,CAF+E;AAGzF,cAAY,CAAC,CAAD,EAAI,WAAJ,CAH6E;AAIzF,iBAAe,CAAC,CAAD,EAAI,eAAJ,CAJ0E;AAKzF,gBAAc,CAAC,EAAD;AAL2E,CAAnB,CAA1C,CAA9B;AAOA9mD,OAAO,CAAC+B,UAAR,GAAqBA,UAArB;AACA,IAAID,iBAAiB,GAAG,aAAa,CAAC,GAAGrB,OAAO,CAACgzD,kBAAZ,EAAgC/L,eAAhC,EAAiD,CAAC,CAAD,EAAI,qBAAJ,EAA2B;AAC/G,UAAQ,CAAC,CAAD,CADuG;AAE/G,WAAS,CAAC,CAAD,CAFsG;AAG/G,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAH4F;AAI/G,sBAAoB,CAAC,CAAD,EAAI,mBAAJ,CAJ2F;AAK/G,UAAQ,CAAC,CAAD,CALuG;AAM/G,cAAY,CAAC,CAAD,CANmG;AAO/G,UAAQ,CAAC,EAAD,CAPuG;AAQ/G,gBAAc,CAAC,EAAD;AARiG,CAA3B,CAAjD,CAArC;AAUA1nD,OAAO,CAAC8B,iBAAR,GAA4BA,iBAA5B;AACA,IAAID,UAAU,GAAG,aAAa,CAAC,GAAGpB,OAAO,CAACgzD,kBAAZ,EAAgCnL,QAAhC,EAA0C,CAAC,CAAD,EAAI,aAAJ,EAAmB;AACzF,YAAU,CAAC,CAAD,CAD+E;AAEzF,WAAS,CAAC,CAAD,CAFgF;AAGzF,YAAU,CAAC,EAAD;AAH+E,CAAnB,CAA1C,CAA9B;AAKAtoD,OAAO,CAAC6B,UAAR,GAAqBA,UAArB;AACA,IAAID,QAAQ,GAAG,aAAa,CAAC,GAAGnB,OAAO,CAACgzD,kBAAZ,EAAgC7K,MAAhC,EAAwC,CAAC,CAAD,EAAI,WAAJ,EAAiB;AACnF,UAAQ,CAAC,CAAD,CAD2E;AAEnF,SAAO,CAAC,CAAD,CAF4E;AAGnF,SAAO,CAAC,CAAD,CAH4E;AAInF,WAAS,CAAC,CAAD,CAJ0E;AAKnF,eAAa,CAAC,CAAD,EAAI,YAAJ,CALsE;AAMnF,WAAS,CAAC,CAAD;AAN0E,CAAjB,CAAxC,CAA5B;AAQA5oD,OAAO,CAAC4B,QAAR,GAAmBA,QAAnB;AACA,IAAID,SAAS,GAAG,aAAa,CAAC,GAAGlB,OAAO,CAACgzD,kBAAZ,EAAgC5J,OAAhC,EAAyC,CAAC,CAAD,EAAI,YAAJ,EAAkB;AACtF,iBAAe,CAAC,CAAD,EAAI,eAAJ,CADuE;AAEtF,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CAFmE;AAGtF,0BAAwB,CAAC,CAAD,EAAI,yBAAJ,CAH8D;AAItF,mBAAiB,CAAC,CAAD,EAAI,gBAAJ,CAJqE;AAKtF,eAAa,CAAC,CAAD,CALyE;AAMtF,cAAY,CAAC,EAAD,CAN0E;AAOtF,cAAY,CAAC,EAAD;AAP0E,CAAlB,CAAzC,CAA7B;AASA7pD,OAAO,CAAC2B,SAAR,GAAoBA,SAApB;AACA,IAAID,SAAS,GAAG,aAAa,CAAC,GAAGjB,OAAO,CAACgzD,kBAAZ,EAAgCnJ,OAAhC,EAAyC,CAAC,CAAD,EAAI,YAAJ,EAAkB;AACtF,WAAS,CAAC,CAAD,CAD6E;AAEtF,UAAQ,CAAC,CAAD,CAF8E;AAGtF,sBAAoB,CAAC,CAAD,EAAI,oBAAJ,CAHkE;AAItF,YAAU,CAAC,IAAD,CAJ4E;AAKtF,UAAQ,CAAC,EAAD,CAL8E;AAMtF,gBAAc,CAAC,EAAD;AANwE,CAAlB,CAAzC,CAA7B;AAQAtqD,OAAO,CAAC0B,SAAR,GAAoBA,SAApB;AACA,IAAID,MAAM,GAAG,aAAa,CAAC,GAAGhB,OAAO,CAACgzD,kBAAZ,EAAgCpI,IAAhC,EAAsC,CAAC,CAAD,EAAI,SAAJ,EAAe;AAC7E,WAAS,CAAC,CAAD,CADoE;AAE7E,aAAW,CAAC,CAAD,CAFkE;AAG7E,qBAAmB,CAAC,CAAD,EAAI,mBAAJ;AAH0D,CAAf,CAAtC,CAA1B;AAKArrD,OAAO,CAACyB,MAAR,GAAiBA,MAAjB;AACA,IAAID,cAAc,GAAG,aAAa,CAAC,GAAGf,OAAO,CAACgzD,kBAAZ,EAAgClI,YAAhC,EAA8C,CAAC,CAAD,EAAI,kBAAJ,EAAwB;AACtG,eAAa,CAAC,CAAD,CADyF;AAEtG,qBAAmB,CAAC,CAAD,EAAI,mBAAJ;AAFmF,CAAxB,CAA9C,CAAlC;AAIAvrD,OAAO,CAACwB,cAAR,GAAyBA,cAAzB;AACA,IAAID,SAAS,GAAG,aAAa,CAAC,GAAGd,OAAO,CAACgzD,kBAAZ,EAAgC9H,OAAhC,EAAyC,CAAC,CAAD,EAAI,YAAJ,EAAkB;AACtF,YAAU,CAAC,CAAD,CAD4E;AAEtF,YAAU,CAAC,CAAD,CAF4E;AAGtF,cAAY,CAAC,CAAD,CAH0E;AAItF,eAAa,CAAC,CAAD,CAJyE;AAKtF,aAAW,CAAC,CAAD,EAAI,UAAJ,CAL2E;AAMtF,cAAY,CAAC,CAAD,EAAI,WAAJ;AAN0E,CAAlB,CAAzC,CAA7B;AAQA3rD,OAAO,CAACuB,SAAR,GAAoBA,SAApB;AACA,IAAID,IAAI,GAAG,aAAa,CAAC,GAAGb,OAAO,CAACgzD,kBAAZ,EAAgCvH,EAAhC,EAAoC,CAAC,CAAD,EAAI,OAAJ,EAAa;AACvE,iBAAe,CAAC,CAAD,EAAI,eAAJ,CADwD;AAEvE,iBAAe,CAAC,CAAD,CAFwD;AAGvE,wBAAsB,CAAC,CAAD,EAAI,sBAAJ;AAHiD,CAAb,CAApC,CAAxB;AAKAlsD,OAAO,CAACsB,IAAR,GAAeA,IAAf;AACA,IAAID,OAAO,GAAG,aAAa,CAAC,GAAGZ,OAAO,CAACgzD,kBAAZ,EAAgCrkC,KAAhC,EAAuC,CAAC,CAAD,EAAI,UAAJ,EAAgB;AAChF,gBAAc,CAAC,CAAD,EAAI,aAAJ,CADkE;AAEhF,0BAAwB,CAAC,CAAD,EAAI,yBAAJ,CAFwD;AAGhF,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAHiE;AAIhF,aAAW,CAAC,CAAD,CAJqE;AAKhF,YAAU,CAAC,CAAD,CALsE;AAMhF,kBAAgB,CAAC,CAAD,EAAI,eAAJ,CANgE;AAOhF,aAAW,CAAC,CAAD,EAAI,UAAJ,CAPqE;AAQhF,gBAAc,CAAC,CAAD,EAAI,aAAJ,CARkE;AAShF,2BAAyB,CAAC,CAAD,EAAI,yBAAJ,CATuD;AAUhF,gBAAc,CAAC,CAAD,EAAI,aAAJ;AAVkE,CAAhB,EAW/D,CAAC,CAAC,CAAD,EAAI,wBAAJ,EAA8B,mBAA9B,CAAD,EAAqD,CAAC,CAAD,EAAI,2BAAJ,EAAiC,sBAAjC,CAArD,CAX+D,CAAvC,CAA3B;AAYApvB,OAAO,CAACqB,OAAR,GAAkBA,OAAlB;AACA,IAAID,OAAO,GAAG,aAAa,CAAC,GAAGX,OAAO,CAACgzD,kBAAZ,EAAgChH,KAAhC,EAAuC,CAAC,CAAD,EAAI,UAAJ,EAAgB;AAChF,aAAW,CAAC,CAAD,EAAI,UAAJ,CADqE;AAEhF,YAAU,CAAC,CAAD,CAFsE;AAGhF,WAAS,CAAC,CAAD,CAHuE;AAIhF,cAAY,CAAC,CAAD,CAJoE;AAKhF,uBAAqB,CAAC,CAAD,EAAI,sBAAJ,CAL2D;AAMhF,YAAU,CAAC,CAAD,CANsE;AAOhF,aAAW,CAAC,CAAD,CAPqE;AAQhF,cAAY,CAAC,CAAD,CARoE;AAShF,iBAAe,CAAC,CAAD,EAAI,cAAJ,CATiE;AAUhF,cAAY,CAAC,CAAD,CAVoE;AAWhF,cAAY,CAAC,CAAD,CAXoE;AAYhF,YAAU,CAAC,EAAD,CAZsE;AAahF,UAAQ,CAAC,CAAD,CAbwE;AAchF,WAAS,CAAC,CAAD,CAduE;AAehF,iBAAe,CAAC,CAAD,CAfiE;AAgBhF,cAAY,CAAC,EAAD,CAhBoE;AAiBhF,gBAAc,CAAC,EAAD;AAjBkE,CAAhB,CAAvC,CAA3B;AAmBAzsD,OAAO,CAACoB,OAAR,GAAkBA,OAAlB;AACA,IAAID,eAAe,GAAG,aAAa,CAAC,GAAGV,OAAO,CAACgzD,kBAAZ,EAAgC7D,aAAhC,EAA+C,CAAC,CAAD,EAAI,mBAAJ,EAAyB;AACzG,mBAAiB,CAAC,CAAD,EAAI,iBAAJ,CADwF;AAEzG,oBAAkB,CAAC,CAAD,EAAI,kBAAJ,CAFuF;AAGzG,eAAa,CAAC,CAAD,EAAI,YAAJ,CAH4F;AAIzG,WAAS,CAAC,CAAD,CAJgG;AAKzG,qBAAmB,CAAC,CAAD,EAAI,kBAAJ,CALsF;AAMzG,sBAAoB,CAAC,CAAD,EAAI,mBAAJ,CANqF;AAOzG,iBAAe,CAAC,CAAD,EAAI,cAAJ,CAP0F;AAQzG,cAAY,CAAC,CAAD,EAAI,WAAJ,CAR6F;AASzG,gBAAc,CAAC,CAAD,EAAI,aAAJ,CAT2F;AAUzG,WAAS,CAAC,CAAD,CAVgG;AAWzG,YAAU,CAAC,CAAD,CAX+F;AAYzG,cAAY,CAAC,CAAD,EAAI,WAAJ,CAZ6F;AAazG,UAAQ,CAAC,EAAD,CAbiG;AAczG,mBAAiB,CAAC,EAAD,CAdwF;AAezG,oBAAkB,CAAC,EAAD;AAfuF,CAAzB,CAA/C,CAAnC;AAiBA5vD,OAAO,CAACmB,eAAR,GAA0BA,eAA1B;AACA,IAAID,SAAS,GAAG,aAAa,CAAC,GAAGT,OAAO,CAACgzD,kBAAZ,EAAgC1J,OAAhC,EAAyC,CAAC,CAAD,EAAI,YAAJ,EAAkB;AACtF,aAAW,CAAC,CAAD,CAD2E;AAEtF,aAAW,CAAC,CAAD,EAAI,UAAJ,CAF2E;AAGtF,2BAAyB,CAAC,CAAD,EAAI,yBAAJ,CAH6D;AAItF,YAAU,CAAC,CAAD,CAJ4E;AAKtF,cAAY,CAAC,CAAD,CAL0E;AAMtF,cAAY,CAAC,CAAD,CAN0E;AAOtF,cAAY,CAAC,CAAD,CAP0E;AAQtF,YAAU,CAAC,EAAD,CAR4E;AAStF,UAAQ,CAAC,CAAD,CAT8E;AAUtF,WAAS,CAAC,CAAD,CAV6E;AAWtF,iBAAe,CAAC,CAAD,CAXuE;AAYtF,cAAY,CAAC,EAAD,CAZ0E;AAatF,gBAAc,CAAC,EAAD;AAbwE,CAAlB,CAAzC,CAA7B;AAeA/pD,OAAO,CAACkB,SAAR,GAAoBA,SAApB;;AAEA,IAAIF,oBAAoB,GAAG0yD,IAAI,IAAI;AACjC,MAAI,OAAOC,cAAP,KAA0B,WAA9B,EAA2C;AACzC,KAACzvD,OAAD,EAAUD,gBAAV,EAA4BD,UAA5B,EAAwCD,aAAxC,EAAuDD,SAAvD,EAAkED,cAAlE,EAAkFD,eAAlF,EAAmGD,UAAnG,EAA+GD,aAA/G,EAA8HD,aAA9H,EAA6ID,MAA7I,EAAqJD,oBAArJ,EAA2KD,iBAA3K,EAA8LD,iBAA9L,EAAiND,WAAjN,EAA8ND,OAA9N,EAAuOD,SAAvO,EAAkPD,MAAlP,EAA0PD,mBAA1P,EAA+QD,KAA/Q,EAAsRD,MAAtR,EAA8RD,aAA9R,EAA6SD,eAA7S,EAA8TD,eAA9T,EAA+UD,MAA/U,EAAuVD,UAAvV,EAAmWD,WAAnW,EAAgXD,gBAAhX,EAAkYD,aAAlY,EAAiZD,YAAjZ,EAA+ZD,iBAA/Z,EAAkbD,QAAlb,EAA4bD,QAA5b,EAAscD,OAAtc,EAA+cD,iBAA/c,EAAkeD,UAAle,EAA8eD,iBAA9e,EAAigBD,UAAjgB,EAA6gBD,QAA7gB,EAAuhBD,SAAvhB,EAAkiBD,SAAliB,EAA6iBD,MAA7iB,EAAqjBD,cAArjB,EAAqkBD,SAArkB,EAAglBD,IAAhlB,EAAslBD,OAAtlB,EAA+lBD,OAA/lB,EAAwmBD,eAAxmB,EAAynBD,SAAznB,EAAooB0E,OAApoB,CAA4oBguD,GAAG,IAAI;AACjpB,UAAI,CAACD,cAAc,CAACnzD,GAAf,CAAmBozD,GAAG,CAACC,EAAvB,CAAL,EAAiC;AAC/BF,QAAAA,cAAc,CAACG,MAAf,CAAsBF,GAAG,CAACC,EAA1B,EAA8BD,GAA9B,EAAmCF,IAAnC;AACD;AACF,KAJD;AAKD;AACF,CARD;;AAUA1zD,OAAO,CAACgB,oBAAR,GAA+BA,oBAA/B","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getComponentFromRegistry = getComponentFromRegistry;\nexports.getPlayerFromRegistry = getPlayerFromRegistry;\nexports.isComponentRegistered = isComponentRegistered;\nexports.watchComponentRegistry = watchComponentRegistry;\nexports.withComponentRegistry = withComponentRegistry;\nObject.defineProperty(exports, \"setAssetPath\", {\n  enumerable: true,\n  get: function get() {\n    return _client.setAssetPath;\n  }\n});\nexports.withPlayerContext = exports.usePlayerContext = exports.isWritableProp = exports.initialState = exports.findPlayer = exports.defineCustomElements = exports.createDispatcher = exports.VmYoutube = exports.VmVolumeControl = exports.VmVimeo = exports.VmVideo = exports.VmUi = exports.VmTooltip = exports.VmTimeProgress = exports.VmTime = exports.VmSubmenu = exports.VmSpinner = exports.VmSlider = exports.VmSkeleton = exports.VmSettingsControl = exports.VmSettings = exports.VmScrubberControl = exports.VmScrim = exports.VmPoster = exports.VmPlayer = exports.VmPlaybackControl = exports.VmPipControl = exports.VmMuteControl = exports.VmMenuRadioGroup = exports.VmMenuRadio = exports.VmMenuItem = exports.VmMenu = exports.VmLoadingScreen = exports.VmLiveIndicator = exports.VmIconLibrary = exports.VmIcon = exports.VmHls = exports.VmFullscreenControl = exports.VmFile = exports.VmEndTime = exports.VmEmbed = exports.VmDefaultUi = exports.VmDefaultSettings = exports.VmDefaultControls = exports.VmDblClickFullscreen = exports.VmDash = exports.VmDailymotion = exports.VmCurrentTime = exports.VmControls = exports.VmControlSpacer = exports.VmControlGroup = exports.VmControl = exports.VmClickToPlay = exports.VmCaptions = exports.VmCaptionControl = exports.VmAudio = exports.ViewType = exports.REGISTRY_KEY = exports.REGISTRATION_KEY = exports.Provider = exports.PLAYER_KEY = exports.MediaType = exports.COMPONENT_NAME_KEY = void 0;\n\nvar _client = require(\"@stencil/core/internal/client\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar en = {\n  play: 'Play',\n  pause: 'Pause',\n  playback: 'Playback',\n  scrubber: 'Scrubber',\n  scrubberLabel: '{currentTime} of {duration}',\n  played: 'Played',\n  duration: 'Duration',\n  buffered: 'Buffered',\n  close: 'Close',\n  currentTime: 'Current time',\n  live: 'LIVE',\n  volume: 'Volume',\n  mute: 'Mute',\n  unmute: 'Unmute',\n  audio: 'Audio',\n  default: 'Default',\n  captions: 'Captions',\n  subtitlesOrCc: 'Subtitles/CC',\n  enableCaptions: 'Enable subtitles/captions',\n  disableCaptions: 'Disable subtitles/captions',\n  auto: 'Auto',\n  fullscreen: 'Fullscreen',\n  enterFullscreen: 'Enter fullscreen',\n  exitFullscreen: 'Exit fullscreen',\n  settings: 'Settings',\n  seekForward: 'Seek forward',\n  seekBackward: 'Seek backward',\n  seekTotal: 'Seek total',\n  normal: 'Normal',\n  none: 'None',\n  playbackRate: 'Playback Rate',\n  playbackQuality: 'Playback Quality',\n  loop: 'Loop',\n  disabled: 'Disabled',\n  off: 'Off',\n  enabled: 'Enabled',\n  pip: 'Picture-in-Picture',\n  enterPiP: 'Miniplayer',\n  exitPiP: 'Expand'\n};\nvar initialState = {\n  theme: undefined,\n  paused: true,\n  playing: false,\n  duration: -1,\n  currentProvider: undefined,\n  mediaTitle: undefined,\n  currentSrc: undefined,\n  currentPoster: undefined,\n  textTracks: [],\n  currentTextTrack: -1,\n  audioTracks: [],\n  currentAudioTrack: -1,\n  isTextTrackVisible: true,\n  shouldRenderNativeTextTracks: true,\n  icons: 'vime',\n  currentTime: 0,\n  autoplay: false,\n  ready: false,\n  playbackReady: false,\n  loop: false,\n  muted: false,\n  buffered: 0,\n  playbackRate: 1,\n  playbackRates: [1],\n  playbackQuality: undefined,\n  playbackQualities: [],\n  seeking: false,\n  debug: false,\n  playbackStarted: false,\n  playbackEnded: false,\n  buffering: false,\n  controls: false,\n  isControlsActive: false,\n  volume: 50,\n  isFullscreenActive: false,\n  aspectRatio: '16:9',\n  viewType: undefined,\n  isAudioView: false,\n  isVideoView: false,\n  mediaType: undefined,\n  isAudio: false,\n  isVideo: false,\n  isMobile: false,\n  isTouch: false,\n  isSettingsActive: false,\n  isLive: false,\n  isPiPActive: false,\n  autopause: true,\n  playsinline: false,\n  language: 'en',\n  languages: ['en'],\n  translations: {\n    en\n  },\n  i18n: en\n};\nexports.initialState = initialState;\nvar writableProps = new Set(['autoplay', 'autopause', 'aspectRatio', 'controls', 'theme', 'debug', 'paused', 'currentTime', 'language', 'loop', 'translations', 'playbackQuality', 'muted', 'playbackRate', 'playsinline', 'volume', 'isSettingsActive', 'isControlsActive', 'shouldRenderNativeTextTracks']);\n\nvar isWritableProp = prop => writableProps.has(prop);\n/**\n * Player properties that should be reset when the media is changed.\n */\n\n\nexports.isWritableProp = isWritableProp;\nvar resetableProps = new Set(['paused', 'currentTime', 'duration', 'buffered', 'seeking', 'playing', 'buffering', 'playbackReady', 'textTracks', 'currentTextTrack', 'audioTracks', 'currentAudioTrack', 'mediaTitle', 'currentSrc', 'currentPoster', 'playbackRate', 'playbackRates', 'playbackStarted', 'playbackEnded', 'playbackQuality', 'playbackQualities', 'mediaType']);\n\nvar shouldPropResetOnMediaChange = prop => resetableProps.has(prop);\n\nvar isNull = input => input === null;\n\nvar isUndefined = input => typeof input === 'undefined';\n\nvar isNullOrUndefined = input => isNull(input) || isUndefined(input);\n\nvar getConstructor = input => !isNullOrUndefined(input) ? input.constructor : undefined;\n\nvar isObject = input => getConstructor(input) === Object;\n\nvar isNumber = input => getConstructor(input) === Number && !Number.isNaN(input);\n\nvar isString = input => getConstructor(input) === String;\n\nvar isBoolean = input => getConstructor(input) === Boolean;\n\nvar isFunction = input => getConstructor(input) === Function;\n\nvar isArray = input => Array.isArray(input);\n\nvar isInstanceOf = (input, constructor) => Boolean(input && constructor && input instanceof constructor);\n\nvar STATE_CHANGE_EVENT = 'vmStateChange';\n/**\n * Creates a dispatcher on the given `ref`, to send updates to the closest ancestor player via\n * the custom `vmStateChange` event.\n *\n * @param ref An element to dispatch the state change events from.\n */\n\nvar createDispatcher = ref => (prop, value) => {\n  var el = isInstanceOf(ref, HTMLElement) ? ref : (0, _client.getElement)(ref);\n  var event = new CustomEvent(STATE_CHANGE_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: {\n      by: el,\n      prop,\n      value\n    }\n  });\n  el.dispatchEvent(event);\n};\n\nexports.createDispatcher = createDispatcher;\n\nvar createDeferredPromise = function createDeferredPromise() {\n  var resolve;\n  var promise = new Promise(function (res) {\n    resolve = res;\n  });\n  return {\n    promise: promise,\n    resolve: resolve\n  };\n};\n\nvar openWormhole = function openWormhole(Component, props, isBlocking) {\n  if (isBlocking === void 0) {\n    isBlocking = true;\n  }\n\n  var isConstructor = Component.constructor.name === 'Function';\n  var Proto = isConstructor ? Component.prototype : Component;\n  var componentWillLoad = Proto.componentWillLoad;\n\n  Proto.componentWillLoad = function () {\n    var _this = this;\n\n    var el = (0, _client.getElement)(this);\n    var onOpen = createDeferredPromise();\n    var event = new CustomEvent('openWormhole', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        consumer: this,\n        fields: props,\n        updater: function updater(prop, value) {\n          _this[prop] = value;\n        },\n        onOpen: onOpen\n      }\n    });\n    el.dispatchEvent(event);\n\n    var willLoad = function willLoad() {\n      if (componentWillLoad) {\n        return componentWillLoad.call(_this);\n      }\n    };\n\n    return isBlocking ? onOpen.promise.then(function () {\n      return willLoad();\n    }) : willLoad();\n  };\n};\n\nvar multiverse = new Map();\n\nvar updateConsumer = function updateConsumer(_a, state) {\n  var fields = _a.fields,\n      updater = _a.updater;\n  fields.forEach(function (field) {\n    updater(field, state[field]);\n  });\n};\n\nvar Universe = {\n  create: function create(creator, initialState) {\n    var el = (0, _client.getElement)(creator);\n    var wormholes = new Map();\n    var universe = {\n      wormholes: wormholes,\n      state: initialState\n    };\n    multiverse.set(creator, universe);\n    var connectedCallback = creator.connectedCallback;\n\n    creator.connectedCallback = function () {\n      multiverse.set(creator, universe);\n\n      if (connectedCallback) {\n        connectedCallback.call(creator);\n      }\n    };\n\n    var disconnectedCallback = creator.disconnectedCallback;\n\n    creator.disconnectedCallback = function () {\n      multiverse.delete(creator);\n\n      if (disconnectedCallback) {\n        disconnectedCallback.call(creator);\n      }\n    };\n\n    el.addEventListener('openWormhole', function (event) {\n      event.stopPropagation();\n      var _a = event.detail,\n          consumer = _a.consumer,\n          onOpen = _a.onOpen;\n      if (wormholes.has(consumer)) return;\n\n      if (typeof consumer !== 'symbol') {\n        var connectedCallback_1 = consumer.connectedCallback,\n            disconnectedCallback_1 = consumer.disconnectedCallback;\n\n        consumer.connectedCallback = function () {\n          wormholes.set(consumer, event.detail);\n\n          if (connectedCallback_1) {\n            connectedCallback_1.call(consumer);\n          }\n        };\n\n        consumer.disconnectedCallback = function () {\n          wormholes.delete(consumer);\n\n          if (disconnectedCallback_1) {\n            disconnectedCallback_1.call(consumer);\n          }\n        };\n      }\n\n      wormholes.set(consumer, event.detail);\n      updateConsumer(event.detail, universe.state);\n      onOpen === null || onOpen === void 0 ? void 0 : onOpen.resolve(function () {\n        wormholes.delete(consumer);\n      });\n    });\n    el.addEventListener('closeWormhole', function (event) {\n      var consumer = event.detail;\n      wormholes.delete(consumer);\n    });\n  },\n  Provider: function Provider(_a, children) {\n    var state = _a.state;\n    var creator = (0, _client.getRenderingRef)();\n\n    if (multiverse.has(creator)) {\n      var universe = multiverse.get(creator);\n      universe.state = state;\n      universe.wormholes.forEach(function (opening) {\n        updateConsumer(opening, state);\n      });\n    }\n\n    return children;\n  }\n};\n/**\n * Listen to an event on the given DOM node. Returns a callback to remove the event listener.\n */\n\nfunction listen(node, event, handler, options) {\n  node.addEventListener(event, handler, options);\n  return () => node.removeEventListener(event, handler, options);\n}\n\nfunction fireEventAndRetry(el, event, onFail) {\n  var interval = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 300;\n  var maxRetries = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 10;\n  var timeout;\n  var attempt = 0;\n  var found = false;\n\n  function retry() {\n    if (found) return;\n    timeout = setTimeout(() => {\n      if (attempt === maxRetries) {\n        onFail === null || onFail === void 0 ? void 0 : onFail();\n        return;\n      }\n\n      el.dispatchEvent(event);\n      attempt += 1;\n      retry();\n    }, interval);\n  }\n\n  retry();\n  return () => {\n    window.clearTimeout(timeout);\n    found = true;\n  };\n}\n\nvar isColliding = function isColliding(a, b) {\n  var translateAx = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var translateAy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var translateBx = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var translateBy = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  var aRect = a.getBoundingClientRect();\n  var bRect = b.getBoundingClientRect();\n  return aRect.left + translateAx < bRect.right + translateBx && aRect.right + translateAx > bRect.left + translateBx && aRect.top + translateAy < bRect.bottom + translateBy && aRect.bottom + translateAy > bRect.top + translateBy;\n};\n\nvar deferredPromise = () => {\n  var resolve;\n  var reject;\n  var promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  }); // @ts-ignore\n\n  return {\n    promise,\n    resolve,\n    reject\n  };\n};\n\nfunction wrapStencilHook(component, lifecycle, hook) {\n  var prevHook = component[lifecycle]; // eslint-disable-next-line func-names\n\n  component[lifecycle] = function () {\n    hook();\n    return prevHook ? prevHook.call(component) : undefined;\n  };\n}\n\nfunction createStencilHook(component, onConnect, onDisconnect) {\n  var hasLoaded = false;\n\n  if (!isUndefined(onConnect)) {\n    wrapStencilHook(component, 'componentWillLoad', () => {\n      onConnect();\n      hasLoaded = true;\n    });\n    wrapStencilHook(component, 'connectedCallback', () => {\n      if (hasLoaded) onConnect();\n    });\n  }\n\n  if (!isUndefined(onDisconnect)) {\n    wrapStencilHook(component, 'disconnectedCallback', () => {\n      onDisconnect();\n    });\n  }\n}\n\nvar FIND_PLAYER_EVENT = 'vmFindPlayer';\n\nfunction withFindPlayer(player) {\n  var el = (0, _client.getElement)(player);\n  var off;\n  createStencilHook(player, () => {\n    off = listen(el, FIND_PLAYER_EVENT, event => {\n      event.stopPropagation();\n      event.detail(el);\n    });\n  }, () => {\n    var _off;\n\n    (_off = off) === null || _off === void 0 ? void 0 : _off();\n  });\n}\n/**\n * Finds the closest ancestor player element by firing the `vmFindPlayer` event, and waiting\n * for the player to catch it. This function retries finding the player (`maxRetries`) until it\n * gives up and fails.\n *\n * @param ref - A HTMLElement that is within the player's subtree.\n * @param interval - The length of the timeout before trying again in milliseconds.\n * @param maxRetries - The number of times to retry firing the event.\n */\n\n\nvar findPlayer = function findPlayer(ref) {\n  var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;\n  var maxRetries = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n  var el = isInstanceOf(ref, HTMLElement) ? ref : (0, _client.getElement)(ref);\n  var search = deferredPromise();\n  var stopFiring;\n  var event = new CustomEvent(FIND_PLAYER_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: player => {\n      search.resolve(player);\n      stopFiring();\n    }\n  });\n  stopFiring = fireEventAndRetry(el, event, () => {\n    search.reject(\"Could not find player for \".concat(el.nodeName));\n  }, interval, maxRetries);\n  return search.promise;\n};\n\nexports.findPlayer = findPlayer;\nvar LOAD_START_EVENT = 'vmLoadStart'; // Events that toggle state and the prop is named `is{PropName}...`.\n\nvar isToggleStateEvent = new Set(['isFullscreenActive', 'isControlsActive', 'isTextTrackVisible', 'isPiPActive', 'isLive', 'isTouch', 'isAudio', 'isVideo', 'isAudioView', 'isVideoView']); // Events that are emitted without the 'Change' postfix.\n\nvar hasShortenedEventName = new Set(['ready', 'playbackStarted', 'playbackEnded', 'playbackReady']);\n\nvar getEventName = prop => {\n  // Example: isFullscreenActive -> vmFullscreenChange\n  if (isToggleStateEvent.has(prop)) {\n    return \"vm\".concat(prop.replace('is', '').replace('Active', ''), \"Change\");\n  } // Example: playbackStarted -> vmPlaybackStarted\n\n\n  if (hasShortenedEventName.has(prop)) {\n    return \"vm\".concat(prop.charAt(0).toUpperCase()).concat(prop.slice(1));\n  } // Example: currentTime -> vmCurrentTimeChange\n\n\n  return \"vm\".concat(prop.charAt(0).toUpperCase()).concat(prop.slice(1), \"Change\");\n};\n\nfunction firePlayerEvent(el, prop, newValue, oldValue) {\n  var events = [];\n  events.push(new CustomEvent(getEventName(prop), {\n    detail: newValue\n  }));\n  if (prop === 'paused' && !newValue) events.push(new CustomEvent('vmPlay'));\n  if (prop === 'seeking' && oldValue && !newValue) events.push(new CustomEvent('vmSeeked'));\n  events.forEach(event => {\n    el.dispatchEvent(event);\n  });\n}\n/**\n * Binds props between an instance of a given component class and it's closest ancestor player.\n *\n * @param component A Stencil component instance.\n * @param props A set of props to watch and update on the given component instance.\n */\n\n\nvar withPlayerContext = (component, props) => openWormhole(component, props);\n/**\n * Finds the closest ancestor player to the given `ref` and watches the given props for changes. On\n * a prop change the given `updater` fn is called.\n *\n * @param ref A element within any player's subtree.\n * @param props A set of props to watch and call the `updater` fn with.\n * @param updater This function is called with the prop/value of any watched properties.\n */\n\n\nexports.withPlayerContext = withPlayerContext;\n\nvar usePlayerContext = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (ref, props, updater, playerRef) {\n    var player = playerRef !== null && playerRef !== void 0 ? playerRef : yield findPlayer(ref);\n    var listeners = props.map(prop => {\n      var event = getEventName(prop);\n      return listen(player, event, () => {\n        updater(prop, player[prop]);\n      });\n    });\n    return () => {\n      listeners.forEach(off => off());\n    };\n  });\n\n  return function usePlayerContext(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.usePlayerContext = usePlayerContext;\nvar ViewType;\nexports.ViewType = ViewType;\n\n(function (ViewType) {\n  ViewType[\"Audio\"] = \"audio\";\n  ViewType[\"Video\"] = \"video\";\n})(ViewType || (exports.ViewType = ViewType = {}));\n\nvar MediaType;\nexports.MediaType = MediaType;\n\n(function (MediaType) {\n  MediaType[\"Audio\"] = \"audio\";\n  MediaType[\"Video\"] = \"video\";\n})(MediaType || (exports.MediaType = MediaType = {}));\n\nvar Provider;\nexports.Provider = Provider;\n\n(function (Provider) {\n  Provider[\"Audio\"] = \"audio\";\n  Provider[\"Video\"] = \"video\";\n  Provider[\"HLS\"] = \"hls\";\n  Provider[\"Dash\"] = \"dash\";\n  Provider[\"YouTube\"] = \"youtube\";\n  Provider[\"Vimeo\"] = \"vimeo\";\n  Provider[\"Dailymotion\"] = \"dailymotion\";\n})(Provider || (exports.Provider = Provider = {}));\n\nclass Disposal {\n  constructor() {\n    var dispose = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    this.dispose = dispose;\n  }\n\n  add(callback) {\n    this.dispose.push(callback);\n  }\n\n  empty() {\n    this.dispose.forEach(fn => fn());\n    this.dispose = [];\n  }\n\n}\n\nvar PLAYER_KEY = Symbol('vmPlayerKey');\nexports.PLAYER_KEY = PLAYER_KEY;\nvar COMPONENT_NAME_KEY = Symbol('vmNameKey');\nexports.COMPONENT_NAME_KEY = COMPONENT_NAME_KEY;\nvar REGISTRY_KEY = Symbol('vmRegistryKey');\nexports.REGISTRY_KEY = REGISTRY_KEY;\nvar REGISTRATION_KEY = Symbol('vmRegistrationKey');\nexports.REGISTRATION_KEY = REGISTRATION_KEY;\nvar REGISTER_COMPONENT_EVENT = 'vmComponentRegister';\nvar COMPONENT_REGISTERED_EVENT = 'vmComponentRegistered';\nvar COMPONENT_DEREGISTERED_EVENT = 'vmComponentDeregistered';\n\nvar getRegistrant = ref => isInstanceOf(ref, HTMLElement) ? ref : (0, _client.getElement)(ref);\n/**\n * Handles registering/deregistering the given `component` in the player registry. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n */\n\n\nfunction withComponentRegistry(ref, name) {\n  var registryId = Symbol('vmRegistryId');\n  var registrant = getRegistrant(ref);\n  registrant[COMPONENT_NAME_KEY] = name !== null && name !== void 0 ? name : registrant.nodeName.toLowerCase();\n  registrant[REGISTRATION_KEY] = registryId;\n\n  var buildEvent = eventName => new CustomEvent(eventName, {\n    bubbles: true,\n    composed: true,\n    detail: ref\n  });\n\n  var registerEvent = buildEvent(REGISTER_COMPONENT_EVENT);\n  createStencilHook(ref, () => {\n    registrant.dispatchEvent(registerEvent);\n  });\n}\n\nfunction withComponentRegistrar(player) {\n  var el = (0, _client.getElement)(player);\n  var registry = new Map();\n  var disposal = new Disposal(); // TODO properly type this later.\n\n  el[REGISTRY_KEY] = registry;\n\n  function onDeregister(registrant) {\n    delete registrant[PLAYER_KEY];\n    delete registrant[REGISTRY_KEY];\n    registry.delete(registrant[REGISTRATION_KEY]);\n    el.dispatchEvent(new CustomEvent(COMPONENT_DEREGISTERED_EVENT, {\n      detail: registrant\n    }));\n  }\n\n  function onRegister(e) {\n    var ref = e.detail;\n    var registrant = getRegistrant(ref);\n    registrant[PLAYER_KEY] = el;\n    registrant[REGISTRY_KEY] = registry;\n    registry.set(registrant[REGISTRATION_KEY], registrant);\n    el.dispatchEvent(new CustomEvent(COMPONENT_REGISTERED_EVENT, {\n      detail: registrant\n    }));\n    createStencilHook(ref, undefined, () => onDeregister(registrant));\n  }\n\n  createStencilHook(player, () => {\n    disposal.add(listen(el, REGISTER_COMPONENT_EVENT, onRegister));\n  }, () => {\n    registry.clear();\n    disposal.empty();\n    delete player[REGISTRY_KEY];\n  });\n}\n/**\n * Checks whether any component with the given `name` exists in the registry. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the component to search for.\n */\n\n\nfunction isComponentRegistered(ref, name) {\n  var _registry$values;\n\n  var registrant = getRegistrant(ref);\n  var registry = registrant[REGISTRY_KEY];\n  return Array.from((_registry$values = registry === null || registry === void 0 ? void 0 : registry.values()) !== null && _registry$values !== void 0 ? _registry$values : []).some(r => r[COMPONENT_NAME_KEY] === name);\n}\n/**\n * Returns the player for the given `ref`. This will only work after the component has been\n * registered, prefer using `findPlayer`.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n */\n\n\nfunction getPlayerFromRegistry(ref) {\n  var registrant = getRegistrant(ref);\n  return registrant[PLAYER_KEY];\n}\n/**\n * Returns a collection of components from the registry for the given `ref`. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the components to search for in the registry.\n */\n\n\nfunction getComponentFromRegistry(ref, name) {\n  var _registrant$REGISTRY_, _registrant$REGISTRY_2;\n\n  var registrant = getRegistrant(ref);\n  return Array.from((_registrant$REGISTRY_ = (_registrant$REGISTRY_2 = registrant[REGISTRY_KEY]) === null || _registrant$REGISTRY_2 === void 0 ? void 0 : _registrant$REGISTRY_2.values()) !== null && _registrant$REGISTRY_ !== void 0 ? _registrant$REGISTRY_ : []).filter(r => r[COMPONENT_NAME_KEY] === name);\n}\n/**\n * Watches the current registry on the given `ref` for changes. All registries are bound per\n * player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the component to watch for.\n * @param onChange - A callback that is called when a component is registered/deregistered.\n */\n\n\nfunction watchComponentRegistry(_x5, _x6, _x7) {\n  return _watchComponentRegistry.apply(this, arguments);\n}\n\nfunction _watchComponentRegistry() {\n  _watchComponentRegistry = _asyncToGenerator(function* (ref, name, onChange) {\n    var _registry$values2;\n\n    var player = yield findPlayer(ref);\n    var disposal = new Disposal();\n    var registry = getRegistrant(ref)[REGISTRY_KEY];\n\n    function listener(e) {\n      if (e.detail[COMPONENT_NAME_KEY] === name) onChange === null || onChange === void 0 ? void 0 : onChange(getComponentFromRegistry(player, name));\n    } // Hydrate.\n\n\n    Array.from((_registry$values2 = registry === null || registry === void 0 ? void 0 : registry.values()) !== null && _registry$values2 !== void 0 ? _registry$values2 : []).forEach(reg => listener(new CustomEvent('', {\n      detail: reg\n    })));\n    disposal.add(listen(player, COMPONENT_REGISTERED_EVENT, listener));\n    disposal.add(listen(player, COMPONENT_DEREGISTERED_EVENT, listener));\n    createStencilHook(ref, () => {}, () => {\n      disposal.empty();\n    });\n    return () => {\n      disposal.empty();\n    };\n  });\n  return _watchComponentRegistry.apply(this, arguments);\n}\n\nvar audioRegex = /\\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\\?)/i;\nvar videoRegex = /\\.(mp4|og[gv]|webm|mov|m4v)($|\\?)/i;\nvar hlsRegex = /\\.(m3u8)($|\\?)/i;\nvar hlsTypeRegex = /^application\\/(x-mpegURL|vnd\\.apple\\.mpegURL)$/i;\nvar dashRegex = /\\.(mpd)($|\\?)/i;\nvar PROVIDER_CHANGE_EVENT = 'vmProviderChange';\n/**\n * Creates a dispatcher on the given `ref`, to send updates to the closest ancestor player via\n * the custom `vmProviderChange` event.\n *\n * @param ref A component reference to dispatch the state change events from.\n */\n\nvar createProviderDispatcher = ref => (prop, value) => {\n  var el = isInstanceOf(ref, HTMLElement) ? ref : (0, _client.getElement)(ref);\n  var event = new CustomEvent(PROVIDER_CHANGE_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: {\n      by: el,\n      prop,\n      value\n    }\n  });\n  el.dispatchEvent(event);\n};\n\nvar providerWritableProps = new Set(['ready', 'playing', 'playbackReady', 'playbackStarted', 'playbackEnded', 'seeking', 'buffered', 'buffering', 'duration', 'viewType', 'mediaTitle', 'mediaType', 'currentSrc', 'currentPoster', 'playbackRates', 'playbackQualities', 'textTracks', 'currentTextTrack', 'isTextTrackVisible', 'audioTracks', 'currentAudioTrack', 'isPiPActive', 'isFullscreenActive']);\n\nvar isProviderWritableProp = prop => isWritableProp(prop) || providerWritableProps.has(prop);\n\nvar PROVIDER_CACHE_KEY = Symbol('vmProviderCache');\nvar PROVIDER_CONNECT_EVENT = 'vmMediaProviderConnect';\nvar PROVIDER_DISCONNECT_EVENT = 'vmMediaProviderDisconnect';\n\nfunction buildProviderConnectEvent(name, host) {\n  return new CustomEvent(name, {\n    bubbles: true,\n    composed: true,\n    detail: host\n  });\n}\n\nfunction withProviderHost(connector) {\n  var el = (0, _client.getElement)(connector);\n  var disposal = new Disposal();\n  var cache = new Map();\n  connector[PROVIDER_CACHE_KEY] = cache;\n\n  function initCache() {\n    Object.keys(connector).forEach(prop => {\n      cache.set(prop, connector[prop]);\n    });\n  }\n\n  function onDisconnect() {\n    (0, _client.writeTask)( /*#__PURE__*/_asyncToGenerator(function* () {\n      var _connector$onProvider;\n\n      connector.ready = false;\n      connector.provider = undefined;\n      cache.clear();\n      (_connector$onProvider = connector.onProviderDisconnect) === null || _connector$onProvider === void 0 ? void 0 : _connector$onProvider.call(connector);\n      el.dispatchEvent(buildProviderConnectEvent(PROVIDER_DISCONNECT_EVENT));\n    }));\n  }\n\n  function onConnect(event) {\n    event.stopImmediatePropagation();\n    initCache();\n    var hostRef = event.detail;\n    var host = (0, _client.getElement)(event.detail);\n    if (connector.provider === host) return;\n    var name = host === null || host === void 0 ? void 0 : host.nodeName.toLowerCase().replace('vm-', '');\n    (0, _client.writeTask)( /*#__PURE__*/_asyncToGenerator(function* () {\n      connector.provider = host;\n      connector.currentProvider = Object.values(Provider).find(provider => name === provider);\n      createStencilHook(hostRef, undefined, () => onDisconnect());\n    }));\n  }\n\n  function onChange(event) {\n    event.stopImmediatePropagation();\n    var {\n      by,\n      prop,\n      value\n    } = event.detail;\n\n    if (!isProviderWritableProp(prop)) {\n      var _connector$logger;\n\n      (_connector$logger = connector.logger) === null || _connector$logger === void 0 ? void 0 : _connector$logger.warn(\"\".concat(by.nodeName, \" tried to change `\").concat(prop, \"` but it is readonly.\"));\n      return;\n    }\n\n    (0, _client.writeTask)(() => {\n      cache.set(prop, value);\n      connector[prop] = value;\n    });\n  }\n\n  createStencilHook(connector, () => {\n    disposal.add(listen(el, PROVIDER_CONNECT_EVENT, onConnect));\n    disposal.add(listen(el, PROVIDER_CHANGE_EVENT, onChange));\n  }, () => {\n    disposal.empty();\n    cache.clear();\n  });\n}\n\nfunction withProviderConnect(ref) {\n  var connectEvent = buildProviderConnectEvent(PROVIDER_CONNECT_EVENT, ref);\n  createStencilHook(ref, () => {\n    (0, _client.getElement)(ref).dispatchEvent(connectEvent);\n  });\n}\n\nvar Audio = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n    /**\n     * @internal Whether an external SDK will attach itself to the media player and control it.\n     */\n\n\n    this.willAttach = false;\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    withComponentRegistry(this);\n    if (!this.willAttach) withProviderConnect(this);\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this2$filePro, _this2$fileProvider;\n\n      var adapter = (_yield$_this2$filePro = yield (_this2$fileProvider = _this2.fileProvider) === null || _this2$fileProvider === void 0 ? void 0 : _this2$fileProvider.getAdapter()) !== null && _yield$_this2$filePro !== void 0 ? _yield$_this2$filePro : {};\n\n      adapter.canPlay = /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator(function* (type) {\n          return isString(type) && audioRegex.test(type);\n        });\n\n        return function (_x8) {\n          return _ref4.apply(this, arguments);\n        };\n      }();\n\n      return adapter;\n    })();\n  }\n\n  render() {\n    return (// @ts-ignore\n      (0, _client.h)(\"vm-file\", {\n        noConnect: true,\n        willAttach: this.willAttach,\n        crossOrigin: this.crossOrigin,\n        preload: this.preload,\n        disableRemotePlayback: this.disableRemotePlayback,\n        mediaTitle: this.mediaTitle,\n        viewType: ViewType.Audio,\n        ref: el => {\n          this.fileProvider = el;\n        }\n      }, (0, _client.h)(\"slot\", null))\n    );\n  }\n\n};\nvar captionControlCss = \":host([hidden]){display:none}\";\nvar CaptionControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.canToggleCaptionVisibility = false;\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n\n    this.showIcon = 'captions-on';\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n\n    this.hideIcon = 'captions-off';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'c';\n    /** @internal */\n\n    this.i18n = {};\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.textTracks = [];\n    /** @internal */\n\n    this.isTextTrackVisible = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n', 'textTracks', 'isTextTrackVisible', 'playbackReady']);\n  }\n\n  onTextTracksChange() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetT;\n\n      var player = getPlayerFromRegistry(_this3);\n      _this3.canToggleCaptionVisibility = _this3.textTracks.length > 0 && ((_yield$player$canSetT = yield player === null || player === void 0 ? void 0 : player.canSetTextTrackVisibility()) !== null && _yield$player$canSetT !== void 0 ? _yield$player$canSetT : false);\n    })();\n  }\n\n  componentDidLoad() {\n    this.onTextTracksChange();\n  }\n\n  onClick() {\n    var _player$setTextTrackV;\n\n    var player = getPlayerFromRegistry(this);\n    player === null || player === void 0 ? void 0 : (_player$setTextTrackV = player.setTextTrackVisibility) === null || _player$setTextTrackV === void 0 ? void 0 : _player$setTextTrackV.call(player, !this.isTextTrackVisible);\n  }\n\n  render() {\n    var tooltip = this.isTextTrackVisible ? this.i18n.disableCaptions : this.i18n.enableCaptions;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(_client.Host, {\n      hidden: !this.canToggleCaptionVisibility\n    }, (0, _client.h)(\"vm-control\", {\n      label: this.i18n.captions,\n      keys: this.keys,\n      hidden: !this.canToggleCaptionVisibility,\n      pressed: this.isTextTrackVisible,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.isTextTrackVisible ? this.showIcon : this.hideIcon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint)));\n  }\n\n  static get watchers() {\n    return {\n      \"textTracks\": [\"onTextTracksChange\"],\n      \"playbackReady\": [\"onTextTracksChange\"]\n    };\n  }\n\n  static get style() {\n    return captionControlCss;\n  }\n\n};\n/* eslint-disable func-names */\n\nvar watch = new Set();\nvar controls = new Set(); // watchedEl -> (controlsEl -> controlsHeight) saved on collision. Basically keeps track of\n// every collision with all controls for each watched element.\n\nvar collisions = new Map();\n\nfunction update() {\n  (0, _client.writeTask)(() => {\n    controls.forEach(controlsEl => {\n      var controlsHeight = parseFloat(window.getComputedStyle(controlsEl).height);\n      watch.forEach(watchedEl => {\n        var watchedElCollisions = collisions.get(watchedEl);\n        var hasCollided = isColliding(watchedEl, controlsEl);\n        var willCollide = isColliding(watchedEl, controlsEl, 0, controlsHeight) || isColliding(watchedEl, controlsEl, 0, -controlsHeight);\n        watchedElCollisions.set(controlsEl, hasCollided || willCollide ? controlsHeight : 0);\n      });\n    }); // Update after assessing all collisions so there are no glitchy movements.\n\n    watch.forEach(watchedEl => {\n      var watchedElCollisions = collisions.get(watchedEl);\n      watchedEl.style.setProperty('--vm-controls-height', \"\".concat(Math.max(0, Math.max(...watchedElCollisions.values())), \"px\"));\n    });\n  });\n}\n\nfunction registerControlsForCollisionDetection(component) {\n  var el = (0, _client.getElement)(component);\n\n  function getInnerEl() {\n    return el.shadowRoot.querySelector('.controls');\n  }\n\n  createStencilHook(component, () => {\n    var innerEl = getInnerEl();\n\n    if (!isNull(innerEl)) {\n      controls.add(innerEl);\n      update();\n    }\n  }, () => {\n    controls.delete(getInnerEl());\n    update();\n  });\n  wrapStencilHook(component, 'componentDidLoad', () => {\n    controls.add(getInnerEl());\n    update();\n  });\n  wrapStencilHook(component, 'componentDidRender', update);\n}\n\nfunction withControlsCollisionDetection(component) {\n  var el = (0, _client.getElement)(component);\n  createStencilHook(component, () => {\n    watch.add(el);\n    collisions.set(el, new Map());\n    update();\n  }, () => {\n    watch.delete(el);\n    collisions.delete(el);\n  });\n}\n\nvar captionsCss = \":host{position:absolute;left:0;bottom:0;width:100%;pointer-events:none;z-index:var(--vm-captions-z-index)}.captions{width:100%;text-align:center;color:var(--vm-captions-text-color);font-size:var(--vm-captions-font-size);padding:$control-spacing;display:none;pointer-events:none;transition:transform 0.4s ease-in-out, opacity 0.3s ease-in-out}.captions.enabled{display:inline-block}.captions.hidden{display:none !important}.captions.inactive{opacity:0;visibility:hidden}.captions.fontMd{font-size:var(--vm-captions-font-size-medium)}.captions.fontLg{font-size:var(--vm-captions-font-size-large)}.captions.fontXl{font-size:var(--vm-captions-font-size-xlarge)}.cue{display:inline-block;background:var(--vm-captions-cue-bg-color);border-radius:var(--vm-captions-cue-border-radius);box-decoration-break:clone;line-height:185%;padding:var(--vm-captions-cue-padding);white-space:pre-wrap;pointer-events:none}.cue>div{display:inline}.cue:empty{display:none}\";\nvar Captions = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.sizeDisposal = new Disposal();\n    this.textDisposal = new Disposal();\n    this.isEnabled = false;\n    this.fontSize = 'sm';\n    /**\n     * Whether the captions should be visible or not.\n     */\n\n    this.hidden = false;\n    /** @internal */\n\n    this.isControlsActive = false;\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playbackStarted = false;\n    /** @internal */\n\n    this.textTracks = [];\n    /** @internal */\n\n    this.currentTextTrack = -1;\n    /** @internal */\n\n    this.isTextTrackVisible = true;\n    withComponentRegistry(this);\n    withControlsCollisionDetection(this);\n    withPlayerContext(this, ['isVideoView', 'playbackStarted', 'isControlsActive', 'textTracks', 'currentTextTrack', 'isTextTrackVisible']);\n  }\n\n  onEnabledChange() {\n    this.isEnabled = this.playbackStarted && this.isVideoView;\n  }\n\n  onTextTracksChange() {\n    var textTrack = this.textTracks[this.currentTextTrack];\n\n    var renderCues = () => {\n      var _textTrack$activeCues;\n\n      var activeCues = Array.from((_textTrack$activeCues = textTrack.activeCues) !== null && _textTrack$activeCues !== void 0 ? _textTrack$activeCues : []);\n      this.renderCurrentCue(activeCues[0]);\n    };\n\n    this.textDisposal.empty();\n\n    if (!isNullOrUndefined(textTrack)) {\n      renderCues();\n      this.textDisposal.add(listen(textTrack, 'cuechange', renderCues));\n    }\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.dispatch('shouldRenderNativeTextTracks', false);\n    this.onTextTracksChange();\n    this.onPlayerResize();\n  }\n\n  disconnectedCallback() {\n    this.textDisposal.empty();\n    this.sizeDisposal.empty();\n    this.dispatch('shouldRenderNativeTextTracks', true);\n  }\n\n  onPlayerResize() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this4);\n      var container = yield player.getContainer();\n      var resizeObs = new ResizeObserver(entries => {\n        var entry = entries[0];\n        var {\n          width\n        } = entry.contentRect;\n\n        if (width >= 1360) {\n          _this4.fontSize = 'xl';\n        } else if (width >= 1024) {\n          _this4.fontSize = 'lg';\n        } else if (width >= 768) {\n          _this4.fontSize = 'md';\n        } else {\n          _this4.fontSize = 'sm';\n        }\n      });\n      resizeObs.observe(container);\n    })();\n  }\n\n  renderCurrentCue(cue) {\n    if (isNullOrUndefined(cue)) {\n      this.cue = '';\n      return;\n    }\n\n    var div = document.createElement('div');\n    div.append(cue.getCueAsHTML());\n    this.cue = div.innerHTML.trim();\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      style: {\n        transform: \"translateY(calc(\".concat(this.isControlsActive ? 'var(--vm-controls-height)' : '24px', \" * -1))\")\n      },\n      class: {\n        captions: true,\n        enabled: this.isEnabled,\n        hidden: this.hidden,\n        fontMd: this.fontSize === 'md',\n        fontLg: this.fontSize === 'lg',\n        fontXl: this.fontSize === 'xl',\n        inactive: !this.isTextTrackVisible\n      }\n    }, (0, _client.h)(\"span\", {\n      class: \"cue\"\n    }, this.cue));\n  }\n\n  static get watchers() {\n    return {\n      \"isVideoView\": [\"onEnabledChange\"],\n      \"playbackStarted\": [\"onEnabledChange\"],\n      \"textTracks\": [\"onTextTracksChange\"],\n      \"currentTextTrack\": [\"onTextTracksChange\"]\n    };\n  }\n\n  static get style() {\n    return captionsCss;\n  }\n\n};\nvar clickToPlayCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-click-to-play-z-index)}.clickToPlay{display:none;width:100%;height:100%;pointer-events:none}.clickToPlay.enabled{display:inline-block;pointer-events:auto}\";\nvar ClickToPlay = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * By default this is disabled on mobile to not interfere with playback, set this to `true` to\n     * enable it.\n     */\n\n    this.useOnMobile = false;\n    /** @internal */\n\n    this.paused = true;\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.isMobile = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['paused', 'isVideoView', 'isMobile']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  /** @internal */\n\n\n  forceClick() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      _this5.onClick();\n    })();\n  }\n\n  onClick() {\n    this.dispatch('paused', !this.paused);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        clickToPlay: true,\n        enabled: this.isVideoView && (!this.isMobile || this.useOnMobile)\n      },\n      onClick: this.onClick.bind(this)\n    });\n  }\n\n  static get style() {\n    return clickToPlayCss;\n  }\n\n};\nvar controlCss = \"button{display:flex;align-items:center;flex-direction:row;border:var(--vm-control-border);cursor:pointer;flex-shrink:0;font-size:var(--vm-control-icon-size);color:var(--vm-control-color);background:var(--vm-control-bg, transparent);border-radius:var(--vm-control-border-radius);padding:var(--vm-control-padding);position:relative;pointer-events:auto;transition:all 0.3s ease;transform:scale(var(--vm-control-scale, 1));touch-action:manipulation;box-sizing:border-box}button.hidden{display:none}button:focus{outline:0}button.tapHighlight{background:var(--vm-control-tap-highlight)}button.notTouch:focus,button.notTouch:hover,button.notTouch[aria-expanded='true']{background:var(--vm-control-focus-bg);color:var(--vm-control-focus-color);transform:scale(calc(var(--vm-control-scale, 1) + 0.06))}\";\nvar Control = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmInteractionChange = (0, _client.createEvent)(this, \"vmInteractionChange\", 7);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    this.keyboardDisposal = new Disposal();\n    this.showTapHighlight = false;\n    /**\n     * Whether the control should be displayed or not.\n     */\n\n    this.hidden = false;\n    /** @internal */\n\n    this.isTouch = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch']);\n  }\n\n  onKeysChange() {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      _this6.keyboardDisposal.empty();\n\n      if (isUndefined(_this6.keys)) return;\n      var player = yield findPlayer(_this6);\n\n      var codes = _this6.keys.split('/');\n\n      _this6.keyboardDisposal.add(listen(player, 'keydown', event => {\n        if (codes.includes(event.key)) {\n          _this6.button.click();\n        }\n      }));\n    })();\n  }\n\n  connectedCallback() {\n    this.findTooltip();\n    this.onKeysChange();\n  }\n\n  componentWillLoad() {\n    this.findTooltip();\n  }\n\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n  /**\n   * Focuses the control.\n   */\n\n\n  focusControl() {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this7$button;\n\n      (_this7$button = _this7.button) === null || _this7$button === void 0 ? void 0 : _this7$button.focus();\n    })();\n  }\n  /**\n   * Removes focus from the control.\n   */\n\n\n  blurControl() {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this8$button;\n\n      (_this8$button = _this8.button) === null || _this8$button === void 0 ? void 0 : _this8$button.blur();\n    })();\n  }\n\n  onTouchStart() {\n    this.showTapHighlight = true;\n  }\n\n  onTouchEnd() {\n    setTimeout(() => {\n      this.showTapHighlight = false;\n    }, 100);\n  }\n\n  findTooltip() {\n    var tooltip = this.host.querySelector('vm-tooltip');\n    if (!isNull(tooltip)) this.describedBy = tooltip.id;\n    return tooltip;\n  }\n\n  onShowTooltip() {\n    var tooltip = this.findTooltip();\n    if (!isNull(tooltip)) tooltip.active = true;\n    this.vmInteractionChange.emit(true);\n  }\n\n  onHideTooltip() {\n    var tooltip = this.findTooltip();\n    if (!isNull(tooltip)) tooltip.active = false;\n    this.button.blur();\n    this.vmInteractionChange.emit(false);\n  }\n\n  onFocus() {\n    this.vmFocus.emit();\n    this.onShowTooltip();\n  }\n\n  onBlur() {\n    this.vmBlur.emit();\n    this.onHideTooltip();\n  }\n\n  onMouseEnter() {\n    this.onShowTooltip();\n  }\n\n  onMouseLeave() {\n    this.onHideTooltip();\n  }\n\n  render() {\n    var isMenuExpanded = this.expanded ? 'true' : 'false';\n    var isPressed = this.pressed ? 'true' : 'false';\n    return (0, _client.h)(\"button\", {\n      class: {\n        hidden: this.hidden,\n        notTouch: !this.isTouch,\n        tapHighlight: this.showTapHighlight\n      },\n      id: this.identifier,\n      type: \"button\",\n      \"aria-label\": this.label,\n      \"aria-haspopup\": !isUndefined(this.menu) ? 'true' : undefined,\n      \"aria-controls\": this.menu,\n      \"aria-expanded\": !isUndefined(this.menu) ? isMenuExpanded : undefined,\n      \"aria-pressed\": !isUndefined(this.pressed) ? isPressed : undefined,\n      \"aria-hidden\": this.hidden ? 'true' : 'false',\n      \"aria-describedby\": this.describedBy,\n      onTouchStart: this.onTouchStart.bind(this),\n      onTouchEnd: this.onTouchEnd.bind(this),\n      onFocus: this.onFocus.bind(this),\n      onBlur: this.onBlur.bind(this),\n      onMouseEnter: this.onMouseEnter.bind(this),\n      onMouseLeave: this.onMouseLeave.bind(this),\n      ref: el => {\n        this.button = el;\n      }\n    }, (0, _client.h)(\"slot\", null));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"keys\": [\"onKeysChange\"]\n    };\n  }\n\n  static get style() {\n    return controlCss;\n  }\n\n};\nvar controlGroupCss = \":host{width:100%}.controlGroup{position:relative;width:100%;display:flex;flex-wrap:wrap;flex-direction:inherit;align-items:inherit;justify-content:inherit;box-sizing:border-box}.controlGroup.spaceTop{margin-top:var(--vm-control-group-spacing)}.controlGroup.spaceBottom{margin-bottom:var(--vm-control-group-spacing)}::slotted(*){margin-left:var(--vm-controls-spacing)}::slotted(*:first-child){margin-left:0}\";\nvar ControlNewLine = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * Determines where to add spacing/margin. The amount of spacing is determined by the CSS variable\n     * `--control-group-spacing`.\n     */\n\n    this.space = 'none';\n    withComponentRegistry(this);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        controlGroup: true,\n        spaceTop: this.space !== 'none' && this.space !== 'bottom',\n        spaceBottom: this.space !== 'none' && this.space !== 'top'\n      }\n    }, (0, _client.h)(\"slot\", null));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get style() {\n    return controlGroupCss;\n  }\n\n};\nvar controlSpacerCss = \":host{flex:1}\";\nvar ControlSpacer = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    withComponentRegistry(this);\n  }\n\n  static get style() {\n    return controlSpacerCss;\n  }\n\n};\n\nvar debounce = function debounce(func) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n  var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var timeout;\n  return function executedFunction() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n\n    var later = function delayedFunctionCall() {\n      timeout = undefined;\n      if (!immediate) func.apply(context, args);\n    };\n\n    var callNow = immediate && isUndefined(timeout);\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\nvar controlsCss = \":host{position:relative;width:100%;z-index:var(--vm-controls-z-index)}:host([video]){position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.controls{display:flex;width:100%;position:absolute;flex-wrap:wrap;pointer-events:auto;box-sizing:border-box;background:var(--vm-controls-bg);padding:var(--vm-controls-padding);border-radius:var(--vm-controls-border-radius);opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.controls.audio{position:relative}.controls.hidden{display:none}.controls.active{opacity:1;visibility:visible}.controls.fullWidth{width:100%}.controls.fullHeight{height:100%}::slotted(*:not(vm-control-group)){margin-left:var(--vm-controls-spacing)}::slotted(*:not(vm-control-group):first-child){margin-left:0}\";\n/**\n * We want to keep the controls active state in-sync per player.\n */\n\nvar playerRef = {};\nvar hideControlsTimeout = {};\nvar Controls = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.disposal = new Disposal();\n    this.isInteracting = false;\n    /**\n     * Whether the controls are visible or not.\n     */\n\n    this.hidden = false;\n    /**\n     * Whether the controls container should be 100% width. This has no effect if the view is of\n     * type `audio`.\n     */\n\n    this.fullWidth = false;\n    /**\n     * Whether the controls container should be 100% height. This has no effect if the view is of\n     * type `audio`.\n     */\n\n    this.fullHeight = false;\n    /**\n     * Sets the `flex-direction` property that manages the direction in which the controls are layed\n     * out.\n     */\n\n    this.direction = 'row';\n    /**\n     * Sets the `align-items` flex property that aligns the individual controls on the cross-axis.\n     */\n\n    this.align = 'center';\n    /**\n     * Sets the `justify-content` flex property that aligns the individual controls on the main-axis.\n     */\n\n    this.justify = 'start';\n    /**\n     * Pins the controls to the defined position inside the video player. This has no effect when\n     * the view is of type `audio`.\n     */\n\n    this.pin = 'bottomLeft';\n    /**\n     * The length in milliseconds that the controls are active for before fading out. Audio players\n     * are not effected by this prop.\n     */\n\n    this.activeDuration = 2750;\n    /**\n     * Whether the controls should wait for playback to start before being shown. Audio players\n     * are not effected by this prop.\n     */\n\n    this.waitForPlaybackStart = false;\n    /**\n     * Whether the controls should show/hide when paused. Audio players are not effected by this prop.\n     */\n\n    this.hideWhenPaused = false;\n    /**\n     * Whether the controls should hide when the mouse leaves the player. Audio players are not\n     * effected by this prop.\n     */\n\n    this.hideOnMouseLeave = false;\n    /** @internal */\n\n    this.isAudioView = false;\n    /** @internal */\n\n    this.isSettingsActive = false;\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.isControlsActive = false;\n    /** @internal */\n\n    this.paused = true;\n    /** @internal */\n\n    this.playbackStarted = false;\n    withComponentRegistry(this);\n    registerControlsForCollisionDetection(this);\n    withPlayerContext(this, ['playbackReady', 'isAudioView', 'isControlsActive', 'isSettingsActive', 'paused', 'playbackStarted']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.onControlsChange();\n    this.setupPlayerListeners();\n  }\n\n  componentWillLoad() {\n    this.onControlsChange();\n  }\n\n  disconnectedCallback() {\n    this.disposal.empty();\n    delete hideControlsTimeout[playerRef[this]];\n    delete playerRef[this];\n  }\n\n  setupPlayerListeners() {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this9);\n      var events = ['focus', 'keydown', 'click', 'touchstart', 'mouseleave'];\n      events.forEach(event => {\n        _this9.disposal.add(listen(player, event, _this9.onControlsChange.bind(_this9)));\n      });\n\n      _this9.disposal.add(listen(player, 'mousemove', debounce(_this9.onControlsChange, 50, true).bind(_this9))); // @ts-ignore\n\n\n      playerRef[_this9] = player;\n    })();\n  }\n\n  show() {\n    this.dispatch('isControlsActive', true);\n  }\n\n  hide() {\n    this.dispatch('isControlsActive', false);\n  }\n\n  hideWithDelay() {\n    // @ts-ignore\n    clearTimeout(hideControlsTimeout[playerRef[this]]);\n    hideControlsTimeout[playerRef[this]] = setTimeout(() => {\n      this.hide();\n    }, this.activeDuration);\n  }\n\n  onControlsChange(event) {\n    // @ts-ignore\n    clearTimeout(hideControlsTimeout[playerRef[this]]);\n\n    if (this.hidden || !this.playbackReady) {\n      this.hide();\n      return;\n    }\n\n    if (this.isAudioView) {\n      this.show();\n      return;\n    }\n\n    if (this.waitForPlaybackStart && !this.playbackStarted) {\n      this.hide();\n      return;\n    }\n\n    if (this.isInteracting || this.isSettingsActive) {\n      this.show();\n      return;\n    }\n\n    if (this.hideWhenPaused && this.paused) {\n      this.hideWithDelay();\n      return;\n    }\n\n    if (this.hideOnMouseLeave && !this.paused && (event === null || event === void 0 ? void 0 : event.type) === 'mouseleave') {\n      this.hide();\n      return;\n    }\n\n    if (!this.paused) {\n      this.show();\n      this.hideWithDelay();\n      return;\n    }\n\n    this.show();\n  }\n\n  getPosition() {\n    if (this.isAudioView) return {};\n\n    if (this.pin === 'center') {\n      return {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      };\n    } // topLeft => { top: 0, left: 0 }\n\n\n    var pos = this.pin.split(/(?=[L|R])/).map(s => s.toLowerCase());\n    return {\n      [pos[0]]: 0,\n      [pos[1]]: 0\n    };\n  }\n\n  onStartInteraction() {\n    this.isInteracting = true;\n  }\n\n  onEndInteraction() {\n    this.isInteracting = false;\n  }\n\n  render() {\n    return (0, _client.h)(_client.Host, {\n      video: !this.isAudioView\n    }, (0, _client.h)(\"div\", {\n      style: _objectSpread(_objectSpread({}, this.getPosition()), {}, {\n        flexDirection: this.direction,\n        alignItems: this.align === 'center' ? 'center' : \"flex-\".concat(this.align),\n        justifyContent: this.justify\n      }),\n      class: {\n        controls: true,\n        audio: this.isAudioView,\n        hidden: this.hidden,\n        active: this.playbackReady && this.isControlsActive,\n        fullWidth: this.isAudioView || this.fullWidth,\n        fullHeight: !this.isAudioView && this.fullHeight\n      },\n      onMouseEnter: this.onStartInteraction.bind(this),\n      onMouseLeave: this.onEndInteraction.bind(this),\n      onTouchStart: this.onStartInteraction.bind(this),\n      onTouchEnd: this.onEndInteraction.bind(this)\n    }, (0, _client.h)(\"slot\", null)));\n  }\n\n  static get watchers() {\n    return {\n      \"paused\": [\"onControlsChange\"],\n      \"hidden\": [\"onControlsChange\"],\n      \"isAudioView\": [\"onControlsChange\"],\n      \"isInteracting\": [\"onControlsChange\"],\n      \"isSettingsActive\": [\"onControlsChange\"],\n      \"hideWhenPaused\": [\"onControlsChange\"],\n      \"hideOnMouseLeave\": [\"onControlsChange\"],\n      \"playbackStarted\": [\"onControlsChange\"],\n      \"waitForPlaybackStart\": [\"onControlsChange\"],\n      \"playbackReady\": [\"onControlsChange\"]\n    };\n  }\n\n  static get style() {\n    return controlsCss;\n  }\n\n};\nvar currentTimeCss = \":host{display:flex;align-items:center;justify-content:center}\";\nvar CurrentTime = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.currentTime = 0;\n    /** @internal */\n\n    this.i18n = {};\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['currentTime', 'i18n']);\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-time\", {\n      label: this.i18n.currentTime,\n      seconds: this.currentTime,\n      alwaysShowHours: this.alwaysShowHours\n    });\n  }\n\n  static get style() {\n    return currentTimeCss;\n  }\n\n};\nvar IS_CLIENT = typeof window !== 'undefined';\nvar UA = IS_CLIENT ? window.navigator.userAgent.toLowerCase() : '';\nvar IS_IOS = /iphone|ipad|ipod|ios|CriOS|FxiOS/.test(UA);\nvar IS_ANDROID = /android/.test(UA);\nvar IS_MOBILE = IS_IOS || IS_ANDROID;\nvar IS_IPHONE = IS_CLIENT && /(iPhone|iPod)/gi.test(window.navigator.platform);\nvar IS_FIREFOX = /firefox/.test(UA);\nvar IS_SAFARI = IS_CLIENT && (window.safari || IS_IOS || /Apple/.test(UA));\n\nvar onMobileChange = callback => {\n  if (!IS_CLIENT || isUndefined(window.ResizeObserver)) {\n    callback(IS_MOBILE);\n    return () => {};\n  }\n\n  function onResize() {\n    callback(window.innerWidth <= 480 || IS_MOBILE);\n  }\n\n  callback(window.innerWidth <= 480 || IS_MOBILE);\n  return listen(window, 'resize', onResize);\n};\n\nvar onTouchInputChange = callback => {\n  if (!IS_CLIENT) return () => {};\n  var lastTouchTime = 0;\n  var offTouchListener = listen(document, 'touchstart', () => {\n    lastTouchTime = new Date().getTime();\n    callback(true);\n  }, true);\n  var offMouseListener = listen(document, 'mousemove', () => {\n    // Filter emulated events coming from touch events\n    if (new Date().getTime() - lastTouchTime < 500) return;\n    callback(false);\n  }, true);\n  return () => {\n    offTouchListener();\n    offMouseListener();\n  };\n};\n/**\n * Checks if a video player can enter fullscreen.\n *\n * @see https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1633500-webkitenterfullscreen\n */\n\n\nvar canFullscreenVideo = () => {\n  if (!IS_CLIENT) return false;\n  var video = document.createElement('video'); // @ts-ignore\n\n  return isFunction(video.webkitEnterFullscreen);\n};\n/**\n * Checks if the screen orientation can be changed.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation\n */\n\n\nvar canRotateScreen = () => IS_CLIENT && window.screen.orientation && window.screen.orientation.lock;\n/**\n * Checks if the native HTML5 video player can enter picture-in-picture (PIP) mode when using\n * the Chrome browser.\n *\n * @see  https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture\n */\n\n\nvar canUsePiPInChrome = () => {\n  if (!IS_CLIENT) return false;\n  var video = document.createElement('video'); // @ts-ignore\n\n  return !!document.pictureInPictureEnabled && !video.disablePictureInPicture;\n};\n/**\n * Checks if the native HTML5 video player can enter picture-in-picture (PIP) mode when using\n * the desktop Safari browser, iOS Safari appears to \"support\" PiP through the check, however PiP\n * does not function.\n *\n * @see https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls\n */\n\n\nvar canUsePiPInSafari = () => {\n  if (!IS_CLIENT) return false;\n  var video = document.createElement('video'); // @ts-ignore\n\n  return isFunction(video.webkitSupportsPresentationMode) && // @ts-ignore\n  isFunction(video.webkitSetPresentationMode) && !IS_IPHONE;\n}; // Checks if the native HTML5 video player can enter PIP.\n\n\nvar canUsePiP = () => canUsePiPInChrome() || canUsePiPInSafari();\n/**\n * To detect autoplay, we create a video element and call play on it, if it is `paused` after\n * a `play()` call, autoplay is supported. Although this unintuitive, it works across browsers\n * and is currently the lightest way to detect autoplay without using a data source.\n *\n * @see https://github.com/ampproject/amphtml/blob/9bc8756536956780e249d895f3e1001acdee0bc0/src/utils/video.js#L25\n */\n\n\nvar canAutoplay = function canAutoplay() {\n  var muted = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var playsinline = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (!IS_CLIENT) return Promise.resolve(false);\n  var video = document.createElement('video');\n\n  if (muted) {\n    video.setAttribute('muted', '');\n    video.muted = true;\n  }\n\n  if (playsinline) {\n    video.setAttribute('playsinline', '');\n    video.setAttribute('webkit-playsinline', '');\n  }\n\n  video.setAttribute('height', '0');\n  video.setAttribute('width', '0');\n  video.style.position = 'fixed';\n  video.style.top = '0';\n  video.style.width = '0';\n  video.style.height = '0';\n  video.style.opacity = '0'; // Promise wrapped this way to catch both sync throws and async rejections.\n  // More info: https://github.com/tc39/proposal-promise-try\n\n  new Promise(resolve => resolve(video.play())).catch(() => {});\n  return Promise.resolve(!video.paused);\n};\n/**\n * Attempt to parse json into a POJO.\n */\n\n\nfunction tryParseJSON(json) {\n  if (!isString(json)) return undefined;\n\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return undefined;\n  }\n}\n/**\n * Check if the given input is json or a plain object.\n */\n\n\nvar isObjOrJSON = input => !isNullOrUndefined(input) && (isObject(input) || isString(input) && input.startsWith('{'));\n/**\n * If an object return otherwise try to parse it as json.\n */\n\n\nvar objOrParseJSON = input => isObject(input) ? input : tryParseJSON(input);\n/**\n * Load image avoiding xhr/fetch CORS issues. Server status can't be obtained this way\n * unfortunately, so this uses \"naturalWidth\" to determine if the image has been loaded. By\n * default it checks if it is at least 1px.\n */\n\n\nvar loadImage = function loadImage(src) {\n  var minWidth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return new Promise((resolve, reject) => {\n    var image = new Image();\n\n    var handler = () => {\n      // @ts-ignore\n      delete image.onload; // @ts-ignore\n\n      delete image.onerror;\n      image.naturalWidth >= minWidth ? resolve(image) : reject(image);\n    };\n\n    Object.assign(image, {\n      onload: handler,\n      onerror: handler,\n      src\n    });\n  });\n};\n\nvar loadScript = function loadScript(src, onLoad) {\n  var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : () => {};\n  var script = document.createElement('script');\n  script.src = src;\n  script.onload = onLoad;\n  script.onerror = onError;\n  var firstScriptTag = document.getElementsByTagName('script')[0];\n  firstScriptTag.parentNode.insertBefore(script, firstScriptTag);\n};\n/**\n * Tries to parse json and return a object.\n */\n\n\nvar decodeJSON = data => {\n  if (!isObjOrJSON(data)) return undefined;\n  return objOrParseJSON(data);\n};\n/**\n * Attempts to safely decode a URI component, on failure it returns the given fallback.\n */\n\n\nvar tryDecodeURIComponent = function tryDecodeURIComponent(component) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  if (!IS_CLIENT) return fallback;\n\n  try {\n    return window.decodeURIComponent(component);\n  } catch (e) {\n    return fallback;\n  }\n};\n/**\n * Returns a simple key/value map and duplicate keys are merged into an array.\n *\n * @see https://github.com/ampproject/amphtml/blob/c7c46cec71bac92f5c5da31dcc6366c18577f566/src/url-parse-query-string.js#L31\n */\n\n\nvar QUERY_STRING_REGEX = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\n\nvar parseQueryString = qs => {\n  var params = Object.create(null);\n  if (isUndefined(qs)) return params;\n  var match; // eslint-disable-next-line no-cond-assign\n\n  while (match = QUERY_STRING_REGEX.exec(qs)) {\n    var name = tryDecodeURIComponent(match[1], match[1]).replace('[]', '');\n    var value = isString(match[2]) ? tryDecodeURIComponent(match[2].replace(/\\+/g, ' '), match[2]) : '';\n    var currValue = params[name];\n    if (currValue && !isArray(currValue)) params[name] = [currValue];\n    currValue ? params[name].push(value) : params[name] = value;\n  }\n\n  return params;\n};\n/**\n * Serializes the given params into a query string.\n */\n\n\nvar serializeQueryString = params => {\n  var qs = [];\n\n  var appendQueryParam = (param, v) => {\n    qs.push(\"\".concat(encodeURIComponent(param), \"=\").concat(encodeURIComponent(v)));\n  };\n\n  Object.keys(params).forEach(param => {\n    var value = params[param];\n    if (isNullOrUndefined(value)) return;\n\n    if (isArray(value)) {\n      value.forEach(v => appendQueryParam(param, v));\n    } else {\n      appendQueryParam(param, value);\n    }\n  });\n  return qs.join('&');\n};\n/**\n * Notifies the browser to start establishing a connection with the given URL.\n */\n\n\nvar preconnect = function preconnect(url) {\n  var rel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'preconnect';\n  var as = arguments.length > 2 ? arguments[2] : undefined;\n  if (!IS_CLIENT) return false;\n  var link = document.createElement('link');\n  link.rel = rel;\n  link.href = url;\n  if (!isUndefined(as)) link.as = as;\n  link.crossOrigin = 'true';\n  document.head.append(link);\n  return true;\n};\n/**\n * Safely appends the given query string to the given URL.\n */\n\n\nvar appendQueryStringToURL = (url, qs) => {\n  if (isUndefined(qs) || qs.length === 0) return url;\n  var mainAndQuery = url.split('?', 2);\n  return mainAndQuery[0] + (!isUndefined(mainAndQuery[1]) ? \"?\".concat(mainAndQuery[1], \"&\").concat(qs) : \"?\".concat(qs));\n};\n/**\n * Serializes the given params into a query string and appends them to the given URL.\n */\n\n\nvar appendParamsToURL = (url, params) => appendQueryStringToURL(url, isObject(params) ? serializeQueryString(params) : params);\n/**\n * Tries to convert a query string into a object.\n */\n\n\nvar decodeQueryString = qs => {\n  if (!isString(qs)) return undefined;\n  return parseQueryString(qs);\n};\n\nvar pendingSDKRequests = {};\n\nvar loadSDK = function loadSDK(url, sdkGlobalVar, sdkReadyVar) {\n  var isLoaded = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : () => true;\n  var loadScriptFn = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : loadScript;\n\n  var getGlobal = key => {\n    if (!isUndefined(window[key])) return window[key];\n    if (window.exports && window.exports[key]) return window.exports[key];\n\n    if (window.module && window.module.exports && window.module.exports[key]) {\n      return window.module.exports[key];\n    }\n\n    return undefined;\n  };\n\n  var existingGlobal = getGlobal(sdkGlobalVar);\n\n  if (existingGlobal && isLoaded(existingGlobal)) {\n    return Promise.resolve(existingGlobal);\n  }\n\n  return new Promise((resolve, reject) => {\n    if (!isUndefined(pendingSDKRequests[url])) {\n      pendingSDKRequests[url].push({\n        resolve,\n        reject\n      });\n      return;\n    }\n\n    pendingSDKRequests[url] = [{\n      resolve,\n      reject\n    }];\n\n    var onLoaded = sdk => {\n      pendingSDKRequests[url].forEach(request => request.resolve(sdk));\n    };\n\n    if (!isUndefined(sdkReadyVar)) {\n      var previousOnReady = window[sdkReadyVar]; // eslint-disable-next-line func-names\n\n      window[sdkReadyVar] = function () {\n        if (!isUndefined(previousOnReady)) previousOnReady();\n        onLoaded(getGlobal(sdkGlobalVar));\n      };\n    }\n\n    loadScriptFn(url, () => {\n      if (isUndefined(sdkReadyVar)) onLoaded(getGlobal(sdkGlobalVar));\n    }, e => {\n      pendingSDKRequests[url].forEach(request => {\n        request.reject(e);\n      });\n      delete pendingSDKRequests[url];\n    });\n  });\n};\n\nvar withProviderContext = function withProviderContext(provider) {\n  var additionalProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return withPlayerContext(provider, ['autoplay', 'controls', 'language', 'muted', 'logger', 'loop', 'aspectRatio', 'playsinline', ...additionalProps]);\n};\n\nvar dailymotionCss = \":host{z-index:var(--vm-media-z-index)}\";\nvar videoInfoCache = new Map();\nvar Dailymotion = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.defaultInternalState = {};\n    this.internalState = {\n      currentTime: 0,\n      volume: 0,\n      muted: false,\n      isAdsPlaying: false,\n      playbackReady: false\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether to automatically play the next video in the queue.\n     */\n\n    this.shouldAutoplayQueue = false;\n    /**\n     * Whether to show the 'Up Next' queue.\n     */\n\n    this.showUpNextQueue = false;\n    /**\n     * Whether to show buttons for sharing the video.\n     */\n\n    this.showShareButtons = false;\n    /**\n     * Whether to display the Dailymotion logo.\n     */\n\n    this.showDailymotionLogo = false;\n    /**\n     * Whether to show video information (title and owner) on the start screen.\n     */\n\n    this.showVideoInfo = true;\n    /** @internal */\n\n    this.language = 'en';\n    /** @internal */\n\n    this.autoplay = false;\n    /** @internal */\n\n    this.controls = false;\n    /** @internal */\n\n    this.loop = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n\n  onVideoIdChange() {\n    this.internalState = _objectSpread({}, this.defaultInternalState);\n\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n\n    this.embedSrc = \"\".concat(this.getOrigin(), \"/embed/video/\").concat(this.videoId, \"?api=1\");\n    this.fetchVideoInfo = this.getVideoInfo();\n    this.pendingMediaTitleCall = deferredPromise();\n  }\n\n  onControlsChange() {\n    if (this.internalState.playbackReady) {\n      this.remoteControl(\"controls\"\n      /* Controls */\n      , this.controls);\n    }\n  }\n\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.initialMuted = this.muted;\n    this.internalState.muted = this.muted;\n    this.defaultInternalState = _objectSpread({}, this.internalState);\n  }\n\n  getOrigin() {\n    return 'https://www.dailymotion.com';\n  }\n\n  getPreconnections() {\n    return [this.getOrigin(), 'https://static1.dmcdn.net'];\n  }\n\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      command,\n      parameters: arg ? [arg] : []\n    });\n  }\n\n  buildParams() {\n    return {\n      autoplay: this.autoplay,\n      mute: this.initialMuted,\n      'queue-autoplay-next': this.shouldAutoplayQueue,\n      'queue-enable': this.showUpNextQueue,\n      'sharing-enable': this.showShareButtons,\n      syndication: this.syndication,\n      'ui-highlight': this.color,\n      'ui-logo': this.showDailymotionLogo,\n      'ui-start-screen-info': this.showVideoInfo\n    };\n  }\n\n  getVideoInfo() {\n    var _this10 = this;\n\n    return _asyncToGenerator(function* () {\n      if (videoInfoCache.has(_this10.videoId)) return videoInfoCache.get(_this10.videoId);\n      var apiEndpoint = 'https://api.dailymotion.com';\n      return window.fetch(\"\".concat(apiEndpoint, \"/video/\").concat(_this10.videoId, \"?fields=duration,thumbnail_1080_url\")).then(response => response.json()).then(data => {\n        var poster = data.thumbnail_1080_url;\n        var duration = parseFloat(data.duration);\n        videoInfoCache.set(_this10.videoId, {\n          poster,\n          duration\n        });\n        return {\n          poster,\n          duration\n        };\n      });\n    })();\n  }\n\n  onEmbedSrcChange() {\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n\n  onEmbedMessage(event) {\n    var _this$pendingMediaTit, _this$pendingMediaTit2;\n\n    var msg = event.detail;\n\n    switch (msg.event) {\n      case \"playback_ready\"\n      /* PlaybackReady */\n      :\n        this.onControlsChange();\n        this.dispatch('currentSrc', this.embedSrc);\n        this.dispatch('mediaType', MediaType.Video);\n        Promise.all([this.fetchVideoInfo, (_this$pendingMediaTit = this.pendingMediaTitleCall) === null || _this$pendingMediaTit === void 0 ? void 0 : _this$pendingMediaTit.promise]).then((_ref5) => {\n          var _info$duration, _this$poster;\n\n          var [info, mediaTitle] = _ref5;\n          this.dispatch('duration', (_info$duration = info === null || info === void 0 ? void 0 : info.duration) !== null && _info$duration !== void 0 ? _info$duration : -1);\n          this.dispatch('currentPoster', (_this$poster = this.poster) !== null && _this$poster !== void 0 ? _this$poster : info === null || info === void 0 ? void 0 : info.poster);\n          this.dispatch('mediaTitle', mediaTitle);\n          this.dispatch('playbackReady', true);\n        });\n        break;\n\n      case \"videochange\"\n      /* VideoChange */\n      :\n        (_this$pendingMediaTit2 = this.pendingMediaTitleCall) === null || _this$pendingMediaTit2 === void 0 ? void 0 : _this$pendingMediaTit2.resolve(msg.title);\n        break;\n\n      case \"start\"\n      /* Start */\n      :\n        this.dispatch('paused', false);\n        this.dispatch('playbackStarted', true);\n        this.dispatch('buffering', true);\n        break;\n\n      case \"video_start\"\n      /* VideoStart */\n      :\n        // Commands don't go through until ads have finished, so we store them and then replay them\n        // once the video starts.\n        this.remoteControl(\"muted\"\n        /* Muted */\n        , this.internalState.muted);\n        this.remoteControl(\"volume\"\n        /* Volume */\n        , this.internalState.volume);\n\n        if (this.internalState.currentTime > 0) {\n          this.remoteControl(\"seek\"\n          /* Seek */\n          , this.internalState.currentTime);\n        }\n\n        break;\n\n      case \"play\"\n      /* Play */\n      :\n        this.dispatch('paused', false);\n        break;\n\n      case \"pause\"\n      /* Pause */\n      :\n        this.dispatch('paused', true);\n        this.dispatch('playing', false);\n        this.dispatch('buffering', false);\n        break;\n\n      case \"playing\"\n      /* Playing */\n      :\n        this.dispatch('playing', true);\n        this.dispatch('buffering', false);\n        break;\n\n      case \"video_end\"\n      /* VideoEnd */\n      :\n        if (this.loop) {\n          setTimeout(() => {\n            this.remoteControl(\"play\"\n            /* Play */\n            );\n          }, 300);\n        } else {\n          this.dispatch('playbackEnded', true);\n        }\n\n        break;\n\n      case \"timeupdate\"\n      /* TimeUpdate */\n      :\n        this.dispatch('currentTime', parseFloat(msg.time));\n        break;\n\n      case \"volumechange\"\n      /* VolumeChange */\n      :\n        this.dispatch('muted', msg.muted === 'true');\n        this.dispatch('volume', Math.floor(parseFloat(msg.volume) * 100));\n        break;\n\n      case \"seeking\"\n      /* Seeking */\n      :\n        this.dispatch('currentTime', parseFloat(msg.time));\n        this.dispatch('seeking', true);\n        break;\n\n      case \"seeked\"\n      /* Seeked */\n      :\n        this.dispatch('currentTime', parseFloat(msg.time));\n        this.dispatch('seeking', false);\n        break;\n\n      case \"waiting\"\n      /* Waiting */\n      :\n        this.dispatch('buffering', true);\n        break;\n\n      case \"progress\"\n      /* Progress */\n      :\n        this.dispatch('buffered', parseFloat(msg.time));\n        break;\n\n      case \"durationchange\"\n      /* DurationChange */\n      :\n        this.dispatch('duration', parseFloat(msg.duration));\n        break;\n\n      case \"qualitiesavailable\"\n      /* QualitiesAvailable */\n      :\n        this.dispatch('playbackQualities', msg.qualities.map(q => \"\".concat(q, \"p\")));\n        break;\n\n      case \"qualitychange\"\n      /* QualityChange */\n      :\n        this.dispatch('playbackQuality', \"\".concat(msg.quality, \"p\"));\n        break;\n\n      case \"fullscreenchange\"\n      /* FullscreenChange */\n      :\n        this.dispatch('isFullscreenActive', msg.fullscreen === 'true');\n        break;\n\n      case \"error\"\n      /* Error */\n      :\n        this.vmError.emit(msg.error);\n        break;\n    }\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this11 = this;\n\n    return _asyncToGenerator(function* () {\n      var canPlayRegex = /(?:dai\\.ly|dailymotion|dailymotion\\.com)\\/(?:video\\/|embed\\/|)(?:video\\/|)((?:\\w)+)/;\n      return {\n        getInternalPlayer: function () {\n          var _getInternalPlayer = _asyncToGenerator(function* () {\n            return _this11.embed;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        play: function () {\n          var _play = _asyncToGenerator(function* () {\n            _this11.remoteControl(\"play\"\n            /* Play */\n            );\n          });\n\n          function play() {\n            return _play.apply(this, arguments);\n          }\n\n          return play;\n        }(),\n        pause: function () {\n          var _pause = _asyncToGenerator(function* () {\n            _this11.remoteControl(\"pause\"\n            /* Pause */\n            );\n          });\n\n          function pause() {\n            return _pause.apply(this, arguments);\n          }\n\n          return pause;\n        }(),\n        canPlay: function () {\n          var _canPlay = _asyncToGenerator(function* (type) {\n            return isString(type) && canPlayRegex.test(type);\n          });\n\n          function canPlay(_x9) {\n            return _canPlay.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        setCurrentTime: function () {\n          var _setCurrentTime = _asyncToGenerator(function* (time) {\n            _this11.internalState.currentTime = time;\n\n            _this11.remoteControl(\"seek\"\n            /* Seek */\n            , time);\n          });\n\n          function setCurrentTime(_x10) {\n            return _setCurrentTime.apply(this, arguments);\n          }\n\n          return setCurrentTime;\n        }(),\n        setMuted: function () {\n          var _setMuted = _asyncToGenerator(function* (muted) {\n            _this11.internalState.muted = muted;\n\n            _this11.remoteControl(\"muted\"\n            /* Muted */\n            , muted);\n          });\n\n          function setMuted(_x11) {\n            return _setMuted.apply(this, arguments);\n          }\n\n          return setMuted;\n        }(),\n        setVolume: function () {\n          var _setVolume = _asyncToGenerator(function* (volume) {\n            _this11.internalState.volume = volume / 100;\n\n            _this11.dispatch('volume', volume);\n\n            _this11.remoteControl(\"volume\"\n            /* Volume */\n            , volume / 100);\n          });\n\n          function setVolume(_x12) {\n            return _setVolume.apply(this, arguments);\n          }\n\n          return setVolume;\n        }(),\n        canSetPlaybackQuality: function () {\n          var _canSetPlaybackQuality = _asyncToGenerator(function* () {\n            return true;\n          });\n\n          function canSetPlaybackQuality() {\n            return _canSetPlaybackQuality.apply(this, arguments);\n          }\n\n          return canSetPlaybackQuality;\n        }(),\n        setPlaybackQuality: function () {\n          var _setPlaybackQuality = _asyncToGenerator(function* (quality) {\n            _this11.remoteControl(\"quality\"\n            /* Quality */\n            , quality.slice(0, -1));\n          });\n\n          function setPlaybackQuality(_x13) {\n            return _setPlaybackQuality.apply(this, arguments);\n          }\n\n          return setPlaybackQuality;\n        }(),\n        canSetFullscreen: function () {\n          var _canSetFullscreen = _asyncToGenerator(function* () {\n            return true;\n          });\n\n          function canSetFullscreen() {\n            return _canSetFullscreen.apply(this, arguments);\n          }\n\n          return canSetFullscreen;\n        }(),\n        enterFullscreen: function () {\n          var _enterFullscreen = _asyncToGenerator(function* () {\n            _this11.remoteControl(\"fullscreen\"\n            /* Fullscreen */\n            , true);\n          });\n\n          function enterFullscreen() {\n            return _enterFullscreen.apply(this, arguments);\n          }\n\n          return enterFullscreen;\n        }(),\n        exitFullscreen: function () {\n          var _exitFullscreen = _asyncToGenerator(function* () {\n            _this11.remoteControl(\"fullscreen\"\n            /* Fullscreen */\n            , false);\n          });\n\n          function exitFullscreen() {\n            return _exitFullscreen.apply(this, arguments);\n          }\n\n          return exitFullscreen;\n        }()\n      };\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-embed\", {\n      embedSrc: this.embedSrc,\n      mediaTitle: this.mediaTitle,\n      origin: this.getOrigin(),\n      params: this.buildParams(),\n      decoder: decodeQueryString,\n      preconnections: this.getPreconnections(),\n      onVmEmbedMessage: this.onEmbedMessage.bind(this),\n      onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this),\n      ref: el => {\n        this.embed = el;\n      }\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"videoId\": [\"onVideoIdChange\"],\n      \"controls\": [\"onControlsChange\"],\n      \"poster\": [\"onCustomPosterChange\"]\n    };\n  }\n\n  static get style() {\n    return dailymotionCss;\n  }\n\n};\nvar dashCss = \":host{z-index:var(--vm-media-z-index)}\";\nvar Dash = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.textTracksDisposal = new Disposal();\n    this.hasAttached = false;\n    /**\n     * The NPM package version of the `dashjs` library to download and use.\n     */\n\n    this.version = 'latest';\n    /**\n     * The `dashjs` configuration.\n     */\n\n    this.config = {};\n    /** @internal */\n\n    this.autoplay = false;\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    /**\n     * Are text tracks enabled by default.\n     */\n\n    this.enableTextTracksByDefault = true;\n    /** @internal */\n\n    this.shouldRenderNativeTextTracks = true;\n    /** @internal */\n\n    this.isTextTrackVisible = true;\n    /** @internal */\n\n    this.currentTextTrack = -1;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withPlayerContext(this, ['autoplay', 'shouldRenderNativeTextTracks', 'isTextTrackVisible', 'currentTextTrack']);\n  }\n\n  onSrcChange() {\n    if (!this.hasAttached) return;\n    this.vmLoadStart.emit();\n    this.dash.attachSource(this.src);\n  }\n\n  onShouldRenderNativeTextTracks() {\n    var _this$dash;\n\n    if (this.shouldRenderNativeTextTracks) {\n      this.textTracksDisposal.empty();\n    } else {\n      this.hideCurrentTextTrack();\n    }\n\n    (_this$dash = this.dash) === null || _this$dash === void 0 ? void 0 : _this$dash.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks);\n  }\n\n  onTextTrackChange() {\n    if (!this.shouldRenderNativeTextTracks || isUndefined(this.dash)) return;\n    this.dash.setTextTrack(!this.isTextTrackVisible ? -1 : this.currentTextTrack);\n\n    if (!this.isTextTrackVisible) {\n      var _this$mediaEl$textTra, _this$mediaEl;\n\n      var track = Array.from((_this$mediaEl$textTra = (_this$mediaEl = this.mediaEl) === null || _this$mediaEl === void 0 ? void 0 : _this$mediaEl.textTracks) !== null && _this$mediaEl$textTra !== void 0 ? _this$mediaEl$textTra : [])[this.currentTextTrack];\n      if ((track === null || track === void 0 ? void 0 : track.mode) === 'hidden') this.dispatch('currentTextTrack', -1);\n    }\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    if (this.mediaEl) this.setupDash();\n  }\n\n  disconnectedCallback() {\n    this.textTracksDisposal.empty();\n    this.destroyDash();\n  }\n\n  setupDash() {\n    var _this12 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        var url = _this12.libSrc || \"https://cdn.jsdelivr.net/npm/dashjs@\".concat(_this12.version, \"/dist/dash.all.min.js\"); // eslint-disable-next-line no-shadow\n\n        var DashSDK = yield loadSDK(url, 'dashjs');\n        _this12.dash = DashSDK.MediaPlayer(_this12.config).create();\n\n        _this12.dash.initialize(_this12.mediaEl, null, _this12.autoplay);\n\n        _this12.dash.setTextDefaultEnabled(_this12.enableTextTracksByDefault);\n\n        _this12.dash.enableForcedTextStreaming(!_this12.shouldRenderNativeTextTracks);\n\n        _this12.dash.on(DashSDK.MediaPlayer.events.PLAYBACK_METADATA_LOADED, () => {\n          _this12.dispatch('mediaType', MediaType.Video);\n\n          _this12.dispatch('currentSrc', _this12.src);\n\n          _this12.dispatchLevels();\n\n          _this12.listenToTextTracksForChanges();\n\n          _this12.dispatch('playbackReady', true);\n        });\n\n        _this12.dash.on(DashSDK.MediaPlayer.events.TRACK_CHANGE_RENDERED, () => {\n          if (!_this12.shouldRenderNativeTextTracks) _this12.hideCurrentTextTrack();\n        });\n\n        _this12.dash.on(DashSDK.MediaPlayer.events.ERROR, e => {\n          _this12.vmError.emit(e);\n        });\n\n        _this12.hasAttached = true;\n      } catch (e) {\n        _this12.vmError.emit(e);\n      }\n    })();\n  }\n\n  destroyDash() {\n    var _this13 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this13$dash;\n\n      (_this13$dash = _this13.dash) === null || _this13$dash === void 0 ? void 0 : _this13$dash.reset();\n      _this13.hasAttached = false;\n    })();\n  }\n\n  onMediaElChange(event) {\n    var _this14 = this;\n\n    return _asyncToGenerator(function* () {\n      _this14.destroyDash();\n\n      if (isUndefined(event.detail)) return;\n      _this14.mediaEl = event.detail;\n      yield _this14.setupDash();\n    })();\n  }\n\n  levelToPlaybackQuality(level) {\n    return level === -1 ? 'Auto' : \"\".concat(level.height, \"p\");\n  }\n\n  findLevelIndexFromQuality(quality) {\n    return this.dash.getBitrateInfoListFor('video').findIndex(level => this.levelToPlaybackQuality(level) === quality);\n  }\n\n  dispatchLevels() {\n    try {\n      var levels = this.dash.getBitrateInfoListFor('video');\n\n      if ((levels === null || levels === void 0 ? void 0 : levels.length) > 0) {\n        this.dispatch('playbackQualities', ['Auto', ...levels.map(this.levelToPlaybackQuality)]);\n        this.dispatch('playbackQuality', 'Auto');\n      }\n    } catch (e) {\n      this.vmError.emit(e);\n    }\n  }\n\n  listenToTextTracksForChanges() {\n    var _ref6, _this$dash2, _this$dash2$getCurren;\n\n    this.textTracksDisposal.empty();\n    if (isUndefined(this.mediaEl) || this.shouldRenderNativeTextTracks) return; // Init current track.\n\n    var currentTrack = (_ref6 = ((_this$dash2 = this.dash) === null || _this$dash2 === void 0 ? void 0 : (_this$dash2$getCurren = _this$dash2.getCurrentTrackFor('text')) === null || _this$dash2$getCurren === void 0 ? void 0 : _this$dash2$getCurren.index) - 1) !== null && _ref6 !== void 0 ? _ref6 : -1;\n    this.currentTextTrack = currentTrack;\n    this.dispatch('currentTextTrack', currentTrack);\n    this.textTracksDisposal.add(listen(this.mediaEl.textTracks, 'change', this.onTextTracksChange.bind(this)));\n  }\n\n  getTextTracks() {\n    var _this$mediaEl$textTra2, _this$mediaEl2;\n\n    return Array.from((_this$mediaEl$textTra2 = (_this$mediaEl2 = this.mediaEl) === null || _this$mediaEl2 === void 0 ? void 0 : _this$mediaEl2.textTracks) !== null && _this$mediaEl$textTra2 !== void 0 ? _this$mediaEl$textTra2 : []);\n  }\n\n  hideCurrentTextTrack() {\n    var textTracks = this.getTextTracks();\n\n    if (textTracks[this.currentTextTrack] && this.isTextTrackVisible) {\n      textTracks[this.currentTextTrack].mode = 'hidden';\n    }\n  }\n\n  onTextTracksChange() {\n    this.hideCurrentTextTrack();\n    this.dispatch('textTracks', this.getTextTracks());\n    this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n    this.dispatch('currentTextTrack', this.currentTextTrack);\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this15 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this15$videoP, _this15$videoProvider;\n\n      var adapter = (_yield$_this15$videoP = yield (_this15$videoProvider = _this15.videoProvider) === null || _this15$videoProvider === void 0 ? void 0 : _this15$videoProvider.getAdapter()) !== null && _yield$_this15$videoP !== void 0 ? _yield$_this15$videoP : {};\n      var canVideoProviderPlay = adapter.canPlay;\n      return _objectSpread(_objectSpread({}, adapter), {}, {\n        getInternalPlayer: function () {\n          var _getInternalPlayer2 = _asyncToGenerator(function* () {\n            return _this15.dash;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer2.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        canPlay: function () {\n          var _canPlay2 = _asyncToGenerator(function* (type) {\n            var _canVideoProviderPlay;\n\n            return isString(type) && dashRegex.test(type) || ((_canVideoProviderPlay = canVideoProviderPlay === null || canVideoProviderPlay === void 0 ? void 0 : canVideoProviderPlay(type)) !== null && _canVideoProviderPlay !== void 0 ? _canVideoProviderPlay : false);\n          });\n\n          function canPlay(_x14) {\n            return _canPlay2.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        canSetPlaybackQuality: function () {\n          var _canSetPlaybackQuality2 = _asyncToGenerator(function* () {\n            try {\n              var _this15$dash, _this15$dash$getBitra;\n\n              return ((_this15$dash = _this15.dash) === null || _this15$dash === void 0 ? void 0 : (_this15$dash$getBitra = _this15$dash.getBitrateInfoListFor('video')) === null || _this15$dash$getBitra === void 0 ? void 0 : _this15$dash$getBitra.length) > 0;\n            } catch (e) {\n              _this15.vmError.emit(e);\n\n              return false;\n            }\n          });\n\n          function canSetPlaybackQuality() {\n            return _canSetPlaybackQuality2.apply(this, arguments);\n          }\n\n          return canSetPlaybackQuality;\n        }(),\n        setPlaybackQuality: function () {\n          var _setPlaybackQuality2 = _asyncToGenerator(function* (quality) {\n            if (!isUndefined(_this15.dash)) {\n              var index = _this15.findLevelIndexFromQuality(quality);\n\n              _this15.dash.updateSettings({\n                streaming: {\n                  abr: {\n                    autoSwitchBitrate: {\n                      video: index === -1\n                    }\n                  }\n                }\n              });\n\n              if (index >= 0) _this15.dash.setQualityFor('video', index); // Update the provider cache.\n\n              _this15.dispatch('playbackQuality', quality);\n            }\n          });\n\n          function setPlaybackQuality(_x15) {\n            return _setPlaybackQuality2.apply(this, arguments);\n          }\n\n          return setPlaybackQuality;\n        }(),\n        setCurrentTextTrack: function () {\n          var _setCurrentTextTrack = _asyncToGenerator(function* (trackId) {\n            if (_this15.shouldRenderNativeTextTracks) {\n              adapter.setCurrentTextTrack(trackId);\n            } else {\n              var _this15$dash2;\n\n              _this15.currentTextTrack = trackId;\n              (_this15$dash2 = _this15.dash) === null || _this15$dash2 === void 0 ? void 0 : _this15$dash2.setTextTrack(trackId);\n\n              _this15.onTextTracksChange();\n            }\n          });\n\n          function setCurrentTextTrack(_x16) {\n            return _setCurrentTextTrack.apply(this, arguments);\n          }\n\n          return setCurrentTextTrack;\n        }(),\n        setTextTrackVisibility: function () {\n          var _setTextTrackVisibility = _asyncToGenerator(function* (isVisible) {\n            if (_this15.shouldRenderNativeTextTracks) {\n              adapter.setTextTrackVisibility(isVisible);\n            } else {\n              var _this15$dash3;\n\n              _this15.isTextTrackVisible = isVisible;\n              (_this15$dash3 = _this15.dash) === null || _this15$dash3 === void 0 ? void 0 : _this15$dash3.enableText(isVisible);\n\n              _this15.onTextTracksChange();\n            }\n          });\n\n          function setTextTrackVisibility(_x17) {\n            return _setTextTrackVisibility.apply(this, arguments);\n          }\n\n          return setTextTrackVisibility;\n        }()\n      });\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-video\", {\n      willAttach: true,\n      crossOrigin: this.crossOrigin,\n      preload: this.preload,\n      poster: this.poster,\n      controlsList: this.controlsList,\n      autoPiP: this.autoPiP,\n      disablePiP: this.disablePiP,\n      hasCustomTextManager: !this.shouldRenderNativeTextTracks,\n      disableRemotePlayback: this.disableRemotePlayback,\n      mediaTitle: this.mediaTitle,\n      ref: el => {\n        this.videoProvider = el;\n      }\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"src\": [\"onSrcChange\"],\n      \"hasAttached\": [\"onSrcChange\"],\n      \"shouldRenderNativeTextTracks\": [\"onShouldRenderNativeTextTracks\"],\n      \"isTextTrackVisible\": [\"onTextTrackChange\"],\n      \"currentTextTrack\": [\"onTextTrackChange\"]\n    };\n  }\n\n  static get style() {\n    return dashCss;\n  }\n\n};\nvar dblClickFullscreenCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-dbl-click-fullscreen-z-index)}.dblClickFullscreen{display:none;width:100%;height:100%;pointer-events:none}.dblClickFullscreen.enabled{display:inline-block;pointer-events:auto}\";\nvar DblClickFullscreen = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.canSetFullscreen = false;\n    /**\n     * By default this is disabled on mobile to not interfere with playback, set this to `true` to\n     * enable it.\n     */\n\n    this.useOnMobile = false;\n    /** @internal */\n\n    this.isFullscreenActive = true;\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.isMobile = false;\n    this.clicks = 0;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['playbackReady', 'isFullscreenActive', 'isVideoView', 'isMobile']);\n  }\n\n  onPlaybackReadyChange() {\n    var _this16 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this16);\n      _this16.canSetFullscreen = yield player.canSetFullscreen();\n    })();\n  }\n\n  onTriggerClickToPlay() {\n    var _this17 = this;\n\n    return _asyncToGenerator(function* () {\n      var [clickToPlay] = getComponentFromRegistry(_this17, 'vm-click-to-play');\n      yield clickToPlay === null || clickToPlay === void 0 ? void 0 : clickToPlay.forceClick();\n    })();\n  }\n\n  onToggleFullscreen() {\n    var _this18 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this18);\n      _this18.isFullscreenActive ? player.exitFullscreen() : player.enterFullscreen();\n    })();\n  }\n\n  onClick() {\n    this.clicks += 1;\n\n    if (this.clicks === 1) {\n      setTimeout(() => {\n        if (this.clicks === 1) {\n          this.onTriggerClickToPlay();\n        } else {\n          this.onToggleFullscreen();\n        }\n\n        this.clicks = 0;\n      }, 300);\n    }\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        dblClickFullscreen: true,\n        enabled: this.playbackReady && this.canSetFullscreen && this.isVideoView && (!this.isMobile || this.useOnMobile)\n      },\n      onClick: this.onClick.bind(this)\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"playbackReady\": [\"onPlaybackReadyChange\"]\n    };\n  }\n\n  static get style() {\n    return dblClickFullscreenCss;\n  }\n\n};\nvar defaultControlsCss = \":host{display:contents;pointer-events:none;z-index:var(--vm-controls-z-index)}\";\nvar DefaultControls = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The length in milliseconds that the controls are active for before fading out. Audio players\n     * are not effected by this prop.\n     */\n\n    this.activeDuration = 2750;\n    /**\n     * Whether the controls should wait for playback to start before being shown. Audio players\n     * are not effected by this prop.\n     */\n\n    this.waitForPlaybackStart = false;\n    /**\n     * Whether the controls should show/hide when paused. Audio players are not effected by this prop.\n     */\n\n    this.hideWhenPaused = false;\n    /**\n     * Whether the controls should hide when the mouse leaves the player. Audio players are not\n     * effected by this prop.\n     */\n\n    this.hideOnMouseLeave = false;\n    /** @internal */\n\n    this.isMobile = false;\n    /** @internal */\n\n    this.isLive = false;\n    /** @internal */\n\n    this.isAudioView = false;\n    /** @internal */\n\n    this.isVideoView = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['theme', 'isMobile', 'isAudioView', 'isVideoView', 'isLive']);\n  }\n\n  buildAudioControls() {\n    return (0, _client.h)(\"vm-controls\", {\n      fullWidth: true\n    }, (0, _client.h)(\"vm-playback-control\", {\n      tooltipDirection: \"right\"\n    }), (0, _client.h)(\"vm-volume-control\", null), !this.isLive && (0, _client.h)(\"vm-current-time\", null), this.isLive && (0, _client.h)(\"vm-control-spacer\", null), !this.isLive && (0, _client.h)(\"vm-scrubber-control\", null), this.isLive && (0, _client.h)(\"vm-live-indicator\", null), !this.isLive && (0, _client.h)(\"vm-end-time\", null), !this.isLive && (0, _client.h)(\"vm-settings-control\", {\n      tooltipDirection: \"left\"\n    }), (0, _client.h)(\"div\", {\n      style: {\n        marginLeft: '0',\n        paddingRight: '2px'\n      }\n    }));\n  }\n\n  buildMobileVideoControls() {\n    return (0, _client.h)(_client.Fragment, null, (0, _client.h)(\"vm-scrim\", {\n      gradient: \"up\"\n    }), (0, _client.h)(\"vm-controls\", {\n      pin: \"topLeft\",\n      fullWidth: true,\n      activeDuration: this.activeDuration,\n      waitForPlaybackStart: this.waitForPlaybackStart,\n      hideWhenPaused: this.hideWhenPaused\n    }, (0, _client.h)(\"vm-control-spacer\", null), (0, _client.h)(\"vm-volume-control\", null), !this.isLive && (0, _client.h)(\"vm-caption-control\", null), !this.isLive && (0, _client.h)(\"vm-settings-control\", null), this.isLive && (0, _client.h)(\"vm-fullscreen-control\", null)), (0, _client.h)(\"vm-controls\", {\n      pin: \"center\",\n      justify: \"center\",\n      activeDuration: this.activeDuration,\n      waitForPlaybackStart: this.waitForPlaybackStart,\n      hideWhenPaused: this.hideWhenPaused\n    }, (0, _client.h)(\"vm-playback-control\", {\n      style: {\n        '--vm-control-scale': '1.3'\n      }\n    })), !this.isLive && (0, _client.h)(\"vm-controls\", {\n      pin: \"bottomLeft\",\n      fullWidth: true,\n      activeDuration: this.activeDuration,\n      waitForPlaybackStart: this.waitForPlaybackStart,\n      hideWhenPaused: this.hideWhenPaused\n    }, (0, _client.h)(\"vm-control-group\", null, (0, _client.h)(\"vm-current-time\", null), (0, _client.h)(\"vm-control-spacer\", null), (0, _client.h)(\"vm-end-time\", null), (0, _client.h)(\"vm-fullscreen-control\", null)), (0, _client.h)(\"vm-control-group\", {\n      space: \"top\"\n    }, (0, _client.h)(\"vm-scrubber-control\", null))));\n  }\n\n  buildDesktopVideoControls() {\n    return (0, _client.h)(_client.Fragment, null, this.theme !== 'light' && (0, _client.h)(\"vm-scrim\", {\n      gradient: \"up\"\n    }), (0, _client.h)(\"vm-controls\", {\n      fullWidth: true,\n      pin: \"bottomRight\",\n      activeDuration: this.activeDuration,\n      waitForPlaybackStart: this.waitForPlaybackStart,\n      hideWhenPaused: this.hideWhenPaused,\n      hideOnMouseLeave: this.hideOnMouseLeave\n    }, !this.isLive && (0, _client.h)(\"vm-control-group\", null, (0, _client.h)(\"vm-scrubber-control\", null)), (0, _client.h)(\"vm-control-group\", {\n      space: this.isLive ? 'none' : 'top'\n    }, (0, _client.h)(\"vm-playback-control\", {\n      tooltipDirection: \"right\"\n    }), (0, _client.h)(\"vm-volume-control\", null), !this.isLive && (0, _client.h)(\"vm-time-progress\", null), (0, _client.h)(\"vm-control-spacer\", null), !this.isLive && (0, _client.h)(\"vm-caption-control\", null), this.isLive && (0, _client.h)(\"vm-live-indicator\", null), (0, _client.h)(\"vm-pip-control\", null), !this.isLive && (0, _client.h)(\"vm-settings-control\", null), (0, _client.h)(\"vm-fullscreen-control\", {\n      tooltipDirection: \"left\"\n    }))));\n  }\n\n  render() {\n    if (this.isAudioView) return this.buildAudioControls();\n    if (this.isVideoView && this.isMobile) return this.buildMobileVideoControls();\n    if (this.isVideoView) return this.buildDesktopVideoControls();\n    return null;\n  }\n\n  static get style() {\n    return defaultControlsCss;\n  }\n\n};\nvar defaultSettingsCss = \":host{z-index:var(--vm-menu-z-index)}\";\nvar DefaultSettings = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.textTracksDisposal = new Disposal();\n    this.canSetPlaybackRate = false;\n    this.canSetPlaybackQuality = false;\n    this.canSetTextTrack = false;\n    this.canSetAudioTrack = false;\n    /**\n     * Pins the settings to the defined position inside the video player. This has no effect when\n     * the view is of type `audio`, it will always be `bottomRight`.\n     */\n\n    this.pin = 'bottomRight';\n    /** @internal */\n\n    this.i18n = {};\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.playbackRate = 1;\n    /** @internal */\n\n    this.playbackRates = [1];\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playbackQualities = [];\n    /** @internal */\n\n    this.textTracks = [];\n    /** @internal */\n\n    this.currentTextTrack = -1;\n    /** @internal */\n\n    this.audioTracks = [];\n    /** @internal */\n\n    this.currentAudioTrack = -1;\n    /** @internal */\n\n    this.isTextTrackVisible = true;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n', 'playbackReady', 'playbackRate', 'playbackRates', 'playbackQuality', 'playbackQualities', 'isVideoView', 'textTracks', 'currentTextTrack', 'isTextTrackVisible', 'audioTracks', 'currentAudioTrack']);\n  }\n\n  onPlaybackReady() {\n    var _this19 = this;\n\n    return _asyncToGenerator(function* () {\n      var player = yield findPlayer(_this19);\n      _this19.canSetPlaybackQuality = yield player.canSetPlaybackQuality();\n      _this19.canSetPlaybackRate = yield player.canSetPlaybackRate();\n    })();\n  }\n\n  onAudioTracksChange() {\n    var _this20 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetA;\n\n      var player = getPlayerFromRegistry(_this20);\n      _this20.canSetAudioTrack = (_yield$player$canSetA = yield player === null || player === void 0 ? void 0 : player.canSetAudioTrack()) !== null && _yield$player$canSetA !== void 0 ? _yield$player$canSetA : false;\n    })();\n  }\n\n  onTextTracksChange() {\n    var _this21 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetT2;\n\n      var player = getPlayerFromRegistry(_this21);\n      _this21.canSetTextTrack = (_yield$player$canSetT2 = yield player === null || player === void 0 ? void 0 : player.canSetTextTrack()) !== null && _yield$player$canSetT2 !== void 0 ? _yield$player$canSetT2 : false;\n    })();\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n\n  componentDidLoad() {\n    this.onTextTracksChange();\n  }\n\n  disconnectedCallback() {\n    this.textTracksDisposal.empty();\n  }\n\n  onPlaybackRateSelect(event) {\n    var radio = event.target;\n    this.dispatch('playbackRate', parseFloat(radio.value));\n  }\n\n  buildPlaybackRateSubmenu() {\n    if (this.playbackRates.length <= 1 || !this.canSetPlaybackRate) {\n      return (0, _client.h)(\"vm-menu-item\", {\n        label: this.i18n.playbackRate,\n        hint: this.i18n.normal\n      });\n    }\n\n    var formatRate = rate => rate === 1 ? this.i18n.normal : \"\".concat(rate);\n\n    return (0, _client.h)(\"vm-submenu\", {\n      label: this.i18n.playbackRate,\n      hint: formatRate(this.playbackRate)\n    }, (0, _client.h)(\"vm-menu-radio-group\", {\n      value: \"\".concat(this.playbackRate),\n      onVmCheck: this.onPlaybackRateSelect.bind(this)\n    }, this.playbackRates.map(rate => (0, _client.h)(\"vm-menu-radio\", {\n      label: formatRate(rate),\n      value: \"\".concat(rate)\n    }))));\n  }\n\n  onPlaybackQualitySelect(event) {\n    var radio = event.target;\n    this.dispatch('playbackQuality', radio.value);\n  }\n\n  buildPlaybackQualitySubmenu() {\n    if (this.playbackQualities.length <= 1 || !this.canSetPlaybackQuality) {\n      var _this$playbackQuality;\n\n      return (0, _client.h)(\"vm-menu-item\", {\n        label: this.i18n.playbackQuality,\n        hint: (_this$playbackQuality = this.playbackQuality) !== null && _this$playbackQuality !== void 0 ? _this$playbackQuality : this.i18n.auto\n      });\n    } // @TODO this doesn't account for audio qualities yet.\n\n\n    var getBadge = quality => {\n      var verticalPixels = parseInt(quality.slice(0, -1), 10);\n      if (verticalPixels >= 2160) return 'UHD';\n      if (verticalPixels >= 1080) return 'HD';\n      return undefined;\n    };\n\n    return (0, _client.h)(\"vm-submenu\", {\n      label: this.i18n.playbackQuality,\n      hint: this.playbackQuality\n    }, (0, _client.h)(\"vm-menu-radio-group\", {\n      value: this.playbackQuality,\n      onVmCheck: this.onPlaybackQualitySelect.bind(this)\n    }, this.playbackQualities.map(quality => (0, _client.h)(\"vm-menu-radio\", {\n      label: quality,\n      value: quality,\n      badge: getBadge(quality)\n    }))));\n  }\n\n  onTextTrackSelect(event) {\n    var radio = event.target;\n    var trackId = parseInt(radio.value, 10);\n    var player = getPlayerFromRegistry(this);\n\n    if (trackId === -1) {\n      player === null || player === void 0 ? void 0 : player.setTextTrackVisibility(false);\n      return;\n    }\n\n    player === null || player === void 0 ? void 0 : player.setTextTrackVisibility(true);\n    player === null || player === void 0 ? void 0 : player.setCurrentTextTrack(trackId);\n  }\n\n  buildTextTracksSubmenu() {\n    var _this$textTracks$this3;\n\n    if (this.textTracks.length <= 1 || !this.canSetTextTrack) {\n      var _this$textTracks$this, _this$textTracks$this2;\n\n      return (0, _client.h)(\"vm-menu-item\", {\n        label: this.i18n.subtitlesOrCc,\n        hint: (_this$textTracks$this = (_this$textTracks$this2 = this.textTracks[this.currentTextTrack]) === null || _this$textTracks$this2 === void 0 ? void 0 : _this$textTracks$this2.label) !== null && _this$textTracks$this !== void 0 ? _this$textTracks$this : this.i18n.none\n      });\n    }\n\n    return (0, _client.h)(\"vm-submenu\", {\n      label: this.i18n.subtitlesOrCc,\n      hint: this.isTextTrackVisible ? (_this$textTracks$this3 = this.textTracks[this.currentTextTrack]) === null || _this$textTracks$this3 === void 0 ? void 0 : _this$textTracks$this3.label : this.i18n.off\n    }, (0, _client.h)(\"vm-menu-radio-group\", {\n      value: \"\".concat(!this.isTextTrackVisible ? -1 : this.currentTextTrack),\n      onVmCheck: this.onTextTrackSelect.bind(this)\n    }, [(0, _client.h)(\"vm-menu-radio\", {\n      label: this.i18n.off,\n      value: \"-1\"\n    })].concat(this.textTracks.map((track, i) => (0, _client.h)(\"vm-menu-radio\", {\n      label: track.label,\n      value: \"\".concat(i)\n    })))));\n  }\n\n  onAudioTrackSelect(event) {\n    var radio = event.target;\n    var trackId = parseInt(radio.value, 10);\n    var player = getPlayerFromRegistry(this);\n    player === null || player === void 0 ? void 0 : player.setCurrentAudioTrack(trackId);\n  }\n\n  buildAudioTracksMenu() {\n    var _this$audioTracks$thi3;\n\n    if (this.audioTracks.length <= 1 || !this.canSetAudioTrack) {\n      var _this$audioTracks$thi, _this$audioTracks$thi2;\n\n      return (0, _client.h)(\"vm-menu-item\", {\n        label: this.i18n.audio,\n        hint: (_this$audioTracks$thi = (_this$audioTracks$thi2 = this.audioTracks[this.currentAudioTrack]) === null || _this$audioTracks$thi2 === void 0 ? void 0 : _this$audioTracks$thi2.label) !== null && _this$audioTracks$thi !== void 0 ? _this$audioTracks$thi : this.i18n.default\n      });\n    }\n\n    return (0, _client.h)(\"vm-submenu\", {\n      label: this.i18n.audio,\n      hint: (_this$audioTracks$thi3 = this.audioTracks[this.currentAudioTrack]) === null || _this$audioTracks$thi3 === void 0 ? void 0 : _this$audioTracks$thi3.label\n    }, (0, _client.h)(\"vm-menu-radio-group\", {\n      value: \"\".concat(this.currentAudioTrack),\n      onVmCheck: this.onAudioTrackSelect.bind(this)\n    }, this.audioTracks.map((track, i) => (0, _client.h)(\"vm-menu-radio\", {\n      label: track.label,\n      value: \"\".concat(i)\n    }))));\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-settings\", {\n      pin: this.pin\n    }, this.buildAudioTracksMenu(), this.buildPlaybackRateSubmenu(), this.buildPlaybackQualitySubmenu(), this.isVideoView && this.buildTextTracksSubmenu(), (0, _client.h)(\"slot\", null));\n  }\n\n  static get watchers() {\n    return {\n      \"playbackReady\": [\"onPlaybackReady\", \"onAudioTracksChange\", \"onTextTracksChange\"],\n      \"audioTracks\": [\"onAudioTracksChange\"],\n      \"textTracks\": [\"onTextTracksChange\"]\n    };\n  }\n\n  static get style() {\n    return defaultSettingsCss;\n  }\n\n};\nvar defaultUiCss = \":host{display:contents;pointer-events:none}\";\nvar DefaultUI = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * Whether clicking the player should not toggle playback.\n     */\n\n    this.noClickToPlay = false;\n    /**\n     * Whether double clicking the player should not toggle fullscreen mode.\n     */\n\n    this.noDblClickFullscreen = false;\n    /**\n     * Whether the custom captions UI should not be loaded.\n     */\n\n    this.noCaptions = false;\n    /**\n     * Whether the custom poster UI should not be loaded.\n     */\n\n    this.noPoster = false;\n    /**\n     * Whether the custom spinner UI should not be loaded.\n     */\n\n    this.noSpinner = false;\n    /**\n     * Whether the custom default controls should not be loaded.\n     */\n\n    this.noControls = false;\n    /**\n     * Whether the custom default settings menu should not be loaded.\n     */\n\n    this.noSettings = false;\n    /**\n     * Whether the default loading screen should not be loaded.\n     */\n\n    this.noLoadingScreen = false;\n    withComponentRegistry(this);\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-ui\", null, !this.noClickToPlay && (0, _client.h)(\"vm-click-to-play\", null), !this.noDblClickFullscreen && (0, _client.h)(\"vm-dbl-click-fullscreen\", null), !this.noCaptions && (0, _client.h)(\"vm-captions\", null), !this.noPoster && (0, _client.h)(\"vm-poster\", null), !this.noSpinner && (0, _client.h)(\"vm-spinner\", null), !this.noLoadingScreen && (0, _client.h)(\"vm-loading-screen\", null), !this.noControls && (0, _client.h)(\"vm-default-controls\", null), !this.noSettings && (0, _client.h)(\"vm-default-settings\", null), (0, _client.h)(\"slot\", null));\n  }\n\n  static get style() {\n    return defaultUiCss;\n  }\n\n};\n\nclass LazyLoader {\n  constructor(el, attributes, onLoad) {\n    var _this$mutationObs;\n\n    this.el = el;\n    this.attributes = attributes;\n    this.onLoad = onLoad;\n    this.hasLoaded = false;\n    if (isNullOrUndefined(this.el)) return;\n    this.intersectionObs = this.canObserveIntersection() ? new IntersectionObserver(this.onIntersection.bind(this)) : undefined;\n    this.mutationObs = this.canObserveMutations() ? new MutationObserver(this.onMutation.bind(this)) : undefined;\n    (_this$mutationObs = this.mutationObs) === null || _this$mutationObs === void 0 ? void 0 : _this$mutationObs.observe(this.el, {\n      childList: true,\n      subtree: true,\n      attributeFilter: this.attributes\n    });\n    this.lazyLoad();\n  }\n\n  didLoad() {\n    return this.hasLoaded;\n  }\n\n  destroy() {\n    var _this$intersectionObs, _this$mutationObs2;\n\n    (_this$intersectionObs = this.intersectionObs) === null || _this$intersectionObs === void 0 ? void 0 : _this$intersectionObs.disconnect();\n    (_this$mutationObs2 = this.mutationObs) === null || _this$mutationObs2 === void 0 ? void 0 : _this$mutationObs2.disconnect();\n  }\n\n  canObserveIntersection() {\n    return IS_CLIENT && window.IntersectionObserver;\n  }\n\n  canObserveMutations() {\n    return IS_CLIENT && window.MutationObserver;\n  }\n\n  lazyLoad() {\n    if (this.canObserveIntersection()) {\n      var _this$intersectionObs2;\n\n      (_this$intersectionObs2 = this.intersectionObs) === null || _this$intersectionObs2 === void 0 ? void 0 : _this$intersectionObs2.observe(this.el);\n    } else {\n      this.load();\n    }\n  }\n\n  onIntersection(entries) {\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > 0 || entry.isIntersecting) {\n        this.load();\n        this.intersectionObs.unobserve(entry.target);\n      }\n    });\n  }\n\n  onMutation() {\n    if (this.hasLoaded) this.load();\n  }\n\n  getLazyElements() {\n    var root = !isNullOrUndefined(this.el.shadowRoot) ? this.el.shadowRoot : this.el;\n    return root.querySelectorAll('.lazy');\n  }\n\n  load() {\n    window.requestAnimationFrame(() => {\n      this.getLazyElements().forEach(this.loadEl.bind(this));\n    });\n  }\n\n  loadEl(el) {\n    var _this$intersectionObs3, _this$onLoad;\n\n    (_this$intersectionObs3 = this.intersectionObs) === null || _this$intersectionObs3 === void 0 ? void 0 : _this$intersectionObs3.unobserve(el);\n    this.hasLoaded = true;\n    (_this$onLoad = this.onLoad) === null || _this$onLoad === void 0 ? void 0 : _this$onLoad.call(this, el);\n  }\n\n}\n\nvar embedCss = \":host{z-index:var(--vm-media-z-index)}iframe{position:absolute;top:0;left:0;border:0;width:100%;height:100%;user-select:none}\";\nvar idCount = 0;\nvar connected = new Set();\nvar Embed = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmEmbedSrcChange = (0, _client.createEvent)(this, \"vmEmbedSrcChange\", 3);\n    this.vmEmbedMessage = (0, _client.createEvent)(this, \"vmEmbedMessage\", 3);\n    this.vmEmbedLoaded = (0, _client.createEvent)(this, \"vmEmbedLoaded\", 3);\n    this.srcWithParams = '';\n    this.hasEnteredViewport = false;\n    /**\n     * A URL that will load the external player and media (Eg: https://www.youtube.com/embed/DyTCOwB0DVw).\n     */\n\n    this.embedSrc = '';\n    /**\n     * The title of the current media so it can be set on the inner `iframe` for screen readers.\n     */\n\n    this.mediaTitle = '';\n    /**\n     * The parameters to pass to the embedded player which are appended to the `embedSrc` prop. These\n     * can be passed in as a query string or object.\n     */\n\n    this.params = '';\n    /**\n     * A collection of URLs to that the browser should immediately start establishing a connection\n     * with.\n     */\n\n    this.preconnections = [];\n    withComponentRegistry(this);\n  }\n\n  onEmbedSrcChange() {\n    this.srcWithParams = isString(this.embedSrc) && this.embedSrc.length > 0 ? appendParamsToURL(this.embedSrc, this.params) : undefined;\n  }\n\n  srcWithParamsChange() {\n    if (isUndefined(this.srcWithParams)) {\n      this.vmEmbedSrcChange.emit(this.srcWithParams);\n      return;\n    }\n\n    if (!this.hasEnteredViewport && !connected.has(this.embedSrc)) {\n      if (preconnect(this.srcWithParams)) connected.add(this.embedSrc);\n    }\n\n    this.vmEmbedSrcChange.emit(this.srcWithParams);\n  }\n\n  preconnectionsChange() {\n    if (this.hasEnteredViewport) {\n      return;\n    }\n\n    this.preconnections.filter(connection => !connected.has(connection)).forEach(connection => {\n      if (preconnect(connection)) connected.add(connection);\n    });\n  }\n\n  connectedCallback() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src'], el => {\n      var src = el.getAttribute('data-src');\n      el.removeAttribute('src');\n      if (!isNull(src)) el.setAttribute('src', src);\n    });\n    this.onEmbedSrcChange();\n    this.genIframeId();\n  }\n\n  disconnectedCallback() {\n    this.lazyLoader.destroy();\n  }\n\n  onWindowMessage(e) {\n    var _this$iframe, _this$decoder, _this$decoder2;\n\n    var originMatches = e.source === ((_this$iframe = this.iframe) === null || _this$iframe === void 0 ? void 0 : _this$iframe.contentWindow) && (!isString(this.origin) || this.origin === e.origin);\n    if (!originMatches) return;\n    var message = (_this$decoder = (_this$decoder2 = this.decoder) === null || _this$decoder2 === void 0 ? void 0 : _this$decoder2.call(this, e.data)) !== null && _this$decoder !== void 0 ? _this$decoder : e.data;\n    if (message) this.vmEmbedMessage.emit(message);\n  }\n  /**\n   * Posts a message to the embedded media player.\n   */\n\n\n  postMessage(message, target) {\n    var _this22 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this22$iframe, _this22$iframe$conten;\n\n      (_this22$iframe = _this22.iframe) === null || _this22$iframe === void 0 ? void 0 : (_this22$iframe$conten = _this22$iframe.contentWindow) === null || _this22$iframe$conten === void 0 ? void 0 : _this22$iframe$conten.postMessage(JSON.stringify(message), target !== null && target !== void 0 ? target : '*');\n    })();\n  }\n\n  onLoad() {\n    this.vmEmbedLoaded.emit();\n  }\n\n  genIframeId() {\n    idCount += 1;\n    this.id = \"vm-iframe-\".concat(idCount);\n  }\n\n  render() {\n    return (0, _client.h)(\"iframe\", {\n      id: this.id,\n      class: \"lazy\",\n      title: this.mediaTitle,\n      \"data-src\": this.srcWithParams,\n      allowFullScreen: true,\n      allow: \"autoplay; encrypted-media; picture-in-picture;\",\n      onLoad: this.onLoad.bind(this),\n      ref: el => {\n        this.iframe = el;\n      }\n    });\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"embedSrc\": [\"onEmbedSrcChange\"],\n      \"params\": [\"onEmbedSrcChange\"],\n      \"srcWithParams\": [\"srcWithParamsChange\"],\n      \"preconnections\": [\"preconnectionsChange\"]\n    };\n  }\n\n  static get style() {\n    return embedCss;\n  }\n\n};\nvar endTimeCss = \":host{display:flex;align-items:center;justify-content:center}\";\nvar EndTime = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.duration = -1;\n    /** @internal */\n\n    this.i18n = {};\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['duration', 'i18n']);\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-time\", {\n      label: this.i18n.duration,\n      seconds: Math.max(0, this.duration),\n      alwaysShowHours: this.alwaysShowHours\n    });\n  }\n\n  static get style() {\n    return endTimeCss;\n  }\n\n};\nvar fileCss = \"audio.sc-vm-file,video.sc-vm-file{border-radius:inherit;vertical-align:middle;width:100%;outline:0}video.sc-vm-file{position:absolute;top:0;left:0;border:0;height:100%;user-select:none}\";\nvar File = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.vmMediaElChange = (0, _client.createEvent)(this, \"vmMediaElChange\", 7);\n    this.vmSrcSetChange = (0, _client.createEvent)(this, \"vmSrcSetChange\", 7);\n    this.textTracksDisposal = new Disposal();\n    this.wasPausedBeforeSeeking = true;\n    this.currentSrcSet = [];\n    this.mediaQueryDisposal = new Disposal();\n    /** @internal Whether an external SDK will attach itself to the media player and control it. */\n\n    this.willAttach = false;\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    /**\n     * The playback rates that are available for this media.\n     */\n\n    this.playbackRates = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 2];\n    /** @internal */\n\n    this.language = 'en';\n    /** @internal */\n\n    this.autoplay = false;\n    /** @internal */\n\n    this.controls = false;\n    /** @internal */\n\n    this.loop = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.playsinline = false;\n    /** @internal */\n\n    this.noConnect = false;\n    /** @internal */\n\n    this.paused = true;\n    /** @internal */\n\n    this.currentTime = 0;\n    /** @internal */\n\n    this.volume = 0;\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.playbackStarted = false;\n    /** @internal */\n\n    this.currentTextTrack = -1;\n    /** @internal */\n\n    this.hasCustomTextManager = false;\n    /** @internal */\n\n    this.isTextTrackVisible = true;\n    /** @internal */\n\n    this.shouldRenderNativeTextTracks = true;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this, ['playbackReady', 'playbackStarted', 'currentTime', 'volume', 'paused', 'currentTextTrack', 'isTextTrackVisible', 'shouldRenderNativeTextTracks']);\n    watchComponentRegistry(this, 'vm-poster', regs => {\n      [this.vmPoster] = regs;\n    });\n  }\n\n  onMediaTitleChange() {\n    this.dispatch('mediaTitle', this.mediaTitle);\n  }\n\n  onPosterChange() {\n    var _this$mediaEl3;\n\n    if (!this.playbackStarted) (_this$mediaEl3 = this.mediaEl) === null || _this$mediaEl3 === void 0 ? void 0 : _this$mediaEl3.load();\n  }\n\n  onViewTypeChange() {\n    this.dispatch('viewType', this.viewType);\n  }\n\n  connectedCallback() {\n    this.initLazyLoader();\n    this.dispatch = createProviderDispatcher(this);\n    this.onViewTypeChange();\n    this.onPosterChange();\n    this.onMediaTitleChange();\n  }\n\n  componentDidRender() {\n    if (this.prevMediaEl !== this.mediaEl) {\n      this.prevMediaEl = this.mediaEl;\n      this.vmMediaElChange.emit(this.mediaEl);\n    }\n  }\n\n  componentDidLoad() {\n    this.onViewTypeChange();\n  }\n\n  disconnectedCallback() {\n    var _this$lazyLoader;\n\n    this.mediaQueryDisposal.empty();\n    this.textTracksDisposal.empty();\n    this.cancelTimeUpdates();\n    (_this$lazyLoader = this.lazyLoader) === null || _this$lazyLoader === void 0 ? void 0 : _this$lazyLoader.destroy();\n    this.wasPausedBeforeSeeking = true;\n  }\n\n  initLazyLoader() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src', 'data-poster'], () => {\n      if (isNullOrUndefined(this.mediaEl)) return;\n      var poster = this.mediaEl.getAttribute('data-poster');\n      if (!isNull(poster)) this.mediaEl.setAttribute('poster', poster);\n      this.refresh();\n      this.didSrcSetChange();\n    });\n  }\n\n  refresh() {\n    if (isNullOrUndefined(this.mediaEl)) return;\n    var {\n      children\n    } = this.mediaEl;\n\n    for (var i = 0; i <= children.length - 1; i += 1) {\n      var child = children[i];\n      var src = child.getAttribute('data-src') || child.getAttribute('src') || child.getAttribute('data-vs');\n      child.removeAttribute('src');\n      if (isNull(src)) continue;\n      child.setAttribute('data-vs', src);\n      child.setAttribute('src', src);\n    }\n  }\n\n  didSrcSetChange() {\n    if (isNullOrUndefined(this.mediaEl)) return;\n    var sources = Array.from(this.mediaEl.querySelectorAll('source'));\n    var srcSet = sources.map(source => {\n      var _source$getAttribute;\n\n      return {\n        src: source.getAttribute('data-vs'),\n        media: (_source$getAttribute = source.getAttribute('data-media')) !== null && _source$getAttribute !== void 0 ? _source$getAttribute : undefined,\n        ref: source\n      };\n    });\n    var didChange = this.currentSrcSet.length !== srcSet.length || srcSet.some((resource, i) => this.currentSrcSet[i].src !== resource.src);\n\n    if (didChange) {\n      this.currentSrcSet = srcSet;\n      this.onSrcSetChange();\n    }\n  }\n\n  onSrcSetChange() {\n    var _this$mediaEl4;\n\n    this.textTracksDisposal.empty();\n    this.mediaQueryDisposal.empty();\n    this.vmLoadStart.emit();\n    this.vmSrcSetChange.emit(this.currentSrcSet);\n    if (!this.willAttach) (_this$mediaEl4 = this.mediaEl) === null || _this$mediaEl4 === void 0 ? void 0 : _this$mediaEl4.load();\n  }\n\n  hasCustomPoster() {\n    return !IS_IOS && !isUndefined(this.vmPoster);\n  }\n\n  cancelTimeUpdates() {\n    if (isNumber(this.timeRAF)) window.cancelAnimationFrame(this.timeRAF);\n    this.timeRAF = undefined;\n  }\n\n  requestTimeUpdates() {\n    var _this$mediaEl$current, _this$mediaEl5;\n\n    this.dispatch('currentTime', (_this$mediaEl$current = (_this$mediaEl5 = this.mediaEl) === null || _this$mediaEl5 === void 0 ? void 0 : _this$mediaEl5.currentTime) !== null && _this$mediaEl$current !== void 0 ? _this$mediaEl$current : 0);\n    this.timeRAF = window.requestAnimationFrame(() => {\n      this.requestTimeUpdates();\n    });\n  }\n\n  getMediaType() {\n    var {\n      currentSrc\n    } = this.mediaEl;\n    if (audioRegex.test(currentSrc)) return MediaType.Audio;\n    if (videoRegex.test(currentSrc) || hlsRegex.test(currentSrc)) return MediaType.Video;\n    return undefined;\n  }\n\n  onLoadedMetadata() {\n    this.mediaEl.volume = this.volume / 100;\n    this.listenToTextTracksForChanges();\n    this.onTextTracksChange();\n    this.onProgress();\n    this.dispatch('currentPoster', this.poster);\n    this.dispatch('duration', this.mediaEl.duration);\n    this.dispatch('playbackRates', this.playbackRates);\n\n    if (!this.willAttach) {\n      this.dispatch('currentSrc', this.mediaEl.currentSrc);\n      this.dispatch('mediaType', this.getMediaType());\n      this.dispatch('playbackReady', true);\n    }\n  }\n\n  onProgress() {\n    var {\n      buffered,\n      duration\n    } = this.mediaEl;\n    var end = buffered.length === 0 ? 0 : buffered.end(buffered.length - 1);\n    this.dispatch('buffered', end > duration ? duration : end);\n  }\n\n  onPlay() {\n    this.requestTimeUpdates();\n    this.dispatch('paused', false);\n    if (!this.playbackStarted) this.dispatch('playbackStarted', true);\n  }\n\n  onPause() {\n    this.cancelTimeUpdates();\n    this.dispatch('paused', true);\n    this.dispatch('buffering', false);\n  }\n\n  onPlaying() {\n    this.dispatch('playing', true);\n    this.dispatch('buffering', false);\n  }\n\n  onSeeking() {\n    if (!this.wasPausedBeforeSeeking) this.wasPausedBeforeSeeking = this.mediaEl.paused;\n    this.dispatch('currentTime', this.mediaEl.currentTime);\n    this.dispatch('seeking', true);\n  }\n\n  onSeeked() {\n    // Avoid calling `attemptToPlay` if seeking to 0 on 0.\n    if (this.currentTime === 0 && !this.playbackStarted) return;\n    this.dispatch('seeking', false);\n    if (!this.playbackStarted || !this.wasPausedBeforeSeeking) this.attemptToPlay();\n    this.wasPausedBeforeSeeking = true;\n  }\n\n  onRateChange() {\n    this.dispatch('playbackRate', this.mediaEl.playbackRate);\n  }\n\n  onVolumeChange() {\n    this.dispatch('muted', this.mediaEl.muted);\n    this.dispatch('volume', this.mediaEl.volume * 100);\n  }\n\n  onDurationChange() {\n    this.dispatch('duration', this.mediaEl.duration);\n  }\n\n  onWaiting() {\n    this.dispatch('buffering', true);\n  }\n\n  onSuspend() {\n    this.dispatch('buffering', false);\n  }\n\n  onEnded() {\n    if (!this.loop) this.dispatch('playbackEnded', true);\n  }\n\n  onError() {\n    this.vmError.emit(this.mediaEl.error);\n  }\n\n  attemptToPlay() {\n    try {\n      var _this$mediaEl6;\n\n      (_this$mediaEl6 = this.mediaEl) === null || _this$mediaEl6 === void 0 ? void 0 : _this$mediaEl6.play();\n    } catch (e) {\n      this.vmError.emit(e);\n    }\n  }\n\n  togglePiPInChrome(toggle) {\n    var _this$mediaEl7;\n\n    return toggle ? (_this$mediaEl7 = this.mediaEl) === null || _this$mediaEl7 === void 0 ? void 0 : _this$mediaEl7.requestPictureInPicture() : document.exitPictureInPicture();\n  }\n\n  togglePiPInSafari(toggle) {\n    var _this$mediaEl8, _this$mediaEl9;\n\n    var mode = toggle ? \"picture-in-picture\"\n    /* PiP */\n    : \"inline\"\n    /* Inline */\n    ;\n\n    if (!((_this$mediaEl8 = this.mediaEl) !== null && _this$mediaEl8 !== void 0 && _this$mediaEl8.webkitSupportsPresentationMode(mode))) {\n      throw new Error('PiP API is not available.');\n    }\n\n    return (_this$mediaEl9 = this.mediaEl) === null || _this$mediaEl9 === void 0 ? void 0 : _this$mediaEl9.webkitSetPresentationMode(mode);\n  }\n\n  togglePiP(toggle) {\n    var _this23 = this;\n\n    return _asyncToGenerator(function* () {\n      if (canUsePiPInChrome()) return _this23.togglePiPInChrome(toggle);\n      if (canUsePiPInSafari()) return _this23.togglePiPInSafari(toggle);\n      throw new Error('PiP API is not available.');\n    })();\n  }\n\n  toggleFullscreen(toggle) {\n    var _this24 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this24$mediaEl, _this24$mediaEl2, _this24$mediaEl3;\n\n      if (!((_this24$mediaEl = _this24.mediaEl) !== null && _this24$mediaEl !== void 0 && _this24$mediaEl.webkitSupportsFullscreen)) {\n        throw new Error('Fullscreen API is not available.');\n      }\n\n      return toggle ? (_this24$mediaEl2 = _this24.mediaEl) === null || _this24$mediaEl2 === void 0 ? void 0 : _this24$mediaEl2.webkitEnterFullscreen() : (_this24$mediaEl3 = _this24.mediaEl) === null || _this24$mediaEl3 === void 0 ? void 0 : _this24$mediaEl3.webkitExitFullscreen();\n    })();\n  }\n\n  onPresentationModeChange() {\n    var _this$mediaEl10;\n\n    var mode = (_this$mediaEl10 = this.mediaEl) === null || _this$mediaEl10 === void 0 ? void 0 : _this$mediaEl10.webkitPresentationMode;\n    this.dispatch('isPiPActive', mode === \"picture-in-picture\"\n    /* PiP */\n    );\n    this.dispatch('isFullscreenActive', mode === \"fullscreen\"\n    /* Fullscreen */\n    );\n  }\n\n  onEnterPiP() {\n    this.dispatch('isPiPActive', true);\n  }\n\n  onLeavePiP() {\n    this.dispatch('isPiPActive', false);\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this25 = this;\n\n    return _asyncToGenerator(function* () {\n      return {\n        getInternalPlayer: function () {\n          var _getInternalPlayer3 = _asyncToGenerator(function* () {\n            return _this25.mediaEl;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer3.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        play: function () {\n          var _play2 = _asyncToGenerator(function* () {\n            var _this25$mediaEl;\n\n            return (_this25$mediaEl = _this25.mediaEl) === null || _this25$mediaEl === void 0 ? void 0 : _this25$mediaEl.play();\n          });\n\n          function play() {\n            return _play2.apply(this, arguments);\n          }\n\n          return play;\n        }(),\n        pause: function () {\n          var _pause2 = _asyncToGenerator(function* () {\n            var _this25$mediaEl2;\n\n            return (_this25$mediaEl2 = _this25.mediaEl) === null || _this25$mediaEl2 === void 0 ? void 0 : _this25$mediaEl2.pause();\n          });\n\n          function pause() {\n            return _pause2.apply(this, arguments);\n          }\n\n          return pause;\n        }(),\n        canPlay: function () {\n          var _canPlay3 = _asyncToGenerator(function* (type) {\n            return isString(type) && (audioRegex.test(type) || videoRegex.test(type));\n          });\n\n          function canPlay(_x18) {\n            return _canPlay3.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        setCurrentTime: function () {\n          var _setCurrentTime2 = _asyncToGenerator(function* (time) {\n            if (_this25.mediaEl) _this25.mediaEl.currentTime = time;\n          });\n\n          function setCurrentTime(_x19) {\n            return _setCurrentTime2.apply(this, arguments);\n          }\n\n          return setCurrentTime;\n        }(),\n        setMuted: function () {\n          var _setMuted2 = _asyncToGenerator(function* (muted) {\n            if (_this25.mediaEl) _this25.mediaEl.muted = muted;\n          });\n\n          function setMuted(_x20) {\n            return _setMuted2.apply(this, arguments);\n          }\n\n          return setMuted;\n        }(),\n        setVolume: function () {\n          var _setVolume2 = _asyncToGenerator(function* (volume) {\n            if (_this25.mediaEl) _this25.mediaEl.volume = volume / 100;\n          });\n\n          function setVolume(_x21) {\n            return _setVolume2.apply(this, arguments);\n          }\n\n          return setVolume;\n        }(),\n        canSetPlaybackRate: function () {\n          var _canSetPlaybackRate = _asyncToGenerator(function* () {\n            return true;\n          });\n\n          function canSetPlaybackRate() {\n            return _canSetPlaybackRate.apply(this, arguments);\n          }\n\n          return canSetPlaybackRate;\n        }(),\n        setPlaybackRate: function () {\n          var _setPlaybackRate = _asyncToGenerator(function* (rate) {\n            if (_this25.mediaEl) _this25.mediaEl.playbackRate = rate;\n          });\n\n          function setPlaybackRate(_x22) {\n            return _setPlaybackRate.apply(this, arguments);\n          }\n\n          return setPlaybackRate;\n        }(),\n        canSetPiP: function () {\n          var _canSetPiP = _asyncToGenerator(function* () {\n            return canUsePiP();\n          });\n\n          function canSetPiP() {\n            return _canSetPiP.apply(this, arguments);\n          }\n\n          return canSetPiP;\n        }(),\n        enterPiP: () => _this25.togglePiP(true),\n        exitPiP: () => _this25.togglePiP(false),\n        canSetFullscreen: function () {\n          var _canSetFullscreen2 = _asyncToGenerator(function* () {\n            return canFullscreenVideo();\n          });\n\n          function canSetFullscreen() {\n            return _canSetFullscreen2.apply(this, arguments);\n          }\n\n          return canSetFullscreen;\n        }(),\n        enterFullscreen: () => _this25.toggleFullscreen(true),\n        exitFullscreen: () => _this25.toggleFullscreen(false),\n        setCurrentTextTrack: function () {\n          var _setCurrentTextTrack2 = _asyncToGenerator(function* (trackId) {\n            if (trackId !== _this25.currentTextTrack) _this25.toggleTextTrackModes(trackId);\n          });\n\n          function setCurrentTextTrack(_x23) {\n            return _setCurrentTextTrack2.apply(this, arguments);\n          }\n\n          return setCurrentTextTrack;\n        }(),\n        setTextTrackVisibility: function () {\n          var _setTextTrackVisibility2 = _asyncToGenerator(function* (isVisible) {\n            _this25.isTextTrackVisible = isVisible;\n\n            _this25.toggleTextTrackModes(_this25.currentTextTrack);\n          });\n\n          function setTextTrackVisibility(_x24) {\n            return _setTextTrackVisibility2.apply(this, arguments);\n          }\n\n          return setTextTrackVisibility;\n        }()\n      };\n    })();\n  }\n\n  onHasCustomTextManagerChange() {\n    if (this.hasCustomTextManager) {\n      this.textTracksDisposal.empty();\n    } else if (this.playbackReady) {\n      this.listenToTextTracksForChanges();\n    }\n  }\n\n  onShouldRenderNativeTextTracksChange() {\n    if (this.hasCustomTextManager) return;\n    this.toggleTextTrackModes(this.currentTextTrack);\n  }\n\n  onProviderConnect(event) {\n    if (this.noConnect) event.stopImmediatePropagation();\n  }\n\n  onProviderDisconnect(event) {\n    if (this.noConnect) event.stopImmediatePropagation();\n  }\n\n  getFilteredTextTracks() {\n    var tracks = [];\n    var textTrackList = Array.from(this.mediaEl.textTracks);\n\n    for (var i = 0; i < textTrackList.length; i += 1) {\n      var track = textTrackList[i]; // Edge adds a track without a label; we don't want to use it.\n\n      if ((track.kind === 'subtitles' || track.kind === 'captions') && track.label) {\n        tracks.push(textTrackList[i]);\n      }\n    }\n\n    return tracks;\n  }\n\n  listenToTextTracksForChanges() {\n    if (this.hasCustomTextManager) return;\n    this.textTracksDisposal.empty();\n    if (isUndefined(this.mediaEl)) return;\n    this.textTracksDisposal.add(listen(this.mediaEl.textTracks, 'change', this.onTextTracksChange.bind(this)));\n  }\n\n  onTextTracksChange() {\n    var _tracks$trackId;\n\n    var tracks = this.getFilteredTextTracks();\n    var trackId = -1;\n\n    for (var id = 0; id < tracks.length; id += 1) {\n      if (tracks[id].mode === 'hidden') {\n        // Do not break in case there is a following track with showing.\n        trackId = id;\n      } else if (tracks[id].mode === 'showing') {\n        trackId = id;\n        break;\n      }\n    }\n\n    if (!this.shouldRenderNativeTextTracks && ((_tracks$trackId = tracks[trackId]) === null || _tracks$trackId === void 0 ? void 0 : _tracks$trackId.mode) === 'showing') {\n      tracks[trackId].mode = 'hidden';\n      return;\n    }\n\n    if (this.shouldRenderNativeTextTracks) {\n      this.isTextTrackVisible = trackId !== -1 && tracks[trackId].mode === 'showing';\n      this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n    }\n\n    this.dispatch('textTracks', tracks);\n    this.dispatch('currentTextTrack', this.shouldRenderNativeTextTracks && !this.isTextTrackVisible ? -1 : trackId);\n  }\n\n  toggleTextTrackModes(newTrackId) {\n    if (isNullOrUndefined(this.mediaEl)) return;\n    var {\n      textTracks\n    } = this.mediaEl;\n\n    if (newTrackId === -1) {\n      Array.from(textTracks).forEach(track => {\n        track.mode = 'disabled';\n      });\n    } else {\n      var oldTrack = textTracks[this.currentTextTrack];\n      if (oldTrack) oldTrack.mode = 'disabled';\n    }\n\n    var nextTrack = textTracks[newTrackId];\n\n    if (nextTrack) {\n      nextTrack.mode = this.isTextTrackVisible && this.shouldRenderNativeTextTracks ? 'showing' : 'hidden';\n    }\n\n    this.dispatch('currentTextTrack', this.shouldRenderNativeTextTracks && !this.isTextTrackVisible ? -1 : newTrackId);\n    this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n  }\n\n  render() {\n    var mediaProps = {\n      autoplay: this.autoplay,\n      muted: this.muted,\n      playsinline: this.playsinline,\n      playsInline: this.playsinline,\n      'x5-playsinline': this.playsinline,\n      'webkit-playsinline': this.playsinline,\n      controls: this.controls,\n      crossorigin: this.crossOrigin === '' ? 'anonymous' : this.crossOrigin,\n      controlslist: this.controlsList,\n      'data-poster': !this.hasCustomPoster() ? this.poster : undefined,\n      loop: this.loop,\n      preload: this.preload,\n      disablePictureInPicture: this.disablePiP,\n      autoPictureInPicture: this.autoPiP,\n      disableRemotePlayback: this.disableRemotePlayback,\n      'x-webkit-airplay': this.disableRemotePlayback ? 'deny' : 'allow',\n      ref: el => {\n        this.mediaEl = el;\n      },\n      onLoadedMetadata: this.onLoadedMetadata.bind(this),\n      onProgress: this.onProgress.bind(this),\n      onPlay: this.onPlay.bind(this),\n      onPause: this.onPause.bind(this),\n      onPlaying: this.onPlaying.bind(this),\n      onSeeking: this.onSeeking.bind(this),\n      onSeeked: this.onSeeked.bind(this),\n      onRateChange: this.onRateChange.bind(this),\n      onVolumeChange: this.onVolumeChange.bind(this),\n      onDurationChange: this.onDurationChange.bind(this),\n      onWaiting: this.onWaiting.bind(this),\n      onSuspend: this.onSuspend.bind(this),\n      onEnded: this.onEnded.bind(this),\n      onError: this.onError.bind(this)\n    };\n    var audio = (0, _client.h)(\"audio\", Object.assign({\n      class: \"lazy\"\n    }, mediaProps), (0, _client.h)(\"slot\", null), \"Your browser does not support the\", (0, _client.h)(\"code\", null, \"audio\"), \"element.\");\n    var video = (0, _client.h)(\"video\", Object.assign({\n      class: \"lazy\"\n    }, mediaProps, {\n      // @ts-ignore\n      onwebkitpresentationmodechanged: this.onPresentationModeChange.bind(this),\n      onenterpictureinpicture: this.onEnterPiP.bind(this),\n      onleavepictureinpicture: this.onLeavePiP.bind(this)\n    }), (0, _client.h)(\"slot\", null), \"Your browser does not support the\", (0, _client.h)(\"code\", null, \"video\"), \"element.\");\n    return this.viewType === ViewType.Audio ? audio : video;\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"mediaTitle\": [\"onMediaTitleChange\"],\n      \"poster\": [\"onPosterChange\"],\n      \"viewType\": [\"onViewTypeChange\"],\n      \"hasCustomTextManager\": [\"onHasCustomTextManagerChange\"],\n      \"shouldRenderNativeTextTracks\": [\"onShouldRenderNativeTextTracksChange\"]\n    };\n  }\n\n  static get style() {\n    return fileCss;\n  }\n\n};\nvar fullscreenControlCss = \":host([hidden]){display:none}\";\nvar FullscreenControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.canSetFullscreen = false;\n    /**\n     * The name of the enter fullscreen icon to resolve from the icon library.\n     */\n\n    this.enterIcon = 'fullscreen-enter';\n    /**\n     * The name of the exit fullscreen icon to resolve from the icon library.\n     */\n\n    this.exitIcon = 'fullscreen-exit';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'f';\n    /** @internal */\n\n    this.isFullscreenActive = false;\n    /** @internal */\n\n    this.i18n = {};\n    /** @internal */\n\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isFullscreenActive', 'playbackReady', 'i18n']);\n  }\n\n  onPlaybackReadyChange() {\n    var _this26 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetF;\n\n      var player = getPlayerFromRegistry(_this26);\n      _this26.canSetFullscreen = (_yield$player$canSetF = yield player === null || player === void 0 ? void 0 : player.canSetFullscreen()) !== null && _yield$player$canSetF !== void 0 ? _yield$player$canSetF : false;\n    })();\n  }\n\n  componentDidLoad() {\n    this.onPlaybackReadyChange();\n  }\n\n  onClick() {\n    var player = getPlayerFromRegistry(this);\n    !this.isFullscreenActive ? player === null || player === void 0 ? void 0 : player.enterFullscreen() : player === null || player === void 0 ? void 0 : player.exitFullscreen();\n  }\n\n  render() {\n    var tooltip = this.isFullscreenActive ? this.i18n.exitFullscreen : this.i18n.enterFullscreen;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(_client.Host, {\n      hidden: !this.canSetFullscreen\n    }, (0, _client.h)(\"vm-control\", {\n      label: this.i18n.fullscreen,\n      keys: this.keys,\n      pressed: this.isFullscreenActive,\n      hidden: !this.canSetFullscreen,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.isFullscreenActive ? this.exitIcon : this.enterIcon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint)));\n  }\n\n  static get watchers() {\n    return {\n      \"playbackReady\": [\"onPlaybackReadyChange\"]\n    };\n  }\n\n  static get style() {\n    return fullscreenControlCss;\n  }\n\n};\nvar HLS = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.hasAttached = false;\n    /**\n     * The NPM package version of the `hls.js` library to download and use if HLS is not natively\n     * supported.\n     */\n\n    this.version = 'latest';\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    /** @internal */\n\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withPlayerContext(this, ['playbackReady']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    if (this.mediaEl) this.setupHls();\n  }\n\n  disconnectedCallback() {\n    this.destroyHls();\n  }\n\n  get src() {\n    if (isNullOrUndefined(this.videoProvider)) return undefined;\n    var sources = this.videoProvider.querySelectorAll('source');\n    var currSource = Array.from(sources).find(source => hlsRegex.test(source.src) || hlsTypeRegex.test(source.type));\n    return currSource === null || currSource === void 0 ? void 0 : currSource.src;\n  }\n\n  setupHls() {\n    var _this27 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!isUndefined(_this27.hls)) return;\n\n      try {\n        var url = _this27.libSrc || \"https://cdn.jsdelivr.net/npm/hls.js@\".concat(_this27.version, \"/dist/hls.min.js\");\n        var Hls = yield loadSDK(url, 'Hls');\n\n        if (!Hls.isSupported()) {\n          _this27.vmError.emit('hls.js is not supported');\n\n          return;\n        }\n\n        _this27.hls = new Hls(_this27.config);\n\n        _this27.hls.on(Hls.Events.MEDIA_ATTACHED, () => {\n          _this27.hasAttached = true;\n\n          _this27.onSrcChange();\n        });\n\n        _this27.hls.on(Hls.Events.AUDIO_TRACKS_UPDATED, () => {\n          _this27.dispatch('audioTracks', _this27.hls.audioTracks);\n\n          _this27.dispatch('currentAudioTrack', _this27.hls.audioTrack);\n        });\n\n        _this27.hls.on(Hls.Events.AUDIO_TRACK_SWITCHED, () => {\n          _this27.dispatch('currentAudioTrack', _this27.hls.audioTrack);\n        });\n\n        _this27.hls.on(Hls.Events.ERROR, (event, data) => {\n          if (data.fatal) {\n            switch (data.type) {\n              case Hls.ErrorTypes.NETWORK_ERROR:\n                _this27.hls.startLoad();\n\n                break;\n\n              case Hls.ErrorTypes.MEDIA_ERROR:\n                _this27.hls.recoverMediaError();\n\n                break;\n\n              default:\n                _this27.destroyHls();\n\n                break;\n            }\n          }\n\n          _this27.vmError.emit({\n            event,\n            data\n          });\n        });\n\n        _this27.hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          _this27.dispatch('mediaType', MediaType.Video);\n\n          _this27.dispatch('currentSrc', _this27.src);\n\n          _this27.dispatchLevels();\n        });\n\n        _this27.hls.on(Hls.Events.LEVEL_LOADED, (_, data) => {\n          if (!_this27.playbackReady) {\n            _this27.dispatch('duration', data.details.totalduration);\n\n            _this27.dispatch('playbackReady', true);\n          }\n        });\n\n        _this27.hls.attachMedia(_this27.mediaEl);\n      } catch (e) {\n        _this27.vmError.emit(e);\n      }\n    })();\n  }\n\n  dispatchLevels() {\n    if (!this.hls.levels || this.hls.levels.length === 0) return;\n    this.dispatch('playbackQualities', ['Auto', ...this.hls.levels.map(this.levelToPlaybackQuality)]);\n    this.dispatch('playbackQuality', 'Auto');\n  }\n\n  levelToPlaybackQuality(level) {\n    return level === -1 ? 'Auto' : \"\".concat(level.height, \"p\");\n  }\n\n  findLevelIndexFromQuality(quality) {\n    return this.hls.levels.findIndex(level => this.levelToPlaybackQuality(level) === quality);\n  }\n\n  destroyHls() {\n    var _this$hls;\n\n    (_this$hls = this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.destroy();\n    this.hasAttached = false;\n  }\n\n  onMediaElChange(event) {\n    var _this28 = this;\n\n    return _asyncToGenerator(function* () {\n      _this28.destroyHls();\n\n      if (isUndefined(event.detail)) return;\n      _this28.mediaEl = event.detail; // Need a small delay incase the media element changes rapidly and Hls.js can't reattach.\n\n      setTimeout( /*#__PURE__*/_asyncToGenerator(function* () {\n        yield _this28.setupHls();\n      }), 50);\n    })();\n  }\n\n  onSrcChange() {\n    var _this29 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this29.hasAttached && _this29.hls.url !== _this29.src) {\n        _this29.vmLoadStart.emit();\n\n        _this29.hls.loadSource(_this29.src);\n      }\n    })();\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this30 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this30$videoP, _this30$videoProvider;\n\n      var adapter = (_yield$_this30$videoP = yield (_this30$videoProvider = _this30.videoProvider) === null || _this30$videoProvider === void 0 ? void 0 : _this30$videoProvider.getAdapter()) !== null && _yield$_this30$videoP !== void 0 ? _yield$_this30$videoP : {};\n      var canVideoProviderPlay = adapter.canPlay;\n      return _objectSpread(_objectSpread({}, adapter), {}, {\n        getInternalPlayer: function () {\n          var _getInternalPlayer4 = _asyncToGenerator(function* () {\n            return _this30.hls;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer4.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        canPlay: function () {\n          var _canPlay4 = _asyncToGenerator(function* (type) {\n            var _canVideoProviderPlay2;\n\n            return isString(type) && hlsRegex.test(type) || ((_canVideoProviderPlay2 = canVideoProviderPlay === null || canVideoProviderPlay === void 0 ? void 0 : canVideoProviderPlay(type)) !== null && _canVideoProviderPlay2 !== void 0 ? _canVideoProviderPlay2 : false);\n          });\n\n          function canPlay(_x25) {\n            return _canPlay4.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        canSetPlaybackQuality: function () {\n          var _canSetPlaybackQuality3 = _asyncToGenerator(function* () {\n            var _this30$hls, _this30$hls$levels;\n\n            return ((_this30$hls = _this30.hls) === null || _this30$hls === void 0 ? void 0 : (_this30$hls$levels = _this30$hls.levels) === null || _this30$hls$levels === void 0 ? void 0 : _this30$hls$levels.length) > 0;\n          });\n\n          function canSetPlaybackQuality() {\n            return _canSetPlaybackQuality3.apply(this, arguments);\n          }\n\n          return canSetPlaybackQuality;\n        }(),\n        setPlaybackQuality: function () {\n          var _setPlaybackQuality3 = _asyncToGenerator(function* (quality) {\n            if (!isUndefined(_this30.hls)) {\n              _this30.hls.currentLevel = _this30.findLevelIndexFromQuality(quality); // Update the provider cache.\n\n              _this30.dispatch('playbackQuality', quality);\n            }\n          });\n\n          function setPlaybackQuality(_x26) {\n            return _setPlaybackQuality3.apply(this, arguments);\n          }\n\n          return setPlaybackQuality;\n        }(),\n        setCurrentAudioTrack: function () {\n          var _setCurrentAudioTrack = _asyncToGenerator(function* (trackId) {\n            if (!isUndefined(_this30.hls)) {\n              _this30.hls.audioTrack = trackId;\n            }\n          });\n\n          function setCurrentAudioTrack(_x27) {\n            return _setCurrentAudioTrack.apply(this, arguments);\n          }\n\n          return setCurrentAudioTrack;\n        }()\n      });\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-video\", {\n      willAttach: true,\n      crossOrigin: this.crossOrigin,\n      preload: this.preload,\n      poster: this.poster,\n      controlsList: this.controlsList,\n      autoPiP: this.autoPiP,\n      disablePiP: this.disablePiP,\n      disableRemotePlayback: this.disableRemotePlayback,\n      mediaTitle: this.mediaTitle,\n      ref: el => {\n        this.videoProvider = el;\n      }\n    }, (0, _client.h)(\"slot\", null));\n  }\n\n};\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon-library/icon-library-registry.ts\n */\n\nvar ICONS_BASE_CDN_URL = 'https://cdn.jsdelivr.net/npm/@vime/core@latest/icons';\nvar registry = new Map(Object.entries({\n  vime: iconName => \"\".concat(ICONS_BASE_CDN_URL, \"/vime/vm-\").concat(iconName, \".svg\"),\n  material: iconName => \"\".concat(ICONS_BASE_CDN_URL, \"/material/md-\").concat(iconName, \".svg\")\n}));\nvar watch$1 = new Set();\n\nfunction withIconRegistry(component) {\n  var el = (0, _client.getElement)(component);\n  createStencilHook(component, () => {\n    watch$1.add(el);\n  }, () => {\n    watch$1.delete(el);\n  });\n}\n\nvar getIconLibraryResolver = name => registry.get(name);\n\nfunction registerIconLibrary(name, resolver) {\n  if (!isUndefined(resolver)) {\n    registry.set(name, resolver);\n  } // Redraw watched icons.\n\n\n  watch$1.forEach(iconEl => {\n    if (iconEl.library === name) iconEl.redraw();\n  });\n}\n\nfunction deregisterIconLibrary(name) {\n  registry.delete(name);\n}\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon/request.ts\n */\n\n\nvar iconFiles = new Map();\n\nvar requestIcon = url => {\n  if (iconFiles.has(url)) return iconFiles.get(url);\n  var request = fetch(url).then( /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator(function* (response) {\n      if (response.ok) {\n        var div = document.createElement('div');\n        div.innerHTML = yield response.text();\n        var svg = div.firstElementChild;\n        return {\n          ok: response.ok,\n          status: response.status,\n          svg: svg && svg.tagName.toLowerCase() === 'svg' ? svg.outerHTML : ''\n        };\n      }\n\n      return {\n        ok: response.ok,\n        status: response.status\n      };\n    });\n\n    return function (_x28) {\n      return _ref8.apply(this, arguments);\n    };\n  }());\n  iconFiles.set(url, request);\n  return request;\n};\n\nvar iconCss = \":host{display:inline-block;width:1em;height:1em;contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%;transition:var(--vm-icon-transition);transform:var(--vm-icon-transform);fill:var(--vm-icon-fill, currentColor);stroke:var(--vm-icon-stroke)}\";\nvar parser = new DOMParser();\nvar Icon = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoad = (0, _client.createEvent)(this, \"vmLoad\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    /** @internal */\n\n    this.icons = 'material';\n    withComponentRegistry(this);\n    withIconRegistry(this);\n  }\n\n  handleChange() {\n    this.setIcon();\n  }\n\n  connectedCallback() {\n    withPlayerContext(this, ['icons']);\n  }\n\n  componentDidLoad() {\n    this.setIcon();\n  }\n  /**\n   * @internal Fetches the icon and redraws it. Used to handle library registrations.\n   */\n\n\n  redraw() {\n    var _this31 = this;\n\n    return _asyncToGenerator(function* () {\n      _this31.setIcon();\n    })();\n  }\n\n  getLabel() {\n    var label = '';\n\n    if (this.label) {\n      label = this.label;\n    } else if (this.name) {\n      label = this.name.replace(/-/g, ' ');\n    } else if (this.src) {\n      label = this.src.replace(/.*\\//, '').replace(/-/g, ' ').replace(/\\.svg/i, '');\n    }\n\n    return label;\n  }\n\n  setIcon() {\n    var _this32 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this32$library;\n\n      var resolver = getIconLibraryResolver((_this32$library = _this32.library) !== null && _this32$library !== void 0 ? _this32$library : _this32.icons);\n      var url = _this32.src;\n\n      if (_this32.name && resolver) {\n        url = resolver(_this32.name);\n      }\n\n      if (url) {\n        try {\n          var file = yield requestIcon(url);\n\n          if (file.ok) {\n            var doc = parser.parseFromString(file.svg, 'text/html');\n            var svg = doc.body.querySelector('svg');\n\n            if (svg) {\n              _this32.svg = svg.outerHTML;\n\n              _this32.vmLoad.emit();\n            } else {\n              _this32.svg = '';\n\n              _this32.vmError.emit({\n                status: file.status\n              });\n            }\n          }\n        } catch (_unused) {\n          _this32.vmError.emit();\n        }\n      }\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: \"icon\",\n      role: \"img\",\n      \"aria-label\": this.getLabel(),\n      innerHTML: this.svg\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"name\": [\"handleChange\"],\n      \"src\": [\"handleChange\"],\n      \"library\": [\"handleChange\"],\n      \"icons\": [\"handleChange\"]\n    };\n  }\n\n  static get style() {\n    return iconCss;\n  }\n\n};\nvar IconLibrary = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.icons = 'material';\n    withComponentRegistry(this);\n    withPlayerContext(this, ['icons']);\n  }\n\n  handleUpdate() {\n    this.register();\n  }\n\n  connectedCallback() {\n    this.register();\n  }\n\n  disconnectedCallback() {\n    if (!isUndefined(this.name)) deregisterIconLibrary(this.name);\n  }\n\n  register() {\n    var _this$name;\n\n    registerIconLibrary((_this$name = this.name) !== null && _this$name !== void 0 ? _this$name : this.icons, this.name ? this.resolver : undefined);\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"name\": [\"handleUpdate\"],\n      \"resolver\": [\"handleUpdate\"],\n      \"icons\": [\"handleUpdate\"]\n    };\n  }\n\n};\nvar liveIndicatorCss = \".liveIndicator{display:flex;align-items:center;font-size:13px;font-weight:bold;letter-spacing:0.6px;color:var(--vm-control-color)}.liveIndicator.hidden{display:none}.indicator{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:4px;background-color:var(--vm-live-indicator-color, red)}\";\nvar LiveIndicator = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.isLive = false;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isLive', 'i18n']);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        liveIndicator: true,\n        hidden: !this.isLive\n      }\n    }, (0, _client.h)(\"div\", {\n      class: \"indicator\"\n    }), this.i18n.live);\n  }\n\n  static get style() {\n    return liveIndicatorCss;\n  }\n\n};\nvar loadingScreenCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-loading-screen-z-index);display:flex;align-items:center;justify-content:center}.loadingScreen{opacity:100;transition:var(--vm-fade-transition)}.loadingScreen.inactive{opacity:0}.dotPulse{position:relative;left:-9999px;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color);box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color);animation:dotPulse var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 6)}.dotPulse::before,.dotPulse::after{content:'';display:inline-block;position:absolute;top:0;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color)}.dotPulse::before{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color);animation:dotPulseBefore var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:0s}.dotPulse::after{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color);animation:dotPulseAfter var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 3)}@keyframes dotPulseBefore{0%{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}30%{box-shadow:9984px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}}@keyframes dotPulse{0%{box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}30%{box-shadow:9999px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}}@keyframes dotPulseAfter{0%{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}30%{box-shadow:10014px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1) var(--vm-loading-screen-dot-color)}}\";\nvar LoadingScreen = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.playbackReady = false;\n    /**\n     * Whether the loading dots are hidden or not.\n     */\n\n    this.hideDots = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['playbackReady']);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        loadingScreen: true,\n        inactive: this.playbackReady\n      }\n    }, (0, _client.h)(\"slot\", null), !this.hideDots && (0, _client.h)(\"div\", {\n      class: \"dotPulse\"\n    }));\n  }\n\n  static get style() {\n    return loadingScreenCss;\n  }\n\n};\n\nfunction unwrapSubmenu(el) {\n  if (el.tagName.toLowerCase() !== 'vm-submenu') return el;\n  var submenu = el;\n  return submenu.shadowRoot.querySelector('vm-menu-item');\n}\n\nfunction unwrapRadioGroup(el) {\n  var _slot$assignedElement;\n\n  if (el.tagName.toLowerCase() !== 'vm-menu-radio-group') return el;\n  var radioGroup = el;\n  var slot = radioGroup.shadowRoot.querySelector('slot');\n  var assignedElements = Array.from((_slot$assignedElement = slot === null || slot === void 0 ? void 0 : slot.assignedElements()) !== null && _slot$assignedElement !== void 0 ? _slot$assignedElement : []);\n  return assignedElements.filter(radio => radio.tagName.toLowerCase() === 'vm-menu-radio').map(radio => radio.shadowRoot.querySelector('vm-menu-item'));\n}\n\nfunction menuItemHunter(assignedElements) {\n  if (isUndefined(assignedElements)) return [];\n  var allowed = ['vm-menu-item', 'vm-menu-radio-group', 'vm-submenu'];\n  return Array.from(assignedElements !== null && assignedElements !== void 0 ? assignedElements : []).filter(el => allowed.includes(el.tagName.toLowerCase())).map(el => unwrapSubmenu(el)).map(el => unwrapRadioGroup(el)).reduce((acc, val) => acc.concat(val), []);\n}\n\nvar menuCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:var(--vm-menu-z-index)}:host([active]){pointer-events:auto;z-index:calc(var(--vm-menu-z-index) + 1)}.menu{position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;transition:var(--vm-menu-transition)}.menu.slideIn{transform:translateX(0)}.menu[aria-hidden='true'].slideInFromLeft{transform:translateX(-100%)}.menu[aria-hidden='true'].slideInFromRight{transform:translateX(100%)}.container{display:flex;flex-direction:column;position:relative;text-align:left;width:100%;height:100%;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight)}.menu:focus{outline:0}\";\nvar Menu = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmOpen = (0, _client.createEvent)(this, \"vmOpen\", 7);\n    this.vmClose = (0, _client.createEvent)(this, \"vmClose\", 7);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    this.vmActiveSubmenuChange = (0, _client.createEvent)(this, \"vmActiveSubmenuChange\", 7);\n    this.vmActiveMenuItemChange = (0, _client.createEvent)(this, \"vmActiveMenuItemChange\", 7);\n    this.vmMenuHeightChange = (0, _client.createEvent)(this, \"vmMenuHeightChange\", 3);\n    this.hasDisconnected = false;\n    /**\n     * Whether the menu is open/visible.\n     */\n\n    this.active = false;\n    withComponentRegistry(this);\n  }\n\n  onActiveMenuitemChange() {\n    this.vmActiveMenuItemChange.emit(this.activeMenuItem);\n  }\n\n  onActiveSubmenuChange() {\n    this.vmActiveSubmenuChange.emit(this.activeSubmenu);\n  }\n\n  onActiveChange() {\n    var _this$controller;\n\n    if (this.hasDisconnected) return;\n    this.active ? this.vmOpen.emit(this.host) : this.vmClose.emit(this.host);\n\n    if (((_this$controller = this.controller) === null || _this$controller === void 0 ? void 0 : _this$controller.tagName.toLowerCase()) === 'vm-menu-item') {\n      this.controller.expanded = true;\n    }\n  }\n\n  connectedCallback() {\n    this.hasDisconnected = false;\n  }\n\n  componentDidRender() {\n    (0, _client.writeTask)(() => {\n      if (!this.hasDisconnected) this.calculateHeight();\n    });\n  }\n\n  disconnectedCallback() {\n    this.controller = undefined;\n    this.hasDisconnected = true;\n  }\n  /**\n   * Focuses the menu.\n   */\n\n\n  focusMenu() {\n    var _this33 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this33$menu;\n\n      (_this33$menu = _this33.menu) === null || _this33$menu === void 0 ? void 0 : _this33$menu.focus();\n    })();\n  }\n  /**\n   * Removes focus from the menu.\n   */\n\n\n  blurMenu() {\n    var _this34 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this34$menu;\n\n      (_this34$menu = _this34.menu) === null || _this34$menu === void 0 ? void 0 : _this34$menu.blur();\n    })();\n  }\n  /**\n   * Returns the currently focused menu item.\n   */\n\n\n  getActiveMenuItem() {\n    var _this35 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this35.activeMenuItem;\n    })();\n  }\n  /**\n   * Sets the currently focused menu item.\n   */\n\n\n  setActiveMenuItem(item) {\n    var _this36 = this;\n\n    return _asyncToGenerator(function* () {\n      item === null || item === void 0 ? void 0 : item.focusItem();\n      _this36.activeMenuItem = item;\n    })();\n  }\n  /**\n   * Calculates the height of the settings menu based on its children.\n   */\n\n\n  calculateHeight() {\n    var _this37 = this;\n\n    return _asyncToGenerator(function* () {\n      var height = 0;\n\n      if (_this37.activeSubmenu) {\n        var _yield$submenu$calcul;\n\n        var submenu = yield _this37.activeSubmenu.getMenu();\n        height = (_yield$submenu$calcul = yield submenu === null || submenu === void 0 ? void 0 : submenu.calculateHeight()) !== null && _yield$submenu$calcul !== void 0 ? _yield$submenu$calcul : 0;\n        height += yield _this37.activeSubmenu.getControllerHeight();\n      } else {\n        var _this37$container;\n\n        var children = (_this37$container = _this37.container) === null || _this37$container === void 0 ? void 0 : _this37$container.firstChild.assignedElements({\n          flatten: true\n        });\n        children === null || children === void 0 ? void 0 : children.forEach(child => {\n          height += parseFloat(window.getComputedStyle(child).height);\n        });\n      }\n\n      _this37.vmMenuHeightChange.emit(height);\n\n      return height;\n    })();\n  }\n\n  onOpenSubmenu(event) {\n    event.stopPropagation();\n    if (!isUndefined(this.activeSubmenu)) this.activeSubmenu.active = false;\n    this.activeSubmenu = event.detail;\n    this.getChildren().forEach(child => {\n      if (child !== this.activeSubmenu) {\n        child.style.opacity = '0';\n        child.style.visibility = 'hidden';\n      }\n    });\n    (0, _client.writeTask)(() => {\n      this.activeSubmenu.active = true;\n    });\n  }\n\n  onCloseSubmenu(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isUndefined(this.activeSubmenu)) this.activeSubmenu.active = false;\n    this.getChildren().forEach(child => {\n      if (child !== this.activeSubmenu) {\n        child.style.opacity = '';\n        child.style.visibility = '';\n      }\n    });\n    (0, _client.writeTask)(() => {\n      this.activeSubmenu = undefined;\n    });\n  }\n\n  onWindowClick() {\n    this.onCloseSubmenu();\n    this.onClose();\n  }\n\n  onWindowKeyDown(event) {\n    if (this.active && event.key === 'Escape') {\n      this.onCloseSubmenu();\n      this.onClose();\n      this.focusController();\n    }\n  }\n\n  getChildren() {\n    var _this$host$shadowRoot;\n\n    var assignedElements = (_this$host$shadowRoot = this.host.shadowRoot.querySelector('slot')) === null || _this$host$shadowRoot === void 0 ? void 0 : _this$host$shadowRoot.assignedElements({\n      flatten: true\n    });\n    return assignedElements !== null && assignedElements !== void 0 ? assignedElements : [];\n  }\n\n  getMenuItems() {\n    var _this$host$shadowRoot2;\n\n    var assignedElements = (_this$host$shadowRoot2 = this.host.shadowRoot.querySelector('slot')) === null || _this$host$shadowRoot2 === void 0 ? void 0 : _this$host$shadowRoot2.assignedElements({\n      flatten: true\n    });\n    return menuItemHunter(assignedElements);\n  }\n\n  focusController() {\n    var _this$controller2, _this$controller4;\n\n    if (!isUndefined((_this$controller2 = this.controller) === null || _this$controller2 === void 0 ? void 0 : _this$controller2.focusItem)) {\n      var _this$controller3;\n\n      (_this$controller3 = this.controller) === null || _this$controller3 === void 0 ? void 0 : _this$controller3.focusItem();\n    } else if (!isUndefined((_this$controller4 = this.controller) === null || _this$controller4 === void 0 ? void 0 : _this$controller4.focusControl)) {\n      var _this$controller5;\n\n      (_this$controller5 = this.controller) === null || _this$controller5 === void 0 ? void 0 : _this$controller5.focusControl();\n    } else {\n      var _this$controller6;\n\n      (_this$controller6 = this.controller) === null || _this$controller6 === void 0 ? void 0 : _this$controller6.focus();\n    }\n  }\n\n  triggerMenuItem() {\n    var _this$activeMenuItem$;\n\n    if (isUndefined(this.activeMenuItem)) return;\n    this.activeMenuItem.click(); // If it controls a menu then focus it essentially opening it.\n\n    (_this$activeMenuItem$ = this.activeMenuItem.menu) === null || _this$activeMenuItem$ === void 0 ? void 0 : _this$activeMenuItem$.focusMenu();\n  }\n\n  onClose() {\n    this.activeMenuItem = undefined;\n    this.active = false;\n  }\n\n  onClick(event) {\n    // Stop the event from propagating while playing with menu so that when it is clicked outside\n    // the menu we can close it in the `onWindowClick` handler above.\n    event.stopPropagation();\n  }\n\n  onFocus() {\n    var _this$activeMenuItem;\n\n    this.active = true;\n    [this.activeMenuItem] = this.getMenuItems();\n    (_this$activeMenuItem = this.activeMenuItem) === null || _this$activeMenuItem === void 0 ? void 0 : _this$activeMenuItem.focusItem();\n    this.vmFocus.emit();\n  }\n\n  onBlur() {\n    this.vmBlur.emit();\n  }\n\n  foucsMenuItem(items, index) {\n    if (index < 0) index = items.length - 1;\n    if (index > items.length - 1) index = 0;\n    this.activeMenuItem = items[index];\n    this.activeMenuItem.focusItem();\n  }\n\n  onKeyDown(event) {\n    if (!this.active) return;\n    event.preventDefault();\n    event.stopPropagation();\n    var items = this.getMenuItems();\n    var index = items.findIndex(item => item === this.activeMenuItem);\n\n    switch (event.key) {\n      case 'Escape':\n        this.onClose();\n        this.focusController();\n        break;\n\n      case 'ArrowDown':\n      case 'Tab':\n        this.foucsMenuItem(items, index += 1);\n        break;\n\n      case 'ArrowUp':\n        this.foucsMenuItem(items, index -= 1);\n        break;\n\n      case 'ArrowLeft':\n        this.onClose();\n        this.focusController();\n        break;\n\n      case 'ArrowRight':\n      case 'Enter':\n      case ' ':\n        this.triggerMenuItem();\n        break;\n\n      case 'Home':\n      case 'PageUp':\n        this.foucsMenuItem(items, 0);\n        break;\n\n      case 'End':\n      case 'PageDown':\n        this.foucsMenuItem(items, items.length - 1);\n        break;\n    }\n  }\n\n  render() {\n    var _this$controller$iden, _this$controller7, _this$controller8;\n\n    return (0, _client.h)(\"div\", {\n      id: this.identifier,\n      class: {\n        menu: true,\n        slideIn: !isUndefined(this.slideInDirection),\n        slideInFromLeft: this.slideInDirection === 'left',\n        slideInFromRight: this.slideInDirection === 'right'\n      },\n      role: \"menu\",\n      tabindex: \"-1\",\n      \"aria-labelledby\": (_this$controller$iden = (_this$controller7 = this.controller) === null || _this$controller7 === void 0 ? void 0 : _this$controller7.identifier) !== null && _this$controller$iden !== void 0 ? _this$controller$iden : (_this$controller8 = this.controller) === null || _this$controller8 === void 0 ? void 0 : _this$controller8.id,\n      \"aria-hidden\": !this.active ? 'true' : 'false',\n      onFocus: this.onFocus.bind(this),\n      onBlur: this.onBlur.bind(this),\n      onClick: this.onClick.bind(this),\n      onKeyDown: this.onKeyDown.bind(this),\n      ref: el => {\n        this.menu = el;\n      }\n    }, (0, _client.h)(\"div\", {\n      class: \"container\",\n      ref: el => {\n        this.container = el;\n      }\n    }, (0, _client.h)(\"slot\", null)));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"activeMenuItem\": [\"onActiveMenuitemChange\"],\n      \"activeSubmenu\": [\"onActiveSubmenuChange\"],\n      \"active\": [\"onActiveChange\"]\n    };\n  }\n\n  static get style() {\n    return menuCss;\n  }\n\n};\nvar menuItemCss = \":host{display:block}.menuItem{display:flex;position:relative;align-items:center;flex-direction:row;cursor:pointer;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight);padding:var(--vm-menu-item-padding);touch-action:manipulation;box-sizing:border-box}.menuItem:focus{outline:0}.menuItem.hidden{display:none}.menuItem.tapHighlight{background:var(--vm-menu-item-tap-highlight)}.menuItem.showDivider{border-bottom:0.5px solid var(--vm-menu-item-divider-color)}.menuItem.notTouch:hover,.menuItem.notTouch:focus{outline:0;color:var(--vm-menu-item-focus-color);background-color:var(--vm-menu-item-focus-bg)}.menuItem[aria-expanded='true']{position:absolute;z-index:2;top:0;width:100%}.menuItem[aria-hidden='true']{display:none}.menuItem[aria-checked='true'] vm-icon{opacity:1;visibility:visible}vm-icon{display:inline-block}vm-icon{fill:currentColor;pointer-events:none;font-size:var(--vm-menu-item-check-icon-size);margin-right:10px;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.hint{display:inline-block;margin-left:auto;overflow:hidden;pointer-events:none;margin-right:6px;font-size:var(--vm-menu-item-hint-font-size);opacity:var(--vm-menu-item-hint-opacity);color:var(--vm-menu-item-hint-color)}.badge{display:inline-block;line-height:1;overflow:hidden;pointer-events:none;margin-left:6px;color:var(--vm-menu-item-badge-color);background:var(--vm-menu-item-badge-bg);font-size:var(--vm-menu-item-badge-font-size)}.spacer{flex:1}.arrow{color:var(--vm-menu-item-arrow-color);border:2px solid;padding:2px;display:inline-block;border-width:0 2px 2px 0}.arrow.left{margin-right:6px;transform:rotate(135deg)}.arrow.right{transform:rotate(-45deg);opacity:0.38}\";\nvar MenuItem = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    this.showTapHighlight = false;\n    /**\n     * Whether the item is displayed or not.\n     */\n\n    this.hidden = false;\n    /**\n     * The name of the checkmark icon to resolve from the icon library.\n     */\n\n    this.checkIcon = 'check';\n    /** @internal */\n\n    this.isTouch = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch']);\n  }\n  /**\n   * Focuses the menu item.\n   */\n\n\n  focusItem() {\n    var _this38 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this38$menuItem;\n\n      (_this38$menuItem = _this38.menuItem) === null || _this38$menuItem === void 0 ? void 0 : _this38$menuItem.focus();\n    })();\n  }\n  /**\n   * Removes focus from the menu item.\n   */\n\n\n  blurItem() {\n    var _this39 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this39$menuItem;\n\n      (_this39$menuItem = _this39.menuItem) === null || _this39$menuItem === void 0 ? void 0 : _this39$menuItem.blur();\n    })();\n  }\n  /**\n   * Returns the height of the menu item.\n   */\n\n\n  getHeight() {\n    var _this40 = this;\n\n    return _asyncToGenerator(function* () {\n      return parseFloat(_this40.menuItem ? window.getComputedStyle(_this40.menuItem).height : '0');\n    })();\n  }\n\n  onClick() {\n    if (!isNullOrUndefined(this.menu)) this.menu.active = !this.expanded;\n  }\n\n  onFocus() {\n    this.vmFocus.emit();\n  }\n\n  onBlur() {\n    this.vmBlur.emit();\n  }\n\n  onTouchStart() {\n    this.showTapHighlight = true;\n  }\n\n  onTouchEnd() {\n    setTimeout(() => {\n      this.showTapHighlight = false;\n    }, 100);\n  }\n\n  onMouseLeave() {\n    var _this$menuItem;\n\n    (_this$menuItem = this.menuItem) === null || _this$menuItem === void 0 ? void 0 : _this$menuItem.blur();\n  }\n\n  render() {\n    var _this$expanded, _this$menu$identifier, _this$menu, _this$menu2;\n\n    var isCheckedDefined = !isUndefined(this.checked);\n    var isMenuDefined = !isUndefined(this.menu);\n    var hasExpanded = this.expanded ? 'true' : 'false';\n    var isChecked = this.checked ? 'true' : 'false';\n    var showCheckedIcon = isCheckedDefined && !isUndefined(this.checkIcon);\n    var showLeftNavArrow = isMenuDefined && this.expanded;\n    var showRightNavArrow = isMenuDefined && !this.expanded;\n    var showHint = !isUndefined(this.hint) && !isCheckedDefined && (!isMenuDefined || !this.expanded);\n    var showBadge = !isUndefined(this.badge) && !showHint && !showRightNavArrow;\n    var hasSpacer = showHint || showRightNavArrow;\n    return (0, _client.h)(\"div\", {\n      class: {\n        menuItem: true,\n        notTouch: !this.isTouch,\n        tapHighlight: this.showTapHighlight,\n        showDivider: isMenuDefined && ((_this$expanded = this.expanded) !== null && _this$expanded !== void 0 ? _this$expanded : false)\n      },\n      id: this.identifier,\n      role: isCheckedDefined ? 'menuitemradio' : 'menuitem',\n      tabindex: \"0\",\n      \"aria-label\": this.label,\n      \"aria-hidden\": this.hidden ? 'true' : 'false',\n      \"aria-haspopup\": isMenuDefined ? 'true' : undefined,\n      \"aria-controls\": (_this$menu$identifier = (_this$menu = this.menu) === null || _this$menu === void 0 ? void 0 : _this$menu.identifier) !== null && _this$menu$identifier !== void 0 ? _this$menu$identifier : (_this$menu2 = this.menu) === null || _this$menu2 === void 0 ? void 0 : _this$menu2.id,\n      \"aria-expanded\": isMenuDefined ? hasExpanded : undefined,\n      \"aria-checked\": isCheckedDefined ? isChecked : undefined,\n      onClick: this.onClick.bind(this),\n      onFocus: this.onFocus.bind(this),\n      onBlur: this.onBlur.bind(this),\n      onTouchStart: this.onTouchStart.bind(this),\n      onTouchEnd: this.onTouchEnd.bind(this),\n      onMouseLeave: this.onMouseLeave.bind(this),\n      ref: el => {\n        this.menuItem = el;\n      }\n    }, showCheckedIcon && (0, _client.h)(\"vm-icon\", {\n      name: this.checkIcon,\n      library: this.icons\n    }), showLeftNavArrow && (0, _client.h)(\"span\", {\n      class: \"arrow left\"\n    }), this.label, hasSpacer && (0, _client.h)(\"span\", {\n      class: \"spacer\"\n    }), showHint && (0, _client.h)(\"span\", {\n      class: \"hint\"\n    }, this.hint), showBadge && (0, _client.h)(\"span\", {\n      class: \"badge\"\n    }, this.badge), showRightNavArrow && (0, _client.h)(\"span\", {\n      class: \"arrow right\"\n    }));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get style() {\n    return menuItemCss;\n  }\n\n};\nvar MenuRadio = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmCheck = (0, _client.createEvent)(this, \"vmCheck\", 7);\n    /**\n     * Whether the radio item is selected or not.\n     */\n\n    this.checked = false;\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n\n    this.checkIcon = 'check';\n    withComponentRegistry(this);\n  }\n\n  onClick() {\n    this.checked = true;\n    this.vmCheck.emit();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-menu-item\", {\n      label: this.label,\n      checked: this.checked,\n      badge: this.badge,\n      checkIcon: this.checkIcon,\n      icons: this.icons,\n      onClick: this.onClick.bind(this)\n    });\n  }\n\n};\nvar MenuRadioGroup = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmCheck = (0, _client.createEvent)(this, \"vmCheck\", 7);\n    withComponentRegistry(this);\n  }\n\n  onValueChange() {\n    var _this$findRadios;\n\n    (_this$findRadios = this.findRadios()) === null || _this$findRadios === void 0 ? void 0 : _this$findRadios.forEach(radio => {\n      radio.checked = radio.value === this.value;\n    });\n  }\n\n  connectedCallback() {\n    this.onValueChange();\n  }\n\n  componentDidLoad() {\n    this.onValueChange();\n  }\n\n  onSelectionChange(event) {\n    var radio = event.target;\n    this.value = radio.value;\n  }\n\n  findRadios() {\n    var _this$host$shadowRoot3;\n\n    return (_this$host$shadowRoot3 = this.host.shadowRoot.querySelector('slot')) === null || _this$host$shadowRoot3 === void 0 ? void 0 : _this$host$shadowRoot3.assignedElements();\n  }\n\n  render() {\n    return (0, _client.h)(\"slot\", null);\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"value\": [\"onValueChange\"]\n    };\n  }\n\n};\nvar MuteControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    /**\n     * The name of the low volume icon to resolve from the icon library.\n     */\n\n    this.lowVolumeIcon = 'volume-low';\n    /**\n     * The name of the high volume icon to resolve from the icon library.\n     */\n\n    this.highVolumeIcon = 'volume-high';\n    /**\n     * The name of the muted volume icon to resolve from the icon library.\n     */\n\n    this.mutedIcon = 'volume-mute';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'm';\n    /** @internal */\n\n    this.volume = 50;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['muted', 'volume', 'i18n']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n\n  getIcon() {\n    var volumeIcon = this.volume < 50 ? this.lowVolumeIcon : this.highVolumeIcon;\n    return this.muted || this.volume === 0 ? this.mutedIcon : volumeIcon;\n  }\n\n  onClick() {\n    this.dispatch('muted', !this.muted);\n  }\n\n  render() {\n    var tooltip = this.muted ? this.i18n.unmute : this.i18n.mute;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(\"vm-control\", {\n      label: this.i18n.mute,\n      pressed: this.muted,\n      keys: this.keys,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.getIcon(),\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint));\n  }\n\n};\nvar pipControlCss = \":host([hidden]){display:none}\";\nvar PiPControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.canSetPiP = false;\n    /**\n     * The name of the enter pip icon to resolve from the icon library.\n     */\n\n    this.enterIcon = 'pip-enter';\n    /**\n     * The name of the exit pip icon to resolve from the icon library.\n     */\n\n    this.exitIcon = 'pip-exit';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'p';\n    /** @internal */\n\n    this.isPiPActive = false;\n    /** @internal */\n\n    this.i18n = {};\n    /** @internal */\n\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isPiPActive', 'playbackReady', 'i18n']);\n  }\n\n  onPlaybackReadyChange() {\n    var _this41 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$player$canSetP;\n\n      var player = getPlayerFromRegistry(_this41);\n      _this41.canSetPiP = (_yield$player$canSetP = yield player === null || player === void 0 ? void 0 : player.canSetPiP()) !== null && _yield$player$canSetP !== void 0 ? _yield$player$canSetP : false;\n    })();\n  }\n\n  componentDidLoad() {\n    this.onPlaybackReadyChange();\n  }\n\n  onClick() {\n    var player = getPlayerFromRegistry(this);\n    !this.isPiPActive ? player === null || player === void 0 ? void 0 : player.enterPiP() : player === null || player === void 0 ? void 0 : player.exitPiP();\n  }\n\n  render() {\n    var tooltip = this.isPiPActive ? this.i18n.exitPiP : this.i18n.enterPiP;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(_client.Host, {\n      hidden: !this.canSetPiP\n    }, (0, _client.h)(\"vm-control\", {\n      label: this.i18n.pip,\n      keys: this.keys,\n      pressed: this.isPiPActive,\n      hidden: !this.canSetPiP,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.isPiPActive ? this.exitIcon : this.enterIcon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint)));\n  }\n\n  static get watchers() {\n    return {\n      \"playbackReady\": [\"onPlaybackReadyChange\"]\n    };\n  }\n\n  static get style() {\n    return pipControlCss;\n  }\n\n};\nvar PlaybackControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The name of the play icon to resolve from the icon library.\n     */\n\n    this.playIcon = 'play';\n    /**\n     * The name of the pause icon to resolve from the icon library.\n     */\n\n    this.pauseIcon = 'pause';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @inheritdoc */\n\n    this.keys = 'k';\n    /** @internal */\n\n    this.paused = true;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['paused', 'i18n']);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n\n  onClick() {\n    this.dispatch('paused', !this.paused);\n  }\n\n  render() {\n    var tooltip = this.paused ? this.i18n.play : this.i18n.pause;\n    var tooltipWithHint = !isUndefined(this.keys) ? \"\".concat(tooltip, \" (\").concat(this.keys, \")\") : tooltip;\n    return (0, _client.h)(\"vm-control\", {\n      label: this.i18n.playback,\n      keys: this.keys,\n      pressed: !this.paused,\n      onClick: this.onClick.bind(this)\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.paused ? this.playIcon : this.pauseIcon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, tooltipWithHint));\n  }\n\n};\nvar apiMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror', 'fullscreen'], // WebKit\n['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror', '-webkit-full-screen'], // Mozilla\n['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror', '-moz-full-screen'], // Microsoft\n['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError', '-ms-fullscreen']];\n/**\n * Normalizes native fullscreen API differences across browsers.\n *\n * @ref https://github.com/videojs/video.js/blob/7.6.x/src/js/fullscreen-api.js\n */\n\nvar getFullscreenApi = () => {\n  var api = {\n    prefixed: false\n  };\n  var specApi = apiMap[0];\n  var browserApi; // Determine the supported set of functions.\n\n  for (var i = 0; i < apiMap.length; i += 1) {\n    // Check for exitFullscreen function.\n    if (apiMap[i][1] in document) {\n      browserApi = apiMap[i];\n      break;\n    }\n  } // Map the browser API names to the spec API names.\n\n\n  if (browserApi) {\n    for (var _i = 0; _i < browserApi.length; _i += 1) {\n      api[specApi[_i]] = browserApi[_i];\n    }\n\n    api.prefixed = browserApi[0] !== specApi[0];\n  }\n\n  return api;\n};\n\nclass Fullscreen {\n  constructor(el, listener) {\n    this.el = el;\n    this.listener = listener;\n    this.disposal = new Disposal();\n    this.api = getFullscreenApi();\n\n    if (this.isSupported) {\n      this.disposal.add(listen(this.el, this.api.fullscreenchange, this.onFullscreenChange.bind(this)));\n      /* *\n       * We have to listen to this on webkit, because no `fullscreenchange` event is fired when the\n       * video element enters or exits fullscreen by:\n       *\n       *  1. Clicking the native Html5 fullscreen video control.\n       *  2. Calling requestFullscreen from the video element directly.\n       *  3. Calling requestFullscreen inside an iframe.\n       * */\n\n      if (document.webkitExitFullscreen) {\n        this.disposal.add(listen(this.el, 'webkitfullscreenchange', this.onFullscreenChange.bind(this)));\n      } // We listen to this for the same reasons as above except when the browser is Firefox.\n\n\n      if (document.mozCancelFullScreen) {\n        this.disposal.add(listen(this.el, 'mozfullscreenchange', this.onFullscreenChange.bind(this)));\n      }\n    }\n  }\n\n  enterFullscreen(options) {\n    var _this42 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this42.isSupported) throw Error('Fullscreen API is not available.');\n      return _this42.el[_this42.api.requestFullscreen](options);\n    })();\n  }\n\n  exitFullscreen() {\n    var _this43 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this43.isSupported) throw Error('Fullscreen API is not available.');\n      if (!_this43.isActive) throw Error('Player is not currently in fullscreen mode to exit.');\n      return document[_this43.api.exitFullscreen]();\n    })();\n  }\n\n  get isActive() {\n    if (!this.isSupported) return false;\n    var fullscreenEl = document[this.api.fullscreenElement];\n    return this.el === fullscreenEl || this.el.matches(\":\".concat(this.api.fullscreen)) || this.el.contains(fullscreenEl);\n  }\n\n  get isSupported() {\n    return !isUndefined(this.api.requestFullscreen);\n  }\n\n  onFullscreenChange() {\n    this.listener(this.isActive);\n  }\n\n  destroy() {\n    this.disposal.empty();\n  }\n\n}\n\nclass Logger {\n  constructor() {\n    this.silent = false;\n  }\n\n  log() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (!this.silent && !isUndefined(console)) console.log('[Vime tip]:', ...args);\n  }\n\n  warn() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    if (!this.silent && !isUndefined(console)) console.error('[Vime warn]:', ...args);\n  }\n\n}\n\nvar players = new Set();\n\nfunction withAutopause(player) {\n  var el = (0, _client.getElement)(player);\n  createStencilHook(player, () => {\n    players.add(el);\n  }, () => {\n    players.delete(el);\n  });\n}\n\nfunction autopause(player) {\n  var el = (0, _client.getElement)(player);\n  players.forEach(p => {\n    if (p !== el && p.autopause) p.paused = true;\n  });\n}\n/* eslint-disable func-names */\n\n\nfunction withPlayerEvents(player) {\n  var el = (0, _client.getElement)(player);\n  var cache = new Map();\n\n  function initCache() {\n    Object.keys(initialState).forEach(prop => {\n      cache.set(prop, player[prop]);\n    });\n  }\n\n  createStencilHook(player, () => {\n    initCache();\n  }, () => {\n    cache.clear();\n  });\n  var {\n    componentDidRender\n  } = player;\n\n  player.componentDidRender = function () {\n    componentDidRender === null || componentDidRender === void 0 ? void 0 : componentDidRender();\n    var props = Array.from(cache.keys());\n\n    for (var i = 0; i < props.length; i += 1) {\n      var prop = props[i];\n      var oldValue = cache.get(prop);\n      var newValue = player[prop];\n\n      if (oldValue !== newValue) {\n        firePlayerEvent(el, prop, newValue, oldValue);\n        cache.set(prop, newValue);\n      }\n    }\n  };\n}\n/* eslint-disable func-names */\n// These changes need to be called immediately to avoid the browser blocking the request.\n\n\nvar immediateAdapterCall = new Set(['currentTime', 'paused']);\n\nfunction withPlayerScheduler(player) {\n  var el = (0, _client.getElement)(player);\n  var cache = new Map();\n  var disposal = new Disposal();\n\n  function initCache() {\n    Object.keys(initialState).forEach(prop => {\n      cache.set(prop, player[prop]);\n    });\n  } // Queue of adapter calls to be run when the media is ready for playback.\n\n\n  var adapterCalls = [];\n\n  function flushAdapterCalls() {\n    return _flushAdapterCalls.apply(this, arguments);\n  }\n\n  function _flushAdapterCalls() {\n    _flushAdapterCalls = _asyncToGenerator(function* () {\n      var adapter = yield player.adapter;\n      if (isUndefined(adapter)) return;\n\n      for (var i = 0; i < adapterCalls.length; i += 1) {\n        // eslint-disable-next-line no-await-in-loop\n        yield adapterCalls[i](adapter);\n      }\n\n      adapterCalls = [];\n    });\n    return _flushAdapterCalls.apply(this, arguments);\n  }\n\n  var hasMediaChanged = false;\n\n  function onMediaChange(e) {\n    e === null || e === void 0 ? void 0 : e.stopImmediatePropagation(); // Don't reset first time otherwise props intialized by the user will be reset.\n\n    if (!hasMediaChanged) {\n      hasMediaChanged = true;\n      return;\n    }\n\n    adapterCalls = [];\n    (0, _client.writeTask)(() => {\n      Object.keys(initialState).filter(shouldPropResetOnMediaChange).forEach(prop => {\n        player[prop] = initialState[prop];\n      });\n    });\n  }\n\n  function onStateChange(_x29) {\n    return _onStateChange.apply(this, arguments);\n  } // Called by ProviderConnect.\n\n\n  function _onStateChange() {\n    _onStateChange = _asyncToGenerator(function* (event) {\n      event.stopImmediatePropagation();\n      var {\n        by,\n        prop,\n        value\n      } = event.detail;\n\n      if (!isWritableProp(prop)) {\n        var _player$logger;\n\n        (_player$logger = player.logger) === null || _player$logger === void 0 ? void 0 : _player$logger.warn(\"\".concat(by.nodeName, \" tried to change `\").concat(prop, \"` but it is readonly.\"));\n        return;\n      }\n\n      if (!player.playbackStarted && immediateAdapterCall.has(prop)) {\n        var adapter = yield player.adapter;\n\n        if (prop === 'paused' && !value) {\n          adapter === null || adapter === void 0 ? void 0 : adapter.play();\n        }\n\n        if (prop === 'currentTime') {\n          adapter === null || adapter === void 0 ? void 0 : adapter.play();\n          adapter === null || adapter === void 0 ? void 0 : adapter.setCurrentTime(value);\n        }\n      }\n\n      (0, _client.writeTask)(() => {\n        player[prop] = value;\n      });\n    });\n    return _onStateChange.apply(this, arguments);\n  }\n\n  var {\n    onProviderDisconnect\n  } = player;\n\n  player.onProviderDisconnect = function () {\n    onMediaChange();\n    if (onProviderDisconnect) onProviderDisconnect.call(player);\n  };\n\n  createStencilHook(player, () => {\n    initCache();\n    disposal.add(listen(el, LOAD_START_EVENT, onMediaChange));\n    disposal.add(listen(el, STATE_CHANGE_EVENT, onStateChange));\n  }, () => {\n    cache.clear();\n    disposal.empty();\n  });\n  wrapStencilHook(player, 'componentWillRender', /*#__PURE__*/_asyncToGenerator(function* () {\n    if (player.playbackReady && adapterCalls.length > 0) yield flushAdapterCalls();\n  }));\n\n  function isAdapterCallRequired(prop, value) {\n    var _player$PROVIDER_CACH;\n\n    return value !== ((_player$PROVIDER_CACH = player[PROVIDER_CACHE_KEY]) === null || _player$PROVIDER_CACH === void 0 ? void 0 : _player$PROVIDER_CACH.get(prop));\n  }\n\n  return /*#__PURE__*/function () {\n    var _safeAdapterCall = _asyncToGenerator(function* (prop, method) {\n      if (!isAdapterCallRequired(prop, player[prop])) return;\n      var value = player[prop];\n\n      var safeCall = /*#__PURE__*/function () {\n        var _ref10 = _asyncToGenerator(function* (adapter) {\n          try {\n            var _adapter$method;\n\n            // @ts-ignore\n            yield adapter === null || adapter === void 0 ? void 0 : (_adapter$method = adapter[method]) === null || _adapter$method === void 0 ? void 0 : _adapter$method.call(adapter, value);\n          } catch (e) {\n            el.dispatchEvent(new CustomEvent('vmError', {\n              detail: e\n            }));\n          }\n        });\n\n        return function safeCall(_x32) {\n          return _ref10.apply(this, arguments);\n        };\n      }();\n\n      if (player.playbackReady) {\n        yield safeCall(yield player.adapter);\n      } else {\n        adapterCalls.push(safeCall);\n      }\n    });\n\n    function safeAdapterCall(_x30, _x31) {\n      return _safeAdapterCall.apply(this, arguments);\n    }\n\n    return safeAdapterCall;\n  }();\n}\n\nvar playerCss = \".player{box-sizing:border-box;direction:ltr;font-family:var(--vm-player-font-family);-moz-osx-font-smoothing:auto;-webkit-font-smoothing:subpixel-antialiased;-webkit-tap-highlight-color:transparent;font-variant-numeric:tabular-nums;font-weight:500;line-height:1.7;width:100%;display:block;max-width:100%;min-width:275px;min-height:40px;position:relative;text-shadow:none;outline:0;transition:box-shadow 0.3s ease;box-shadow:var(--vm-player-box-shadow);border-radius:var(--vm-player-border-radius)}.player.idle{cursor:none}.player.audio{background-color:transparent !important}.player.video{height:0;overflow:hidden;background-color:var(--vm-player-bg, #000)}.player.fullscreen{margin:0;border-radius:0;width:100%;height:100%;padding-bottom:0 !important}.blocker{position:absolute;top:0;left:0;width:100%;height:100%;display:inline-block;z-index:var(--vm-blocker-z-index)}\";\nvar idCount$1 = 0;\nvar Player = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmThemeChange = (0, _client.createEvent)(this, \"vmThemeChange\", 7);\n    this.vmPausedChange = (0, _client.createEvent)(this, \"vmPausedChange\", 7);\n    this.vmPlay = (0, _client.createEvent)(this, \"vmPlay\", 7);\n    this.vmPlayingChange = (0, _client.createEvent)(this, \"vmPlayingChange\", 7);\n    this.vmSeekingChange = (0, _client.createEvent)(this, \"vmSeekingChange\", 7);\n    this.vmSeeked = (0, _client.createEvent)(this, \"vmSeeked\", 7);\n    this.vmBufferingChange = (0, _client.createEvent)(this, \"vmBufferingChange\", 7);\n    this.vmDurationChange = (0, _client.createEvent)(this, \"vmDurationChange\", 7);\n    this.vmCurrentTimeChange = (0, _client.createEvent)(this, \"vmCurrentTimeChange\", 7);\n    this.vmReady = (0, _client.createEvent)(this, \"vmReady\", 7);\n    this.vmPlaybackReady = (0, _client.createEvent)(this, \"vmPlaybackReady\", 7);\n    this.vmPlaybackStarted = (0, _client.createEvent)(this, \"vmPlaybackStarted\", 7);\n    this.vmPlaybackEnded = (0, _client.createEvent)(this, \"vmPlaybackEnded\", 7);\n    this.vmBufferedChange = (0, _client.createEvent)(this, \"vmBufferedChange\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmCurrentProviderChange = (0, _client.createEvent)(this, \"vmCurrentProviderChange\", 7);\n    this.vmCurrentSrcChange = (0, _client.createEvent)(this, \"vmCurrentSrcChange\", 7);\n    this.vmCurrentPosterChange = (0, _client.createEvent)(this, \"vmCurrentPosterChange\", 7);\n    this.vmMediaTitleChange = (0, _client.createEvent)(this, \"vmMediaTitleChange\", 7);\n    this.vmControlsChange = (0, _client.createEvent)(this, \"vmControlsChange\", 7);\n    this.vmPlaybackRateChange = (0, _client.createEvent)(this, \"vmPlaybackRateChange\", 7);\n    this.vmPlaybackRatesChange = (0, _client.createEvent)(this, \"vmPlaybackRatesChange\", 7);\n    this.vmPlaybackQualityChange = (0, _client.createEvent)(this, \"vmPlaybackQualityChange\", 7);\n    this.vmPlaybackQualitiesChange = (0, _client.createEvent)(this, \"vmPlaybackQualitiesChange\", 7);\n    this.vmMutedChange = (0, _client.createEvent)(this, \"vmMutedChange\", 7);\n    this.vmVolumeChange = (0, _client.createEvent)(this, \"vmVolumeChange\", 7);\n    this.vmViewTypeChange = (0, _client.createEvent)(this, \"vmViewTypeChange\", 7);\n    this.vmMediaTypeChange = (0, _client.createEvent)(this, \"vmMediaTypeChange\", 7);\n    this.vmLiveChange = (0, _client.createEvent)(this, \"vmLiveChange\", 7);\n    this.vmTouchChange = (0, _client.createEvent)(this, \"vmTouchChange\", 7);\n    this.vmLanguageChange = (0, _client.createEvent)(this, \"vmLanguageChange\", 7);\n    this.vmI18nChange = (0, _client.createEvent)(this, \"vmI18nChange\", 7);\n    this.vmTranslationsChange = (0, _client.createEvent)(this, \"vmTranslationsChange\", 7);\n    this.vmLanguagesChange = (0, _client.createEvent)(this, \"vmLanguagesChange\", 7);\n    this.vmFullscreenChange = (0, _client.createEvent)(this, \"vmFullscreenChange\", 7);\n    this.vmPiPChange = (0, _client.createEvent)(this, \"vmPiPChange\", 7);\n    this.vmTextTracksChange = (0, _client.createEvent)(this, \"vmTextTracksChange\", 7);\n    this.vmCurrentTextTrackChange = (0, _client.createEvent)(this, \"vmCurrentTextTrackChange\", 7);\n    this.vmTextTrackVisibleChange = (0, _client.createEvent)(this, \"vmTextTrackVisibleChange\", 7);\n    this.vmAudioTracksChange = (0, _client.createEvent)(this, \"vmAudioTracksChange\", 7);\n    this.vmCurrentAudioTrackChange = (0, _client.createEvent)(this, \"vmCurrentAudioTrackChange\", 7);\n    this.disposal = new Disposal();\n    /**\n     * ------------------------------------------------------\n     * Props\n     * ------------------------------------------------------\n     */\n\n    /** @internal @readonly */\n\n    this.logger = new Logger();\n    /** @inheritDoc */\n\n    this.icons = 'vime';\n    /** @inheritDoc */\n\n    this.paused = true;\n    /** @inheritDoc @readonly */\n\n    this.playing = false;\n    /** @inheritDoc @readonly */\n\n    this.duration = -1;\n    /** @inheritDoc */\n\n    this.currentTime = 0;\n    /** @inheritDoc */\n\n    this.autoplay = false;\n    /** @inheritDoc @readonly */\n\n    this.ready = false;\n    /** @inheritDoc @readonly */\n\n    this.playbackReady = false;\n    /** @inheritDoc */\n\n    this.loop = false;\n    /** @inheritDoc */\n\n    this.muted = false;\n    /** @inheritDoc @readonly */\n\n    this.buffered = 0;\n    /** @inheritDoc */\n\n    this.playbackRate = 1;\n    this.lastRateCheck = 1;\n    /** @inheritDoc @readonly */\n\n    this.playbackRates = [1];\n    /** @inheritDoc @readonly */\n\n    this.playbackQualities = [];\n    /** @inheritDoc @readonly */\n\n    this.seeking = false;\n    /** @inheritDoc */\n\n    this.debug = false;\n    /** @inheritDoc @readonly */\n\n    this.playbackStarted = false;\n    /** @inheritDoc @readonly */\n\n    this.playbackEnded = false;\n    /** @inheritDoc @readonly */\n\n    this.buffering = false;\n    /** @inheritDoc */\n\n    this.controls = false;\n    /** @inheritDoc */\n\n    this.isControlsActive = false;\n    /** @inheritDoc @readonly */\n\n    this.isSettingsActive = false;\n    /** @inheritDoc */\n\n    this.volume = 50;\n    /** @inheritDoc @readonly */\n\n    this.isFullscreenActive = false;\n    /** @inheritDoc */\n\n    this.aspectRatio = '16:9';\n    /** @inheritDoc @readonly */\n\n    this.isAudioView = false;\n    /** @inheritDoc @readonly */\n\n    this.isVideoView = false;\n    /** @inheritDoc @readonly */\n\n    this.isAudio = false;\n    /** @inheritDoc @readonly */\n\n    this.isVideo = false;\n    /** @inheritDoc @readonly */\n\n    this.isLive = false;\n    /** @inheritDoc @readonly */\n\n    this.isMobile = false;\n    /** @inheritDoc @readonly */\n\n    this.isTouch = false;\n    /** @inheritDoc @readonly */\n\n    this.isPiPActive = false;\n    /** @inheritDoc @readonly */\n\n    this.textTracks = [];\n    /** @inheritDoc @readonly */\n\n    this.currentTextTrack = -1;\n    /** @inheritDoc @readonly */\n\n    this.isTextTrackVisible = true;\n    /** @inheritDoc */\n\n    this.shouldRenderNativeTextTracks = true;\n    /** @inheritDoc @readonly */\n\n    this.audioTracks = [];\n    /** @inheritDoc @readonly */\n\n    this.currentAudioTrack = -1;\n    /** @inheritDoc */\n\n    this.autopause = true;\n    /** @inheritDoc */\n\n    this.playsinline = false;\n    /** @inheritDoc */\n\n    this.language = 'en';\n    /** @inheritDoc */\n\n    this.translations = {\n      en\n    };\n    /** @inheritDoc @readonly */\n\n    this.languages = ['en'];\n    /** @inheritDoc @readonly */\n\n    this.i18n = en;\n    withFindPlayer(this);\n    withComponentRegistrar(this);\n    withAutopause(this);\n    withProviderHost(this);\n    withPlayerEvents(this);\n    this.safeAdapterCall = withPlayerScheduler(this);\n  }\n\n  get adapter() {\n    var _this$provider;\n\n    return (_this$provider = this.provider) === null || _this$provider === void 0 ? void 0 : _this$provider.getAdapter();\n  }\n\n  onContainerChange() {\n    var _this$fullscreen;\n\n    (_this$fullscreen = this.fullscreen) === null || _this$fullscreen === void 0 ? void 0 : _this$fullscreen.destroy();\n    if (isUndefined(this.container)) return;\n    this.fullscreen = new Fullscreen(this.container, isActive => {\n      this.isFullscreenActive = isActive;\n      this.rotateDevice();\n    });\n  }\n\n  onPausedChange() {\n    if (this.paused) {\n      this.playing = false;\n    } else {\n      autopause(this);\n    }\n\n    this.safeAdapterCall('paused', !this.paused ? 'play' : 'pause');\n  }\n\n  onDurationChange() {\n    this.isLive = this.duration === Infinity;\n  }\n\n  onCurrentTimeChange() {\n    var duration = this.playbackReady ? this.duration : Infinity;\n    this.currentTime = Math.max(0, Math.min(this.currentTime, duration));\n    this.safeAdapterCall('currentTime', 'setCurrentTime');\n  }\n\n  onPlaybackReadyChange() {\n    if (!this.ready) this.ready = true;\n  }\n\n  onMutedChange() {\n    this.safeAdapterCall('muted', 'setMuted');\n  }\n\n  onPlaybackRateChange(newRate, prevRate) {\n    var _this44 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this44$adapte, _yield$_this44$adapte2;\n\n      if (newRate === _this44.lastRateCheck) return;\n\n      if (!(yield (_yield$_this44$adapte = yield _this44.adapter) === null || _yield$_this44$adapte === void 0 ? void 0 : (_yield$_this44$adapte2 = _yield$_this44$adapte.canSetPlaybackRate) === null || _yield$_this44$adapte2 === void 0 ? void 0 : _yield$_this44$adapte2.call(_yield$_this44$adapte))) {\n        _this44.logger.log('provider cannot change `playbackRate`.');\n\n        _this44.lastRateCheck = prevRate;\n        _this44.playbackRate = prevRate;\n        return;\n      }\n\n      if (!_this44.playbackRates.includes(newRate)) {\n        _this44.logger.log(\"invalid `playbackRate` of \".concat(newRate, \", \") + \"valid values are [\".concat(_this44.playbackRates.join(', '), \"]\"));\n\n        _this44.lastRateCheck = prevRate;\n        _this44.playbackRate = prevRate;\n        return;\n      }\n\n      _this44.lastRateCheck = newRate;\n\n      _this44.safeAdapterCall('playbackRate', 'setPlaybackRate');\n    })();\n  }\n\n  onPlaybackQualityChange(newQuality, prevQuality) {\n    var _this45 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this45$adapte, _yield$_this45$adapte2;\n\n      if (isUndefined(newQuality) || newQuality === _this45.lastQualityCheck) return;\n\n      if (!(yield (_yield$_this45$adapte = yield _this45.adapter) === null || _yield$_this45$adapte === void 0 ? void 0 : (_yield$_this45$adapte2 = _yield$_this45$adapte.canSetPlaybackQuality) === null || _yield$_this45$adapte2 === void 0 ? void 0 : _yield$_this45$adapte2.call(_yield$_this45$adapte))) {\n        _this45.logger.log('provider cannot change `playbackQuality`.');\n\n        _this45.lastQualityCheck = prevQuality;\n        _this45.playbackQuality = prevQuality;\n        return;\n      }\n\n      if (!_this45.playbackQualities.includes(newQuality)) {\n        _this45.logger.log(\"invalid `playbackQuality` of \".concat(newQuality, \", \") + \"valid values are [\".concat(_this45.playbackQualities.join(', '), \"]\"));\n\n        _this45.lastQualityCheck = prevQuality;\n        _this45.playbackQuality = prevQuality;\n        return;\n      }\n\n      _this45.lastQualityCheck = newQuality;\n\n      _this45.safeAdapterCall('playbackQuality', 'setPlaybackQuality');\n    })();\n  }\n\n  onDebugChange() {\n    this.logger.silent = !this.debug;\n  }\n\n  onVolumeChange() {\n    var _this46 = this;\n\n    return _asyncToGenerator(function* () {\n      _this46.volume = Math.max(0, Math.min(_this46.volume, 100));\n\n      _this46.safeAdapterCall('volume', 'setVolume');\n    })();\n  }\n\n  onViewTypeChange() {\n    this.isAudioView = this.viewType === ViewType.Audio;\n    this.isVideoView = this.viewType === ViewType.Video;\n  }\n\n  onMediaTypeChange() {\n    this.isAudio = this.mediaType === MediaType.Audio;\n    this.isVideo = this.mediaType === MediaType.Video;\n  }\n\n  onLanguageChange(_, prevLanguage) {\n    if (!this.languages.includes(this.language)) {\n      this.logger.log(\"invalid `language` of \".concat(this.language, \", \") + \"valid values are [\".concat(this.languages.join(', '), \"]\"));\n      this.language = prevLanguage;\n      return;\n    }\n\n    this.i18n = this.translations[this.language];\n  }\n\n  onTranslationsChange() {\n    Object.assign(this.translations, {\n      en\n    });\n    this.languages = Object.keys(this.translations);\n    this.i18n = this.translations[this.language];\n  }\n\n  onError(event) {\n    this.logger.warn(event.detail);\n  }\n  /**\n   * ------------------------------------------------------\n   * Methods\n   * ------------------------------------------------------\n   */\n\n  /** @inheritDoc */\n\n\n  getProvider() {\n    var _this47 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this47.provider;\n    })();\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this48 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this48.adapter;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  play() {\n    var _this49 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this49$adapte;\n\n      return (_yield$_this49$adapte = yield _this49.adapter) === null || _yield$_this49$adapte === void 0 ? void 0 : _yield$_this49$adapte.play();\n    })();\n  }\n  /** @inheritDoc */\n\n\n  pause() {\n    var _this50 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this50$adapte;\n\n      return (_yield$_this50$adapte = yield _this50.adapter) === null || _yield$_this50$adapte === void 0 ? void 0 : _yield$_this50$adapte.pause();\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canPlay(type) {\n    var _this51 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this51$adapte, _yield$_this51$adapte2;\n\n      return (_yield$_this51$adapte = (_yield$_this51$adapte2 = yield _this51.adapter) === null || _yield$_this51$adapte2 === void 0 ? void 0 : _yield$_this51$adapte2.canPlay(type)) !== null && _yield$_this51$adapte !== void 0 ? _yield$_this51$adapte : false;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canAutoplay() {\n    return _asyncToGenerator(function* () {\n      return canAutoplay();\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canMutedAutoplay() {\n    return _asyncToGenerator(function* () {\n      return canAutoplay(true);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetPlaybackRate() {\n    var _this52 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this52$adapte, _yield$_this52$adapte2, _yield$_this52$adapte3;\n\n      return (_yield$_this52$adapte = (_yield$_this52$adapte2 = yield _this52.adapter) === null || _yield$_this52$adapte2 === void 0 ? void 0 : (_yield$_this52$adapte3 = _yield$_this52$adapte2.canSetPlaybackRate) === null || _yield$_this52$adapte3 === void 0 ? void 0 : _yield$_this52$adapte3.call(_yield$_this52$adapte2)) !== null && _yield$_this52$adapte !== void 0 ? _yield$_this52$adapte : false;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetPlaybackQuality() {\n    var _this53 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this53$adapte, _yield$_this53$adapte2, _yield$_this53$adapte3;\n\n      return (_yield$_this53$adapte = (_yield$_this53$adapte2 = yield _this53.adapter) === null || _yield$_this53$adapte2 === void 0 ? void 0 : (_yield$_this53$adapte3 = _yield$_this53$adapte2.canSetPlaybackQuality) === null || _yield$_this53$adapte3 === void 0 ? void 0 : _yield$_this53$adapte3.call(_yield$_this53$adapte2)) !== null && _yield$_this53$adapte !== void 0 ? _yield$_this53$adapte : false;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetFullscreen() {\n    var _this54 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this54$adapte, _yield$_this54$adapte2, _yield$_this54$adapte3;\n\n      return _this54.fullscreen.isSupported || ((_yield$_this54$adapte = (_yield$_this54$adapte2 = yield _this54.adapter) === null || _yield$_this54$adapte2 === void 0 ? void 0 : (_yield$_this54$adapte3 = _yield$_this54$adapte2.canSetFullscreen) === null || _yield$_this54$adapte3 === void 0 ? void 0 : _yield$_this54$adapte3.call(_yield$_this54$adapte2)) !== null && _yield$_this54$adapte !== void 0 ? _yield$_this54$adapte : false);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  enterFullscreen(options) {\n    var _this55 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this55$adapte, _yield$_this55$adapte2;\n\n      if (!_this55.isVideoView) throw Error('Cannot enter fullscreen on an audio player view.');\n      if (_this55.fullscreen.isSupported) return _this55.fullscreen.enterFullscreen(options);\n\n      if (yield (_yield$_this55$adapte = yield _this55.adapter) === null || _yield$_this55$adapte === void 0 ? void 0 : (_yield$_this55$adapte2 = _yield$_this55$adapte.canSetFullscreen) === null || _yield$_this55$adapte2 === void 0 ? void 0 : _yield$_this55$adapte2.call(_yield$_this55$adapte)) {\n        var _yield$_this55$adapte3, _yield$_this55$adapte4;\n\n        return (_yield$_this55$adapte3 = yield _this55.adapter) === null || _yield$_this55$adapte3 === void 0 ? void 0 : (_yield$_this55$adapte4 = _yield$_this55$adapte3.enterFullscreen) === null || _yield$_this55$adapte4 === void 0 ? void 0 : _yield$_this55$adapte4.call(_yield$_this55$adapte3, options);\n      }\n\n      throw Error('Fullscreen API is not available.');\n    })();\n  }\n  /** @inheritDoc */\n\n\n  exitFullscreen() {\n    var _this56 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this56$adapte, _yield$_this56$adapte2;\n\n      if (_this56.fullscreen.isSupported) return _this56.fullscreen.exitFullscreen();\n      return (_yield$_this56$adapte = yield _this56.adapter) === null || _yield$_this56$adapte === void 0 ? void 0 : (_yield$_this56$adapte2 = _yield$_this56$adapte.exitFullscreen) === null || _yield$_this56$adapte2 === void 0 ? void 0 : _yield$_this56$adapte2.call(_yield$_this56$adapte);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetPiP() {\n    var _this57 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this57$adapte, _yield$_this57$adapte2, _yield$_this57$adapte3;\n\n      return (_yield$_this57$adapte = (_yield$_this57$adapte2 = yield _this57.adapter) === null || _yield$_this57$adapte2 === void 0 ? void 0 : (_yield$_this57$adapte3 = _yield$_this57$adapte2.canSetPiP) === null || _yield$_this57$adapte3 === void 0 ? void 0 : _yield$_this57$adapte3.call(_yield$_this57$adapte2)) !== null && _yield$_this57$adapte !== void 0 ? _yield$_this57$adapte : false;\n    })();\n  }\n  /** @inheritDoc */\n\n\n  enterPiP() {\n    var _this58 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this58$adapte, _yield$_this58$adapte2;\n\n      if (!_this58.isVideoView) throw Error('Cannot enter PiP mode on an audio player view.');\n      if (!(yield _this58.canSetPiP())) throw Error('Picture-in-Picture API is not available.');\n      return (_yield$_this58$adapte = yield _this58.adapter) === null || _yield$_this58$adapte === void 0 ? void 0 : (_yield$_this58$adapte2 = _yield$_this58$adapte.enterPiP) === null || _yield$_this58$adapte2 === void 0 ? void 0 : _yield$_this58$adapte2.call(_yield$_this58$adapte);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  exitPiP() {\n    var _this59 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this59$adapte, _yield$_this59$adapte2;\n\n      return (_yield$_this59$adapte = yield _this59.adapter) === null || _yield$_this59$adapte === void 0 ? void 0 : (_yield$_this59$adapte2 = _yield$_this59$adapte.exitPiP) === null || _yield$_this59$adapte2 === void 0 ? void 0 : _yield$_this59$adapte2.call(_yield$_this59$adapte);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetAudioTrack() {\n    var _this60 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this60$adapte;\n\n      return !isUndefined((_yield$_this60$adapte = yield _this60.adapter) === null || _yield$_this60$adapte === void 0 ? void 0 : _yield$_this60$adapte.setCurrentAudioTrack);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  setCurrentAudioTrack(trackId) {\n    var _this61 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this61$adapte, _yield$_this61$adapte2;\n\n      (_yield$_this61$adapte = yield _this61.adapter) === null || _yield$_this61$adapte === void 0 ? void 0 : (_yield$_this61$adapte2 = _yield$_this61$adapte.setCurrentAudioTrack) === null || _yield$_this61$adapte2 === void 0 ? void 0 : _yield$_this61$adapte2.call(_yield$_this61$adapte, trackId);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetTextTrack() {\n    var _this62 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this62$adapte;\n\n      return !isUndefined((_yield$_this62$adapte = yield _this62.adapter) === null || _yield$_this62$adapte === void 0 ? void 0 : _yield$_this62$adapte.setCurrentTextTrack);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  setCurrentTextTrack(trackId) {\n    var _this63 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this63$adapte, _yield$_this63$adapte2;\n\n      (_yield$_this63$adapte = yield _this63.adapter) === null || _yield$_this63$adapte === void 0 ? void 0 : (_yield$_this63$adapte2 = _yield$_this63$adapte.setCurrentTextTrack) === null || _yield$_this63$adapte2 === void 0 ? void 0 : _yield$_this63$adapte2.call(_yield$_this63$adapte, trackId);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  canSetTextTrackVisibility() {\n    var _this64 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this64$adapte;\n\n      return !isUndefined((_yield$_this64$adapte = yield _this64.adapter) === null || _yield$_this64$adapte === void 0 ? void 0 : _yield$_this64$adapte.setTextTrackVisibility);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  setTextTrackVisibility(isVisible) {\n    var _this65 = this;\n\n    return _asyncToGenerator(function* () {\n      var _yield$_this65$adapte, _yield$_this65$adapte2;\n\n      (_yield$_this65$adapte = yield _this65.adapter) === null || _yield$_this65$adapte === void 0 ? void 0 : (_yield$_this65$adapte2 = _yield$_this65$adapte.setTextTrackVisibility) === null || _yield$_this65$adapte2 === void 0 ? void 0 : _yield$_this65$adapte2.call(_yield$_this65$adapte, isVisible);\n    })();\n  }\n  /** @inheritDoc */\n\n\n  extendLanguage(language, translation) {\n    var _this66 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this66$translations$;\n\n      var translations = _objectSpread(_objectSpread({}, _this66.translations), {}, {\n        [language]: _objectSpread(_objectSpread({}, (_this66$translations$ = _this66.translations[language]) !== null && _this66$translations$ !== void 0 ? _this66$translations$ : {}), translation)\n      });\n\n      _this66.translations = translations;\n    })();\n  }\n\n  connectedCallback() {\n    this.onPausedChange();\n    this.onCurrentTimeChange();\n    this.onVolumeChange();\n    this.onMutedChange();\n    this.onDebugChange();\n    this.onContainerChange();\n    this.onTranslationsChange();\n    this.onLanguageChange(this.language, initialState.language);\n    this.disposal.add(onMobileChange(isMobile => {\n      this.isMobile = isMobile;\n    }));\n    this.disposal.add(onTouchInputChange(isTouch => {\n      this.isTouch = isTouch;\n    }));\n  }\n\n  componentWillLoad() {\n    Universe.create(this, this.getPlayerState());\n  }\n\n  disconnectedCallback() {\n    var _this$fullscreen2;\n\n    (_this$fullscreen2 = this.fullscreen) === null || _this$fullscreen2 === void 0 ? void 0 : _this$fullscreen2.destroy();\n    this.disposal.empty();\n  }\n\n  rotateDevice() {\n    var _this67 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this67.isMobile || !canRotateScreen()) return;\n\n      try {\n        if (_this67.isFullscreenActive) {\n          yield window.screen.orientation.lock('landscape');\n        } else {\n          yield window.screen.orientation.unlock();\n        }\n      } catch (err) {\n        _this67.vmError.emit(err);\n      }\n    })();\n  }\n\n  getPlayerState() {\n    var state = {};\n    var props = Object.keys(initialState);\n\n    for (var i = 0; i < props.length; i += 1) {\n      state[props[i]] = this[props[i]];\n    }\n\n    return state;\n  }\n\n  calcAspectRatio() {\n    var [width, height] = /\\d{1,2}:\\d{1,2}/.test(this.aspectRatio) ? this.aspectRatio.split(':') : [16, 9];\n    return 100 / Number(width) * Number(height);\n  }\n  /**\n   * Returns the inner container.\n   */\n\n\n  getContainer() {\n    var _this68 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this68.container;\n    })();\n  }\n  /** @internal Exposed for E2E testing. */\n\n\n  callAdapter(method, value) {\n    var _this69 = this;\n\n    return _asyncToGenerator(function* () {\n      return (yield _this69.adapter)[method](value);\n    })();\n  }\n\n  hasCustomControls() {\n    return isComponentRegistered(this, 'vm-controls');\n  }\n\n  genId() {\n    var _this$host;\n\n    var id = (_this$host = this.host) === null || _this$host === void 0 ? void 0 : _this$host.id;\n    if (isString(id) && id.length > 0) return id;\n    idCount$1 += 1;\n    return \"vm-player-\".concat(idCount$1);\n  }\n\n  render() {\n    var label = \"\".concat(this.isAudioView ? 'Audio Player' : 'Video Player') + \"\".concat(!isUndefined(this.mediaTitle) ? \" - \".concat(this.mediaTitle) : '');\n    var canShowCustomUI = !IS_IOS || !this.isVideoView || this.playsinline && !this.isFullscreenActive;\n\n    if (!canShowCustomUI) {\n      this.controls = true;\n    }\n\n    var isIdle = canShowCustomUI && this.hasCustomControls() && this.isVideoView && !this.paused && !this.isControlsActive;\n    var isBlockerVisible = !this.controls && canShowCustomUI && this.isVideoView;\n    return (0, _client.h)(_client.Host, {\n      id: this.genId(),\n      idle: isIdle,\n      mobile: this.isMobile,\n      touch: this.isTouch,\n      live: this.isLive,\n      audio: this.isAudioView,\n      video: this.isVideoView,\n      pip: this.isPiPActive,\n      fullscreen: this.isFullscreenActive\n    }, (0, _client.h)(\"div\", {\n      \"aria-label\": label,\n      \"aria-hidden\": !this.ready ? 'true' : 'false',\n      \"aria-busy\": !this.playbackReady ? 'true' : 'false',\n      class: {\n        player: true,\n        idle: isIdle,\n        audio: this.isAudioView,\n        video: this.isVideoView,\n        fullscreen: this.isFullscreenActive\n      },\n      style: {\n        paddingBottom: this.isVideoView ? \"\".concat(this.calcAspectRatio(), \"%\") : undefined\n      },\n      ref: el => {\n        (0, _client.writeTask)(() => {\n          this.container = el;\n        });\n      }\n    }, isBlockerVisible && (0, _client.h)(\"div\", {\n      class: \"blocker\"\n    }), (0, _client.h)(Universe.Provider, {\n      state: this.getPlayerState()\n    }, (0, _client.h)(\"slot\", null))));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"container\": [\"onContainerChange\"],\n      \"paused\": [\"onPausedChange\"],\n      \"duration\": [\"onDurationChange\"],\n      \"currentTime\": [\"onCurrentTimeChange\"],\n      \"playbackReady\": [\"onPlaybackReadyChange\"],\n      \"muted\": [\"onMutedChange\"],\n      \"playbackRate\": [\"onPlaybackRateChange\"],\n      \"playbackQuality\": [\"onPlaybackQualityChange\"],\n      \"debug\": [\"onDebugChange\"],\n      \"volume\": [\"onVolumeChange\"],\n      \"viewType\": [\"onViewTypeChange\"],\n      \"isAudioView\": [\"onViewTypeChange\"],\n      \"isVideoView\": [\"onViewTypeChange\"],\n      \"mediaType\": [\"onMediaTypeChange\"],\n      \"language\": [\"onLanguageChange\"],\n      \"translations\": [\"onTranslationsChange\"]\n    };\n  }\n\n  static get style() {\n    return playerCss;\n  }\n\n};\nvar posterCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-poster-z-index)}.poster{width:100%;height:100%;background:#000;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.poster.hidden{display:none}.poster.active{opacity:1;visibility:visible}img{width:100%;height:100%;pointer-events:none}\";\nvar Poster = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoaded = (0, _client.createEvent)(this, \"vmLoaded\", 3);\n    this.vmWillShow = (0, _client.createEvent)(this, \"vmWillShow\", 3);\n    this.vmWillHide = (0, _client.createEvent)(this, \"vmWillHide\", 3);\n    this.isHidden = true;\n    this.isActive = false;\n    this.hasLoaded = false;\n    /**\n     * How the poster image should be resized to fit the container (sets the `object-fit` property).\n     */\n\n    this.fit = 'cover';\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playbackStarted = false;\n    /** @internal */\n\n    this.currentTime = 0;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['mediaTitle', 'currentPoster', 'playbackStarted', 'currentTime', 'isVideoView']);\n  }\n\n  onCurrentPosterChange() {\n    var _this$lazyLoader2;\n\n    this.hasLoaded = false;\n    (_this$lazyLoader2 = this.lazyLoader) === null || _this$lazyLoader2 === void 0 ? void 0 : _this$lazyLoader2.onMutation();\n  }\n\n  connectedCallback() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src', 'src'], el => {\n      var src = el.getAttribute('data-src');\n      el.removeAttribute('src');\n\n      if (!isNull(src)) {\n        el.setAttribute('src', src);\n      }\n    });\n    this.onEnabledChange();\n    this.onActiveChange();\n  }\n\n  disconnectedCallback() {\n    this.lazyLoader.destroy();\n  }\n\n  onVisibilityChange() {\n    !this.isHidden && this.isActive ? this.vmWillShow.emit() : this.vmWillHide.emit();\n  }\n\n  onEnabledChange() {\n    this.isHidden = !this.isVideoView;\n    this.onVisibilityChange();\n  }\n\n  onActiveChange() {\n    this.isActive = !this.playbackStarted || this.currentTime <= 0.1;\n    this.onVisibilityChange();\n  }\n\n  onPosterLoad() {\n    this.vmLoaded.emit();\n    this.hasLoaded = true;\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        poster: true,\n        hidden: this.isHidden,\n        active: this.isActive && this.hasLoaded\n      }\n    }, (0, _client.h)(\"img\", {\n      class: \"lazy\",\n      \"data-src\": this.currentPoster,\n      alt: !isUndefined(this.mediaTitle) ? \"\".concat(this.mediaTitle, \" Poster\") : 'Media Poster',\n      style: {\n        objectFit: this.fit\n      },\n      onLoad: this.onPosterLoad.bind(this)\n    }));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"currentPoster\": [\"onCurrentPosterChange\"],\n      \"isVideoView\": [\"onEnabledChange\"],\n      \"currentTime\": [\"onActiveChange\"],\n      \"playbackStarted\": [\"onActiveChange\"]\n    };\n  }\n\n  static get style() {\n    return posterCss;\n  }\n\n};\nvar scrimCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-scrim-z-index)}.scrim{position:absolute;width:100%;background:var(--vm-scrim-bg);display:inline-block;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.scrim.gradient{height:258px;background:none;background-position:bottom;background-image:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAECCAYAAAA/9r2TAAABKklEQVQ4T2XI50cFABiF8dvee++67b33uM17b1MkkSSSSBJJJIkkkkQSSSKJ9Efmeb8cr86HH88JBP4thkfEkiKOFPGkSCCNRE8SKZJJkUIaqZ40UqSTIoMUmaSR5ckmRQ4pckkjz5NPigJSFJKiiDSKPSWkKCVFGWmUeypIUUmKKlJUk0aNJ0iKWlLUkUa9p4EUjaRoIkUzabR4WknRRop20ujwdJKiixTdpOghjV5PHyn6STFAGoOeIVIMk2KEFKOkMeYZJ8UEKUKkMemZIsU0KWZIMUsac54wKSKkiJLGvGeBFIukWCLFMrkCq7AG67ABm7AF27ADu7AH+3AAh3AEx3ACp3AG53ABl3AF13ADt3AH9/AAj/AEz/ACr/AG7/ABn/AF3/ADv39LujSyJPVJ0QAAAABJRU5ErkJggg==\\\")}.scrim.gradientUp{top:unset;bottom:0}.scrim.gradientDown{transform:rotate(180deg)}.scrim.hidden{display:none}.scrim.active{opacity:1;visibility:visible}\";\nvar Scrim = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.isControlsActive = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isVideoView', 'isControlsActive']);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        scrim: true,\n        gradient: !isUndefined(this.gradient),\n        gradientUp: this.gradient === 'up',\n        gradientDown: this.gradient === 'down',\n        hidden: !this.isVideoView,\n        active: this.isControlsActive\n      }\n    });\n  }\n\n  static get style() {\n    return scrimCss;\n  }\n\n};\n\nvar getHours = value => Math.trunc(value / 60 / 60 % 60);\n\nvar getMinutes = value => Math.trunc(value / 60 % 60);\n\nvar getSeconds = value => Math.trunc(value % 60);\n\nvar formatTime = function formatTime() {\n  var seconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var alwaysShowHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  // Format time component to add leading zero.\n  var format = value => \"0\".concat(value).slice(-2);\n\n  var hours = getHours(seconds);\n  var mins = getMinutes(seconds);\n  var secs = getSeconds(seconds);\n  return \"\".concat(alwaysShowHours || hours > 0 ? \"\".concat(hours, \":\") : '').concat(format(mins), \":\").concat(format(secs));\n};\n\nvar scrubberControlCss = \":host{--vm-tooltip-spacing:var(--vm-scrubber-tooltip-spacing);flex:1;position:relative;cursor:pointer;pointer-events:auto;box-sizing:border-box;left:calc(var(--vm-slider-thumb-width) / 2);margin-right:var(--vm-slider-thumb-width);margin-bottom:var(--vm-slider-track-height)}@keyframes progress{to{background-position:var(--vm-scrubber-loading-stripe-size) 0}}.scrubber{position:relative;width:100%}vm-slider,progress{margin-left:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);margin-right:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);width:calc(100% + var(--vm-slider-thumb-width));height:var(--vm-slider-track-height)}vm-slider:hover,progress:hover{cursor:pointer}vm-slider{position:absolute;top:0;left:0;z-index:3}progress{-webkit-appearance:none;background:transparent;border:0;border-radius:100px;position:absolute;left:0;top:50%;padding:0;color:var(--vm-scrubber-buffered-bg);height:var(--vm-slider-track-height)}progress::-webkit-progress-bar{background:transparent}progress::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-ms-fill{border-radius:100px;transition:width 0.2s ease}progress.loading{animation:progress 1s linear infinite;background-image:linear-gradient(-45deg,\\n  var(--vm-scrubber-loading-stripe-color) 25%,\\n  transparent 25%,\\n  transparent 50%,\\n  var(--vm-scrubber-loading-stripe-color) 50%,\\n  var(--vm-scrubber-loading-stripe-color) 75%,\\n  transparent 75%,\\n  transparent);background-repeat:repeat-x;background-size:var(--vm-scrubber-loading-stripe-size) var(--vm-scrubber-loading-stripe-size);color:transparent;background-color:transparent}\";\nvar ScrubberControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.keyboardDisposal = new Disposal();\n    this.timestamp = '';\n    this.endTime = 0;\n    /**\n     * Whether the timestamp in the tooltip should show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n\n    this.hideTooltip = false;\n    /** @internal */\n\n    this.currentTime = 0;\n    /** @internal */\n\n    this.duration = -1;\n    /**\n     * Prevents seeking forward/backward by using the Left/Right arrow keys.\n     */\n\n    this.noKeyboard = false;\n    /** @internal */\n\n    this.buffering = false;\n    /** @internal */\n\n    this.buffered = 0;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n', 'currentTime', 'duration', 'buffering', 'buffered']);\n  }\n\n  onNoKeyboardChange() {\n    var _this70 = this;\n\n    return _asyncToGenerator(function* () {\n      _this70.keyboardDisposal.empty();\n\n      if (_this70.noKeyboard) return;\n      var player = yield findPlayer(_this70);\n\n      var onKeyDown = event => {\n        if (event.key !== 'ArrowLeft' && event.key !== 'ArrowRight') return;\n        event.preventDefault();\n        var isLeftArrow = event.key === 'ArrowLeft';\n        var seekTo = isLeftArrow ? Math.max(0, _this70.currentTime - 5) : Math.min(_this70.duration, _this70.currentTime + 5);\n\n        _this70.dispatch('currentTime', seekTo);\n      };\n\n      _this70.keyboardDisposal.add(listen(player, 'keydown', onKeyDown));\n    })();\n  }\n\n  onDurationChange() {\n    // Avoid -1.\n    this.endTime = Math.max(0, this.duration);\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.timestamp = formatTime(this.currentTime, this.alwaysShowHours);\n    this.onNoKeyboardChange();\n  }\n\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n\n  setTooltipPosition(value) {\n    var tooltipRect = this.tooltip.shadowRoot.querySelector('.tooltip').getBoundingClientRect();\n    var bounds = this.slider.getBoundingClientRect();\n    var thumbWidth = parseFloat(window.getComputedStyle(this.slider).getPropertyValue('--vm-slider-thumb-width'));\n    var leftLimit = tooltipRect.width / 2 - thumbWidth / 2;\n    var rightLimit = bounds.width - tooltipRect.width / 2 - thumbWidth / 2;\n    var xPos = Math.max(leftLimit, Math.min(value, rightLimit));\n    this.tooltip.style = \"--vm-tooltip-left: \".concat(xPos, \"px\");\n  }\n\n  onSeek(event) {\n    this.dispatch('currentTime', event.detail);\n  }\n\n  onSeeking(event) {\n    if (this.duration < 0 || this.tooltip.hidden) return;\n\n    if (event.type === 'mouseleave') {\n      this.getSliderInput().blur();\n      this.tooltip.active = false;\n      return;\n    }\n\n    var rect = this.host.getBoundingClientRect();\n    var percent = Math.max(0, Math.min(100, 100 / rect.width * (event.pageX - rect.left)));\n    this.timestamp = formatTime(this.duration / 100 * percent, this.alwaysShowHours);\n    this.setTooltipPosition(percent / 100 * rect.width);\n\n    if (!this.tooltip.active) {\n      this.getSliderInput().focus();\n      this.tooltip.active = true;\n    }\n  }\n\n  getSliderInput() {\n    return this.slider.shadowRoot.querySelector('input');\n  }\n\n  render() {\n    var sliderValueText = this.i18n.scrubberLabel.replace(/{currentTime}/, formatTime(this.currentTime)).replace(/{duration}/, formatTime(this.endTime));\n    return (0, _client.h)(\"div\", {\n      class: \"scrubber\",\n      onMouseEnter: this.onSeeking.bind(this),\n      onMouseLeave: this.onSeeking.bind(this),\n      onMouseMove: this.onSeeking.bind(this),\n      onTouchMove: () => {\n        this.getSliderInput().focus();\n      },\n      onTouchEnd: () => {\n        this.getSliderInput().blur();\n      }\n    }, (0, _client.h)(\"vm-slider\", {\n      step: 0.01,\n      max: this.endTime,\n      value: this.currentTime,\n      label: this.i18n.scrubber,\n      valueText: sliderValueText,\n      onVmValueChange: this.onSeek.bind(this),\n      ref: el => {\n        this.slider = el;\n      }\n    }), (0, _client.h)(\"progress\", {\n      class: {\n        loading: this.buffering\n      },\n      // @ts-ignore\n      min: 0,\n      max: this.endTime,\n      value: this.buffered,\n      \"aria-label\": this.i18n.buffered,\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": this.endTime,\n      \"aria-valuenow\": this.buffered,\n      \"aria-valuetext\": \"\".concat((this.endTime > 0 ? this.buffered / this.endTime : 0).toFixed(0), \"%\")\n    }, \"% buffered\"), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.hideTooltip,\n      ref: el => {\n        this.tooltip = el;\n      }\n    }, this.timestamp));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"noKeyboard\": [\"onNoKeyboardChange\"],\n      \"duration\": [\"onDurationChange\"]\n    };\n  }\n\n  static get style() {\n    return scrubberControlCss;\n  }\n\n};\nvar settingsCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-menu-z-index)}.settings{position:absolute;opacity:0;pointer-events:auto;overflow-x:hidden;overflow-y:auto;background-color:var(--vm-menu-bg);max-height:var(--vm-settings-max-height);border-radius:var(--vm-settings-border-radius);padding:var(--vm-settings-padding);box-shadow:var(--vm-settings-shadow);box-sizing:border-box;scrollbar-width:thin;scroll-behavior:smooth;scrollbar-color:var(--vm-settings-scroll-thumb-color) var(--vm-settings-scroll-track-color);transform:translateY(8px);transition:var(--vm-settings-transition)}.container{display:block;width:var(--vm-settings-width);height:100%;position:relative;transition:width 0.25s ease-in, height 0.25s ease-in}.settings.hydrated{visibility:hidden !important}.settings::-webkit-scrollbar{width:var(--vm-settings-scroll-width)}.settings::-webkit-scrollbar-track{background:var(--vm-settings-scroll-track-color)}.settings::-webkit-scrollbar-thumb{border-radius:var(--vm-settings-scroll-width);background-color:var(--vm-settings-scroll-thumb-color);border:2px solid var(--vm-menu-bg)}.settings.active{transform:translateY(0);opacity:1;visibility:visible !important}.settings.mobile{position:fixed;top:auto !important;left:0 !important;right:0 !important;bottom:0 !important;width:100%;min-height:56px;max-height:50%;border-radius:0;z-index:2147483647;transform:translateY(100%)}.settings.mobile.active{transform:translateY(0)}.settings.mobile>vm-menu{height:100% !important;overflow:auto !important}\";\nvar idCount$2 = 0;\nvar Settings = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.disposal = new Disposal();\n    this.menuHeight = 0;\n    /**\n     * Pins the settings to the defined position inside the video player. This has no effect when\n     * the view is of type `audio` (always `bottomRight`) and on mobile devices (always bottom sheet).\n     */\n\n    this.pin = 'bottomRight';\n    /**\n     * Whether the settings menu is opened/closed.\n     */\n\n    this.active = false;\n    /** @internal */\n\n    this.isMobile = false;\n    /** @internal */\n\n    this.isAudioView = false;\n    withComponentRegistry(this);\n    withControlsCollisionDetection(this);\n    withPlayerContext(this, ['isMobile', 'isAudioView']);\n  }\n\n  onActiveChange() {\n    this.dispatch('isSettingsActive', this.active);\n    if (isUndefined(this.controller)) return;\n    this.controller.expanded = this.active;\n  }\n\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    idCount$2 += 1;\n    this.id = \"vm-settings-\".concat(idCount$2);\n  }\n\n  disconnectedCallback() {\n    this.disposal.empty();\n  }\n  /**\n   * Sets the controller responsible for opening/closing this settings menu.\n   */\n\n\n  setController(controller) {\n    var _this71 = this;\n\n    return _asyncToGenerator(function* () {\n      _this71.controller = controller;\n      _this71.controller.menu = _this71.id;\n\n      _this71.disposal.empty();\n\n      _this71.disposal.add(listen(_this71.controller, 'click', () => {\n        _this71.active = !_this71.active;\n      }));\n\n      _this71.disposal.add(listen(_this71.controller, 'keydown', event => {\n        if (event.key !== 'Enter') return; // We're looking for !active because the `click` event above will toggle it to active.\n\n        if (!_this71.active) _this71.menu.focusMenu();\n      }));\n    })();\n  }\n\n  getPosition() {\n    if (this.isAudioView) {\n      return {\n        right: '0',\n        bottom: 'calc(var(--vm-controls-height, 0) + 4px)'\n      };\n    } // topLeft => { top: 0, left: 0 }\n\n\n    var pos = this.pin.split(/(?=[L|R])/).map(s => s.toLowerCase());\n    return {\n      [pos.includes('top') ? 'top' : 'bottom']: 'var(--vm-controls-height, 0)',\n      [pos.includes('left') ? 'left' : 'right']: '8px'\n    };\n  }\n\n  onOpen(event) {\n    var _event$detail;\n\n    if (((_event$detail = event.detail) === null || _event$detail === void 0 ? void 0 : _event$detail.identifier) !== this.id) return;\n    this.active = true;\n  }\n\n  onClose(event) {\n    var _event$detail2;\n\n    if (((_event$detail2 = event.detail) === null || _event$detail2 === void 0 ? void 0 : _event$detail2.identifier) !== this.id) return;\n    this.active = false;\n  }\n\n  onHeightChange(event) {\n    this.menuHeight = event.detail;\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      style: _objectSpread({}, this.getPosition()),\n      class: {\n        settings: true,\n        active: this.active,\n        mobile: this.isMobile\n      }\n    }, (0, _client.h)(\"div\", {\n      class: \"container\",\n      style: {\n        height: \"\".concat(this.menuHeight, \"px\")\n      }\n    }, (0, _client.h)(\"vm-menu\", {\n      identifier: this.id,\n      active: this.active,\n      controller: this.controller,\n      onVmOpen: this.onOpen.bind(this),\n      onVmClose: this.onClose.bind(this),\n      onVmMenuHeightChange: this.onHeightChange.bind(this),\n      ref: el => {\n        this.menu = el;\n      }\n    }, (0, _client.h)(\"slot\", null))));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"active\": [\"onActiveChange\"]\n    };\n  }\n\n  static get style() {\n    return settingsCss;\n  }\n\n};\nvar settingsControlCss = \".settingsControl.hidden{display:none}.settingsControl{--vm-icon-transition:transform 0.3s ease}.settingsControl.active{--vm-icon-transform:rotate(90deg)}\";\nvar idCount$3 = 0;\nvar SettingsControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The name of the settings icon to resolve from the icon library.\n     */\n\n    this.icon = 'settings';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the settings menu this control manages is open.\n     */\n\n    this.expanded = false;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n']);\n  }\n\n  onComponentsChange() {\n    if (!isUndefined(this.vmSettings)) {\n      this.vmSettings.setController(this.host);\n    }\n  }\n\n  connectedCallback() {\n    idCount$3 += 1;\n    this.id = \"vm-settings-control-\".concat(idCount$3);\n    watchComponentRegistry(this, 'vm-settings', regs => {\n      [this.vmSettings] = regs;\n    });\n  }\n  /**\n   * Focuses the control.\n   */\n\n\n  focusControl() {\n    var _this72 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this72$control;\n\n      (_this72$control = _this72.control) === null || _this72$control === void 0 ? void 0 : _this72$control.focusControl();\n    })();\n  }\n  /**\n   * Removes focus from the control.\n   */\n\n\n  blurControl() {\n    var _this73 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this73$control;\n\n      (_this73$control = _this73.control) === null || _this73$control === void 0 ? void 0 : _this73$control.blurControl();\n    })();\n  }\n\n  render() {\n    var hasSettings = !isUndefined(this.menu);\n    return (0, _client.h)(\"div\", {\n      class: {\n        settingsControl: true,\n        hidden: !hasSettings,\n        active: hasSettings && this.expanded\n      }\n    }, (0, _client.h)(\"vm-control\", {\n      identifier: this.id,\n      menu: this.menu,\n      hidden: !hasSettings,\n      expanded: this.expanded,\n      label: this.i18n.settings,\n      ref: control => {\n        this.control = control;\n      }\n    }, (0, _client.h)(\"vm-icon\", {\n      name: this.icon,\n      library: this.icons\n    }), (0, _client.h)(\"vm-tooltip\", {\n      hidden: this.expanded,\n      position: this.tooltipPosition,\n      direction: this.tooltipDirection\n    }, this.i18n.settings)));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"vmSettings\": [\"onComponentsChange\"]\n    };\n  }\n\n  static get style() {\n    return settingsControlCss;\n  }\n\n};\nvar skeletonCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-skeleton-z-index)}@keyframes sheen{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton{width:100%;height:100%;display:flex;min-height:1rem;pointer-events:auto}.sheen.hidden{opacity:0;visibility:hidden;transition:var(--vm-fade-transition);pointer-events:none}.indicator{flex:1 1 auto;background:var(--vm-skeleton-color)}.skeleton.sheen .indicator{background:linear-gradient(\\n    270deg, \\n    var(--vm-skeleton-sheen-color), \\n    var(--vm-skeleton-color), \\n    var(--vm-skeleton-color), \\n    var(--vm-skeleton-sheen-color)\\n  );background-size:400% 100%;background-size:400% 100%;animation:sheen 8s ease-in-out infinite}\";\nvar Skeleton = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.hidden = false;\n    /**\n     * Determines which animation effect the skeleton will use.\n     * */\n\n    this.effect = 'sheen';\n    /** @internal */\n\n    this.ready = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['ready']);\n  }\n\n  onReadyChange() {\n    if (!this.ready) {\n      this.hidden = false;\n    } else {\n      setTimeout(() => {\n        this.hidden = true;\n      }, 500);\n    }\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        skeleton: true,\n        hidden: this.hidden,\n        sheen: this.effect === 'sheen'\n      }\n    }, (0, _client.h)(\"div\", {\n      class: \"indicator\"\n    }));\n  }\n\n  static get watchers() {\n    return {\n      \"ready\": [\"onReadyChange\"]\n    };\n  }\n\n  static get style() {\n    return skeletonCss;\n  }\n\n};\nvar sliderCss = \":host{width:100%}.slider{width:100%}input{width:100%;-webkit-appearance:none;background:transparent;border:0;outline:0;cursor:pointer;box-sizing:border-box;border-radius:calc(var(--vm-slider-thumb-height) * 2);user-select:none;-webkit-user-select:none;touch-action:manipulation;color:var(--vm-slider-value-color);display:block;height:var(--vm-slider-track-height);margin:0;padding:0;transition:box-shadow 0.3s ease}input::-webkit-slider-runnable-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-image:linear-gradient(to right, currentColor var(--vm-value, 0%), transparent var(--vm-value, 0%));background-color:var(--vm-slider-track-color)}input::-webkit-slider-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);-webkit-appearance:none;margin-top:calc(0px - calc(calc(var(--vm-slider-thumb-height) - var(--vm-slider-track-height)) / 2))}input::-moz-range-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-color:var(--vm-slider-track-color)}input::-moz-range-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow)}input::-moz-range-progress{background:currentColor;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height)}input::-ms-track{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;color:transparent;background-color:var(--vm-slider-track-color)}input::-ms-fill-upper{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none}input::-ms-fill-lower{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background:currentColor}input::-ms-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);margin-top:0}input::-ms-tooltip{display:none}input:hover::-webkit-slider-runnable-track{height:var(--vm-slider-track-focused-height)}input:hover::-moz-range-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-upper{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-lower{height:var(--vm-slider-track-focused-height)}input:hover::-webkit-slider-thumb{opacity:1}input:hover::-moz-range-thumb{opacity:1}input:hover::-ms-thumb{opacity:1}input:focus{outline:0}input:focus::-webkit-slider-runnable-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-moz-range-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-ms-track{outline:0;height:var(--vm-slider-track-focused-height)}input::-moz-focus-outer{border:0}\";\nvar Slider = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmValueChange = (0, _client.createEvent)(this, \"vmValueChange\", 7);\n    this.vmFocus = (0, _client.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0, _client.createEvent)(this, \"vmBlur\", 7);\n    /**\n     * A number that specifies the granularity that the value must adhere to.\n     */\n\n    this.step = 1;\n    /**\n     * The lowest value in the range of permitted values.\n     */\n\n    this.min = 0;\n    /**\n     * The greatest permitted value.\n     */\n\n    this.max = 10;\n    /**\n     * The current value.\n     */\n\n    this.value = 5;\n    withComponentRegistry(this);\n  }\n\n  getPercentage() {\n    return \"\".concat(this.value / this.max * 100, \"%\");\n  }\n\n  onValueChange(event) {\n    var _event$target;\n\n    var value = parseFloat((_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.value);\n    this.vmValueChange.emit(value);\n  }\n\n  calcTouchedValue(event) {\n    var input = event.target;\n    var touch = event.changedTouches[0];\n    var min = parseFloat(input.getAttribute('min'));\n    var max = parseFloat(input.getAttribute('max'));\n    var step = parseFloat(input.getAttribute('step'));\n    var delta = max - min; // Calculate percentage.\n\n    var percent;\n    var clientRect = input.getBoundingClientRect();\n    var sliderThumbWidth = parseFloat(window.getComputedStyle(this.host).getPropertyValue('--vm-slider-thumb-width'));\n    var thumbWidth = 100 / clientRect.width * (sliderThumbWidth / 2) / 100;\n    percent = 100 / clientRect.width * (touch.clientX - clientRect.left); // Don't allow outside bounds.\n\n    percent = Math.max(0, Math.min(percent, 100)); // Factor in the thumb offset.\n\n    if (percent < 50) {\n      percent -= (100 - percent * 2) * thumbWidth;\n    } else if (percent > 50) {\n      percent += (percent - 50) * 2 * thumbWidth;\n    }\n\n    var position = delta * (percent / 100);\n\n    if (step >= 1) {\n      return min + Math.round(position / step) * step;\n    }\n    /**\n     * This part differs from original implementation to save space. Only supports 2 decimal\n     * places (0.01) as the step.\n     */\n\n\n    return min + parseFloat(position.toFixed(2));\n  }\n  /**\n   * Basically input[range=\"type\"] on touch devices sucks (particularly iOS), so this helps make it\n   * better.\n   *\n   * @see https://github.com/sampotts/rangetouch\n   */\n\n\n  onTouch(event) {\n    var input = event.target;\n    if (input.disabled) return;\n    event.preventDefault();\n    this.value = this.calcTouchedValue(event);\n    this.vmValueChange.emit(this.value);\n    input.dispatchEvent(new window.Event(event.type === 'touchend' ? 'change' : 'input', {\n      bubbles: true\n    }));\n  }\n\n  render() {\n    var _this$valueText;\n\n    return (0, _client.h)(\"div\", {\n      class: \"slider\",\n      style: {\n        '--vm-value': this.getPercentage()\n      }\n    }, (0, _client.h)(\"input\", {\n      type: \"range\",\n      step: this.step,\n      min: this.min,\n      max: this.max,\n      value: this.value,\n      autocomplete: \"off\",\n      \"aria-label\": this.label,\n      \"aria-valuemin\": this.min,\n      \"aria-valuemax\": this.max,\n      \"aria-valuenow\": this.value,\n      \"aria-valuetext\": (_this$valueText = this.valueText) !== null && _this$valueText !== void 0 ? _this$valueText : this.getPercentage(),\n      \"aria-orientation\": \"horizontal\",\n      onInput: this.onValueChange.bind(this),\n      onFocus: () => {\n        this.vmFocus.emit();\n      },\n      onBlur: () => {\n        this.vmBlur.emit();\n      },\n      onTouchStart: this.onTouch.bind(this),\n      onTouchMove: this.onTouch.bind(this),\n      onTouchEnd: this.onTouch.bind(this)\n    }));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get style() {\n    return sliderCss;\n  }\n\n};\nvar spinnerCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-spinner-z-index)}.spinner{width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.spinner.hidden{display:none}.spinner.active{opacity:1;visibility:visible}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.spin{background:transparent;margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;pointer-events:none;border-top:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-left:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-right:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);border-bottom:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);transform:translateZ(0)}.spin.active{animation:spin var(--vm-spinner-spin-duration) infinite var(--vm-spinner-spin-timing-func)}.spin,.spin::after{border-radius:50%;width:var(--vm-spinner-width);height:var(--vm-spinner-height)}\";\nvar Spinner = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmWillShow = (0, _client.createEvent)(this, \"vmWillShow\", 3);\n    this.vmWillHide = (0, _client.createEvent)(this, \"vmWillHide\", 3);\n    this.blacklist = [Provider.YouTube];\n    this.isHidden = true;\n    this.isActive = false;\n    /** @internal */\n\n    this.isVideoView = false;\n    /**\n     * Whether the spinner should be active when the player is booting or media is loading.\n     */\n\n    this.showWhenMediaLoading = false;\n    /** @internal */\n\n    this.playbackReady = false;\n    /** @internal */\n\n    this.buffering = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isVideoView', 'buffering', 'playbackReady', 'currentProvider']);\n  }\n\n  onVideoViewChange() {\n    this.isHidden = !this.isVideoView;\n    this.onVisiblityChange();\n  }\n\n  onActiveChange() {\n    this.isActive = this.buffering || this.showWhenMediaLoading && !this.playbackReady;\n    this.onVisiblityChange();\n  }\n\n  onVisiblityChange() {\n    !this.isHidden && this.isActive ? this.vmWillShow.emit() : this.vmWillHide.emit();\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: {\n        spinner: true,\n        hidden: this.isHidden || this.blacklist.includes(this.currentProvider),\n        active: this.isActive\n      }\n    }, (0, _client.h)(\"div\", {\n      class: {\n        spin: true,\n        active: this.isActive\n      }\n    }, \"Loading...\"));\n  }\n\n  static get watchers() {\n    return {\n      \"isVideoView\": [\"onVideoViewChange\"],\n      \"buffering\": [\"onActiveChange\"],\n      \"playbackReady\": [\"onActiveChange\"]\n    };\n  }\n\n  static get style() {\n    return spinnerCss;\n  }\n\n};\nvar idCount$4 = 0;\nvar Submenu = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmOpenSubmenu = (0, _client.createEvent)(this, \"vmOpenSubmenu\", 7);\n    this.vmCloseSubmenu = (0, _client.createEvent)(this, \"vmCloseSubmenu\", 7);\n    /**\n     * The direction the submenu should slide in from.\n     */\n\n    this.slideInDirection = 'right';\n    /**\n     * Whether the submenu is open/closed.\n     */\n\n    this.active = false;\n    withComponentRegistry(this);\n  }\n\n  connectedCallback() {\n    this.genId();\n  }\n  /**\n   * Returns the controller (`vm-menu-item`) for this submenu.\n   */\n\n\n  getController() {\n    var _this74 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this74.controller;\n    })();\n  }\n  /**\n   * Returns the menu (`vm-menu`) for this submenu.\n   */\n\n\n  getMenu() {\n    var _this75 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this75.menu;\n    })();\n  }\n  /**\n   * Returns the height of the submenu controller.\n   */\n\n\n  getControllerHeight() {\n    var _this76 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this76$controller$ge, _this76$controller;\n\n      return (_this76$controller$ge = (_this76$controller = _this76.controller) === null || _this76$controller === void 0 ? void 0 : _this76$controller.getHeight()) !== null && _this76$controller$ge !== void 0 ? _this76$controller$ge : 0;\n    })();\n  }\n\n  getControllerHeightSync() {\n    var _this$controller9;\n\n    var el = (_this$controller9 = this.controller) === null || _this$controller9 === void 0 ? void 0 : _this$controller9.shadowRoot.querySelector(\"[role='menuitem']\");\n    return el ? parseFloat(window.getComputedStyle(el).height) : 0;\n  }\n\n  onMenuOpen() {\n    this.active = true;\n    this.vmOpenSubmenu.emit(this.host);\n  }\n\n  onMenuClose() {\n    this.active = false;\n    this.vmCloseSubmenu.emit(this.host);\n  }\n\n  genId() {\n    idCount$4 += 1;\n    this.id = \"vm-submenu-\".concat(idCount$4);\n  }\n\n  getControllerId() {\n    return \"\".concat(this.id, \"-controller\");\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", null, (0, _client.h)(\"vm-menu-item\", {\n      identifier: this.getControllerId(),\n      menu: this.menu,\n      label: this.label,\n      hint: this.hint,\n      expanded: this.active,\n      ref: el => {\n        (0, _client.writeTask)(() => {\n          this.controller = el;\n        });\n      }\n    }), (0, _client.h)(\"vm-menu\", {\n      identifier: this.id,\n      controller: this.controller,\n      active: this.active,\n      slideInDirection: this.slideInDirection,\n      onVmOpen: this.onMenuOpen.bind(this),\n      onVmClose: this.onMenuClose.bind(this),\n      ref: el => {\n        (0, _client.writeTask)(() => {\n          this.menu = el;\n        });\n      },\n      style: {\n        top: \"\".concat(this.getControllerHeightSync() + 1, \"px\")\n      }\n    }, (0, _client.h)(\"slot\", null)));\n  }\n\n  get host() {\n    return this;\n  }\n\n};\nvar timeCss = \".time{display:flex;align-items:center;color:var(--vm-time-color);font-size:var(--vm-time-font-size);font-weight:var(--vm-time-font-weight)}\";\nvar Time = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The length of time in seconds.\n     */\n\n    this.seconds = 0;\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: \"time\",\n      \"aria-label\": this.label\n    }, formatTime(Math.max(0, this.seconds), this.alwaysShowHours));\n  }\n\n  static get style() {\n    return timeCss;\n  }\n\n};\nvar timeProgressCss = \".timeProgress{display:flex;width:100%;height:100%;align-items:center;color:var(--vm-time-color)}.separator{margin:0 4px}\";\nvar TimeProgress = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /**\n     * The string used to separate the current time and end time.\n     */\n\n    this.separator = '/';\n    /**\n     * Whether the times should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: \"timeProgress\"\n    }, (0, _client.h)(\"vm-current-time\", {\n      alwaysShowHours: this.alwaysShowHours\n    }), (0, _client.h)(\"span\", {\n      class: \"separator\"\n    }, this.separator), (0, _client.h)(\"vm-end-time\", {\n      alwaysShowHours: this.alwaysShowHours\n    }));\n  }\n\n  static get style() {\n    return timeProgressCss;\n  }\n\n};\nvar tooltipCss = \":host{display:contents;z-index:var(--vm-tooltip-z-index)}.tooltip{left:var(--vm-tooltip-left, 50%);transform:translateX(-50%);line-height:1.3;pointer-events:none;position:absolute;opacity:0;white-space:nowrap;visibility:hidden;background:var(--vm-tooltip-bg);border-radius:var(--vm-tooltip-border-radius);box-sizing:border-box;box-shadow:var(--vm-tooltip-box-shadow);color:var(--vm-tooltip-color);font-size:var(--vm-tooltip-font-size);padding:var(--vm-tooltip-padding);transition:opacity var(--vm-tooltip-fade-duration) var(--vm-tooltip-fade-timing-func)}.tooltip[aria-hidden='false']{opacity:1;visibility:visible}.tooltip.hidden{display:none}.tooltip.onTop{bottom:100%;margin-bottom:var(--vm-tooltip-spacing)}.tooltip.onBottom{top:100%;margin-top:var(--vm-tooltip-spacing)}.tooltip.growLeft{left:auto;right:0;transform:none}.tooltip.growRight{left:0;transform:none}\";\nvar tooltipIdCount = 0;\nvar Tooltip = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this); // Avoid tooltips flashing when player initializing.\n\n    this.hasLoaded = false;\n    /**\n     * Whether the tooltip is displayed or not.\n     */\n\n    this.hidden = false;\n    /**\n     * Whether the tooltip is visible or not.\n     */\n\n    this.active = false;\n    /**\n     * Determines if the tooltip appears on top/bottom of it's parent.\n     */\n\n    this.position = 'top';\n    /** @internal */\n\n    this.isTouch = false;\n    /** @internal */\n\n    this.isMobile = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch', 'isMobile']);\n  }\n\n  componentDidLoad() {\n    this.hasLoaded = true;\n  }\n\n  getId() {\n    // eslint-disable-next-line prefer-destructuring\n    var id = this.host.id;\n    if (isString(id) && id.length > 0) return id;\n    tooltipIdCount += 1;\n    return \"vm-tooltip-\".concat(tooltipIdCount);\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      id: this.getId(),\n      role: \"tooltip\",\n      \"aria-hidden\": !this.active || this.isTouch || this.isMobile ? 'true' : 'false',\n      class: {\n        tooltip: true,\n        hidden: !this.hasLoaded || this.hidden,\n        onTop: this.position === 'top',\n        onBottom: this.position === 'bottom',\n        growLeft: this.direction === 'left',\n        growRight: this.direction === 'right'\n      }\n    }, (0, _client.h)(\"slot\", null));\n  }\n\n  get host() {\n    return this;\n  }\n\n  static get style() {\n    return tooltipCss;\n  }\n\n};\nvar uiCss = \":host{z-index:var(--vm-ui-z-index)}.ui{width:100%;pointer-events:none}.ui.hidden{display:none}.ui.video{position:absolute;top:0;left:0;height:100%}\";\nvar UI = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    /** @internal */\n\n    this.isVideoView = false;\n    /** @internal */\n\n    this.playsinline = false;\n    /** @internal */\n\n    this.isFullscreenActive = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isVideoView', 'playsinline', 'isFullscreenActive']);\n  }\n\n  render() {\n    var canShowCustomUI = !IS_IOS || !this.isVideoView || this.playsinline && !this.isFullscreenActive;\n    return (0, _client.h)(\"div\", {\n      class: {\n        ui: true,\n        hidden: !canShowCustomUI,\n        video: this.isVideoView\n      }\n    }, canShowCustomUI && (0, _client.h)(\"slot\", null));\n  }\n\n  static get style() {\n    return uiCss;\n  }\n\n};\nvar Video = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n    /**\n     * @internal Whether an external SDK will attach itself to the media player and control it.\n     */\n\n\n    this.willAttach = false;\n    /**\n     * @internal Whether an external SDK will manage the text tracks.\n     */\n\n    this.hasCustomTextManager = false;\n    /** @inheritdoc */\n\n    this.preload = 'metadata';\n    withComponentRegistry(this);\n    withProviderConnect(this);\n  }\n\n  onProviderConnect(event) {\n    if (this.willAttach) event.stopImmediatePropagation();\n  }\n\n  onProviderDisconnect(event) {\n    if (this.willAttach) event.stopImmediatePropagation();\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this77 = this;\n\n    return _asyncToGenerator(function* () {\n      var _this77$fileProvider;\n\n      return (_this77$fileProvider = _this77.fileProvider) === null || _this77$fileProvider === void 0 ? void 0 : _this77$fileProvider.getAdapter();\n    })();\n  }\n\n  render() {\n    return (// @ts-ignore\n      (0, _client.h)(\"vm-file\", {\n        noConnect: true,\n        willAttach: this.willAttach,\n        crossOrigin: this.crossOrigin,\n        poster: this.poster,\n        preload: this.preload,\n        controlsList: this.controlsList,\n        autoPiP: this.autoPiP,\n        disablePiP: this.disablePiP,\n        disableRemotePlayback: this.disableRemotePlayback,\n        hasCustomTextManager: this.hasCustomTextManager,\n        mediaTitle: this.mediaTitle,\n        viewType: ViewType.Video,\n        ref: el => {\n          this.fileProvider = el;\n        }\n      }, (0, _client.h)(\"slot\", null))\n    );\n  }\n\n};\n/**\n * @see https://developer.vimeo.com/player/sdk/reference#events-for-playback-controls\n */\n\nvar VimeoEvent;\n\n(function (VimeoEvent) {\n  VimeoEvent[\"Play\"] = \"play\";\n  VimeoEvent[\"Pause\"] = \"pause\";\n  VimeoEvent[\"Seeking\"] = \"seeking\";\n  VimeoEvent[\"Seeked\"] = \"seeked\";\n  VimeoEvent[\"TimeUpdate\"] = \"timeupdate\";\n  VimeoEvent[\"VolumeChange\"] = \"volumechange\";\n  VimeoEvent[\"DurationChange\"] = \"durationchange\";\n  VimeoEvent[\"FullscreenChange\"] = \"fullscreenchange\";\n  VimeoEvent[\"CueChange\"] = \"cuechange\";\n  VimeoEvent[\"Progress\"] = \"progress\";\n  VimeoEvent[\"Error\"] = \"error\";\n  VimeoEvent[\"PlaybackRateChange\"] = \"playbackratechange\";\n  VimeoEvent[\"Loaded\"] = \"loaded\";\n  VimeoEvent[\"BufferStart\"] = \"bufferstart\";\n  VimeoEvent[\"BufferEnd\"] = \"bufferend\";\n  VimeoEvent[\"TextTrackChange\"] = \"texttrackchange\";\n  VimeoEvent[\"Waiting\"] = \"waiting\";\n  VimeoEvent[\"Ended\"] = \"ended\";\n})(VimeoEvent || (VimeoEvent = {}));\n\nvar vimeoCss = \":host{z-index:var(--vm-media-z-index)}vm-embed{position:absolute;top:0;left:0;width:100%;height:100%}vm-embed.hideControls{display:block;width:100%;height:auto;position:relative}\";\nvar videoInfoCache$1 = new Map();\nvar Vimeo = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0, _client.createEvent)(this, \"vmError\", 7);\n    this.defaultInternalState = {};\n    this.volume = 50;\n    this.hasLoaded = false;\n    this.internalState = {\n      paused: true,\n      playing: false,\n      seeking: false,\n      currentTime: 0,\n      buffered: 0,\n      playbackStarted: false,\n      playRequest: false\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether to display the video owner's name.\n     */\n\n    this.byline = true;\n    /**\n     * Whether to display the video owner's portrait.\n     */\n\n    this.portrait = true;\n    /**\n     * Turns off automatically determining the aspect ratio of the current video.\n     */\n\n    this.noAutoAspectRatio = false;\n    /**\n     * Whether cookies should be enabled on the embed.\n     */\n\n    this.cookies = true;\n    /** @internal */\n\n    this.language = 'en';\n    /** @internal */\n\n    this.aspectRatio = '16:9';\n    /** @internal */\n\n    this.autoplay = false;\n    /** @internal */\n\n    this.controls = false;\n    /** @internal */\n\n    this.loop = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n\n  onVideoIdChange() {\n    this.cancelTimeUpdates();\n\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n\n    this.embedSrc = \"\".concat(this.getOrigin(), \"/video/\").concat(this.videoId);\n    this.pendingDurationCall = deferredPromise();\n    this.pendingMediaTitleCall = deferredPromise();\n    this.fetchVideoInfo = this.getVideoInfo();\n  }\n\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.initialMuted = this.muted;\n    this.defaultInternalState = _objectSpread({}, this.internalState);\n  }\n\n  disconnectedCallback() {\n    this.cancelTimeUpdates();\n    this.pendingPlayRequest = undefined;\n  }\n\n  getOrigin() {\n    return 'https://player.vimeo.com';\n  }\n\n  getPreconnections() {\n    return [this.getOrigin(), 'https://i.vimeocdn.com', 'https://f.vimeocdn.com', 'https://fresnel.vimeocdn.com'];\n  }\n\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      method: command,\n      value: arg\n    });\n  }\n\n  buildParams() {\n    return {\n      byline: this.byline,\n      color: this.color,\n      portrait: this.portrait,\n      autopause: false,\n      transparent: false,\n      autoplay: this.autoplay,\n      muted: this.initialMuted,\n      playsinline: this.playsinline,\n      dnt: !this.cookies\n    };\n  }\n\n  getVideoInfo() {\n    var _this78 = this;\n\n    return _asyncToGenerator(function* () {\n      if (videoInfoCache$1.has(_this78.videoId)) return videoInfoCache$1.get(_this78.videoId);\n      return window.fetch(\"https://vimeo.com/api/oembed.json?url=\".concat(_this78.embedSrc)).then(response => response.json()).then(data => {\n        var thumnailRegex = /vimeocdn\\.com\\/video\\/([0-9]+)/;\n        var thumbnailId = data === null || data === void 0 ? void 0 : data.thumbnail_url.match(thumnailRegex)[1];\n        var poster = \"https://i.vimeocdn.com/video/\".concat(thumbnailId, \"_1920x1080.jpg\");\n        var info = {\n          poster,\n          width: data === null || data === void 0 ? void 0 : data.width,\n          height: data === null || data === void 0 ? void 0 : data.height\n        };\n        videoInfoCache$1.set(_this78.videoId, info);\n        return info;\n      });\n    })();\n  }\n\n  onTimeChange(time) {\n    if (this.internalState.currentTime === time) return;\n    this.dispatch('currentTime', time); // This is how we detect `seeking` early.\n\n    if (Math.abs(this.internalState.currentTime - time) > 1.5) {\n      this.internalState.seeking = true;\n      this.dispatch('seeking', true);\n\n      if (this.internalState.playing && this.internalState.buffered < time) {\n        this.dispatch('buffering', true);\n      } // Player doesn't resume playback once seeked.\n\n\n      window.clearTimeout(this.pendingPlayRequest);\n\n      if (!this.internalState.paused) {\n        this.internalState.playRequest = true;\n      }\n\n      this.remoteControl(this.internalState.playbackStarted ? \"pause\"\n      /* Pause */\n      : \"play\"\n      /* Play */\n      );\n    }\n\n    this.internalState.currentTime = time;\n  }\n\n  cancelTimeUpdates() {\n    if (isNumber(this.timeRAF)) window.cancelAnimationFrame(this.timeRAF);\n  }\n\n  requestTimeUpdates() {\n    this.remoteControl(\"getCurrentTime\"\n    /* GetCurrentTime */\n    );\n    this.timeRAF = window.requestAnimationFrame(() => {\n      this.requestTimeUpdates();\n    });\n  }\n\n  onSeeked() {\n    if (!this.internalState.seeking) return;\n    this.dispatch('seeking', false);\n    this.internalState.seeking = false;\n\n    if (this.internalState.playRequest) {\n      window.setTimeout(() => {\n        this.remoteControl(\"play\"\n        /* Play */\n        );\n      }, 150);\n    }\n  }\n\n  onVimeoMethod(method, arg) {\n    var _this$pendingDuration, _this$pendingMediaTit3;\n\n    switch (method) {\n      case \"getCurrentTime\"\n      /* GetCurrentTime */\n      :\n        if (!this.internalState.seeking) this.onTimeChange(arg);\n        break;\n\n      case \"getDuration\"\n      /* GetDuration */\n      :\n        (_this$pendingDuration = this.pendingDurationCall) === null || _this$pendingDuration === void 0 ? void 0 : _this$pendingDuration.resolve(arg);\n        break;\n\n      case \"getVideoTitle\"\n      /* GetVideoTitle */\n      :\n        (_this$pendingMediaTit3 = this.pendingMediaTitleCall) === null || _this$pendingMediaTit3 === void 0 ? void 0 : _this$pendingMediaTit3.resolve(arg);\n        break;\n    }\n  }\n\n  onLoaded() {\n    var _this$pendingDuration2, _this$pendingMediaTit4;\n\n    if (this.hasLoaded) return;\n    this.pendingPlayRequest = undefined;\n    this.internalState = _objectSpread({}, this.defaultInternalState);\n    this.dispatch('currentSrc', this.embedSrc);\n    this.dispatch('mediaType', MediaType.Video);\n    this.remoteControl(\"getDuration\"\n    /* GetDuration */\n    );\n    this.remoteControl(\"getVideoTitle\"\n    /* GetVideoTitle */\n    );\n    Promise.all([this.fetchVideoInfo, (_this$pendingDuration2 = this.pendingDurationCall) === null || _this$pendingDuration2 === void 0 ? void 0 : _this$pendingDuration2.promise, (_this$pendingMediaTit4 = this.pendingMediaTitleCall) === null || _this$pendingMediaTit4 === void 0 ? void 0 : _this$pendingMediaTit4.promise]).then((_ref11) => {\n      var _info$width, _info$height, _this$poster2;\n\n      var [info, duration, mediaTitle] = _ref11;\n      this.requestTimeUpdates();\n      this.dispatch('aspectRatio', \"\".concat((_info$width = info === null || info === void 0 ? void 0 : info.width) !== null && _info$width !== void 0 ? _info$width : 16, \":\").concat((_info$height = info === null || info === void 0 ? void 0 : info.height) !== null && _info$height !== void 0 ? _info$height : 9));\n      this.dispatch('currentPoster', (_this$poster2 = this.poster) !== null && _this$poster2 !== void 0 ? _this$poster2 : info === null || info === void 0 ? void 0 : info.poster);\n      this.dispatch('duration', duration !== null && duration !== void 0 ? duration : -1);\n      this.dispatch('mediaTitle', mediaTitle);\n      this.dispatch('playbackReady', true);\n    });\n    this.hasLoaded = true;\n  }\n\n  onVimeoEvent(event, payload) {\n    switch (event) {\n      case \"ready\"\n      /* Ready */\n      :\n        Object.values(VimeoEvent).forEach(e => {\n          this.remoteControl(\"addEventListener\"\n          /* AddEventListener */\n          , e);\n        });\n        break;\n\n      case \"loaded\"\n      /* Loaded */\n      :\n        this.onLoaded();\n        break;\n\n      case \"play\"\n      /* Play */\n      :\n        // Incase of autoplay which might skip `Loaded` event.\n        this.onLoaded();\n        this.internalState.paused = false;\n        this.dispatch('paused', false);\n        break;\n\n      case \"playProgress\"\n      /* PlayProgress */\n      :\n        if (!this.internalState.playing) {\n          this.dispatch('playing', true);\n          this.internalState.playing = true;\n          this.internalState.playbackStarted = true;\n          this.pendingPlayRequest = window.setTimeout(() => {\n            this.internalState.playRequest = false;\n            this.pendingPlayRequest = undefined;\n          }, 1000);\n        }\n\n        this.dispatch('buffering', false);\n        this.onSeeked();\n        break;\n\n      case \"pause\"\n      /* Pause */\n      :\n        this.internalState.paused = true;\n        this.internalState.playing = false;\n        this.dispatch('paused', true);\n        this.dispatch('buffering', false);\n        break;\n\n      case \"loadProgress\"\n      /* LoadProgress */\n      :\n        this.internalState.buffered = payload.seconds;\n        this.dispatch('buffered', payload.seconds);\n        break;\n\n      case \"bufferstart\"\n      /* BufferStart */\n      :\n        this.dispatch('buffering', true); // Attempt to detect `play` events early.\n\n        if (this.internalState.paused) {\n          this.internalState.paused = false;\n          this.dispatch('paused', false);\n          this.dispatch('playbackStarted', true);\n        }\n\n        break;\n\n      case \"bufferend\"\n      /* BufferEnd */\n      :\n        this.dispatch('buffering', false);\n        if (this.internalState.paused) this.onSeeked();\n        break;\n\n      case \"volumechange\"\n      /* VolumeChange */\n      :\n        if (payload.volume > 0) {\n          var newVolume = Math.floor(payload.volume * 100);\n          this.dispatch('muted', false);\n\n          if (this.volume !== newVolume) {\n            this.volume = newVolume;\n            this.dispatch('volume', this.volume);\n          }\n        } else {\n          this.dispatch('muted', true);\n        }\n\n        break;\n\n      case \"durationchange\"\n      /* DurationChange */\n      :\n        this.dispatch('duration', payload.duration);\n        break;\n\n      case \"playbackratechange\"\n      /* PlaybackRateChange */\n      :\n        this.dispatch('playbackRate', payload.playbackRate);\n        break;\n\n      case \"fullscreenchange\"\n      /* FullscreenChange */\n      :\n        this.dispatch('isFullscreenActive', payload.fullscreen);\n        break;\n\n      case \"finish\"\n      /* Finish */\n      :\n        if (this.loop) {\n          this.remoteControl(\"setCurrentTime\"\n          /* SetCurrentTime */\n          , 0);\n          setTimeout(() => {\n            this.remoteControl(\"play\"\n            /* Play */\n            );\n          }, 200);\n        } else {\n          this.dispatch('playbackEnded', true);\n        }\n\n        break;\n\n      case \"error\"\n      /* Error */\n      :\n        this.vmError.emit(payload);\n        break;\n    }\n  }\n\n  onEmbedSrcChange() {\n    this.hasLoaded = false;\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n\n  onEmbedMessage(event) {\n    var message = event.detail;\n    if (!isUndefined(message.event)) this.onVimeoEvent(message.event, message.data);\n    if (!isUndefined(message.method)) this.onVimeoMethod(message.method, message.value);\n  }\n\n  adjustPosition() {\n    var [aw, ah] = this.aspectRatio.split(':').map(r => parseInt(r, 10));\n    var height = 240;\n    var padding = 100 / aw * ah;\n    var offset = (height - padding) / (height / 50);\n    return {\n      paddingBottom: \"\".concat(height, \"%\"),\n      transform: \"translateY(-\".concat(offset + 0.02, \"%)\")\n    };\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this79 = this;\n\n    return _asyncToGenerator(function* () {\n      var canPlayRegex = /vimeo(?:\\.com|)\\/([0-9]{9,})/;\n      var fileRegex = /vimeo\\.com\\/external\\/[0-9]+\\..+/;\n      return {\n        getInternalPlayer: function () {\n          var _getInternalPlayer5 = _asyncToGenerator(function* () {\n            return _this79.embed;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer5.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        play: function () {\n          var _play3 = _asyncToGenerator(function* () {\n            _this79.remoteControl(\"play\"\n            /* Play */\n            );\n          });\n\n          function play() {\n            return _play3.apply(this, arguments);\n          }\n\n          return play;\n        }(),\n        pause: function () {\n          var _pause3 = _asyncToGenerator(function* () {\n            _this79.remoteControl(\"pause\"\n            /* Pause */\n            );\n          });\n\n          function pause() {\n            return _pause3.apply(this, arguments);\n          }\n\n          return pause;\n        }(),\n        canPlay: function () {\n          var _canPlay5 = _asyncToGenerator(function* (type) {\n            return isString(type) && !fileRegex.test(type) && canPlayRegex.test(type);\n          });\n\n          function canPlay(_x33) {\n            return _canPlay5.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        setCurrentTime: function () {\n          var _setCurrentTime3 = _asyncToGenerator(function* (time) {\n            _this79.remoteControl(\"setCurrentTime\"\n            /* SetCurrentTime */\n            , time);\n          });\n\n          function setCurrentTime(_x34) {\n            return _setCurrentTime3.apply(this, arguments);\n          }\n\n          return setCurrentTime;\n        }(),\n        setMuted: function () {\n          var _setMuted3 = _asyncToGenerator(function* (muted) {\n            if (!muted) _this79.volume = _this79.volume > 0 ? _this79.volume : 30;\n\n            _this79.remoteControl(\"setVolume\"\n            /* SetVolume */\n            , muted ? 0 : _this79.volume / 100);\n          });\n\n          function setMuted(_x35) {\n            return _setMuted3.apply(this, arguments);\n          }\n\n          return setMuted;\n        }(),\n        setVolume: function () {\n          var _setVolume3 = _asyncToGenerator(function* (volume) {\n            if (!_this79.muted) {\n              _this79.remoteControl(\"setVolume\"\n              /* SetVolume */\n              , volume / 100);\n            } else {\n              // Confirm volume was set.\n              _this79.dispatch('volume', volume);\n            }\n          });\n\n          function setVolume(_x36) {\n            return _setVolume3.apply(this, arguments);\n          }\n\n          return setVolume;\n        }(),\n        // @TODO how to check if Vimeo pro?\n        canSetPlaybackRate: function () {\n          var _canSetPlaybackRate2 = _asyncToGenerator(function* () {\n            return false;\n          });\n\n          function canSetPlaybackRate() {\n            return _canSetPlaybackRate2.apply(this, arguments);\n          }\n\n          return canSetPlaybackRate;\n        }(),\n        setPlaybackRate: function () {\n          var _setPlaybackRate2 = _asyncToGenerator(function* (rate) {\n            _this79.remoteControl(\"setPlaybackRate\"\n            /* SetPlaybackRate */\n            , rate);\n          });\n\n          function setPlaybackRate(_x37) {\n            return _setPlaybackRate2.apply(this, arguments);\n          }\n\n          return setPlaybackRate;\n        }()\n      };\n    })();\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-embed\", {\n      class: {\n        hideControls: !this.controls\n      },\n      style: this.adjustPosition(),\n      embedSrc: this.embedSrc,\n      mediaTitle: this.mediaTitle,\n      origin: this.getOrigin(),\n      params: this.buildParams(),\n      decoder: decodeJSON,\n      preconnections: this.getPreconnections(),\n      onVmEmbedMessage: this.onEmbedMessage.bind(this),\n      onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this),\n      ref: el => {\n        this.embed = el;\n      }\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"videoId\": [\"onVideoIdChange\"],\n      \"poster\": [\"onCustomPosterChange\"]\n    };\n  }\n\n  static get style() {\n    return vimeoCss;\n  }\n\n};\nvar volumeControlCss = \".volumeControl{align-items:center;display:flex;position:relative;pointer-events:auto;box-sizing:border-box}vm-slider{width:75px;height:100%;margin:0;max-width:0;position:relative;z-index:3;transition:margin 0.2s cubic-bezier(0.4, 0, 1, 1), max-width 0.2s cubic-bezier(0.4, 0, 1, 1);margin-left:calc(var(--vm-control-spacing) / 2) !important;visibility:hidden}vm-slider:hover{cursor:pointer}vm-slider.hidden{display:none}vm-slider.active{max-width:75px;visibility:visible;margin:0 calc(var(--vm-control-spacing) / 2)}\";\nvar VolumeControl = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.keyboardDisposal = new Disposal();\n    this.prevMuted = false;\n    this.currentVolume = 50;\n    this.isSliderActive = false;\n    /**\n     * The name of the low volume icon to resolve from the icon library.\n     */\n\n    this.lowVolumeIcon = 'volume-low';\n    /**\n     * The name of the high volume icon to resolve from the icon library.\n     */\n\n    this.highVolumeIcon = 'volume-high';\n    /**\n     * The name of the muted volume icon to resolve from the icon library.\n     */\n\n    this.mutedIcon = 'volume-mute';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should be hidden.\n     */\n\n    this.hideTooltip = false;\n    /**\n     * A pipe (`/`) separated string of JS keyboard keys, that when caught in a `keydown` event, will\n     * toggle the muted state of the player.\n     */\n\n    this.muteKeys = 'm';\n    /**\n     * Prevents the volume being changed using the Up/Down arrow keys.\n     */\n\n    this.noKeyboard = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.volume = 50;\n    /** @internal */\n\n    this.isMobile = false;\n    /** @internal */\n\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['volume', 'muted', 'isMobile', 'i18n']);\n  }\n\n  onNoKeyboardChange() {\n    var _this80 = this;\n\n    return _asyncToGenerator(function* () {\n      _this80.keyboardDisposal.empty();\n\n      if (_this80.noKeyboard) return;\n      var player = yield findPlayer(_this80);\n\n      _this80.keyboardDisposal.add(listen(player, 'keydown', event => {\n        if (event.key !== 'ArrowUp' && event.key !== 'ArrowDown') return;\n        var isUpArrow = event.key === 'ArrowUp';\n        var newVolume = isUpArrow ? Math.min(100, _this80.volume + 5) : Math.max(0, _this80.volume - 5);\n\n        _this80.dispatch('volume', parseInt(\"\".concat(newVolume), 10));\n      }));\n    })();\n  }\n\n  onPlayerVolumeChange() {\n    this.currentVolume = this.muted ? 0 : this.volume;\n\n    if (!this.muted && this.prevMuted && this.volume === 0) {\n      this.dispatch('volume', 30);\n    }\n\n    this.prevMuted = this.muted;\n  }\n\n  connectedCallback() {\n    this.prevMuted = this.muted;\n    this.dispatch = createDispatcher(this);\n    this.onNoKeyboardChange();\n  }\n\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n\n  onShowSlider() {\n    clearTimeout(this.hideSliderTimeout);\n    this.isSliderActive = true;\n  }\n\n  onHideSlider() {\n    this.hideSliderTimeout = setTimeout(() => {\n      this.isSliderActive = false;\n    }, 100);\n  }\n\n  onVolumeChange(event) {\n    var newVolume = event.detail;\n    this.currentVolume = newVolume;\n    this.dispatch('volume', newVolume);\n    this.dispatch('muted', newVolume === 0);\n  }\n\n  onKeyDown(event) {\n    if (event.key !== 'ArrowLeft' && event.key !== 'ArrowRight') return;\n    event.stopPropagation();\n  }\n\n  render() {\n    return (0, _client.h)(\"div\", {\n      class: \"volumeControl\",\n      onMouseEnter: this.onShowSlider.bind(this),\n      onMouseLeave: this.onHideSlider.bind(this)\n    }, (0, _client.h)(\"vm-mute-control\", {\n      keys: this.muteKeys,\n      lowVolumeIcon: this.lowVolumeIcon,\n      highVolumeIcon: this.highVolumeIcon,\n      mutedIcon: this.mutedIcon,\n      icons: this.icons,\n      tooltipPosition: this.tooltipPosition,\n      tooltipDirection: this.tooltipDirection,\n      hideTooltip: this.hideTooltip,\n      onVmFocus: this.onShowSlider.bind(this),\n      onVmBlur: this.onHideSlider.bind(this)\n    }), (0, _client.h)(\"vm-slider\", {\n      class: {\n        hidden: this.isMobile,\n        active: this.isSliderActive\n      },\n      step: 5,\n      max: 100,\n      value: this.currentVolume,\n      label: this.i18n.volume,\n      onKeyDown: this.onKeyDown.bind(this),\n      onVmFocus: this.onShowSlider.bind(this),\n      onVmBlur: this.onHideSlider.bind(this),\n      onVmValueChange: this.onVolumeChange.bind(this)\n    }));\n  }\n\n  static get watchers() {\n    return {\n      \"noKeyboard\": [\"onNoKeyboardChange\"],\n      \"muted\": [\"onPlayerVolumeChange\"],\n      \"volume\": [\"onPlayerVolumeChange\"]\n    };\n  }\n\n  static get style() {\n    return volumeControlCss;\n  }\n\n};\n\nvar mapYouTubePlaybackQuality = quality => {\n  switch (quality) {\n    case \"unknown\"\n    /* Unknown */\n    :\n      return undefined;\n\n    case \"tiny\"\n    /* Tiny */\n    :\n      return '144p';\n\n    case \"small\"\n    /* Small */\n    :\n      return '240p';\n\n    case \"medium\"\n    /* Medium */\n    :\n      return '360p';\n\n    case \"large\"\n    /* Large */\n    :\n      return '480p';\n\n    case \"hd720\"\n    /* Hd720 */\n    :\n      return '720p';\n\n    case \"hd1080\"\n    /* Hd1080 */\n    :\n      return '1080p';\n\n    case \"highres\"\n    /* Highres */\n    :\n      return '1440p';\n\n    case \"max\"\n    /* Max */\n    :\n      return '2160p';\n\n    default:\n      return undefined;\n  }\n};\n\nvar youtubeCss = \":host{z-index:var(--vm-media-z-index)}\";\nvar posterCache = new Map();\nvar YouTube = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    (0, _client.attachShadow)(this);\n    this.vmLoadStart = (0, _client.createEvent)(this, \"vmLoadStart\", 7);\n    this.defaultInternalState = {};\n    this.internalState = {\n      paused: true,\n      duration: 0,\n      seeking: false,\n      playbackReady: false,\n      playbackStarted: false,\n      currentTime: 0,\n      lastTimeUpdate: 0,\n      playbackRate: 1,\n      state: -1\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether cookies should be enabled on the embed.\n     */\n\n    this.cookies = false;\n    /**\n     * Whether the fullscreen control should be shown.\n     */\n\n    this.showFullscreenControl = true;\n    /** @internal */\n\n    this.language = 'en';\n    /** @internal */\n\n    this.autoplay = false;\n    /** @internal */\n\n    this.controls = false;\n    /** @internal */\n\n    this.loop = false;\n    /** @internal */\n\n    this.muted = false;\n    /** @internal */\n\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n\n  onVideoIdChange() {\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n\n    this.embedSrc = \"\".concat(this.getOrigin(), \"/embed/\").concat(this.videoId);\n    this.fetchPosterURL = this.findPosterURL();\n  }\n\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.initialMuted = this.muted;\n    this.defaultInternalState = _objectSpread({}, this.internalState);\n  }\n  /** @internal */\n\n\n  getAdapter() {\n    var _this81 = this;\n\n    return _asyncToGenerator(function* () {\n      var canPlayRegex = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\n      return {\n        getInternalPlayer: function () {\n          var _getInternalPlayer6 = _asyncToGenerator(function* () {\n            return _this81.embed;\n          });\n\n          function getInternalPlayer() {\n            return _getInternalPlayer6.apply(this, arguments);\n          }\n\n          return getInternalPlayer;\n        }(),\n        play: function () {\n          var _play4 = _asyncToGenerator(function* () {\n            _this81.remoteControl(\"playVideo\"\n            /* Play */\n            );\n          });\n\n          function play() {\n            return _play4.apply(this, arguments);\n          }\n\n          return play;\n        }(),\n        pause: function () {\n          var _pause4 = _asyncToGenerator(function* () {\n            _this81.remoteControl(\"pauseVideo\"\n            /* Pause */\n            );\n          });\n\n          function pause() {\n            return _pause4.apply(this, arguments);\n          }\n\n          return pause;\n        }(),\n        canPlay: function () {\n          var _canPlay6 = _asyncToGenerator(function* (type) {\n            return isString(type) && canPlayRegex.test(type);\n          });\n\n          function canPlay(_x38) {\n            return _canPlay6.apply(this, arguments);\n          }\n\n          return canPlay;\n        }(),\n        setCurrentTime: function () {\n          var _setCurrentTime4 = _asyncToGenerator(function* (time) {\n            _this81.remoteControl(\"seekTo\"\n            /* Seek */\n            , time);\n          });\n\n          function setCurrentTime(_x39) {\n            return _setCurrentTime4.apply(this, arguments);\n          }\n\n          return setCurrentTime;\n        }(),\n        setMuted: function () {\n          var _setMuted4 = _asyncToGenerator(function* (muted) {\n            muted ? _this81.remoteControl(\"mute\"\n            /* Mute */\n            ) : _this81.remoteControl(\"unMute\"\n            /* Unmute */\n            );\n          });\n\n          function setMuted(_x40) {\n            return _setMuted4.apply(this, arguments);\n          }\n\n          return setMuted;\n        }(),\n        setVolume: function () {\n          var _setVolume4 = _asyncToGenerator(function* (volume) {\n            _this81.remoteControl(\"setVolume\"\n            /* SetVolume */\n            , volume);\n          });\n\n          function setVolume(_x41) {\n            return _setVolume4.apply(this, arguments);\n          }\n\n          return setVolume;\n        }(),\n        canSetPlaybackRate: function () {\n          var _canSetPlaybackRate3 = _asyncToGenerator(function* () {\n            return true;\n          });\n\n          function canSetPlaybackRate() {\n            return _canSetPlaybackRate3.apply(this, arguments);\n          }\n\n          return canSetPlaybackRate;\n        }(),\n        setPlaybackRate: function () {\n          var _setPlaybackRate3 = _asyncToGenerator(function* (rate) {\n            _this81.remoteControl(\"setPlaybackRate\"\n            /* SetPlaybackRate */\n            , rate);\n          });\n\n          function setPlaybackRate(_x42) {\n            return _setPlaybackRate3.apply(this, arguments);\n          }\n\n          return setPlaybackRate;\n        }()\n      };\n    })();\n  }\n\n  getOrigin() {\n    return !this.cookies ? 'https://www.youtube-nocookie.com' : 'https://www.youtube.com';\n  }\n\n  getPreconnections() {\n    return [this.getOrigin(), 'https://www.google.com', 'https://googleads.g.doubleclick.net', 'https://static.doubleclick.net', 'https://s.ytimg.com', 'https://i.ytimg.com'];\n  }\n\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      event: 'command',\n      func: command,\n      args: arg ? [arg] : undefined\n    });\n  }\n\n  buildParams() {\n    return {\n      enablejsapi: 1,\n      cc_lang_pref: this.language,\n      hl: this.language,\n      fs: this.showFullscreenControl ? 1 : 0,\n      controls: this.controls ? 1 : 0,\n      disablekb: !this.controls ? 1 : 0,\n      iv_load_policy: this.controls ? 1 : 3,\n      mute: this.initialMuted ? 1 : 0,\n      playsinline: this.playsinline ? 1 : 0,\n      autoplay: this.autoplay ? 1 : 0\n    };\n  }\n\n  onEmbedSrcChange() {\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n\n  onEmbedLoaded() {\n    // Seems like we have to wait a random small delay or else YT player isn't ready.\n    window.setTimeout(() => this.embed.postMessage({\n      event: 'listening'\n    }), 100);\n  }\n\n  findPosterURL() {\n    var _this82 = this;\n\n    return _asyncToGenerator(function* () {\n      if (posterCache.has(_this82.videoId)) return posterCache.get(_this82.videoId);\n\n      var posterURL = quality => \"https://i.ytimg.com/vi/\".concat(_this82.videoId, \"/\").concat(quality, \".jpg\");\n      /**\n       * We are testing a that the image has a min-width of 121px because if the thumbnail does not\n       * exist YouTube returns a blank/error image that is 120px wide.\n       */\n\n\n      return loadImage(posterURL('maxresdefault'), 121) // 1080p (no padding)\n      .catch(() => loadImage(posterURL('sddefault'), 121)) // 640p (padded 4:3)\n      .catch(() => loadImage(posterURL('hqdefault'), 121)) // 480p (padded 4:3)\n      .then(img => {\n        var poster = img.src;\n        posterCache.set(_this82.videoId, poster);\n        return poster;\n      });\n    })();\n  }\n\n  onCued() {\n    if (this.internalState.playbackReady) return;\n    this.internalState = _objectSpread({}, this.defaultInternalState);\n    this.dispatch('currentSrc', this.embedSrc);\n    this.dispatch('mediaType', MediaType.Video);\n    this.fetchPosterURL.then(poster => {\n      var _this$poster3;\n\n      this.dispatch('currentPoster', (_this$poster3 = this.poster) !== null && _this$poster3 !== void 0 ? _this$poster3 : poster);\n      this.dispatch('playbackReady', true);\n    });\n    this.internalState.playbackReady = true;\n  }\n\n  onPlayerStateChange(state) {\n    // Sometimes the embed falls back to an unstarted state for some unknown reason, this will\n    // make sure the player is configured to the right starting state.\n    if (this.internalState.playbackReady && state === -1\n    /* Unstarted */\n    ) {\n        this.internalState.paused = true;\n        this.internalState.playbackStarted = false;\n        this.dispatch('buffering', false);\n        this.dispatch('paused', true);\n        this.dispatch('playbackStarted', false);\n        return;\n      }\n\n    var isPlaying = state === 1\n    /* Playing */\n    ;\n    var isBuffering = state === 3\n    /* Buffering */\n    ;\n    this.dispatch('buffering', isBuffering); // Attempt to detect `play` events early.\n\n    if (this.internalState.paused && (isBuffering || isPlaying)) {\n      this.internalState.paused = false;\n      this.dispatch('paused', false);\n\n      if (!this.internalState.playbackStarted) {\n        this.dispatch('playbackStarted', true);\n        this.internalState.playbackStarted = true;\n      }\n    }\n\n    switch (state) {\n      case 5\n      /* Cued */\n      :\n        this.onCued();\n        break;\n\n      case 1\n      /* Playing */\n      :\n        // Incase of autoplay which might skip `Cued` event.\n        this.onCued();\n        this.dispatch('playing', true);\n        break;\n\n      case 2\n      /* Paused */\n      :\n        this.internalState.paused = true;\n        this.dispatch('paused', true);\n        break;\n\n      case 0\n      /* Ended */\n      :\n        if (this.loop) {\n          window.setTimeout(() => {\n            this.remoteControl(\"playVideo\"\n            /* Play */\n            );\n          }, 150);\n        } else {\n          this.dispatch('playbackEnded', true);\n          this.internalState.paused = true;\n          this.dispatch('paused', true);\n        }\n\n        break;\n    }\n\n    this.internalState.state = state;\n  }\n\n  calcCurrentTime(time) {\n    var currentTime = time;\n\n    if (this.internalState.state === 0\n    /* Ended */\n    ) {\n        return this.internalState.duration;\n      }\n\n    if (this.internalState.state === 1\n    /* Playing */\n    ) {\n        var elapsedTime = (Date.now() / 1e3 - this.defaultInternalState.lastTimeUpdate) * this.internalState.playbackRate;\n        if (elapsedTime > 0) currentTime += Math.min(elapsedTime, 1);\n      }\n\n    return currentTime;\n  }\n\n  onTimeChange(time) {\n    var currentTime = this.calcCurrentTime(time);\n    this.dispatch('currentTime', currentTime); // This is the only way to detect `seeking`.\n\n    if (Math.abs(this.internalState.currentTime - currentTime) > 1.5) {\n      this.internalState.seeking = true;\n      this.dispatch('seeking', true);\n    }\n\n    this.internalState.currentTime = currentTime;\n  }\n\n  onBufferedChange(buffered) {\n    this.dispatch('buffered', buffered);\n    /**\n     * This is the only way to detect `seeked`. Unfortunately while the player is `paused` `seeking`\n     * and `seeked` will fire at the same time, there are no updates inbetween -_-. We need an\n     * artifical delay between the two events.\n     */\n\n    if (this.internalState.seeking && buffered > this.internalState.currentTime) {\n      window.setTimeout(() => {\n        this.internalState.seeking = false;\n        this.dispatch('seeking', false);\n      }, this.internalState.paused ? 100 : 0);\n    }\n  }\n\n  onEmbedMessage(event) {\n    var message = event.detail;\n    var {\n      info\n    } = message;\n    if (!info) return;\n    if (isObject(info.videoData)) this.dispatch('mediaTitle', info.videoData.title);\n\n    if (isNumber(info.duration)) {\n      this.internalState.duration = info.duration;\n      this.dispatch('duration', info.duration);\n    }\n\n    if (isArray(info.availablePlaybackRates)) {\n      this.dispatch('playbackRates', info.availablePlaybackRates);\n    }\n\n    if (isNumber(info.playbackRate)) {\n      this.internalState.playbackRate = info.playbackRate;\n      this.dispatch('playbackRate', info.playbackRate);\n    }\n\n    if (isNumber(info.currentTime)) this.onTimeChange(info.currentTime);\n\n    if (isNumber(info.currentTimeLastUpdated)) {\n      this.internalState.lastTimeUpdate = info.currentTimeLastUpdated;\n    }\n\n    if (isNumber(info.videoLoadedFraction)) {\n      this.onBufferedChange(info.videoLoadedFraction * this.internalState.duration);\n    }\n\n    if (isNumber(info.volume)) this.dispatch('volume', info.volume);\n    if (isBoolean(info.muted)) this.dispatch('muted', info.muted);\n\n    if (isArray(info.availableQualityLevels)) {\n      this.dispatch('playbackQualities', info.availableQualityLevels.map(q => mapYouTubePlaybackQuality(q)));\n    }\n\n    if (isString(info.playbackQuality)) {\n      this.dispatch('playbackQuality', mapYouTubePlaybackQuality(info.playbackQuality));\n    }\n\n    if (isNumber(info.playerState)) this.onPlayerStateChange(info.playerState);\n  }\n\n  render() {\n    return (0, _client.h)(\"vm-embed\", {\n      embedSrc: this.embedSrc,\n      mediaTitle: this.mediaTitle,\n      origin: this.getOrigin(),\n      params: this.buildParams(),\n      decoder: decodeJSON,\n      preconnections: this.getPreconnections(),\n      onVmEmbedLoaded: this.onEmbedLoaded.bind(this),\n      onVmEmbedMessage: this.onEmbedMessage.bind(this),\n      onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this),\n      ref: el => {\n        this.embed = el;\n      }\n    });\n  }\n\n  static get watchers() {\n    return {\n      \"cookies\": [\"onVideoIdChange\"],\n      \"videoId\": [\"onVideoIdChange\"],\n      \"poster\": [\"onCustomPosterChange\"]\n    };\n  }\n\n  static get style() {\n    return youtubeCss;\n  }\n\n};\nvar VmAudio = /*@__PURE__*/(0, _client.proxyCustomElement)(Audio, [4, \"vm-audio\", {\n  \"willAttach\": [4, \"will-attach\"],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"mediaTitle\": [1, \"media-title\"]\n}]);\nexports.VmAudio = VmAudio;\nvar VmCaptionControl = /*@__PURE__*/(0, _client.proxyCustomElement)(CaptionControl, [1, \"vm-caption-control\", {\n  \"showIcon\": [1, \"show-icon\"],\n  \"hideIcon\": [1, \"hide-icon\"],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"icons\": [1],\n  \"keys\": [1],\n  \"i18n\": [16],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"textTracks\": [16],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"canToggleCaptionVisibility\": [32]\n}]);\nexports.VmCaptionControl = VmCaptionControl;\nvar VmCaptions = /*@__PURE__*/(0, _client.proxyCustomElement)(Captions, [1, \"vm-captions\", {\n  \"hidden\": [4],\n  \"isControlsActive\": [4, \"is-controls-active\"],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"playbackStarted\": [4, \"playback-started\"],\n  \"textTracks\": [16],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"isEnabled\": [32],\n  \"cue\": [32],\n  \"fontSize\": [32]\n}]);\nexports.VmCaptions = VmCaptions;\nvar VmClickToPlay = /*@__PURE__*/(0, _client.proxyCustomElement)(ClickToPlay, [1, \"vm-click-to-play\", {\n  \"useOnMobile\": [4, \"use-on-mobile\"],\n  \"paused\": [4],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"isMobile\": [4, \"is-mobile\"]\n}]);\nexports.VmClickToPlay = VmClickToPlay;\nvar VmControl = /*@__PURE__*/(0, _client.proxyCustomElement)(Control, [1, \"vm-control\", {\n  \"keys\": [1],\n  \"identifier\": [1],\n  \"hidden\": [4],\n  \"label\": [1],\n  \"menu\": [1],\n  \"expanded\": [4],\n  \"pressed\": [4],\n  \"isTouch\": [4, \"is-touch\"],\n  \"describedBy\": [32],\n  \"showTapHighlight\": [32]\n}]);\nexports.VmControl = VmControl;\nvar VmControlGroup = /*@__PURE__*/(0, _client.proxyCustomElement)(ControlNewLine, [1, \"vm-control-group\", {\n  \"space\": [1]\n}]);\nexports.VmControlGroup = VmControlGroup;\nvar VmControlSpacer = /*@__PURE__*/(0, _client.proxyCustomElement)(ControlSpacer, [1, \"vm-control-spacer\"]);\nexports.VmControlSpacer = VmControlSpacer;\nvar VmControls = /*@__PURE__*/(0, _client.proxyCustomElement)(Controls, [1, \"vm-controls\", {\n  \"hidden\": [4],\n  \"fullWidth\": [4, \"full-width\"],\n  \"fullHeight\": [4, \"full-height\"],\n  \"direction\": [1],\n  \"align\": [1],\n  \"justify\": [1],\n  \"pin\": [513],\n  \"activeDuration\": [2, \"active-duration\"],\n  \"waitForPlaybackStart\": [4, \"wait-for-playback-start\"],\n  \"hideWhenPaused\": [4, \"hide-when-paused\"],\n  \"hideOnMouseLeave\": [4, \"hide-on-mouse-leave\"],\n  \"isAudioView\": [4, \"is-audio-view\"],\n  \"isSettingsActive\": [4, \"is-settings-active\"],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"isControlsActive\": [4, \"is-controls-active\"],\n  \"paused\": [4],\n  \"playbackStarted\": [4, \"playback-started\"],\n  \"isInteracting\": [32]\n}]);\nexports.VmControls = VmControls;\nvar VmCurrentTime = /*@__PURE__*/(0, _client.proxyCustomElement)(CurrentTime, [1, \"vm-current-time\", {\n  \"currentTime\": [2, \"current-time\"],\n  \"i18n\": [16],\n  \"alwaysShowHours\": [4, \"always-show-hours\"]\n}]);\nexports.VmCurrentTime = VmCurrentTime;\nvar VmDailymotion = /*@__PURE__*/(0, _client.proxyCustomElement)(Dailymotion, [1, \"vm-dailymotion\", {\n  \"videoId\": [1, \"video-id\"],\n  \"shouldAutoplayQueue\": [4, \"should-autoplay-queue\"],\n  \"showUpNextQueue\": [4, \"show-up-next-queue\"],\n  \"showShareButtons\": [4, \"show-share-buttons\"],\n  \"color\": [1],\n  \"syndication\": [1],\n  \"showDailymotionLogo\": [4, \"show-dailymotion-logo\"],\n  \"showVideoInfo\": [4, \"show-video-info\"],\n  \"language\": [1],\n  \"autoplay\": [4],\n  \"controls\": [4],\n  \"poster\": [1],\n  \"logger\": [16],\n  \"loop\": [4],\n  \"muted\": [4],\n  \"playsinline\": [4],\n  \"embedSrc\": [32],\n  \"mediaTitle\": [32]\n}]);\nexports.VmDailymotion = VmDailymotion;\nvar VmDash = /*@__PURE__*/(0, _client.proxyCustomElement)(Dash, [1, \"vm-dash\", {\n  \"src\": [1],\n  \"version\": [1],\n  \"libSrc\": [1, \"lib-src\"],\n  \"config\": [16],\n  \"autoplay\": [4],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"poster\": [1],\n  \"controlsList\": [1, \"controls-list\"],\n  \"autoPiP\": [4, \"auto-pip\"],\n  \"disablePiP\": [4, \"disable-pip\"],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"enableTextTracksByDefault\": [4, \"enable-text-tracks-by-default\"],\n  \"shouldRenderNativeTextTracks\": [4, \"should-render-native-text-tracks\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"hasAttached\": [32]\n}, [[0, \"vmMediaElChange\", \"onMediaElChange\"]]]);\nexports.VmDash = VmDash;\nvar VmDblClickFullscreen = /*@__PURE__*/(0, _client.proxyCustomElement)(DblClickFullscreen, [1, \"vm-dbl-click-fullscreen\", {\n  \"useOnMobile\": [4, \"use-on-mobile\"],\n  \"isFullscreenActive\": [4, \"is-fullscreen-active\"],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"isMobile\": [4, \"is-mobile\"],\n  \"canSetFullscreen\": [32]\n}]);\nexports.VmDblClickFullscreen = VmDblClickFullscreen;\nvar VmDefaultControls = /*@__PURE__*/(0, _client.proxyCustomElement)(DefaultControls, [1, \"vm-default-controls\", {\n  \"activeDuration\": [2, \"active-duration\"],\n  \"waitForPlaybackStart\": [4, \"wait-for-playback-start\"],\n  \"hideWhenPaused\": [4, \"hide-when-paused\"],\n  \"hideOnMouseLeave\": [4, \"hide-on-mouse-leave\"],\n  \"theme\": [1],\n  \"isMobile\": [4, \"is-mobile\"],\n  \"isLive\": [4, \"is-live\"],\n  \"isAudioView\": [4, \"is-audio-view\"],\n  \"isVideoView\": [4, \"is-video-view\"]\n}]);\nexports.VmDefaultControls = VmDefaultControls;\nvar VmDefaultSettings = /*@__PURE__*/(0, _client.proxyCustomElement)(DefaultSettings, [1, \"vm-default-settings\", {\n  \"pin\": [513],\n  \"i18n\": [16],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"playbackRate\": [2, \"playback-rate\"],\n  \"playbackRates\": [16],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"playbackQuality\": [1, \"playback-quality\"],\n  \"playbackQualities\": [16],\n  \"textTracks\": [16],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"audioTracks\": [16],\n  \"currentAudioTrack\": [2, \"current-audio-track\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"canSetPlaybackRate\": [32],\n  \"canSetPlaybackQuality\": [32],\n  \"canSetTextTrack\": [32],\n  \"canSetAudioTrack\": [32]\n}]);\nexports.VmDefaultSettings = VmDefaultSettings;\nvar VmDefaultUi = /*@__PURE__*/(0, _client.proxyCustomElement)(DefaultUI, [1, \"vm-default-ui\", {\n  \"noClickToPlay\": [4, \"no-click-to-play\"],\n  \"noDblClickFullscreen\": [4, \"no-dbl-click-fullscreen\"],\n  \"noCaptions\": [4, \"no-captions\"],\n  \"noPoster\": [4, \"no-poster\"],\n  \"noSpinner\": [4, \"no-spinner\"],\n  \"noControls\": [4, \"no-controls\"],\n  \"noSettings\": [4, \"no-settings\"],\n  \"noLoadingScreen\": [4, \"no-loading-screen\"]\n}]);\nexports.VmDefaultUi = VmDefaultUi;\nvar VmEmbed = /*@__PURE__*/(0, _client.proxyCustomElement)(Embed, [1, \"vm-embed\", {\n  \"embedSrc\": [1, \"embed-src\"],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"params\": [1],\n  \"origin\": [1],\n  \"preconnections\": [16],\n  \"decoder\": [16],\n  \"srcWithParams\": [32],\n  \"hasEnteredViewport\": [32]\n}, [[8, \"message\", \"onWindowMessage\"]]]);\nexports.VmEmbed = VmEmbed;\nvar VmEndTime = /*@__PURE__*/(0, _client.proxyCustomElement)(EndTime, [1, \"vm-end-time\", {\n  \"duration\": [2],\n  \"i18n\": [16],\n  \"alwaysShowHours\": [4, \"always-show-hours\"]\n}]);\nexports.VmEndTime = VmEndTime;\nvar VmFile = /*@__PURE__*/(0, _client.proxyCustomElement)(File, [6, \"vm-file\", {\n  \"willAttach\": [4, \"will-attach\"],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"poster\": [1],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"controlsList\": [1, \"controls-list\"],\n  \"autoPiP\": [4, \"auto-pip\"],\n  \"disablePiP\": [4, \"disable-pip\"],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"viewType\": [1, \"view-type\"],\n  \"playbackRates\": [16],\n  \"language\": [1],\n  \"autoplay\": [4],\n  \"controls\": [4],\n  \"logger\": [16],\n  \"loop\": [4],\n  \"muted\": [4],\n  \"playsinline\": [4],\n  \"noConnect\": [4, \"no-connect\"],\n  \"paused\": [4],\n  \"currentTime\": [2, \"current-time\"],\n  \"volume\": [2],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"playbackStarted\": [4, \"playback-started\"],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"hasCustomTextManager\": [4, \"has-custom-text-manager\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"shouldRenderNativeTextTracks\": [4, \"should-render-native-text-tracks\"],\n  \"vmPoster\": [32]\n}, [[0, \"vmMediaProviderConnect\", \"onProviderConnect\"], [0, \"vmMediaProviderDisconnect\", \"onProviderDisconnect\"]]]);\nexports.VmFile = VmFile;\nvar VmFullscreenControl = /*@__PURE__*/(0, _client.proxyCustomElement)(FullscreenControl, [1, \"vm-fullscreen-control\", {\n  \"enterIcon\": [1, \"enter-icon\"],\n  \"exitIcon\": [1, \"exit-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"keys\": [1],\n  \"isFullscreenActive\": [4, \"is-fullscreen-active\"],\n  \"i18n\": [16],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"canSetFullscreen\": [32]\n}]);\nexports.VmFullscreenControl = VmFullscreenControl;\nvar VmHls = /*@__PURE__*/(0, _client.proxyCustomElement)(HLS, [4, \"vm-hls\", {\n  \"version\": [1],\n  \"libSrc\": [1, \"lib-src\"],\n  \"config\": [8],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"poster\": [1],\n  \"controlsList\": [1, \"controls-list\"],\n  \"autoPiP\": [4, \"auto-pip\"],\n  \"disablePiP\": [4, \"disable-pip\"],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"hasAttached\": [32]\n}, [[0, \"vmMediaElChange\", \"onMediaElChange\"], [0, \"vmSrcSetChange\", \"onSrcChange\"]]]);\nexports.VmHls = VmHls;\nvar VmIcon = /*@__PURE__*/(0, _client.proxyCustomElement)(Icon, [1, \"vm-icon\", {\n  \"name\": [1],\n  \"src\": [1],\n  \"label\": [1],\n  \"library\": [1],\n  \"icons\": [1],\n  \"svg\": [32]\n}]);\nexports.VmIcon = VmIcon;\nvar VmIconLibrary = /*@__PURE__*/(0, _client.proxyCustomElement)(IconLibrary, [1, \"vm-icon-library\", {\n  \"name\": [1],\n  \"resolver\": [16],\n  \"icons\": [1]\n}]);\nexports.VmIconLibrary = VmIconLibrary;\nvar VmLiveIndicator = /*@__PURE__*/(0, _client.proxyCustomElement)(LiveIndicator, [1, \"vm-live-indicator\", {\n  \"isLive\": [4, \"is-live\"],\n  \"i18n\": [16]\n}]);\nexports.VmLiveIndicator = VmLiveIndicator;\nvar VmLoadingScreen = /*@__PURE__*/(0, _client.proxyCustomElement)(LoadingScreen, [1, \"vm-loading-screen\", {\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"hideDots\": [4, \"hide-dots\"]\n}]);\nexports.VmLoadingScreen = VmLoadingScreen;\nvar VmMenu = /*@__PURE__*/(0, _client.proxyCustomElement)(Menu, [1, \"vm-menu\", {\n  \"active\": [1540],\n  \"identifier\": [1],\n  \"controller\": [16],\n  \"slideInDirection\": [1, \"slide-in-direction\"],\n  \"activeMenuItem\": [32],\n  \"activeSubmenu\": [32]\n}, [[0, \"vmOpenSubmenu\", \"onOpenSubmenu\"], [0, \"vmCloseSubmenu\", \"onCloseSubmenu\"], [8, \"click\", \"onWindowClick\"], [8, \"keydown\", \"onWindowKeyDown\"]]]);\nexports.VmMenu = VmMenu;\nvar VmMenuItem = /*@__PURE__*/(0, _client.proxyCustomElement)(MenuItem, [1, \"vm-menu-item\", {\n  \"identifier\": [1],\n  \"hidden\": [4],\n  \"label\": [1],\n  \"menu\": [16],\n  \"expanded\": [4],\n  \"checked\": [4],\n  \"hint\": [1],\n  \"badge\": [1],\n  \"checkIcon\": [1, \"check-icon\"],\n  \"icons\": [1],\n  \"isTouch\": [4, \"is-touch\"],\n  \"showTapHighlight\": [32]\n}]);\nexports.VmMenuItem = VmMenuItem;\nvar VmMenuRadio = /*@__PURE__*/(0, _client.proxyCustomElement)(MenuRadio, [1, \"vm-menu-radio\", {\n  \"label\": [1],\n  \"value\": [1],\n  \"checked\": [1028],\n  \"badge\": [1],\n  \"checkIcon\": [1, \"check-icon\"],\n  \"icons\": [1]\n}]);\nexports.VmMenuRadio = VmMenuRadio;\nvar VmMenuRadioGroup = /*@__PURE__*/(0, _client.proxyCustomElement)(MenuRadioGroup, [1, \"vm-menu-radio-group\", {\n  \"value\": [1025]\n}, [[0, \"vmCheck\", \"onSelectionChange\"]]]);\nexports.VmMenuRadioGroup = VmMenuRadioGroup;\nvar VmMuteControl = /*@__PURE__*/(0, _client.proxyCustomElement)(MuteControl, [1, \"vm-mute-control\", {\n  \"lowVolumeIcon\": [1, \"low-volume-icon\"],\n  \"highVolumeIcon\": [1, \"high-volume-icon\"],\n  \"mutedIcon\": [1, \"muted-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"keys\": [1],\n  \"volume\": [2],\n  \"muted\": [4],\n  \"i18n\": [16]\n}]);\nexports.VmMuteControl = VmMuteControl;\nvar VmPipControl = /*@__PURE__*/(0, _client.proxyCustomElement)(PiPControl, [1, \"vm-pip-control\", {\n  \"enterIcon\": [1, \"enter-icon\"],\n  \"exitIcon\": [1, \"exit-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"keys\": [1],\n  \"isPiPActive\": [4, \"is-pi-p-active\"],\n  \"i18n\": [16],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"canSetPiP\": [32]\n}]);\nexports.VmPipControl = VmPipControl;\nvar VmPlaybackControl = /*@__PURE__*/(0, _client.proxyCustomElement)(PlaybackControl, [1, \"vm-playback-control\", {\n  \"playIcon\": [1, \"play-icon\"],\n  \"pauseIcon\": [1, \"pause-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"keys\": [1],\n  \"paused\": [4],\n  \"i18n\": [16]\n}]);\nexports.VmPlaybackControl = VmPlaybackControl;\nvar VmPlayer = /*@__PURE__*/(0, _client.proxyCustomElement)(Player, [1, \"vm-player\", {\n  \"logger\": [16],\n  \"theme\": [513],\n  \"icons\": [513],\n  \"paused\": [1028],\n  \"playing\": [1028],\n  \"duration\": [1026],\n  \"mediaTitle\": [1025, \"media-title\"],\n  \"currentProvider\": [1025, \"current-provider\"],\n  \"currentSrc\": [1025, \"current-src\"],\n  \"currentPoster\": [1025, \"current-poster\"],\n  \"currentTime\": [1026, \"current-time\"],\n  \"autoplay\": [4],\n  \"ready\": [1540],\n  \"playbackReady\": [1028, \"playback-ready\"],\n  \"loop\": [4],\n  \"muted\": [1028],\n  \"buffered\": [1026],\n  \"playbackRate\": [1026, \"playback-rate\"],\n  \"playbackRates\": [1040],\n  \"playbackQuality\": [1025, \"playback-quality\"],\n  \"playbackQualities\": [1040],\n  \"seeking\": [1028],\n  \"debug\": [4],\n  \"playbackStarted\": [1028, \"playback-started\"],\n  \"playbackEnded\": [1028, \"playback-ended\"],\n  \"buffering\": [1028],\n  \"controls\": [4],\n  \"isControlsActive\": [4, \"is-controls-active\"],\n  \"isSettingsActive\": [1028, \"is-settings-active\"],\n  \"volume\": [1026],\n  \"isFullscreenActive\": [1028, \"is-fullscreen-active\"],\n  \"aspectRatio\": [1025, \"aspect-ratio\"],\n  \"viewType\": [1025, \"view-type\"],\n  \"isAudioView\": [1028, \"is-audio-view\"],\n  \"isVideoView\": [1028, \"is-video-view\"],\n  \"mediaType\": [1025, \"media-type\"],\n  \"isAudio\": [1028, \"is-audio\"],\n  \"isVideo\": [1028, \"is-video\"],\n  \"isLive\": [1028, \"is-live\"],\n  \"isMobile\": [1028, \"is-mobile\"],\n  \"isTouch\": [1028, \"is-touch\"],\n  \"isPiPActive\": [1028, \"is-pi-p-active\"],\n  \"textTracks\": [16],\n  \"currentTextTrack\": [2, \"current-text-track\"],\n  \"isTextTrackVisible\": [4, \"is-text-track-visible\"],\n  \"shouldRenderNativeTextTracks\": [4, \"should-render-native-text-tracks\"],\n  \"audioTracks\": [16],\n  \"currentAudioTrack\": [2, \"current-audio-track\"],\n  \"autopause\": [4],\n  \"playsinline\": [4],\n  \"language\": [1025],\n  \"translations\": [1040],\n  \"languages\": [1040],\n  \"i18n\": [1040],\n  \"container\": [32]\n}, [[0, \"vmError\", \"onError\"]]]);\nexports.VmPlayer = VmPlayer;\nvar VmPoster = /*@__PURE__*/(0, _client.proxyCustomElement)(Poster, [1, \"vm-poster\", {\n  \"fit\": [1],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"currentPoster\": [1, \"current-poster\"],\n  \"mediaTitle\": [1, \"media-title\"],\n  \"playbackStarted\": [4, \"playback-started\"],\n  \"currentTime\": [2, \"current-time\"],\n  \"isHidden\": [32],\n  \"isActive\": [32],\n  \"hasLoaded\": [32]\n}]);\nexports.VmPoster = VmPoster;\nvar VmScrim = /*@__PURE__*/(0, _client.proxyCustomElement)(Scrim, [1, \"vm-scrim\", {\n  \"gradient\": [1],\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"isControlsActive\": [4, \"is-controls-active\"]\n}]);\nexports.VmScrim = VmScrim;\nvar VmScrubberControl = /*@__PURE__*/(0, _client.proxyCustomElement)(ScrubberControl, [1, \"vm-scrubber-control\", {\n  \"alwaysShowHours\": [4, \"always-show-hours\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"currentTime\": [2, \"current-time\"],\n  \"duration\": [2],\n  \"noKeyboard\": [4, \"no-keyboard\"],\n  \"buffering\": [4],\n  \"buffered\": [2],\n  \"i18n\": [16],\n  \"timestamp\": [32],\n  \"endTime\": [32]\n}]);\nexports.VmScrubberControl = VmScrubberControl;\nvar VmSettings = /*@__PURE__*/(0, _client.proxyCustomElement)(Settings, [1, \"vm-settings\", {\n  \"pin\": [513],\n  \"active\": [1540],\n  \"isMobile\": [4, \"is-mobile\"],\n  \"isAudioView\": [4, \"is-audio-view\"],\n  \"menuHeight\": [32]\n}]);\nexports.VmSettings = VmSettings;\nvar VmSettingsControl = /*@__PURE__*/(0, _client.proxyCustomElement)(SettingsControl, [1, \"vm-settings-control\", {\n  \"icon\": [1],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"menu\": [1],\n  \"expanded\": [4],\n  \"i18n\": [16],\n  \"vmSettings\": [32]\n}]);\nexports.VmSettingsControl = VmSettingsControl;\nvar VmSkeleton = /*@__PURE__*/(0, _client.proxyCustomElement)(Skeleton, [1, \"vm-skeleton\", {\n  \"effect\": [1],\n  \"ready\": [4],\n  \"hidden\": [32]\n}]);\nexports.VmSkeleton = VmSkeleton;\nvar VmSlider = /*@__PURE__*/(0, _client.proxyCustomElement)(Slider, [1, \"vm-slider\", {\n  \"step\": [2],\n  \"min\": [2],\n  \"max\": [2],\n  \"value\": [2],\n  \"valueText\": [1, \"value-text\"],\n  \"label\": [1]\n}]);\nexports.VmSlider = VmSlider;\nvar VmSpinner = /*@__PURE__*/(0, _client.proxyCustomElement)(Spinner, [1, \"vm-spinner\", {\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"currentProvider\": [1, \"current-provider\"],\n  \"showWhenMediaLoading\": [4, \"show-when-media-loading\"],\n  \"playbackReady\": [4, \"playback-ready\"],\n  \"buffering\": [4],\n  \"isHidden\": [32],\n  \"isActive\": [32]\n}]);\nexports.VmSpinner = VmSpinner;\nvar VmSubmenu = /*@__PURE__*/(0, _client.proxyCustomElement)(Submenu, [1, \"vm-submenu\", {\n  \"label\": [1],\n  \"hint\": [1],\n  \"slideInDirection\": [1, \"slide-in-direction\"],\n  \"active\": [1540],\n  \"menu\": [32],\n  \"controller\": [32]\n}]);\nexports.VmSubmenu = VmSubmenu;\nvar VmTime = /*@__PURE__*/(0, _client.proxyCustomElement)(Time, [1, \"vm-time\", {\n  \"label\": [1],\n  \"seconds\": [2],\n  \"alwaysShowHours\": [4, \"always-show-hours\"]\n}]);\nexports.VmTime = VmTime;\nvar VmTimeProgress = /*@__PURE__*/(0, _client.proxyCustomElement)(TimeProgress, [1, \"vm-time-progress\", {\n  \"separator\": [1],\n  \"alwaysShowHours\": [4, \"always-show-hours\"]\n}]);\nexports.VmTimeProgress = VmTimeProgress;\nvar VmTooltip = /*@__PURE__*/(0, _client.proxyCustomElement)(Tooltip, [1, \"vm-tooltip\", {\n  \"hidden\": [4],\n  \"active\": [4],\n  \"position\": [1],\n  \"direction\": [1],\n  \"isTouch\": [4, \"is-touch\"],\n  \"isMobile\": [4, \"is-mobile\"]\n}]);\nexports.VmTooltip = VmTooltip;\nvar VmUi = /*@__PURE__*/(0, _client.proxyCustomElement)(UI, [1, \"vm-ui\", {\n  \"isVideoView\": [4, \"is-video-view\"],\n  \"playsinline\": [4],\n  \"isFullscreenActive\": [4, \"is-fullscreen-active\"]\n}]);\nexports.VmUi = VmUi;\nvar VmVideo = /*@__PURE__*/(0, _client.proxyCustomElement)(Video, [4, \"vm-video\", {\n  \"willAttach\": [4, \"will-attach\"],\n  \"hasCustomTextManager\": [4, \"has-custom-text-manager\"],\n  \"crossOrigin\": [1, \"cross-origin\"],\n  \"preload\": [1],\n  \"poster\": [1],\n  \"controlsList\": [1, \"controls-list\"],\n  \"autoPiP\": [4, \"auto-pip\"],\n  \"disablePiP\": [4, \"disable-pip\"],\n  \"disableRemotePlayback\": [4, \"disable-remote-playback\"],\n  \"mediaTitle\": [1, \"media-title\"]\n}, [[0, \"vmMediaProviderConnect\", \"onProviderConnect\"], [0, \"vmMediaProviderDisconnect\", \"onProviderDisconnect\"]]]);\nexports.VmVideo = VmVideo;\nvar VmVimeo = /*@__PURE__*/(0, _client.proxyCustomElement)(Vimeo, [1, \"vm-vimeo\", {\n  \"videoId\": [1, \"video-id\"],\n  \"byline\": [4],\n  \"color\": [1],\n  \"portrait\": [4],\n  \"noAutoAspectRatio\": [4, \"no-auto-aspect-ratio\"],\n  \"poster\": [1],\n  \"cookies\": [4],\n  \"language\": [1],\n  \"aspectRatio\": [1, \"aspect-ratio\"],\n  \"autoplay\": [4],\n  \"controls\": [4],\n  \"logger\": [16],\n  \"loop\": [4],\n  \"muted\": [4],\n  \"playsinline\": [4],\n  \"embedSrc\": [32],\n  \"mediaTitle\": [32]\n}]);\nexports.VmVimeo = VmVimeo;\nvar VmVolumeControl = /*@__PURE__*/(0, _client.proxyCustomElement)(VolumeControl, [1, \"vm-volume-control\", {\n  \"lowVolumeIcon\": [1, \"low-volume-icon\"],\n  \"highVolumeIcon\": [1, \"high-volume-icon\"],\n  \"mutedIcon\": [1, \"muted-icon\"],\n  \"icons\": [1],\n  \"tooltipPosition\": [1, \"tooltip-position\"],\n  \"tooltipDirection\": [1, \"tooltip-direction\"],\n  \"hideTooltip\": [4, \"hide-tooltip\"],\n  \"muteKeys\": [1, \"mute-keys\"],\n  \"noKeyboard\": [4, \"no-keyboard\"],\n  \"muted\": [4],\n  \"volume\": [2],\n  \"isMobile\": [4, \"is-mobile\"],\n  \"i18n\": [16],\n  \"currentVolume\": [32],\n  \"isSliderActive\": [32]\n}]);\nexports.VmVolumeControl = VmVolumeControl;\nvar VmYoutube = /*@__PURE__*/(0, _client.proxyCustomElement)(YouTube, [1, \"vm-youtube\", {\n  \"cookies\": [4],\n  \"videoId\": [1, \"video-id\"],\n  \"showFullscreenControl\": [4, \"show-fullscreen-control\"],\n  \"poster\": [1],\n  \"language\": [1],\n  \"autoplay\": [4],\n  \"controls\": [4],\n  \"logger\": [16],\n  \"loop\": [4],\n  \"muted\": [4],\n  \"playsinline\": [4],\n  \"embedSrc\": [32],\n  \"mediaTitle\": [32]\n}]);\nexports.VmYoutube = VmYoutube;\n\nvar defineCustomElements = opts => {\n  if (typeof customElements !== 'undefined') {\n    [VmAudio, VmCaptionControl, VmCaptions, VmClickToPlay, VmControl, VmControlGroup, VmControlSpacer, VmControls, VmCurrentTime, VmDailymotion, VmDash, VmDblClickFullscreen, VmDefaultControls, VmDefaultSettings, VmDefaultUi, VmEmbed, VmEndTime, VmFile, VmFullscreenControl, VmHls, VmIcon, VmIconLibrary, VmLiveIndicator, VmLoadingScreen, VmMenu, VmMenuItem, VmMenuRadio, VmMenuRadioGroup, VmMuteControl, VmPipControl, VmPlaybackControl, VmPlayer, VmPoster, VmScrim, VmScrubberControl, VmSettings, VmSettingsControl, VmSkeleton, VmSlider, VmSpinner, VmSubmenu, VmTime, VmTimeProgress, VmTooltip, VmUi, VmVideo, VmVimeo, VmVolumeControl, VmYoutube].forEach(cmp => {\n      if (!customElements.get(cmp.is)) {\n        customElements.define(cmp.is, cmp, opts);\n      }\n    });\n  }\n};\n\nexports.defineCustomElements = defineCustomElements;\n"]},"metadata":{},"sourceType":"script"}