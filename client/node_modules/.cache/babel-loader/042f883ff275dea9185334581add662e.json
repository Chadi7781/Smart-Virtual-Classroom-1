{"ast":null,"code":"var _jsxFileName = \"C:\\\\Smart-Virtual-Classroom\\\\client\\\\src\\\\Components\\\\Class\\\\EditComponent.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Button, Dropdown, Feed, Icon, Modal } from \"semantic-ui-react\";\nimport { DeleteSeance } from \"../../redux/slices/Seance\";\nimport { Form, Input, TextArea } from \"semantic-ui-react\";\nimport { addClasss, updateClasss, fetchclass } from \"../../redux/slices/classsline\";\nimport { AddclassApi } from \"../../api/api\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst options = [{\n  key: 1,\n  text: \"red\",\n  value: \"red\"\n}, {\n  key: 2,\n  text: \"blue\",\n  value: \"blue\"\n}, {\n  key: 3,\n  text: \"yellow\",\n  value: \"yellow\"\n}, {\n  key: 4,\n  text: \"grey\",\n  value: \"grey\"\n}, {\n  key: 5,\n  text: \"pink\",\n  value: \"pink\"\n}, {\n  key: 6,\n  text: \"green\",\n  value: \"green\"\n}, {\n  key: 7,\n  text: \"olive\",\n  value: \"olive\"\n}, {\n  key: 8,\n  text: \"teal\",\n  value: \"teal\"\n}, {\n  key: 9,\n  text: \"violet\",\n  value: \"violet\"\n}, {\n  key: 10,\n  text: \"purple\",\n  value: \"purple\"\n}, {\n  key: 11,\n  text: \"brown\",\n  value: \"brown\"\n}, {\n  key: 12,\n  text: \"black\",\n  value: \"black\"\n}, {\n  key: 13,\n  text: \"white\",\n  value: \"white\"\n}];\nexport default function ArchieveClassComponent(props) {\n  _s();\n\n  const [modalOpen, SetModalOpen] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleOpen = e => SetModalOpen(true);\n\n  const handleClose = e => SetModalOpen(false);\n\n  let [color, setClassColor] = useState();\n\n  const selectedClass = data => {\n    console.log(data.target.innerText);\n    setClassColor(data.target.innerText);\n  };\n\n  color = props.classes.classColor;\n  const documentData = JSON.parse(localStorage.getItem(\"user\"));\n  let error = {\n    visible: false,\n    message: \"\"\n  };\n  const formik = useFormik({\n    initialValues: {\n      className: props.classes.className,\n      classSection: props.classes.classSection,\n      classLevel: props.classes.classLevel,\n      classDescription: props.classes.classDescription,\n      classColor: props.classes.classColor,\n      classStatus: props.classes.classStatus\n    },\n    validationSchema: Yup.object({\n      className: Yup.string().required(),\n      classSection: Yup.string().required().matches(/^[1-5]([A-Z])\\w+$/, \"first letter of classSection must be in 1-5\"),\n      classLevel: Yup.string(),\n      classDescription: Yup.string().required()\n    }),\n    onSubmit: async formData => {\n      console.log(formData);\n\n      try {\n        const lvl = formData.classSection.substring(0, 1);\n        if (color === undefined) color = \"red\";\n        const data = {\n          className: formData.className,\n          classSection: formData.classSection,\n          classLevel: lvl,\n          classDescription: formData.classDescription,\n          classOwner: documentData._id,\n          classColor: color,\n          classStatus: \"Active\"\n        };\n        const res = await AddclassApi.updateClass(props.classes._id, data);\n        console.log(res);\n        dispatch(fetchclass(documentData.role, documentData._id, \"Active\"));\n        handleClose();\n      } catch (err) {\n        error = {\n          visible: true,\n          message: JSON.stringify(err.errors, null, 2)\n        };\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      trigger: /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n        onClick: handleOpen,\n        icon: \"edit\",\n        text: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 18\n      }, this),\n      open: modalOpen,\n      onClose: handleClose,\n      dimmer: \"inverted\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: \"Edit Class\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Content, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: formik.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            widths: \"equal\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n              control: Input,\n              label: \"Class Name\",\n              placeholder: \"Class Name\",\n              name: \"className\",\n              onChange: formik.handleChange,\n              value: formik.values.className,\n              error: formik.errors.className\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              control: Input,\n              label: \"Class Section\",\n              placeholder: \"Class Section\",\n              name: \"classSection\",\n              onChange: formik.handleChange,\n              value: formik.values.classSection,\n              error: formik.errors.classSection\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              control: Dropdown,\n              label: \"Class Color\",\n              placeholder: \"Class Color\",\n              name: \"classColor\",\n              clearable: true,\n              selection: true,\n              options: options,\n              onChange: selectedClass,\n              value: color\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              control: Input,\n              label: \"Class Level\",\n              placeholder: \"Class Level\",\n              name: \"classLevel\",\n              onChange: formik.handleChange,\n              value: formik.values.classSection.substring(0, 1),\n              error: formik.errors.classLevel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n            control: TextArea,\n            label: \"Class Description\",\n            placeholder: \"Class Description\",\n            name: \"classDescription\",\n            onChange: formik.handleChange,\n            value: formik.values.classDescription,\n            error: formik.errors.classDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: error.visible && /*#__PURE__*/_jsxDEV(Form.Error, {\n              children: error.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button.Group, {\n            floated: \"right\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => handleClose(),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button.Or, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"red\",\n              type: \"submit\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Content, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Actions, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(ArchieveClassComponent, \"QyTDrIFozYTLE61nLxX89dwdymI=\", false, function () {\n  return [useDispatch, useFormik];\n});\n\n_c = ArchieveClassComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArchieveClassComponent\");","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/src/Components/Class/EditComponent.js"],"names":["useState","useEffect","useDispatch","useSelector","Button","Dropdown","Feed","Icon","Modal","DeleteSeance","Form","Input","TextArea","addClasss","updateClasss","fetchclass","AddclassApi","useFormik","Yup","options","key","text","value","ArchieveClassComponent","props","modalOpen","SetModalOpen","dispatch","handleOpen","e","handleClose","color","setClassColor","selectedClass","data","console","log","target","innerText","classes","classColor","documentData","JSON","parse","localStorage","getItem","error","visible","message","formik","initialValues","className","classSection","classLevel","classDescription","classStatus","validationSchema","object","string","required","matches","onSubmit","formData","lvl","substring","undefined","classOwner","_id","res","updateClass","role","err","stringify","errors","handleSubmit","handleChange","values"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Button, Dropdown, Feed, Icon, Modal } from \"semantic-ui-react\";\r\nimport { DeleteSeance } from \"../../redux/slices/Seance\";\r\nimport { Form, Input, TextArea } from \"semantic-ui-react\";\r\nimport { addClasss, updateClasss,fetchclass } from \"../../redux/slices/classsline\";\r\nimport { AddclassApi } from \"../../api/api\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nconst options = [\r\n  { key: 1, text: \"red\", value: \"red\" },\r\n  { key: 2, text: \"blue\", value: \"blue\" },\r\n  { key: 3, text: \"yellow\", value: \"yellow\" },\r\n  { key: 4, text: \"grey\", value: \"grey\" },\r\n  { key: 5, text: \"pink\", value: \"pink\" },\r\n  { key: 6, text: \"green\", value: \"green\" },\r\n  { key: 7, text: \"olive\", value: \"olive\" },\r\n  { key: 8, text: \"teal\", value: \"teal\" },\r\n  { key: 9, text: \"violet\", value: \"violet\" },\r\n  { key: 10, text: \"purple\", value: \"purple\" },\r\n  { key: 11, text: \"brown\", value: \"brown\" },\r\n  { key: 12, text: \"black\", value: \"black\" },\r\n  { key: 13, text: \"white\", value: \"white\" },\r\n];\r\n\r\nexport default function ArchieveClassComponent(props) {\r\n  const [modalOpen, SetModalOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleOpen = (e) => SetModalOpen(true);\r\n  const handleClose = (e) => SetModalOpen(false);\r\n  let [color, setClassColor] = useState();\r\n  const selectedClass = (data) => {\r\n    console.log(data.target.innerText);\r\n    setClassColor(data.target.innerText);\r\n  };\r\n  color = props.classes.classColor;\r\n  const documentData = JSON.parse(localStorage.getItem(\"user\"));\r\n  let error = { visible: false, message: \"\" };\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      className: props.classes.className,\r\n      classSection: props.classes.classSection,\r\n      classLevel: props.classes.classLevel,\r\n      classDescription: props.classes.classDescription,\r\n      classColor: props.classes.classColor,\r\n      classStatus: props.classes.classStatus,\r\n    },\r\n    validationSchema: Yup.object({\r\n      className: Yup.string().required(),\r\n      classSection: Yup.string()\r\n        .required()\r\n        .matches(\r\n          /^[1-5]([A-Z])\\w+$/,\r\n          \"first letter of classSection must be in 1-5\"\r\n        ),\r\n      classLevel: Yup.string(),\r\n      classDescription: Yup.string().required(),\r\n    }),\r\n    onSubmit: async (formData) => {\r\n      console.log(formData);\r\n      try {\r\n        const lvl = formData.classSection.substring(0, 1);\r\n        if (color === undefined) color = \"red\";\r\n\r\n        const data = {\r\n          className: formData.className,\r\n          classSection: formData.classSection,\r\n          classLevel: lvl,\r\n          classDescription: formData.classDescription,\r\n          classOwner: documentData._id,\r\n          classColor: color,\r\n          classStatus: \"Active\",\r\n        };\r\n        const res = await AddclassApi.updateClass(props.classes._id, data);\r\n        console.log(res);\r\n        dispatch(fetchclass(documentData.role, documentData._id,\"Active\"));\r\n        handleClose();\r\n      } catch (err) {\r\n        error = {\r\n          visible: true,\r\n          message: JSON.stringify(err.errors, null, 2),\r\n        };\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        trigger={<Dropdown.Item onClick={handleOpen} icon=\"edit\" text=\"Edit\" />}\r\n        open={modalOpen}\r\n        onClose={handleClose}\r\n        dimmer=\"inverted\"\r\n      >\r\n        <Modal.Header>Edit Class</Modal.Header>\r\n        <Modal.Content>\r\n          <Form onSubmit={formik.handleSubmit}>\r\n            <Form.Group widths=\"equal\">\r\n              <Form.Field\r\n                control={Input}\r\n                label=\"Class Name\"\r\n                placeholder=\"Class Name\"\r\n                name=\"className\"\r\n                onChange={formik.handleChange}\r\n                value={formik.values.className}\r\n                error={formik.errors.className}\r\n              />\r\n              <Form.Field\r\n                control={Input}\r\n                label=\"Class Section\"\r\n                placeholder=\"Class Section\"\r\n                name=\"classSection\"\r\n                onChange={formik.handleChange}\r\n                value={formik.values.classSection}\r\n                error={formik.errors.classSection}\r\n              />\r\n              <Form.Field\r\n                control={Dropdown}\r\n                label=\"Class Color\"\r\n                placeholder=\"Class Color\"\r\n                name=\"classColor\"\r\n                clearable\r\n                selection\r\n                options={options}\r\n                onChange={selectedClass}\r\n                value={color}\r\n              />\r\n              <Form.Field\r\n                control={Input}\r\n                label=\"Class Level\"\r\n                placeholder=\"Class Level\"\r\n                name=\"classLevel\"\r\n                onChange={formik.handleChange}\r\n                value={formik.values.classSection.substring(0, 1)}\r\n                error={formik.errors.classLevel}\r\n              />\r\n            </Form.Group>\r\n            <Form.Field\r\n              control={TextArea}\r\n              label=\"Class Description\"\r\n              placeholder=\"Class Description\"\r\n              name=\"classDescription\"\r\n              onChange={formik.handleChange}\r\n              value={formik.values.classDescription}\r\n              error={formik.errors.classDescription}\r\n            />\r\n            <Form.Group>\r\n              {error.visible && <Form.Error>{error.message}</Form.Error>}\r\n            </Form.Group>\r\n\r\n            <Button.Group floated=\"right\">\r\n              <Button onClick={() => handleClose()}>Cancel</Button>\r\n              <Button.Or />\r\n              <Button color=\"red\" type=\"submit\">\r\n                Update\r\n              </Button>\r\n            </Button.Group>\r\n          </Form>\r\n        </Modal.Content>\r\n        <Modal.Content></Modal.Content>\r\n        <Modal.Actions></Modal.Actions>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}